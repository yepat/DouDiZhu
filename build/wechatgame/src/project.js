require=function r(i,s,l){function c(t,e){if(!s[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};i[t][0].call(a.exports,function(e){return c(i[t][1][e]||e)},a,a.exports,r,i,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({AppStart:[function(t,e,o){"use strict";cc._RF.push(e,"b138eOALeJJxJ+Gm8GgMV+l","AppStart");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t("config"),r=(t("ByteArray"),t("Protocol")),a=t("EventHelper"),s=t("PlayerDetailModel"),l=t("dialogManager"),c=t("md5");cc.Class({extends:cc.Component,properties:{labLoading:{default:null,type:cc.Label}},onLoad:function(){cc.vv={},cc.vv.http=t("HTTP"),cc.vv.net=t("GameNet"),this.shareUid=0,"undefined"==typeof wx?this.getServerInfo():this.weixinLogin();var e=new cc.Node("myNode");a.addPersistRootNode(e),this.isShow=!1,console.log("typeof(wx):"+("undefined"==typeof wx?"undefined":n(wx))),"undefined"!=typeof wx&&(wx.showShareMenu({withShareTicket:!0}),cc.loader.loadRes("shareImg",function(e,t){wx.onShareAppMessage(function(e){return{title:"小伙伴们帮帮忙，小手一点助我拿豆！",imageUrl:t.url,query:"key="+s.uid,success:function(e){console.log("转发成功!!!"),console.log(e)},fail:function(e){console.log("转发失败!!!")}}})}))},weixinLogin:function(){var l=this;wx.login({success:function(e){if(e.code){var t={game_id:1034,version:"1.0.0"};t.code=e.code;var o="code="+e.code+"&game_id=1034&version=1.0.0";console.log("sign:"+o);var n=l.getSign(o);t._sign=n.toUpperCase();var a=null,r=!1,i=function(){console.log("sdk.youjoy.tv 正在连接服务器..."),a=cc.vv.http.sendRequest("",t,function(e){r=!(a=null),console.log("connectSdkServer = "+JSON.stringify(e)),l.sdkuid=e.data.user_id,l.getServerInfo()},"https://sdk.youjoy.tv/Api/ThirdParty/WxSmallProgram/Login"),setTimeout(s,5e3)},s=function(){r||(a?(a.abort(),console.log("sdk.youjoy.tv 连接失败，即将重试..."),setTimeout(function(){i()},5e3)):i())};s()}else console.log("登录失败！"+res.errMsg)}})},getSign:function(e){return c.hex_md5(e+"79fad6f7510d86aabe01a7006153ddd0")},getServerInfo:function(){var e={env:"prod",ver:"2.0.0",channel:"weichatgame",udid:"udid",pver:"2.0.0",pchannel:"weichatgame",presver:"2.0.0"},t=this,o=null,n=!1,a=function(){console.log("正在连接服务器..."),t.labLoading.string="正在连接服务器...",o=cc.vv.http.sendRequest("",e,function(e){console.log("连接成功"),t.labLoading.string="连接成功...",n=!(o=null),i.GlobalRouterUpdate(e),console.log("host:"+i.GlobalRouter.host+":"+i.GlobalRouter.port),t.connectGameServer()},i.GlobalRouter.director),setTimeout(r,5e3)},r=function(){n||(o?(o.abort(),console.log("连接失败，即将重试..."),t.labLoading.string="连接失败，即将重试...",setTimeout(function(){a()},5e3)):a())};r()},connectGameServer:function(){var t=this;cc.vv.net.connect(i.GlobalRouter.host,i.GlobalRouter.port,function(e){"undefined"==typeof wx?t.sendRegist():t.getWxUserInfo()});setInterval(function(){cc.vv.net.isPinging?t.sendHeartBeat():t.isShow||(t.isShow=!0,cc.director.loadScene("LoadingScene"))}.bind(this),1e4),a.AddCustomEvent(i.MyNode,"Regist",t.onRegist,t),a.AddCustomEvent(i.MyNode,"HeartBeat",t.onHeartBeat,t),a.AddCustomEvent(i.MyNode,"LoginOK",t.onLoginOK,t)},getWxUserInfo:function(){var t=this,e=wx.getLaunchOptionsSync();console.log("launch =  "+JSON.stringify(e)),t.shareUid=e.query.key,console.log("shareUid =  "+t.shareUid),wx.getUserInfo({success:function(e){console.log("res.userInfo = "+JSON.stringify(e.userInfo)),i.UpdateWxInfo(e.userInfo),t.sendRegist()}})},onRegist:function(e){console.log("Regist---");var t=e.getUserData();i.temppassword=t.data.data.password,this.sendLogin()},onHeartBeat:function(e){},onLoginOK:function(e){console.log("LoginOK---"),console.log(e.getUserData());var t=e.getUserData();this.setPlayerDetailModel(t)},sendHeartBeat:function(){var e={};e.t=r.Request.HeartBeat.Alive,cc.vv.net.send("HeartBeat",r.Command.HeartBeat,e)},sendRegist:function(){if("undefined"==typeof wx)return(e={}).t=r.Request.Login.Regist,e.d=c.hex_md5("yepat123"),e.u="50ee8041a7fd8baa6348252ea114432bb3be23bd",e.v="2.0.0",e.c="weichatgame",e.e="defaults",e.type="guest",void cc.vv.net.send("Regist",r.Command.Login,e);var e,t=this.sdkuid+i.OpenUDIDEncryptToken,o=c.hex_md5(t);(e={}).t=r.Request.Login.Regist,e.d=o,e.u="50ee8041a7fd8baa6348252ea114432bb3be23bd",e.v="2.0.0",e.c="weichatgame",e.e="defaults",e.type="third",e.sdkid=this.sdkuid,cc.vv.net.send("Regist",r.Command.Login,e)},sendLogin:function(){if("undefined"==typeof wx)return(e={}).t=r.Request.Login.Guest,e.d=c.hex_md5("yepat123"),e.p=i.temppassword,e.c="weichatgame",e.v="2.0.0",e.tv=1,e.e="defaults",e.wn=i.wxInfo.nickName,e.wurl=i.wxInfo.avatarUrl,void cc.vv.net.send("Login",r.Command.Login,e);var e;(e={}).t=r.Request.Login.Guest,e.d=this.sdkuid,e.p=i.temppassword,e.c="weichatgame",e.v="2.0.0",e.tv=1,e.e="defaults",e.f=this.sdkuid,e.wn=i.wxInfo.nickName,e.wurl=i.wxInfo.avatarUrl,e.invite=this.shareUid,cc.vv.net.send("Login",r.Command.Login,e)},setPlayerDetailModel:function(e){var t=e.data.room;if(console.log(t),e.code==r.Response.Login.OK){var o=e.data.isDev;o&&"number"==typeof o||(o=0);for(var n=0;n<t.length;n++)if(t[n].rooms)for(var a=0;a<t[n].rooms.length;a++)t[n].rooms[a].modelId=t[n].modelId;i.playGameId=e.data.playGameId,i.playGameMsg=e.data.playGameMsg,s.nickname=e.data.nick,s.uid=parseInt(e.data.uid),s.coin=parseInt(e.data.coins),s.gold=parseInt(e.data.gold),s.gender=parseInt(e.data.sex),s.word=e.data.word,s.coolnum=e.data.cool_num,s.level=parseInt(e.data.level),s.matches=parseInt(e.data.gameData.matches),s.win=parseInt(e.data.gameData.win),s.checkCode=e.data.check_code,s.propDress=e.data.propDress,s.score=parseInt(e.data.score),s.verfile=parseInt(e.data.verfile),s.vertips=parseInt(e.data.vertips),s.mailUnread=parseInt(e.data.mail_unread),s.coupon=parseInt(e.data.coupon),s.age=parseInt(e.data.age),s.room=t,s.contact=e.data.contact,s.contacts=e.data.contacts,s.wechat=e.data.wechat,s.lottery=parseInt(e.data.lottery),s.checkinUndo=parseInt(e.data.checkin_undo),s.task1Unaward=parseInt(e.data.task1_unaward),s.task2Unaward=parseInt(e.data.task2_unaward),s.chargeRate=parseInt(e.data.charge_rate),s.propItems=e.data.propItems,s.rewardList=e.data.n_reward_list,s.wechatImg=e.data.img,s.title=e.data.title,s.isDev=o,console.log("进入游戏大厅...uid:"+parseInt(e.data.uid)),this.labLoading.string="进入游戏大厅...",this.preloadNextScene()}else console.log("登陆游戏失败！"),this.labLoading.string="登陆游戏失败！",l.showCommonDialog("提示","登陆游戏失败！",function(){cc.director.loadScene("LoadingScene")})},preloadNextScene:function(){cc.director.preloadScene("HallScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("HallScene")})}}),cc._RF.pop()},{ByteArray:"ByteArray",EventHelper:"EventHelper",GameNet:"GameNet",HTTP:"HTTP",PlayerDetailModel:"PlayerDetailModel",Protocol:"Protocol",config:"config",dialogManager:"dialogManager",md5:"md5"}],BagControl:[function(e,t,o){"use strict";cc._RF.push(t,"f4f03DMqX1BfqbKBfny1VUn","BagControl"),cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite}},start:function(){this.btnRight_1.enabled=!1},closeClick:function(){console.log("close click"),this.node.destroy()},leftClick:function(){console.log("left click"),this.btnLeft_1.enabled=!0,this.btnRight_1.enabled=!1},rightClick:function(){console.log("right click"),this.btnLeft_1.enabled=!1,this.btnRight_1.enabled=!0}}),cc._RF.pop()},{}],ByteArray:[function(e,t,o){"use strict";cc._RF.push(t,"2ea8aD4dpZIJoQjo0J0vRIF","ByteArray");e("config");var l={PACKET_HEADER_LENGTH:16,encodeUtf8:function(e){for(var t=encodeURIComponent(e),o=[],n=0;n<t.length;n++){var a=t.charAt(n);if("%"===a){var r=t.charAt(n+1)+t.charAt(n+2),i=parseInt(r,16);o.push(i),n+=2}else o.push(a.charCodeAt(0))}return o},decodeUtf8:function(e){for(var t="",o=0;o<e.length;o++)t+="%"+e[o].toString(16);return decodeURIComponent(t)},getHead:function(e,t){for(var o=[e,t,1,2],n=[],a=0;a<o.length;a++)for(var r=l.complementByte(o[a]),i=0;i<r.length;i++)n.push(r[i]);return n},complementByte:function(e){for(var t=e.toString(2),o="",n=0;n<32-t.length;n++)o+="0";var a=o+t,r=[];for(n=0;n<32;n+=8){var i=a.substring(n,n+8);r.push(parseInt(i,2))}return r},getView:function(e,t){var o=JSON.stringify(e),n=l.encodeUtf8(o),a=new ArrayBuffer(n.length+l.PACKET_HEADER_LENGTH),r=new DataView(a);r.setUint32(0,n.length+l.PACKET_HEADER_LENGTH);for(var i=l.getHead(n.length+l.PACKET_HEADER_LENGTH,t),s=0;s<i.length;s++)r.setUint8(s,i[s]);for(s=0;s<n.length;s++)r.setUint8(s+l.PACKET_HEADER_LENGTH,n[s]);return r}};t.exports=l,cc._RF.pop()},{config:"config"}],CancelDelegateController:[function(e,t,o){"use strict";cc._RF.push(t,"917adx22mBOi7OyW3Ekl6tk","CancelDelegateController"),cc.Class({extends:cc.Component,properties:{},start:function(){},show:function(e){this.click=e},close:function(){this.node&&this.node.destroy()},btnClick:function(){console.log("取消托管"),this.click&&this.click(),this.node.destroy()}}),cc._RF.pop()},{}],CardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"bcf07TAfuVFjJw5QqEtX1yc","CardUtil");var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e("config"),b=e("PopCardUtil"),w={cardGrade:{3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14,2:15,g:16,G:17},getNodeCards:function(e){for(var t="",o=[],n=0;n<e.length;n++){var a=w.convertCardToClient(e[n]);o.push(a.showTxt)}o.sort(S.arrayUp);var r=b.getSameCards(o);for(n=3;n<=17;n++)r[n]?t+=r[n].length:t+="0";return t},subNodeCards:function(e,t){var o="";e=w.getNodeCards(e);console.log(e);t=w.getNodeCards(t);console.log(t);for(var n=0;n<e.length;n++){var a=parseInt(e[n])-parseInt(t[n]);a<0&&(a=0),o+=a}return o},StringToNumber:function(e){return"string"==typeof e?parseInt(e):e},gradeDown:function(e,t){return 10*t.showTxt+t.showType-(10*e.showTxt+e.showType)},gradeUp:function(e,t){return 10*e.showTxt+e.showType-(10*t.showTxt+t.showType)},serverCardsToClient:function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];t.push(w.convertCardToClient(n))}return t.sort(w.gradeDown),t},convertCardToClient:function(e){var t=0,o=0,n={};if("00"==e)t=16,o=S.ghostCardType.smallG;else if("01"==e)t=17,o=S.ghostCardType.bigG;else{var a=e.substring(0,1),r=e.substring(1);"4"==a?o=S.pokerCardType.spade:"3"==a?o=S.pokerCardType.hearts:"2"==a?o=S.pokerCardType.blackberry:"1"==a&&(o=S.pokerCardType.redslice),t="1"==r?14:"2"==r?15:"a"==r?10:"b"==r?11:"c"==r?12:"d"==r?13:parseInt(r)}return n.showTxt=t,n.showType=o,n},clientCardsToServer:function(e){for(var t=[],o=0;o<e.length;o++)t.push(w.convertCardToServer(e[o]));return t},convertCardToServer:function(e){var t=e.showTxt,o=e.showType,n="";o==S.pokerCardType.spade?n="4":o==S.pokerCardType.hearts?n="3":o==S.pokerCardType.blackberry?n="2":o==S.pokerCardType.redslice&&(n="1");var a=n+(14==t?"1":15==t?"2":10==t?"a":11==t?"b":12==t?"c":13==t?"d":""+t);return 16==t?a="00":17==t&&(a="01"),a},getMyTopCards:function(e,t){for(var o=[],n=e.length-1;0<n;n--){var a=e[n].getComponent(t);a.cardData.isTopped&&o.push(a.cardValue)}return o},AutoChooseLiftUpCard:function(e,t,o){console.log("tishiFunc!!");var n=0,a=0;if(console.log(void 0===o?"undefined":c(o)),o){"number"==typeof o?(console.log("这是个数字"),n=1):n=o.length,console.log("maxLenght:"+n);for(var r=e.length-1;0<=r;r--){var i=e[r].getComponent(t),s=parseInt(i.cardValue),l=parseInt(o[a]);1==n&&(l=o),console.log("cardvalue:"+l+" pktxt:"+s),a<n&&l==s&&(console.log("num:"+a),a++,i.setChoosed(!0))}if(a<o.length)for(r=e.length-1;0<=r;r--){(i=e[r].getComponent(t)).setChoosed(!1)}else for(r=e.length-1;0<=r;r--){(i=e[r].getComponent(t)).cardMove()}}else console.log("没有符合牌型！")},is_rank_consective_inc:function(e){var t;if((t=e.length)<2)return!0;for(var o=0;o<t-1;o++)if(e[o][0]+1!=e[o+1][0])return!1;return!0},extend:function(e,t){if(!e||!t)return console.log("table can not be nil"),!1;for(var o=0;o<t.length;o++)t[o]&&e.push(t[o])},get_topCard_type:function(e){"number"==typeof e&&(console.log("这是个数字"),e=[e]);var t=b.getSameCards(e);b.setSameVulueCardCount(t);var o=e.length,n=[];if(n.type=0,n.rank=0,n.repeatCount=0,1==o){var a=b.getSingle();return n.type=S.CardType.Single,n.rank=e[0],n.repeatCount=1,console.log("单只"),n}if(2==o){if(1==(i=b.getPair()).count)return n.type=S.CardType.Pair,n.rank=e[0],n.repeatCount=1,console.log("对子"),n;if(16==e[0]&&17==e[1])return n.type=S.CardType.DoubleKing,n.rank=e[0],n.repeatCount=1,console.log("王炸"),n}else if(3==o){if(0<(r=b.getThree()).count)return n.type=S.CardType.ThreeOfKind,n.rank=r.cards[0][0],n.repeatCount=1,console.log("三不带"),n}else if(4==o){var r=b.getThree();if(0<(s=b.getFour()).count)return n.type=S.CardType.Bomb,n.rank=s.cards[0][0],n.repeatCount=1,console.log("炸弹"),n;if(0<r.count)return n.type=S.CardType.ThreeOfKindPlusOne,n.rank=r.cards[0][0],n.repeatCount=1,console.log("三带一"),n}else{a=b.getSingle();var i=b.getPair(),s=(r=b.getThree(),b.getFour()),l=a.count,c=i.count,d=r.count,u=s.count,h=b.SingleCards,p=b.PairCards,g=b.ThreeCards,m=b.FourCards,f=w.is_rank_consective_inc(h),C=w.is_rank_consective_inc(p),y=w.is_rank_consective_inc(g),v=w.cardGrade[2];if(1==u&&0==d){if(2==l&&0==c)return n.type=S.CardType.FourPlusOne,n.rank=m[0][0],n.repeatCount=1,console.log("四带二单"),n;if(0==l&&1==c)return n.type=S.CardType.FourPlusOne,n.rank=m[0][0],n.repeatCount=1,console.log("四带一对"),n;if(0==l&&2==c)return n.type=S.CardType.FourPlusTwo,n.rank=m[0][0],n.repeatCount=1,console.log("四带两对"),n}if(1==d&&0==l&&1==c&&0==u)return n.type=S.CardType.ThreeOfKindPlusPair,n.rank=g[0][0],n.repeatCount=1,console.log("三带一对"),n;if(1<d&&0==l&&0==c&&0==u&&y&&g[d-1][0]<v)return n.type=S.CardType.StraightThree,n.rank=g[0][0],n.repeatCount=d,console.log("飞机不带"),n;if(2<c&&0==l&&0==d&&0==u&&C&&p[c-1][0]<v)return n.type=S.CardType.StraightDouble,n.rank=p[0][0],n.repeatCount=c,console.log("连对"),n;if(4<l&&0==c&&0==d&&0==u&&f&&h[l-1][0]<v)return n.type=S.CardType.Straight,n.rank=h[0][0],n.repeatCount=l,console.log("顺子"),n;var _=[];if(0<d)if(l==d&&0==c&&0==u){if(y&&g[d-1][0]<v)return n.type=S.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带单"),n}else if(0==l&&c==d&&0==u){if(y&&g[d-1][0]<v)return n.type=S.CardType.StraightThreePlusPair,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带双"),n}else if(l+2*c==d&&0==u){if(y&&g[d-1][0]<v)return n.type=S.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带单"),n}else{if(d+u!=2*c+l+u)return c+2*u==d&&0==l&&y&&g[d-1][0]<v?(n.type=S.CardType.StraightThreePlusPair,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带双2")):3<d&&(n.type=-1,console.log("特殊牌型")),n;console.log("带炸弹的飞机（4=3+1）");var k=y;0<u?(w.extend(_,g),w.extend(_,m),_.sort(S.arrayUp),k=w.is_rank_consective_inc(_)):_=g;var R=_.length;if(k&&_[R-1][0]<v)return n.type=S.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=R,console.log("飞机带单2"),n}}return n},getCardsFromTopCards:function(e,t){e=e;(t=t).sort(S.arrayUp);var o,n=e.length,a=t.length;o=b.getSameCards(e);var r=[];if(2==a){if(t[0]!=t[1]){if(t[0]+1==t[1]){if(t[1]>=w.cardGrade[2])return r=t;f=t[1];r=t;for(c=1;c<=3;c++)o[f+c]&&f+c<w.cardGrade[2]&&r.push(o[f+c][0]);return r.length<5&&(r=[]),r}return r=[]}var i=o[f=t[0]].length;if(console.log("key:"+f+" kCount:"+i),4==i)return console.log("炸弹----------"),r=o[f];if(3==i&&"2"!=f){console.log("可能有飞机");var s=[],l=0;s[l]=o[f];for(var c=1;c<n&&(o[f+c]&&3==o[f+c].length&&f+c!="2");c++)s[++l]=o[f+c],console.log("key+i:"+(f+c));for(var c=1;c<n&&(o[f-c]&&3==o[f-c].length&&f+c!="2");c++)s[++l]=o[f-c],console.log("key+i:"+(f-c));if(1<s.length)for(c=0;c<s.length;c++)for(var d=0;d<s[c].length;d++)console.log("temp:"+s[c][d]),r.push(s[c][d]);return r.sort(S.arrayUp),r}}else if(3==a){console.log("连队判定");var u;if(2<(u=b.getSameCards(t)).length){var h=[];for(var p in u)h.push(p);var g=parseInt(h[0]),m=parseInt(h[1]);if(g+1==m&&m<w.cardGrade[2]){var f=g;for(var p in o)if(p==f){var C=o[p];if(console.log("d:"+C.length+"  k:"+p),!(2<=C.length))break;for(c=0;c<2;c++)r.push(C[c]);f++}return r.length<6&&(r=[]),r}}}return r},get_cards_larger:function(e,t){var o=[],n=b.getSameCards(t),a=e.type;if(a==S.CardType.Single?o=w.find_single_card(e,n,t):a==S.CardType.Pair?o=w.find_pair_card(e,n,t):a==S.CardType.ThreeOfKind?o=w.find_three_card(e,n,t):a==S.CardType.Bomb?o=w.find_bomb_card(e,n,t):a==S.CardType.ThreeOfKindPlusOne?o=w.find_three_with_one_card(e,n,t):a==S.CardType.ThreeOfKindPlusPair?o=w.find_three_with_two_card(e,n,t):a==S.CardType.FourPlusOne?o=w.find_four_with_two_single_card(e,n,t):a==S.CardType.FourPlusTwo?o=w.find_four_with_two_pair_card(e,n,t):a==S.CardType.Straight?o=w.find_straight(e,n,t):a==S.CardType.StraightDouble?o=w.find_pair_straight(e,n,t):a==S.CardType.StraightThree?o=w.find_three_straight(e,n,t):a==S.CardType.StraightThreePlusSingle?o=w.find_three_straight_with_single_card(e,n,t):a==S.CardType.StraightThreePlusPair&&(o=w.find_three_straight_with_pair_card(e,n,t)),a!=S.CardType.Bomb&&a!=S.CardType.DoubleKing)for(var r=w.find_bomb_all(n),i=0;i<r.length;i++)o.push(r[i]);return o},find_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getSingle(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(l=a.cards[i])&&n.push(l)}var s=[];for(var i in t){var l=t[i];s.push(i)}if(n.length<=0)for(var i in s){r<(l=parseInt(s[i]))&&n.push(l)}return n},find_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getPair(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var s=a.cards[i];r<s[0]&&n.push(s)}var l=[];if(n.length<=0){var c=b.getThree(),d=b.getFour();if(0<c.count)for(var i in c.cards){if(r<(h=c.cards[i])[0]){var u=h.slice(0,2);l.push(u)}}if(0<d.count)for(var i in d.cards){var h;if(r<(h=d.cards[i])[0]){u=h.slice(0,2);l.push(u)}}return l}return n},find_three_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var s=a.cards[i];r<s[0]&&n.push(s)}return n},find_bomb_all:function(e){var t=[];b.setSameVulueCardCount(e);var o=b.getFour();for(var n in o.cards){var a=o.cards[n];t.push(a)}if(e[16]&&e[17]){console.log("有王炸");t.push([16,17])}else console.log("没有王炸");return t},find_bomb_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var s=a.cards[i];r<s[0]&&n.push(s)}if(t[16]&&t[17]){console.log("有王炸");n.push([16,17])}else console.log("没有王炸");return n},find_three_with_one_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(u=a.cards[i])[0]&&n.push(u)}var s=b.getSingle(),l=b.getPair(),c=[],d=0;if(0<s.count)d=parseInt(s.cards[0]),console.log("onecard1:"+d);else if(0<l.count)d=parseInt(l.cards[0][0]),console.log("onecard2:"+d);else for(var i in a.cards){var u=a.cards[i];c.push(u[0])}for(var i in n){u=n[i];if(console.log("v:"+u+"  k:"+i+" allone:"+c[i]),0==d)if(i<c.length-1)if(u[0]!=c[i])d=c[i];else d=c[parseInt(i)+1];else d=c[0];u[u.length]=d,u.sort(S.arrayUp)}return n},find_three_with_two_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(d=a.cards[i])[0]&&n.push(d)}var s=[],l=b.getPair(),c=[];if(0<l.count)c=l.cards[0];else for(var i in a.cards){var d=a.cards[i];s.push(d[0])}var u=c.length;for(var i in n){d=n[i];if(0==u){if(i<s.length-1)if(d[0]!=s[i])u=s[i];else u=s[parseInt(i)+1];else u=s[0];for(var h=0;h<2;h++)d.push(parseInt(u));u=0}else for(h=0;h<c.length;h++)d.push(parseInt(c[h]));console.log("v2:"+d),d.sort(S.arrayUp)}return n},find_four_with_two_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(h=a.cards[i])[0]&&n.push(h)}var s=[],l=b.getSingle(),c=b.getPair(),d=b.getThree();if(1<l.count)for(var u=0;u<2;u++)s.push(parseInt(l.cards[u]));else if(0<c.count)for(u=0;u<2;u++)s.push(parseInt(c.cards[0]));else if(0<d.count)for(u=0;u<2;u++)s.push(parseInt(d.cards[0]));for(var i in n){var h=n[i];for(u=0;u<s.length;u++)h.push(parseInt(s[u]));console.log("v2:"+h),h.sort(S.arrayUp)}return n},find_four_with_two_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(h=a.cards[i])[0]&&n.push(h)}var s=[],l=b.getPair(),c=b.getThree();if(1<l.count)for(var d=0;d<2;d++)for(var u=0;u<2;u++)s.push(parseInt(l.cards[d]));else if(1==l.count&&0<c.count){for(d=0;d<2;d++)s.push(parseInt(l.cards[0]));for(d=0;d<2;d++)s.push(parseInt(c.cards[0]))}else if(1<c.count)for(d=0;d<2;d++)for(u=0;u<2;u++)s.push(parseInt(c.cards[d]));for(var i in n){var h=n[i];for(d=0;d<s.length;d++)h.push(parseInt(s[d]));console.log("v2:"+h),h.sort(S.arrayUp)}return n},find_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;b.getSingle();console.log("rank:"+a+" repeatCount:"+r);for(var i=[],s=[],l=a,c=1;c<20;c++)t[l+c]&&l+c<w.cardGrade[2]?i.push(t[l+c][0]):(i.length>=r&&s.push(i),i=[]);if(console.log(s),0==s.length)return n;if(console.log("length:"+s[0].length),s[0].length>r){var d=s[0].length-r,u=[];for(c=0;c<=d;c++)s[0].length>=r+c&&(u=S.arraySub(c,r+c,s[0]),n.push(u))}else n=s;return console.log(n),n},find_pair_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getPair(),s=b.getThree(),l=b.getFour(),c=[],d=0;d<i.count;d++)c.push(i.cards[d][0]);for(d=0;d<s.count;d++)c.push(s.cards[d][0]);for(d=0;d<l.count;d++)c.push(l.cards[d][0]);c.sort(S.arrayUp);var u=[],h=[],p=0;for(d=0;d<c.length;d++)if(c[d]<w.cardGrade[2]&&c[d]>a){if(console.log("i:"+d),c[d]+1!=c[d+1]){p=c[d+1],u.length>=r&&h.push(u),u=[];continue}console.log("i2:"+d),p+1==c[d+1]&&u.push(p),0==d&&u.push(c[d]),u.push(c[d+1])}for(d=0;d<h.length;d++)if(h[d].length>=r)for(var g=h[d].length-r,m=[],f=0;f<=g;f++)h[d].length>=r+f&&(m=S.arraySub2(f,r+f,h[d]),n.push(m));return console.log(n),n},find_three_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),s=b.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(S.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>a){if(console.log("i:"+c),l[c]+1!=l[c+1]){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=S.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n},find_three_straight_with_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),s=b.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(S.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>a){if(console.log("i:"+c),l[c]+1!=l[c+1]){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=S.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n},find_three_straight_with_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),s=b.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(S.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>a){if(console.log("i:"+c),l[c]+1!=l[c+1]){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=S.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n}};t.exports=w,cc._RF.pop()},{PopCardUtil:"PopCardUtil",config:"config"}],ClockControl:[function(e,t,o){"use strict";cc._RF.push(t,"74c75z4+AFA2p0Z2kyQJ1wv","ClockControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:30},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.active=!1);var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.node.active=!0,this.timeCount=e,this.timeTxt.string=""+e},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))}}),cc._RF.pop()},{}],EventHelper:[function(e,t,o){"use strict";cc._RF.push(t,"5f640z64OJCO7qfrQDJom3k","EventHelper");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("config"),r={AddCustomEvent:function(e,t,o,n){"object"==(void 0===e?"undefined":a(e))?e.on(t,o,n):console.log("__node节点不存在")},DispatchCustomEvent:function(e,t,o){if("object"==(void 0===e?"undefined":a(e))){var n=new cc.Event.EventCustom(t,!0);n.setUserData(o),e.dispatchEvent(n)}else console.log("__node节点不存在")},RemoveCustomEvent:function(e,t,o,n){"object"==(void 0===e?"undefined":a(e))?e.off(t,o,n):console.log("__node节点不存在")},addPersistRootNode:function(e){cc.game.addPersistRootNode(e),n.MyNode=e},removePersistRootNode:function(e){cc.game.removePersistRootNode(e)}};t.exports=r,cc._RF.pop()},{config:"config"}],Events:[function(e,t,o){"use strict";var n;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}cc._RF.push(t,"f75a5WV9zFIIZD2d9+2E/ny","Events");var r={};r.Network=(a(n={GameStateChanged:"GameStateChanged",StatusChange:"network_status_change",LoginServerResult:"network_loginserver_result",LoginRoomResult:"network_loginroom_result",JoinQueueResult:"network_joinqueue_result",GameReady:"network_gameready",EditProfile:"network_editprofile",DispatchCard:"network_dispatchcard",CallLordTurn:"network_calllord_turn",CallLordResult:"network_calllord_result",GrabLordTurn:"network_grablord_turn",GrabLordResult:"network_grablord_result",ConfirmedLord:"network_confirmed_lord",SendCardTurn:"network_sendcard_turn",PlayerSendCard:"network_player_sendcard",PlayerNotSendCard:"network_player_notsendcard",PlayerShowCard:"network_player_showcard",PlayerReady:"network_player_ready",GameOver:"network_gameover",GameRequestReady:"network_game_requestready",TalkContent:"talk_content",SayToTableInfo:"say_to_table_info",TableRateUpdate:"network_tablerate_update",ExchangeGoldToCoin:"exchange_gold_to_coin",RechargeOk:"recharge_ok",PlayerDelegated:"network_player_delegated",PlayerCancelDelegate:"network_player_canceldelegate",SendCoinsFree:"send_coins_free",TableUserExit:"table_user_exit",PlayerInvalidSendCard:"network_sendcard_invalid",Notice:"notice",ContinueGame:"continue_game",LoginContestSignUpResult:"login_contest_signup_result",ContestSignUpResult:"contest_signup_result",CancelContestSignUpResult:"cancel_contest_signup_result",GiveUpContestResult:"give_up_contest_result",ContestStart:"contest_start",ContestOut:"contest_out",ContestEnd:"contest_end",ContestFormalEnd:"contest_formal_end",SendContestReward:"send_contest_reward",SendContestWeekReward:"send_contest_week_reward",InvalidGameModel:"invalid_game_model",ChangeSkinResult:"change_skin_result",BuySkinResult:"buy_skin_result",BuySkinResultAtHall:"buy_goodsAtHall_result",LuckyDrawViewResult:"lucky_draw_view_result",LuckyDrawResult:"lucky_draw_result",LuckyDrawRecordResult:"lucky_draw_record_result",LoginRewardViewResult:"login_reward_view_result",LoginRewardResult:"login_reward_result",GameDayRankResult:"game_day_rank_result",GameThisWeekRankResult:"game_this_week_rank_result",GameLastWeekRankResult:"game_last_week_rank_result",ActivityBarResult:"activity_bar_result",GiftBagResult:"gift_bag_result",ShowActivity:"show_activity",MailResult:"mail_result",ActivityResult:"activity_result",AnnouncementResult:"announcement_result",GetFileResult:"get_file_result",GetTipsResult:"get_tips_result",RichRankResult:"rich_rank_result",EveryDayRankResult:"every_day_rank_result",EveryWeekRankResult:"every_week_rank_result",ModifyAgeResult:"modify_age_result",GetNewMailResult:"get_new_mail_result",ReadMailResult:"read_mail_result",GetMailAttachmentResult:"get_mail_attachment_result",DelMailResult:"del_mail_result",GetNewActivityResult:"get_new_activity_result",GetNewAnnouncementResult:"get_new_announcement_result",OpenAdvertisingResult:"open_advertising_result",ConsumeResult:"consume_result",GetPersonalItems:"get_personal_items",GetPublicItems:"get_public_items",GetPropsGift:"get_props_gift",PlunderGiftResult:"plunder_gift_result",OpenRechargeTip:"open_recharge_tip",OpenReliefTip:"open_relief_tip",ShopItem:"shop_item",ExchangeItems:"exchange_items",RefreshDataResult:"refresh_data_result",ExchangeItemConfirm:"exchange_item_confirm",PokerTask:"poker_task",TaskDailyResult:"task_daily_result",TaskGrowthResult:"task_growth_result",GetTaskRewardResult:"get_task_reward_result",PropItems:"prop_items",BuyPropsResult:"buy_props_result",ShopBuyGoldResult:"shop_buy_gold_result",NoviceGiftResult:"novice_gift_result",BackpackResult:"backpack_result",MonthNoticeResult:"month_notice_result",GetSalaryResult:"get_salary_result",GetLoginReward:"GetLoginReward",Complaint:"Complaint",RepeatLogin:"repeat_login",MonthUseUp:"month_use_up",SendLzCard:"send_lz_card",BuySingleItemsResult:"buy_single_items_result",LuckyDrawListResult:"lucky_draw_list_result",LuckyDrawNewResult:"lucky_draw_new_result",ExitGameTextResult:"exit_game_text_result",SlotMachineGetInfo:"slotMachine_getInfo",SlotMachineGameResult:"slotMachine_gameResult",GetMenuPromptResult:"get_menu_prompt_result",GetGameGiftListResult:"get_game_lift_list_result",GetRewardListResult:"get_reward_list_result"},"GetGameGiftListResult","get_game_lift_list_result"),a(n,"CanDoubleResult","can_double_result"),a(n,"BuyGoodsResult","buyGoods_result"),a(n,"GetGameFieldResult","getGameField_result"),a(n,"GetFieldDetailResult","getFieldDetail_result"),a(n,"GetMyFieldResult","getMyField_result"),a(n,"SignupResult","Signup_Result"),a(n,"UnSignupResult","UnSignup_Result"),a(n,"GetMatchItemsResult","GetMatchItems_Result"),a(n,"GameMatchStart","gamematch_start"),a(n,"MatchEliminateResult","MatchEliminate_Result"),a(n,"EnterHallScence","EnterHallScenece"),a(n,"MatchOrderChangedResult","MatchOrderChangedResult"),a(n,"MatchStartSoonResult","MatchStartSoonResult"),a(n,"MatchEndBagResult","MatchEndBagResult"),a(n,"FirstgetlequanResult","FirstgetlequanResult"),a(n,"RedpacketprocessResult","RedpacketprocessResult"),a(n,"EntergamerestnumResult","EntergamerestnumResult"),a(n,"RefreshPlayerData","RefreshPlayerData"),a(n,"GetPlayerMatchesInfo","GetPlayerMatchesInfo"),a(n,"Analysis_log","Analysis_log"),a(n,"EmoticonData","emoticon_data"),a(n,"PokerAnalysis","PokerAnalysis"),n),t.exports=r,cc._RF.pop()},{}],GameNetMgr:[function(e,t,o){"use strict";cc._RF.push(t,"72ee4iEEmpHqLHnKeAEFN6H","GameNetMgr");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("Protocol");cc.Class({extends:cc.Component,statics:{opPlayerSeatId:"",sendRequest:function(e,t,o){"Game"==e&&("loginRoom"==t?this.sendLoginRoom(o):"startGame"==t?this.sendStartGame(o):"callLord"==t?this.sendCallLord(o):"grabLord"==t?this.sendGrabLord(o):"showCard"==t?this.sendShowCard(o):"giveupSendCard"==t?this.sendGiveupSendCard(o):"sendCard"==t?this.sendSendCard(o):"requestDelegate"==t?this.sendRequestDelegate(o):"cancelDelegate"==t?this.sendCancelDelegate(o):"addRatio"==t?this.sendAddRatio(o):"exitRoom"==t?this.sendExitRoom():"sayToTable"==t?this.sendSayToTable(o):"openRechargeTip"==t?this.sendOpenRechargeTip():"openReliefTip"==t?this.sendOpenReliefTip():"reconnection"==t&&this.sendReconnection()),"System"==e&&("Mail"==t?this.sendMail():"ReadMail"==t?this.sendReadMail(o):"GetMailAttachment"==t?this.sendGetMailAttachment(o):"DelMail"==t?this.sendDelMail(o):"TaskDaily"==t?this.sendTaskDaily():"GetTaskReward"==t?this.sendGetTaskReward(o):"ShareInfo"==t?this.sendShareInfo():"ShareGet"==t&&this.sendShareGet())},sendLoginRoom:function(e){var t={};t.t=a.Request.Game.Init,t.roomId=parseInt(e.roomId),t.isContinue=parseInt(e.isContinue),t.modelId=e.modelId,cc.vv.net.send("loginRoom",a.Command.Game,t)},sendStartGame:function(e){var t={};t.t=a.Request.Game.Go,e&&(t.showcard=!0),this.opPlayerSeatId="-1",cc.vv.net.send("startGame",a.Command.Game,t)},sendCallLord:function(e){var t={},o=e;t.t=a.Request.Game.CallLord,t.doLord=o,cc.vv.net.send("callLord",a.Command.Game,t)},sendGrabLord:function(e){var t={},o=e;t.t=a.Request.Game.GrabLord,t.grabLord=o,cc.vv.net.send("grabLord",a.Command.Game,t)},sendShowCard:function(e){2<e||(e=2);var t={};t.t=a.Request.Game.ShowCard,t.showRate=e,cc.vv.net.send("showCard",a.Command.Game,t)},sendGiveupSendCard:function(){var e={};e.t=a.Request.Game.NotFollow,cc.vv.net.send("giveupSendCard",a.Command.Game,e)},sendSendCard:function(e){var t={};t.t=a.Request.Game.SendCard,"object"==n(e[0])?(t.sendCards=e[0],t.jokto=e[1]):t.sendCards=e,cc.vv.net.send("sendCard",a.Command.Game,t)},sendRequestDelegate:function(){var e={};e.t=a.Request.Game.RequestDelegate,cc.vv.net.send("requestDelegate",a.Command.Game,e)},sendCancelDelegate:function(){var e={};e.t=a.Request.Game.CancelDelegate,cc.vv.net.send("cancelDelegate",a.Command.Game,e)},sendAddRatio:function(){var e={};e.t=a.Request.Game.AddRatio,cc.vv.net.send("addRatio",a.Command.Game,e)},sendExitRoom:function(){var e={};e.t=a.Request.Game.ExitRoom,cc.vv.net.send("exitRoom",a.Command.Game,e)},sendSayToTable:function(e){var t={};t.t=a.Request.Game.SayToTable,t.wordId=e.id,t.word=e.word,cc.vv.net.send("sayToTable",a.Command.Game,t)},sendOpenRechargeTip:function(){var e={};e.t=a.Request.Game.OpenRechargeTip,cc.vv.net.send("openRechargeTip",a.Command.Game,e)},sendOpenReliefTip:function(){var e={};e.t=a.Request.Game.OpenReliefTip,cc.vv.net.send("openReliefTip",a.Command.Game,e)},sendReconnection:function(){var e={};e.t=a.Request.Game.Reconnection,cc.vv.net.send("reconnection",a.Command.Game,e)},sendMail:function(){var e={};e.t=a.Request.System.Mail,cc.vv.net.send("Mail",a.Command.System,e)},sendReadMail:function(e){var t={};t.t=a.Request.System.ReadMail,t.id=e,cc.vv.net.send("Mail",a.Command.System,t)},sendGetMailAttachment:function(e){var t={};t.t=a.Request.System.GetMailAttachment,t.id=e,cc.vv.net.send("Mail",a.Command.System,t)},sendDelMail:function(e){var t={};t.t=a.Request.System.DelMail,t.id=e,cc.vv.net.send("Mail",a.Command.System,t)},sendTaskDaily:function(){var e={};e.t=a.Request.System.TaskDaily,cc.vv.net.send("TaskDaily",a.Command.System,e)},sendGetTaskReward:function(e){var t={};t.t=a.Request.System.GetTaskReward,t.id=e,cc.vv.net.send("GetTaskReward",a.Command.System,t)},sendShareInfo:function(){var e={};e.t=a.Request.System.ShareInfo,cc.vv.net.send("ShareInfo",a.Command.System,e)},sendShareGet:function(){var e={};e.t=a.Request.System.ShareGet,cc.vv.net.send("ShareGet",a.Command.System,e)}}});cc._RF.pop()},{Protocol:"Protocol"}],GameNet:[function(e,t,o){"use strict";cc._RF.push(t,"15c8fdeug5LtJuDTQtrqwqd","GameNet");e("ByteArray");var l=e("config"),c=e("EventHelper"),d=e("Protocol"),u=e("Events");cc.Class({extends:cc.Component,statics:{ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(e,t){},connect:function(e,t,o){var n=this;n.callback=o,this.ip=e+":"+t,this.sio=new WebSocket("wss://"+this.ip),this.sio.binaryType="arraybuffer",this.sio.onopen=function(e){console.log("Connection open "),n.isPinging=!0,n.callback()},this.sio.onmessage=function(e){var t=e.data,o=JSON.parse(t);n.receivedMsg(o,-1)},this.sio.onclose=function(e){console.log("Connection closed."),n.isPinging=!1},this.sio.onerror=function(e){console.log("Connection onerror."+e.data),n.isPinging=!1}},send:function(e,t,o){console.log("send:"+e),o.cmd=t;var n=JSON.stringify(o);this.sio.send(n)},close:function(){this.sio&&this.sio.close()},receivedMsg:function(e,t){t=e.cmd,console.log("cmd:"+t+" code:"+e.code),t==d.Command.HeartBeat&&e.code==d.Response.HeartBeat.Alive&&c.DispatchCustomEvent(l.MyNode,"HeartBeat",e),t==d.Command.Login&&(e.code==d.Response.Login.Regist?c.DispatchCustomEvent(l.MyNode,"Regist",e):e.code==d.Response.Login.OK&&c.DispatchCustomEvent(l.MyNode,"LoginOK",e)),t==d.Command.System&&(e.code==d.Response.System.RepeatLogin&&(console.log("通知用户连接被另外一个连接踢掉"),c.DispatchCustomEvent(l.MyNode,"RepeatLogin",e)),e.code==d.Response.System.RefreshDataResult?(console.log("刷新用户信息数据"),c.DispatchCustomEvent(l.MyNode,"RefreshDataResult",e)):e.code==d.Response.System.MailResult?(console.log("邮箱数据"),c.DispatchCustomEvent(l.MyNode,"MailResult",e)):e.code==d.Response.System.ReadMailResult?(console.log("标记邮件已读结果"),c.DispatchCustomEvent(l.MyNode,"ReadMailResult",e)):e.code==d.Response.System.GetMailAttachmentResult?(console.log("领取邮件附件结果"),c.DispatchCustomEvent(l.MyNode,"GetMailAttachmentResult",e)):e.code==d.Response.System.DelMailResult?(console.log("删除某个邮件结果"),c.DispatchCustomEvent(l.MyNode,"DelMailResult",e)):e.code==d.Response.System.TaskDailyResult?(console.log("打开每日任务面板"),c.DispatchCustomEvent(l.MyNode,"TaskDailyResult",e)):e.code==d.Response.System.GetTaskRewardResult?(console.log("领取任务奖励"),c.DispatchCustomEvent(l.MyNode,"GetTaskRewardResult",e)):e.code==d.Response.System.ShareInfoResult?(console.log("分享信息结果"),c.DispatchCustomEvent(l.MyNode,"ShareInfoResult",e)):e.code==d.Response.System.ShareGetResult&&(console.log("分享领取结果"),c.DispatchCustomEvent(l.MyNode,"ShareGetResult",e))),t==d.Command.Game&&(console.log(e),e.code==d.Response.Game.NoLogin?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.InitOk?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.CoinsNoMatchRoom?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.Queued?(console.log("进入队列"),c.DispatchCustomEvent(l.MyNode,"Queued",e)):e.code==d.Response.Game.GameReady?(console.log("游戏准备好了"),c.DispatchCustomEvent(l.MyNode,"GameReady",e)):e.code==d.Response.Game.TableTimesUpdate?(console.log("桌子的倍数发生改变"),c.DispatchCustomEvent(l.MyNode,"TableTimesUpdate",e)):e.code==d.Response.Game.SendCard?(console.log("发牌, 包括各用户的牌信息"),c.DispatchCustomEvent(l.MyNode,"SendCard",e)):e.code==d.Response.Game.RefreshPlayerData?(console.log("刷新用户金币"),c.DispatchCustomEvent(l.MyNode,"RefreshPlayerData",e)):e.code==d.Response.Game.TurnCallLord?(console.log("轮到谁叫地主"),c.DispatchCustomEvent(l.MyNode,"TurnCallLord",e)):e.code==d.Response.Game.CallLord?(console.log("玩家叫地主"),c.DispatchCustomEvent(l.MyNode,"CallLord",e)):e.code==d.Response.Game.TurnGrabLord?(console.log("轮到谁抢地主"),c.DispatchCustomEvent(l.MyNode,"TurnGrabLord",e)):e.code==d.Response.Game.GrabLord?(console.log("玩家抢地主"),c.DispatchCustomEvent(l.MyNode,"GrabLord",e)):e.code==d.Response.Game.CallLordOver?(console.log("叫地主结束"),c.DispatchCustomEvent(l.MyNode,"CallLordOver",e)):e.code==d.Response.Game.CanDoubleResult?(console.log("通知是否可以加倍"),c.DispatchCustomEvent(l.MyNode,"CanDoubleResult",e)):e.code==d.Response.Game.TurnSendCard?(console.log("轮到谁出牌"),c.DispatchCustomEvent(l.MyNode,"TurnSendCard",e)):e.code==d.Response.Game.PlayerDelegated?(console.log("用户托管"),c.DispatchCustomEvent(l.MyNode,"PlayerDelegated",e)):e.code==d.Response.Game.PlayerCancelDelegate?(console.log("用户取消托管"),c.DispatchCustomEvent(l.MyNode,"PlayerCancelDelegate",e)):e.code==d.Response.Game.PlayerSendCard?(console.log("用户出牌"),c.DispatchCustomEvent(l.MyNode,"PlayerSendCard",e)):e.code==d.Response.Game.PlayerNotSend?(console.log("用户不出牌"),c.DispatchCustomEvent(l.MyNode,"PlayerNotSend",e)):e.code==d.Response.Game.PlayerShowCard?(console.log("用户明牌"),c.DispatchCustomEvent(l.MyNode,"PlayerShowCard",e)):e.code==d.Response.Game.GameComplete?(console.log("本局结束"),c.DispatchCustomEvent(l.MyNode,"GameComplete",e)):e.code==d.Response.Game.TableUserExit?(console.log("有用户退出 通知桌上的玩家重新进入队列"),c.DispatchCustomEvent(l.MyNode,"TableUserExit",e)):e.code==d.Response.Game.InvalidCardNum?(console.log("出的牌不够大 [非法出牌]"),c.DispatchCustomEvent(l.MyNode,"InvalidCardNum",e)):e.code==d.Response.Game.SayToTableInfo?(console.log("聊天信息"),c.DispatchCustomEvent(l.MyNode,"SayToTableInfo",e)):e.code==d.Response.Game.OpenRechargeTipResult?(console.log("打开救济面板"),c.DispatchCustomEvent(l.MyNode,"OpenRechargeTipResult",e)):e.code==d.Response.Game.ReconnectionData?(console.log("短线重连"),c.DispatchCustomEvent(l.MyNode,"ReconnectionData",e)):e.code==d.Response.Game.PokerTask&&(console.log("触发牌局任务"),c.DispatchCustomEvent(l.MyNode,"PokerTask",e)))},handleLoginRoomResult:function(e,t){var o=!0,n=!1,a=!1,r=null,i=null;if(t==d.Response.Game.NoLogin)return o=!1,void console.log("未登录");t==d.Response.Game.InitOk?(console.log("进入房间成功"),1==e.data.isGaming&&(console.log("进入未完成牌局"),o=!(a=!0),l.RoomId=e.data.roomId)):t==d.Response.Game.CoinsNoMatchRoom&&(console.log("进入房间失败"),n=!(o=!1),r=e.data.msg,i=e.data.newRoomId);var s={};s.name=u.Network.LoginRoomResult,s.ok=o,s.payload=e,s.noCoin=n,s.inGaming=a,s.msg=r,s.newRoomId=i,console.log(">>>>>>>>>>Events.Network.LoginRoomResult"),c.DispatchCustomEvent(l.MyNode,u.Network.LoginRoomResult,s)}}});cc._RF.pop()},{ByteArray:"ByteArray",EventHelper:"EventHelper",Events:"Events",Protocol:"Protocol",config:"config"}],GameTable:[function(p,e,t){"use strict";cc._RF.push(e,"1393cipeeNFZbpX9aJxYpTG","GameTable");var y=p("PokerControl"),v=p("config"),_=p("CardUtil"),i=p("opratOutCardControl"),g=p("dialogManager"),h=p("PlayerDetailModel"),s=p("Player"),o=p("EventHelper"),k=p("GameNetMgr");cc.Class({extends:cc.Component,properties:{pokerCard:{default:null,type:cc.Prefab},pokerLayerLeft:{default:null,type:cc.Node},pokerLayerRight:{default:null,type:cc.Node},pokerLayerMy:{default:null,type:cc.Node},chupaiBtn:{default:null,type:cc.Node},buchuBtn:{default:null,type:cc.Node},canvas:cc.Node,opratOutCard:{default:null,type:cc.Prefab},leftPlayer:{default:null,type:cc.Node},rightPlayer:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this,t=cc.director.getWinSize().width,o=cc.director.getScene();this.sceneWidth=t,this.scene=o,this.mySeatId=0,this.preSendCards=[],this.preSeatId=-1,this.gameState=0,this.loadSeatId=0,this.nicknames=[],this.animShake=!1,this.myHandCards=[],e.touchBeganX=0,e.leftX=0,e.rightX=0,e.upY=0,e.downY=0,e.isTouchbegan=!1;var n=v.wxInfo.avatarUrl,a=h,r={};r.uid=a.getUid(),r.nickname=a.getNickName(),r.gender=toString(a.getGender()),r.coin=a.getCoin(),r.gold=a.getGold(),r.lequan=a.getCoupon(),r.propDress=a.getPropDress(),r.wechatImg=n,r.title=a.getTitle(),r.emoticon={},r.emoticonItems={},this.myOpratShow=null,this.CancelDelegate=null,this.ChatDialog=null,this.jpqNode=null,this.myPokerData=[],this.myPokerNode=[],this.dispatchCard=[];var i=new s(r);e.playerme_=i,e.initMyPlayerNode(),e.playerme_.initBaseInfo(),this.leftDispatchCard=[],this.leftPokerData=[],this.leftPokerNode=[],this.left_player=new s,this.initLeftPlayerNode(),this.rightDispatchCard=[],this.rightPokerData=[],this.rightPokerNode=[],this.right_player=new s,this.initRightPlayerNode(),this.registerEvent(),this.leftPlayer.active=!1,this.rightPlayer.active=!1,this.table3Card=[],1==v.IsContinueGaming?(k.sendRequest("Game","reconnection"),v.IsContinueGaming=0):k.sendRequest("Game","startGame"),this.registerEventListener(),this.initTable3Card()},initTable3Card:function(){this.node_diPai=cc.find("Canvas/top_bar1/diPai"),this.node_pCardBg=cc.find("Canvas/top_bar1/p_card_bg"),this.node_tableTimes=cc.find("Canvas/bottom_bar3/beishu/lab_bei").getComponent(cc.Label),this.node_pCardBg.active=!1},setTable3Card:function(e){this.node_pCardBg.active=!0;for(var t=0;t<3;t++){var o=cc.instantiate(this.pokerCard);o.parent=this.node_diPai,o.scale=.35,o.getComponent(y).showPoker(_.convertCardToClient(e[t])),this.table3Card.push(o)}},clearTable3Card:function(){if(this.node_pCardBg.active=!1,0<this.table3Card.length){for(var e=0;e<this.table3Card.length;e++)this.table3Card[e].getComponent(y).node.removeFromParent();this.table3Card=[]}},initMyPlayerNode:function(){var e=this,t=cc.find("Canvas/my_player/head1/name").getComponent(cc.Label),o=cc.find("Canvas/my_player/ledou/lab_ledou").getComponent(cc.Label),n=cc.find("Canvas/my_player/lequan/lab_lequan").getComponent(cc.Label),a=cc.find("Canvas/my_player/head1/p_dz_icon").getComponent(cc.Sprite),r=cc.find("Canvas/my_tip/p_tip_jiaodizhu").getComponent(cc.Sprite),i=cc.find("Canvas/my_player/head1/p_head/p_head_1").getComponent(cc.Sprite),s={};s.node_name=t,s.node_LeDou=o,s.node_LeQuan=n,s.node_cardsNum=null,s.node_Landlord=a,s.node_delegate=null,s.node_hint=r,s.node_clockDwonTime=null,s.node_wechatImg=i,s.pokerCard=this.pokerCard,s.node_alarm=null,a.enabled=!1,s.node_hint.enabled=!1,e.playerme_.initNodes(s),e.node_taskbg=cc.find("Canvas/p_taskbg").getComponent(cc.Sprite),e.node_taskName=cc.find("Canvas/p_taskbg/taskName").getComponent(cc.Label),e.node_taskbg.enabled=!1,e.node_taskName.string="",e.lab_roomId=cc.find("Canvas/p_table_icon/lab_roomId").getComponent(cc.Label),v.tableInfo&&(e.lab_roomId.string=v.tableName[v.tableInfo.roomId]),e.leftChatBoxNode=cc.find("Canvas/leftchatBox"),e.leftChatBoxLabel=cc.find("Canvas/leftchatBox/lab_content").getComponent(cc.Label),e.rightChatBoxNode=cc.find("Canvas/rightchatBox"),e.rightChatBoxLabel=cc.find("Canvas/rightchatBox/lab_content").getComponent(cc.Label),e.leftChatBoxNode.active=!1,e.rightChatBoxNode.active=!1},initLeftPlayerNode:function(){var e=cc.find("Canvas/left_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/left_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/left_player/p_card_1/cardNum").getComponent(cc.Label),n=cc.find("Canvas/left_player/head/p_dz_icon").getComponent(cc.Sprite),a=cc.find("Canvas/left_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/left_player/left_tip/p_tip_yaobuqi").getComponent(cc.Sprite),i=cc.find("Canvas/left_player/left_clock/clockDown"),s=cc.find("Canvas/left_player/head/p_head/p_head_1").getComponent(cc.Sprite),l=cc.find("Canvas/left_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=n,c.node_delegate=a,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=s,c.pokerCard=this.pokerCard,c.node_alarm=l,n.enabled=!1,a.enabled=!1,r.enabled=!1,i.active=!1,l.active=!1,this.left_player.initNodes(c)},initRightPlayerNode:function(){var e=cc.find("Canvas/right_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/right_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/right_player/p_card_1/cardNum").getComponent(cc.Label),n=cc.find("Canvas/right_player/head/p_dz_icon").getComponent(cc.Sprite),a=cc.find("Canvas/right_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/right_player/right_tip/p_tip_qiangdizhu").getComponent(cc.Sprite),i=cc.find("Canvas/right_player/right_clock/clockDown"),s=cc.find("Canvas/right_player/head/p_head/p_head_1").getComponent(cc.Sprite),l=cc.find("Canvas/right_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=n,c.node_delegate=a,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=s,c.pokerCard=this.pokerCard,c.node_alarm=l,n.enabled=!1,a.enabled=!1,r.enabled=!1,i.active=!1,l.active=!1,this.right_player.initNodes(c)},clearTable:function(){if(this.playerme_.clear(),this.left_player.clear(),this.right_player.clear(),this.clearTable3Card(),this.playerme_.clearTableCard(this.dispatchCard),this.left_player.clearTableCard(this.leftDispatchCard),this.right_player.clearTableCard(this.rightDispatchCard),0<this.myPokerNode.length){for(var e=0;e<this.myPokerNode.length;e++)this.myPokerNode[e].getComponent(y).node.removeFromParent();this.myPokerNode=[]}if(this.myPokerData=[],0<this.leftPokerNode.length){for(e=0;e<this.leftPokerNode.length;e++)this.leftPokerNode[e].getComponent(y).node.removeFromParent();this.leftPokerNode=[]}if(this.leftPokerData=[],0<this.rightPokerNode.length){for(e=0;e<this.rightPokerNode.length;e++)this.rightPokerNode[e].getComponent(y).node.removeFromParent();this.rightPokerNode=[]}this.rightPokerData=[],this.leftPlayer.active=!1,this.rightPlayer.active=!1,this.node_taskbg.enabled=!1,this.node_taskName.string="",this.preSendCards=[],this.preSeatId=-1,console.log("//清理拍桌"),this.CancelDelegate&&(console.log("//清理托管 11111"),this.CancelDelegate.close(),this.CancelDelegate=null),this.jpqNode&&(console.log("//记牌器 11111"),this.jpqNode.close(),this.jpqNode=null)},registerEvent:function(){var l=this;this.canvas.on(cc.Node.EventType.TOUCH_START,function(e){if(l.myPokerNode.length<1)return!1;var t=e.getLocation();if(l.touchBeganX=t.x,l.leftX=0,l.rightX=1e4,l.upY=1e4,l.downY=0,l.isTouchbegan=!0,l.setSelectCardByTouch(l.myPokerNode,t.x,t.y,l.isTouchbegan),l.isTouchbegan){var o=l.myPokerNode[0].getPositionX(),n=l.myPokerNode[l.myPokerNode.length-1].getPositionX(),a=l.myPokerNode[0].getPositionY(),r=l.myPokerNode[0].getContentSize(),i=r.width,s=r.height;l.leftX=o-i/2-10,l.rightX=n+i/2+10,l.upY=a+s/2+40,l.downY=a-s/2,console.log("self.leftX:"+l.leftX+"  self.rightX:"+l.rightX+" self.downY:"+l.downY+"  self.upY:"+l.upY),l.isTouchbegan&&(t.y>l.upY||t.y<l.downY||t.x<l.leftX||t.x>l.rightX)&&l.moveAllCardDown(l.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_END,function(e){if(!(l.myPokerNode.length<1)){e.getLocation();l.moveCard(l.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!(l.myPokerNode.length<1)){var t=e.getLocation();40<Math.abs(l.touchBeganX-t.x)&&(l.isTouchbegan=!1,l.setSelectCardByTouch(l.myPokerNode,t.x,t.y,l.isTouchbegan))}},this.node)},unregisterEvent:function(){this.canvas.targetOff(this.node),console.log("off")},setSelectCardByTouch:function(e,t,o,n){var a=this.touchBeganX,r=t;this.isTouchbegan=n,this.touchBeganX>t&&(a=t,r=this.touchBeganX),r-a<5&&(r=a);for(var i=0;i<e.length;i++){var s=e[i],l=s.getPositionY(),c=s.getContentSize(),d=s.getPositionX(),u=c.width,h=c.height,p=d-u/2+v.seatPos.center.disBetween,g=d-u/2,m=l-h/2,f=l+h/2;i==e.length-1&&(p=d+u/2),m<=o&&o<=f&&(a<=g&&g<=r||a<=p&&p<=r||g<=a&&a<=p||g<=r&&r<=p)&&s.getComponent(y).setChoosed(!0)}},moveCard:function(e){for(var t=0;t<e.length;t++){e[t].getComponent(y).cardMove()}},moveAllCardDown:function(e){console.log("moveAllCardDown");for(var t=0;t<e.length;t++){e[t].getComponent(y).cardMoveDown()}},onShow:function(){console.log("onShow"),this.onMyOutCard()},onHide:function(){console.log("onHide");for(var e=this.myPokerNode,t=this.myPokerData,o=_.getMyTopCards(e,y),n=[],a=t.length-1;-1<a;a--)n.push(t[a].showTxt),console.log("xx"+t[a].showTxt);var r=_.getCardsFromTopCards(n,o);r.length<1||(this.moveAllCardDown(e),_.AutoChooseLiftUpCard(e,y,r))},onMyOutCard:function(e){var c=this,t=(this.dispatchCard,this.sceneWidth,cc.director.getScene()),d=this.myPokerNode,u=this.myPokerData,h=function(){c.moveAllCardDown(d),k.sendRequest("Game","giveupSendCard"),c.myOpratShow&&(c.myOpratShow.close(),c.myOpratShow=null)},p=0,o=function(){if(console.log("点击了出牌"),c.dispatchCard&&0<c.dispatchCard.length){console.log("dispatchCard.length:"+c.dispatchCard.length);for(var e=0;e<c.dispatchCard.length;e++)c.dispatchCard[e].getComponent(y).node.removeFromParent();c.dispatchCard=[]}var t=[],o=[];for(e=u.length-1;-1<e;e--)if(u[e].isTopped){var n=_.StringToNumber(u[e].showTxt);t.push(n);var a={showTxt:n,showType:u[e].showType};o.push(a)}if(!(1<=t.length))return console.log("没有牌提起  111"),0;if(0==_.get_topCard_type(t).type)return console.log("提起的牌不合法 111"),-1;var r=_.clientCardsToServer(o);console.log(r),k.sendRequest("Game","sendCard",r)},n=v.SendCardTimeout;if(e&&(n=e),20==c.playerme_.getCardCount()||c.mySeatId==c.preSeatId)c.showCallLord(n,null,o,v.opratType.mustOutCard);else{var a=cc.instantiate(this.opratOutCard);a.parent=t;var r=a.getComponent(i);r.show(n,h,function(){var e=[];if(c.preSendCards&&0<c.preSendCards.length){var t=_.serverCardsToClient(c.preSendCards);console.log(t);for(var o=0;o<t.length;o++)e.push(t[o].showTxt)}e.sort(v.arrayUp);var n=_.get_topCard_type(e),a=[];console.log(n);for(o=u.length-1;-1<o;o--){var r=_.StringToNumber(u[o].showTxt);a.push(r)}var i=_.get_cards_larger(n,a);if(0==i.length)return console.log("没有符合的牌型可供提示"),void(c.myOpratShow&&h());e=i[p],p<i.length-1?p++:p=0,this.node.stopAllActions(),c.moveAllCardDown(d);var s=cc.callFunc(function(){_.AutoChooseLiftUpCard(d,y,e)}),l=cc.delayTime(.25);this.node.runAction(cc.sequence(l,s))},o),c.myOpratShow||(c.myOpratShow=r)}},mySendCards:function(e){var t=this;if(e){var o=_.serverCardsToClient(e);o.sort(_.gradeUp),t.dispatchCard=t.playerme_.getSendCard(t.dispatchCard,o,t.myPokerNode,t.myPokerData)}t.playerme_.playCard(t.dispatchCard),t.playerme_.neatenPoker(t.myPokerNode,v.seatPos.center,t.sceneWidth),t.playerme_.getLandlord()&&0<t.myPokerNode.length&&t.myPokerNode[t.myPokerNode.length-1].getComponent(y).setCardDiZhu(!0),t.playerme_.getOpenHandCards()&&0<t.myPokerNode.length&&t.myPokerNode[t.myPokerNode.length-1].getComponent(y).setCardShow(!0),t.playerme_.setCardCount(t.myPokerNode.length)},leftSendCards:function(e,t,o){var n=this,a=this.sceneWidth;e&&(t||(t=_.serverCardsToClient(e)).sort(_.gradeUp),o?(n.leftDispatchCard=n.left_player.getSendCard(n.leftDispatchCard,t,n.leftPokerNode,n.leftPokerData),n.left_player.playCardLeft(n.leftDispatchCard,320,650),n.left_player.neatenLeftPoker(n.leftPokerNode,v.seatPos.left,a/2,230)):(n.leftDispatchCard=n.left_player.darkCardSend(n.leftDispatchCard,t,n.pokerLayerLeft,2,a),n.left_player.playCardLeft(n.leftDispatchCard,320,650)))},rightSendCards:function(e,t,o){var n=this,a=this.sceneWidth;e&&(t||e&&(t=_.serverCardsToClient(e)).sort(_.gradeUp),o?(n.rightDispatchCard=n.right_player.getSendCard(n.rightDispatchCard,t,n.rightPokerNode,n.rightPokerData),n.right_player.playCardRight(n.rightDispatchCard,620,650),n.right_player.neatenRightPoker(n.rightPokerNode,v.seatPos.right,a/2,a/2+140)):(n.rightDispatchCard=n.right_player.darkCardSend(n.rightDispatchCard,t,n.pokerLayerRight,0,a),n.right_player.playCardRight(n.rightDispatchCard,620,650)))},btnBackClick:function(){var e=this;if(console.log("btnBackClick"),e.gameState<v.gameState.ST_GAME_BALANCE&&e.gameState>v.gameState.ST_GAME_PREPARE){g.showCommonDialog("温馨提示","现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！",function(){k.sendRequest("Game","requestDelegate",!0),e.removeEventListener(),e.preloadNextScene()})}else e.gameState==v.gameState.ST_GAME_PREPARE&&k.sendRequest("Game","exitRoom"),e.removeEventListener(),e.preloadNextScene()},btnDelegateClick:function(){console.log("btnDelegateClick");this.playerme_.getDelegated()?console.log("托管中。。。。"):this.gameState==v.gameState.ST_GAME_CallLordOver&&(k.sendRequest("Game","requestDelegate",!0),this.playerme_.setDelegated(!0),this.showCancelDelegate())},showCancelDelegate:function(){var a=this;if(!a.CancelDelegate){var r=function(){k.sendRequest("Game","cancelDelegate"),a.CancelDelegate=null,a.playerme_.setDelegated(!1)};cc.loader.loadRes("prefab/CancelDelegate",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,10);var n=o.getComponent(p("CancelDelegateController"));n.show(r),a.CancelDelegate=n}})}},btnSetClick:function(){console.log("btnSetClick")},btnJiPaiQiClick:function(){console.log("btnJiPaiQiClick"),this.showJPQ()},showJPQ:function(e){var a=this;a.jpqNode?a.jpqNode.show(e):cc.loader.loadRes("prefab/jpqNode",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9);var n=o.getComponent(p("jpqNodeControl"));n.show(),a.jpqNode=n}})},btnChatClick:function(){console.log("btnChatClick");var a=this;if(a.ChatDialog)a.ChatDialog.close(),a.ChatDialog=null;else{var r=function(){a.ChatDialog=null};cc.loader.loadRes("prefab/chatDialog",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o);var n=o.getComponent(p("chatControl"));n.show(r),a.ChatDialog=n}})}},showMyChat:function(n){cc.loader.loadRes("prefab/chatBox",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o),o.getComponent(p("chatBoxControl")).show(n)}})},showLeftChat:function(e){var t=this;t.leftChatBoxNode.active=!0,t.leftChatBoxLabel.string=e,this.pokerLayerLeft.stopAllActions();var o=cc.callFunc(function(){t.leftChatBoxNode.active=!1}),n=cc.delayTime(2);this.pokerLayerLeft.runAction(cc.sequence(n,o))},showRightChat:function(e){var t=this;t.rightChatBoxNode.active=!0,t.rightChatBoxLabel.string=e,this.pokerLayerRight.stopAllActions();var o=cc.callFunc(function(){t.rightChatBoxNode.active=!1}),n=cc.delayTime(2);this.pokerLayerRight.runAction(cc.sequence(n,o))},registerEventListener:function(){var e=this;o.AddCustomEvent(v.MyNode,"Queued",e.onQueued,e),o.AddCustomEvent(v.MyNode,"GameReady",e.onGameReady,e),o.AddCustomEvent(v.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.AddCustomEvent(v.MyNode,"SendCard",e.onSendCard,e),o.AddCustomEvent(v.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.AddCustomEvent(v.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.AddCustomEvent(v.MyNode,"CallLord",e.onCallLord,e),o.AddCustomEvent(v.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.AddCustomEvent(v.MyNode,"GrabLord",e.onGrabLord,e),o.AddCustomEvent(v.MyNode,"CallLordOver",e.onCallLordOver,e),o.AddCustomEvent(v.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.AddCustomEvent(v.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.AddCustomEvent(v.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.AddCustomEvent(v.MyNode,"PlayerCancelDelegate",e.onPlayerCancelDelegate,e),o.AddCustomEvent(v.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.AddCustomEvent(v.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.AddCustomEvent(v.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.AddCustomEvent(v.MyNode,"GameComplete",e.onGameComplete,e),o.AddCustomEvent(v.MyNode,"TableUserExit",e.onTableUserExit,e),o.AddCustomEvent(v.MyNode,"InvalidCardNum",e.onInvalidCardNum,e),o.AddCustomEvent(v.MyNode,"SayToTableInfo",e.onSayToTableInfo,e),o.AddCustomEvent(v.MyNode,"ReconnectionData",e.onReconnectionData,e),o.AddCustomEvent(v.MyNode,"PokerTask",e.onPokerTask,e),o.AddCustomEvent(v.MyNode,"OpenRechargeTipResult",e.onOpenRechargeTipResult,e),o.AddCustomEvent(v.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),o.AddCustomEvent(v.MyNode,"RepeatLogin",e.onRepeatLogin,e)},removeEventListener:function(){var e=this;o.RemoveCustomEvent(v.MyNode,"Queued",e.onQueued,e),o.RemoveCustomEvent(v.MyNode,"GameReady",e.onGameReady,e),o.RemoveCustomEvent(v.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.RemoveCustomEvent(v.MyNode,"SendCard",e.onSendCard,e),o.RemoveCustomEvent(v.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.RemoveCustomEvent(v.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.RemoveCustomEvent(v.MyNode,"CallLord",e.onCallLord,e),o.RemoveCustomEvent(v.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.RemoveCustomEvent(v.MyNode,"GrabLord",e.onGrabLord,e),o.RemoveCustomEvent(v.MyNode,"CallLordOver",e.onCallLordOver,e),o.RemoveCustomEvent(v.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.RemoveCustomEvent(v.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.RemoveCustomEvent(v.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.RemoveCustomEvent(v.MyNode,"PlayerCancelDelegate",e.onPlayerCancelDelegate,e),o.RemoveCustomEvent(v.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.RemoveCustomEvent(v.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.RemoveCustomEvent(v.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.RemoveCustomEvent(v.MyNode,"GameComplete",e.onGameComplete,e),o.RemoveCustomEvent(v.MyNode,"TableUserExit",e.onTableUserExit,e),o.RemoveCustomEvent(v.MyNode,"InvalidCardNum",e.onInvalidCardNum,e),o.RemoveCustomEvent(v.MyNode,"SayToTableInfo",e.onSayToTableInfo,e),o.RemoveCustomEvent(v.MyNode,"ReconnectionData",e.onReconnectionData,e),o.RemoveCustomEvent(v.MyNode,"PokerTask",e.onPokerTask,e),o.RemoveCustomEvent(v.MyNode,"OpenRechargeTipResult",e.onOpenRechargeTipResult,e),o.RemoveCustomEvent(v.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),o.RemoveCustomEvent(v.MyNode,"RepeatLogin",e.onRepeatLogin,e)},initPlayerInfo:function(e){var t=this;e.data.time?(v.CallLordTimeout=e.data.time.lord,v.GrabLordTimeout=e.data.time.lord,v.SendCardTimeout=e.data.time.send,v.CheckCardTimeout=e.data.time.giveup,v.AddRatioTime=e.data.time.double):(v.CallLordTimeout=15,v.GrabLordTimeout=15,v.SendCardTimeout=30,v.CheckCardTimeout=10,v.AddRatioTime=5);var o=e.data.isNewGame;if(this.nicknames=[],o){var n=e.data.seatId;t.mySeatId=n,t.playerme_.setMySeatId(n),t.playerme_.setMySeatNum(1);var a={0:e.data[0],1:e.data[1],2:e.data[2]};for(var r in a){var i=a[r],s=i.seatId;if(this.nicknames.push(i.nick),s==n)t.playerme_.setMySeatId(i.seatId),t.playerme_.setRoomId(i.roomId),t.playerme_.setTableId(i.tableId),t.playerme_.setSignature(i.word),t.playerme_.setBuff(i.buff);else{var l;l=v.getPlayerSeatNum(t.mySeatId,s);var c={};c.uid=parseInt(i.uid),c.nickname=i.nick,c.gender=i.sex,c.coin=parseInt(i.coin),c.gold=parseInt(i.gold),c.propDress=i.propDress,c.myseat=i.seatId,c.roomid=i.roomId,c.tableid=i.tableId,c.signature=i.word,c.buff=i.buff,c.wechatImg=i.img,c.title=i.title,c.emoticon={},c.emoticonItems={},2==l?(t.left_player.initInfo(c),t.left_player.initBaseInfo(),t.left_player.setMySeatNum(l),t.leftPlayer.active=!0):0==l&&(t.right_player.initInfo(c),t.right_player.initBaseInfo(),t.right_player.setMySeatNum(l),t.rightPlayer.active=!0)}}}else console.log("短线重连 进入游戏-----------")},showCallLord:function(a,r,i,s){var l=this;cc.loader.loadRes("prefab/opratCallLord",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o);var n=o.getComponent(p("opratCallLordControl"));n.show(a,r,i,s),3!=s||l.myOpratShow||(l.myOpratShow=n)}})},showGameResult:function(e){var n=this,a=[],t=e.data,r=function(){n.playerme_.getCoin()<v.tableInfo.enterLimit?g.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){n.preloadNextScene()}):k.sendRequest("Game","startGame",!0)},i=function(){n.playerme_.getCoin()<v.tableInfo.enterLimit?g.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){n.preloadNextScene()}):k.sendRequest("Game","startGame",!1)},o="prefab/gameResultWin";1==e.data.isWinner[""+n.mySeatId]||(o="prefab/gameResultLose"),n.playerme_.setCoin(t.coins[n.mySeatId]);for(var s=t.rate,l=t.rateMax,c=t.baseCoins,d=0;d<3;d++){var u=t.total[""+d],h={isdizhu:n.loadSeatId==d,nickname:n.nicknames[d],difen:c,beishu:s,ledou:u,coin:t.coins[d],rateMax:l};a.push(h)}cc.loader.loadRes(o,function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,999),o.getComponent(p("gameResultControl")).show(a,r,i,n.mySeatId,function(){n.removeEventListener(),n.preloadNextScene()})}})},onQueued:function(e){var n=this;console.log("进入队列---"),n.gameState=v.gameState.ST_GAME_PREPARE;var t=cc.callFunc(function(){n.gameState==v.gameState.ST_GAME_PREPARE&&cc.loader.loadRes("animatiom/watingStartGame",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o),n.watingStart=o.getComponent(p("watingStarControl"))}})}),o=cc.delayTime(.5);this.node.runAction(cc.sequence(o,t))},onGameReady:function(e){var t=this;console.log("游戏准备好了---"),t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint(),t.gameState=v.gameState.ST_GAME_START,t.watingStart&&(t.watingStart.close(),t.watingStart=null);var o=e.getUserData();t.initPlayerInfo(o)},onTableTimesUpdate:function(e){console.log("桌子的倍数发生改变---");var t=e.getUserData().data.rate;this.node_tableTimes.string=""+t},onSendCard:function(e){var t=this;if(console.log("发牌, 包括各用户的牌信息---"),t.gameState=v.gameState.ST_GAME_SendCard,t.watingStart&&(t.watingStart.close(),t.watingStart=null),t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint(),0<t.myPokerNode.length){for(var o=0;o<t.myPokerNode.length;o++)t.myPokerNode[o].getComponent(y).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[];var n=e.getUserData();if(t.myPokerData=_.serverCardsToClient(n.data.myCard),t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),t.myHandCards=n.data.myCard,0==n.data.showCard[t.mySeatId]){g.showOpratShowCard(function(e){k.sendRequest("Game","showCard",e)})}},onRefreshPlayerData:function(e){console.log("刷新用户金币---");var t=e.getUserData().data;if(t)for(var o=0;o<t.length;o++){var n=v.getPlayerSeatNum(this.mySeatId,o);1==n?(this.playerme_.setCoin(t[o].coins),h.setCoin(t[o].coins)):0==n?this.right_player.setCoin(t[o].coins):2==n&&this.left_player.setCoin(t[o].coins)}},onTurnCallLord:function(e){var t=this;console.log("轮到谁叫地主---"),t.gameState=v.gameState.ST_GAME_CallLord,t.watingStart&&(t.watingStart.close(),t.watingStart=null);var o=e.getUserData(),n=v.getPlayerSeatNum(t.mySeatId,o.data.callId);if(1==n){t.showCallLord(v.CallLordTimeout,function(){k.sendRequest("Game","callLord",1),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)},function(){k.sendRequest("Game","callLord",2),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)},v.opratType.callLoad),t.playerme_.hideHint()}else 0==n?(t.right_player.showClock(v.CallLordTimeout),t.right_player.hideHint()):2==n&&(t.left_player.showClock(v.CallLordTimeout),t.left_player.hideHint())},onCallLord:function(e){var t=this;console.log("玩家叫地主---");var o=e.getUserData(),n=o.data.beLordId,a=o.data.beLordInfo,r=v.getPlayerSeatNum(t.mySeatId,n);1==r?1==a?t.playerme_.showHint(v.hintType.callLoad):t.playerme_.showHint(v.hintType.callLoadNo):0==r?(t.right_player.hideClock(),1==a?t.right_player.showHint(v.hintType.callLoad):t.right_player.showHint(v.hintType.callLoadNo)):2==r&&(t.left_player.hideClock(),1==a?t.left_player.showHint(v.hintType.callLoad):t.left_player.showHint(v.hintType.callLoadNo))},onTurnGrabLord:function(e){var t=this;console.log("轮到谁抢地主---"),t.watingStart&&(t.watingStart.close(),t.watingStart=null);var o=e.getUserData().data.callId,n=v.getPlayerSeatNum(t.mySeatId,o);if(1==n){t.showCallLord(v.CallLordTimeout,function(){k.sendRequest("Game","grabLord",1)},function(){k.sendRequest("Game","grabLord",2)},v.opratType.grabLoad),t.playerme_.hideHint()}else 0==n?(t.right_player.showClock(v.CallLordTimeout),t.right_player.hideHint()):2==n&&(t.left_player.showClock(v.CallLordTimeout),t.left_player.hideHint())},onGrabLord:function(e){var t=this;console.log("玩家抢地主---");var o=e.getUserData(),n=o.data.grabLordId,a=o.data.grabLordInfo,r=v.getPlayerSeatNum(t.mySeatId,n);1==r?1==a?t.playerme_.showHint(v.hintType.grabLoad):t.playerme_.showHint(v.hintType.grabLoadNo):0==r?(t.right_player.hideClock(),1==a?t.right_player.showHint(v.hintType.grabLoad):t.right_player.showHint(v.hintType.grabLoadNo)):2==r&&(t.left_player.hideClock(),1==a?t.left_player.showHint(v.hintType.grabLoad):t.left_player.showHint(v.hintType.grabLoadNo))},onCallLordOver:function(e){var t=this;console.log("叫地主结束---"),t.gameState=v.gameState.ST_GAME_CallLordOver,t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint();var o=e.getUserData(),n=o.data.lordId,a=o.data.lordCard;o.data.lordBonus;t.setTable3Card(a),t.loadSeatId=n;var r=v.getPlayerSeatNum(t.mySeatId,n);if(1==r){if(o.data.myCard&&20==o.data.myCard.length){if(0<t.myPokerNode.length){for(var i=0;i<t.myPokerNode.length;i++)t.myPokerNode[i].getComponent(y).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.playerme_.setCardCount(20),t.playerme_.setLandlord(!0),t.myPokerData=_.serverCardsToClient(o.data.myCard),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth)}t.myHandCards=o.data.myCard}else if(0==r){if(t.right_player.setCardCount(20),t.right_player.setLandlord(!0),o.data.lordShowCard&&20==o.data.lordShowCard.length){if(0<t.rightPokerNode.length){for(i=0;i<t.rightPokerNode.length;i++)t.rightPokerNode[i].getComponent(y).node.removeFromParent();t.rightPokerNode=[]}t.rightPokerData=[],t.rightPokerData=_.serverCardsToClient(o.data.lordShowCard),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)}}else if(2==r&&(t.left_player.setCardCount(20),t.left_player.setLandlord(!0),o.data.lordShowCard&&20==o.data.lordShowCard.length)){if(0<t.leftPokerNode.length){for(i=0;i<t.leftPokerNode.length;i++)t.leftPokerNode[i].getComponent(y).node.removeFromParent();t.leftPokerNode=[]}t.leftPokerData=[],t.leftPokerData=_.serverCardsToClient(o.data.lordShowCard),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)}},onCanDoubleResult:function(e){var t=this;console.log("通知是否可以加倍---");var o=e.getUserData().data.can_double;if(o&&1==o){g.showOpratDouble(function(){t.playerme_.showHint(v.hintType.double),k.sendRequest("Game","addRatio")},function(){t.playerme_.showHint(v.hintType.doubleNo)})}},onTurnSendCard:function(e){var t=this;console.log("轮到谁出牌---"),t.gameState=v.gameState.ST_GAME_CallLordOver;var o=e.getUserData().data.callId,n=v.getPlayerSeatNum(t.mySeatId,o);1==n?(t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null),t.onMyOutCard(),t.playerme_.hideHint(),t.playerme_.clearTableCard(t.dispatchCard)):0==n?(t.right_player.showClock(v.SendCardTimeout),t.right_player.hideHint(),t.right_player.clearTableCard(t.rightDispatchCard),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)):2==n&&(t.left_player.showClock(v.SendCardTimeout),t.left_player.hideHint(),t.left_player.clearTableCard(t.leftDispatchCard),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null))},onPlayerDelegated:function(e){var t=this;console.log("用户托管---");var o=e.getUserData(),n=o.data.trustId,a=(o.data.giveup,v.getPlayerSeatNum(t.mySeatId,n));console.log("用户托管---"+a),1==a?t.playerme_.getDelegated()||(t.showCancelDelegate(),t.playerme_.setDelegated(!0)):0==a?t.right_player.setDelegated(!0):2==a&&t.left_player.setDelegated(!0)},onPlayerCancelDelegate:function(e){console.log("用户取消托管---");var t=e.getUserData().data.trustId,o=v.getPlayerSeatNum(this.mySeatId,t);console.log("用户取消托管---"+o),1==o||(0==o?this.right_player.setDelegated(!1):2==o&&this.left_player.setDelegated(!1))},onPlayerSendCard:function(e){var t=this;console.log("用户出牌---"),t.gameState=v.gameState.ST_GAME_CallLordOver;var o=e.getUserData(),n=o.data.callId,a=v.getPlayerSeatNum(t.mySeatId,n),r=o.data.noteCards;if(h.setJpqData(r),t.jpqNode&&t.jpqNode.show(),1==a)t.mySendCards(o.data.sendCards),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null);else if(0==a){t.rightSendCards(o.data.sendCards,null,t.right_player.getOpenHandCards());var i=o.data.sendCards.length,s=t.right_player.getCardCount();t.right_player.setCardCount(s-i),t.right_player.hideClock()}else if(2==a){t.leftSendCards(o.data.sendCards,null,t.left_player.getOpenHandCards());i=o.data.sendCards.length,s=t.left_player.getCardCount();t.left_player.setCardCount(s-i),t.left_player.hideClock()}if(t.preSendCards=o.data.sendCards,t.preSeatId=n,t.preSendCards&&20==t.preSendCards.length)g.showAnimChunTian();else{var l=[];if(t.preSendCards&&0<t.preSendCards.length){var c=_.serverCardsToClient(t.preSendCards);console.log(c);for(var d=0;d<c.length;d++)l.push(c[d].showTxt);l.sort(v.arrayUp);var u=_.get_topCard_type(l);u.type==v.CardType.StraightThree||u.type==v.CardType.StraightThreePlusSingle||u.type==v.CardType.StraightThreePlusPair?g.showAnimFeiJi():u.type==v.CardType.DoubleKing?(g.showAnimHuoJian(),t.animShakeNode()):u.type==v.CardType.Bomb&&(g.showAnimZhaDan(),t.animShakeNode())}}},onPlayerNotSend:function(e){var t=this;console.log("用户不出牌---"),t.gameState=v.gameState.ST_GAME_CallLordOver;var o=e.getUserData().data.callId,n=v.getPlayerSeatNum(t.mySeatId,o);1==n?(t.playerme_.showHint(v.hintType.dont),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)):0==n?(t.right_player.showHint(v.hintType.dont),t.right_player.hideClock()):2==n&&(t.left_player.showHint(v.hintType.dont),t.left_player.hideClock())},onPlayerShowCard:function(e){var t=this;console.log("用户明牌---");var o=e.getUserData(),n=o.data.showCardId,a=o.data.showCardInfo,r=v.getPlayerSeatNum(t.mySeatId,n);console.log("seatNum:"+r),1==r?(t.playerme_.setOpenHandCards(!0),0<t.myPokerNode.length&&t.myPokerNode[t.myPokerNode.length-1].getComponent(y).setCardShow(!0)):0==r?(t.right_player.setOpenHandCards(!0),t.rightPokerData=_.serverCardsToClient(a),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)):2==r&&(t.left_player.setOpenHandCards(!0),t.leftPokerData=_.serverCardsToClient(a),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth))},onGameComplete:function(e){var t=this;console.log("本局结束---"),t.gameState=v.gameState.ST_GAME_BALANCE;var o=e.getUserData(),n=cc.callFunc(function(){t.showGameResult(o),t.clearTable()}),a=cc.delayTime(2);this.node.runAction(cc.sequence(a,n)),this.CancelDelegate&&(console.log("//清理托管弹框"),this.CancelDelegate.close(),this.CancelDelegate=null)},onTableUserExit:function(e){console.log("有用户退出 通知桌上的玩家重新进入队列---"),this.gameState=v.gameState.ST_GAME_WAIT_NEXTROUND},onInvalidCardNum:function(e){console.log("出的牌不够大 [非法出牌]---");e.getUserData();this.myOpratShow&&this.myOpratShow.chupaiClick(-1)},onSayToTableInfo:function(e){console.log("聊天信息---");var t=e.getUserData(),o=t.data.sayId,n=v.getPlayerSeatNum(this.mySeatId,o);1==n?this.showMyChat(t.data.word):0==n?this.showRightChat(t.data.word):2==n&&this.showLeftChat(t.data.word)},onReconnectionData:function(e){console.log("短线重连-------");var t=this;t.clearTable();var o=e.getUserData(),n={};n.lastCall=o.data.lastCall,n.lastCards=o.data.lastCards,n.noteCards=o.data.noteCards,n.lordId=o.data.lordId,n.noteCards=o.data.lordCard,n.task=o.data.task,t.node_taskbg.enabled=!0;var a=n.task.name;n.task.coins&&"0"!=n.task.coins?a=a+" 奖"+n.task.coins+"乐豆":n.task.lottery&&"0"!=n.task.lottery?a=a+" 奖"+n.task.lottery+"抽奖数":n.task.tip?a+=n.task.tip:a=a+" 奖"+n.task.coupon+"乐劵",t.node_taskName.string=a;var r=t.node_taskName.node.width;t.node_taskbg.node.width=r+70,n.act=o.data.act,n.time=o.data.time,n.turnSeat=o.data.turnSeat;var i=v.getPlayerSeatNum(o.data.mySeatId,n.turnSeat);if(1==i)if("TURN_CALL_LORD"==n.act){var s=function(){t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null),k.sendRequest("Game","callLord",1)},l=function(){t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null),k.sendRequest("Game","callLord",2)};t.showCallLord(n.time,s,l,v.opratType.callLoad),t.playerme_.hideHint()}else if("TURN_GRAB_LORD"==n.act){s=function(){k.sendRequest("Game","grabLord",1)},l=function(){k.sendRequest("Game","grabLord",2)};t.showCallLord(n.time,s,l,v.opratType.grabLoad),t.playerme_.hideHint()}else"TURN_PLAY_CARD"!=n.act&&"AUTO_PLAY_CARD"!=n.act||(t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null),t.onMyOutCard(23),t.playerme_.hideHint(),t.playerme_.clearTableCard(t.dispatchCard));else 0==i?(t.right_player.showClock(n.time),t.right_player.hideHint(),t.right_player.clearTableCard(t.rightDispatchCard)):2==i&&(t.left_player.showClock(n.time),t.left_player.hideHint(),t.left_player.clearTableCard(t.leftDispatchCard));n.data=[];for(var c=0;c<3;c++){var d={};d.cards=o.data["seat"+c+"cards"],d.info=o.data["seat"+c+"info"],d.show=o.data["seat"+c+"show"],d.trust=o.data["seat"+c+"trust"],n.data.push(d),t.nicknames[c]=d.info.nick}console.log("players-------"),console.log(n),t.preSendCards=o.data.lastCards,t.preSeatId=o.data.lastCall,t.leftPlayer.active=!0,t.rightPlayer.active=!0,t.mySeatId=o.data.mySeatId,4!=n.lordId&&(t.loadSeatId=n.lordId,t.setTable3Card(o.data.lordCard));for(c=0;c<3;c++){var u=v.getPlayerSeatNum(t.mySeatId,c),h=n.data[c].cards,p=n.data[c].show,g=n.data[c].info,m=n.data[c].trust;if(1==u){if(0<t.myPokerNode.length){for(c=0;c<t.myPokerNode.length;c++)t.myPokerNode[c].getComponent(y).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.playerme_.setCardCount(h.length),t.playerme_.setOpenHandCards(1==p),t.playerme_.setLandlord(n.lordId==c),t.myPokerData=_.serverCardsToClient(h),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),t.myHandCards=h,(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,t.playerme_.continueInfo(f),0!=m&&(console.log("自己托管中。。。。"),t.playerme_.getDelegated()&&(console.log("自己托管中。。。。1111"),t.showCancelDelegate()))}else if(0==u){if(1==p){if(0<t.rightPokerNode.length){for(c=0;c<t.rightPokerNode.length;c++)t.rightPokerNode[c].getComponent(y).node.removeFromParent();t.rightPokerNode=[]}t.rightPokerData=[],t.rightPokerData=_.serverCardsToClient(h),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)}t.right_player.setOpenHandCards(1==p),t.right_player.setLandlord(n.lordId==c),(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,t.right_player.continueInfo(f),0!=m&&t.right_player.setDelegated(!0)}else if(2==u){if(1==p){if(0<t.leftPokerNode.length){for(c=0;c<t.leftPokerNode.length;c++)t.leftPokerNode[c].getComponent(y).node.removeFromParent();t.leftPokerNode=[]}t.leftPokerData=[],t.leftPokerData=_.serverCardsToClient(h),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)}var f;t.left_player.setOpenHandCards(1==p),t.left_player.setLandlord(n.lordId==c),(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,t.left_player.continueInfo(f),0!=m&&t.left_player.setDelegated(!0)}}var C=v.getPlayerSeatNum(o.data.mySeatId,t.preSeatId);1==C?t.mySendCards(t.preSendCards):0==C?t.rightSendCards(t.preSendCards,null,t.right_player.getOpenHandCards()):2==C&&t.leftSendCards(t.preSendCards,null,t.left_player.getOpenHandCards())},onPokerTask:function(e){console.log("触发牌局任务-------");var t=e.getUserData();this.node_taskbg.enabled=!0;var o=t.data.table_task;t.data.coins?o=o+" 奖"+t.data.coins+"乐豆":t.data.lottery?o=o+" 奖"+t.data.lottery+"抽奖数":t.data.tip?o+=t.data.tip:o=o+" 奖"+t.data.coupon+"乐劵",this.node_taskName.string=o;var n=this.node_taskName.node.width;this.node_taskbg.node.width=n+70},onOpenRechargeTipResult:function(e){var t=this,o=e.getUserData();console.log(o);var n=o.data.trial_count,a="",r=cc.callFunc(function(){n<3?(a="系统第"+(n+1)+"次赠送您1000乐豆。",g.showCommonDialog("领救济",a,function(){console.log("点击了领取救济按钮"),n<3?k.sendRequest("Game","openReliefTip",{}):t.preloadNextScene()})):(a="今天乐豆已经领完了哦，明天在过来吧！",g.showCommonDialog("领救济",a,function(){t.preloadNextScene()}))}),i=cc.delayTime(.5);this.node.runAction(cc.sequence(i,r))},onRepeatLogin:function(e){console.log("您的账号已经在其他地方登陆！");var t=this,o=e.getUserData();console.log(o),g.showCommonDialog("提示","您的账号已经在其他地方登陆！",function(){t.isShow=!1,cc.director.loadScene("LoadingScene")})},onRefreshDataResult:function(e){console.log("刷新用户信息数据1111------");var t=e.getUserData();console.log(t);var o=t;o.data&&o.data.coins&&(h.setCoin(o.data.coins),this.playerme_.setCoin(o.data.coins)),o.data&&o.data.coupon&&(h.setCoupon(o.data.coupon),this.playerme_.setLeQuan(o.data.coupon)),o.data&&o.data.lottery&&h.setLottery(o.data.lottery),o.data&&o.data.mail_unread&&h.setMailUnread(o.data.mail_unread),o.data&&o.data.checkin_undo&&h.setCheckinUndo(o.data.checkin_undo),o.data&&o.data.task1_unaward&&h.setTask1Unaward(o.data.task1_unaward),o.data&&o.data.task2_unaward&&h.setTask2Unaward(o.data.task2_unaward),o.data&&o.data.charge_rate&&h.setChargeRate(o.data.charge_rate),o.data&&o.data.propDress&&h.setPropDress(o.data.propDress),o.data&&o.data.propItems&&h.setPropItems(o.data.propItems)},preloadNextScene:function(){cc.director.preloadScene("HallScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("HallScene")})},animShakeNode:function(){var e=this;if(!this.animShake){this.animShake=!0;var t=this.scene.x,o=this.scene.y,n=cc.moveTo(.08,t-5,o-5),a=cc.moveTo(.08,t+5,o+5),r=cc.moveTo(.08,t-5,o+5),i=cc.moveTo(.08,t+5,o-5),s=cc.moveTo(.08,t-3,o-3),l=cc.moveTo(.08,t+3,o+3),c=cc.moveTo(.08,t-3,o+3),d=cc.moveTo(.08,t+3,o-3),u=cc.moveTo(.08,t,o),h=cc.callFunc(function(){e.animShake=!1});this.scene.runAction(cc.sequence(n,a,r,i,s,l,c,d,u,h))}}}),cc._RF.pop()},{CancelDelegateController:"CancelDelegateController",CardUtil:"CardUtil",EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",Player:"Player",PlayerDetailModel:"PlayerDetailModel",PokerControl:"PokerControl",chatBoxControl:"chatBoxControl",chatControl:"chatControl",config:"config",dialogManager:"dialogManager",gameResultControl:"gameResultControl",jpqNodeControl:"jpqNodeControl",opratCallLordControl:"opratCallLordControl",opratOutCardControl:"opratOutCardControl",watingStarControl:"watingStarControl"}],HTTP:[function(e,t,o){"use strict";cc._RF.push(t,"edffdUfs8ZMY4eGLNYRnj/H","HTTP");var n="http://39.108.156.104:9000",l=cc.Class({extends:cc.Component,statics:{sessionId:0,userId:0,master_url:n,url:n,sendRequest:function(e,t,o,n){var a=cc.loader.getXMLHttpRequest();a.timeout=5e3;var r="?";for(var i in t)"?"!=r&&(r+="&"),r+=i+"="+t[i];null==n&&(n=l.url);var s=n+e+encodeURI(r);return console.log("RequestURL:"+s),a.open("POST",s,!0),cc.sys.isNative&&a.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState&&200<=a.status&&a.status<300){console.log("http res("+a.responseText.length+"):"+a.responseText);try{var e=JSON.parse(a.responseText);null!==o&&o(e)}catch(e){console.log("err:"+e)}finally{cc.vv&&cc.vv.wc}}},cc.vv&&cc.vv.wc,a.send(),a}}});cc._RF.pop()},{}],HallCanvasControl:[function(e,t,o){"use strict";cc._RF.push(t,"7b0e5TdvIVGPocizZ83oGuj","HallCanvasControl");var n=e("config"),a=e("dialogManager");cc.Class({extends:cc.Component,properties:{hallLayer:{default:null,type:cc.Node},roomLayer:{default:null,type:cc.Node}},start:function(){this.hallLayer.active=!0,this.roomLayer.active=!1},btnRoom1Click:function(){console.log("欢乐场"),this.hallLayer.active=!1,this.roomLayer.active=!0,n.curRoomModelId=n.ModelId.normal},btnRoom2Click:function(){console.log("赖子场"),a.showCommonDialog("温馨提示","赖子场暂未开放！",null,null)},roomBackHall:function(){console.log("反回大厅"),this.hallLayer.active=!0,this.roomLayer.active=!1}}),cc._RF.pop()},{config:"config",dialogManager:"dialogManager"}],HallLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"ca1bfsOJVRIfZ+JaI0gWh+N","HallLayerControl");e("config"),e("EventHelper"),e("PlayerDetailModel");var n=e("dialogManager");cc.Class({extends:cc.Component,properties:{},start:function(){},btnSetClick:function(){console.log("btnSetClick"),n.showSetDialog()},btnTaskClick:function(){console.log("btnTaskClick"),n.showTaskDialog()},btnEmailClick:function(){console.log("btnEmailClick"),n.showEmailDialog()},btnBagClick:function(){console.log("btnBagClick"),n.showBagDialog()},btnShopClick:function(){console.log("btnShopClick")},btnShareClick:function(){console.log("btnShareClick"),n.showShareDialog()}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],PlayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"3c4f20tXR5PuI0NTCNoAn1B","PlayerControl"),cc.Class({extends:cc.Component,properties:{playerMy:{default:null,type:cc.Node},headMyImg:{default:null,type:cc.Sprite},headMyName:{default:null,type:cc.Label},headMyCoin:{default:null,type:cc.Label},headMyLeQuan:{default:null,type:cc.Label},playerLeft:{default:null,type:cc.Node},headLeftImg:{default:null,type:cc.Sprite},headLeftName:{default:null,type:cc.Label},headLeftCoin:{default:null,type:cc.Label},playerRight:{default:null,type:cc.Node},headRightImg:{default:null,type:cc.Sprite},headRightName:{default:null,type:cc.Label},headRightCoin:{default:null,type:cc.Label}},start:function(){this.initMyInfo(),this.initLeftPlayerInfo(),this.initRightPlayerInfo()},initMyInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headMyImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headMyName.string=this.parseString("我自己啊啊啊啊"),this.headMyCoin.string=this.parseNumber("1000000000"),this.headMyLeQuan.string=this.parseNumber("500000")},initLeftPlayerInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headLeftImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headLeftName.string=this.parseString("美好的回忆233"),this.headLeftCoin.string=this.parseNumber("1000000")},initRightPlayerInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headRightImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headRightName.string=this.parseString("新手1366567222"),this.headRightCoin.string=this.parseNumber("1000000")},parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e){var t=e.substring(0,4);return t+="...",console.log(">>string:"+e),t}}),cc._RF.pop()},{}],PlayerDetailModel:[function(e,t,o){"use strict";cc._RF.push(t,"32ba6NTG9dP6IOtyXm8iqMU","PlayerDetailModel");e("config");var n={nickname:"",uid:0,coin:0,gold:0,gender:1,word:"",coolnum:"",level:0,matches:0,win:0,checkCode:"",propDress:{},score:0,verfile:0,vertips:0,mailUnread:0,coupon:0,age:0,room:{},contact:"",contacts:"",wechat:"",lottery:0,checkinUndo:0,task1Unaward:0,task2Unaward:0,chargeRate:0,propItems:{},rewardList:{},isDev:0,wechatImg:"",title:"",jpqData:"",getJpqData:function(){return n.jpqData},setJpqData:function(e){n.jpqData=e},getNickName:function(){return n.nickname},setNickName:function(e){n.nickname=e},getUid:function(){return n.uid},setUid:function(e){n.uid=e},getCoin:function(){return n.coin},setCoin:function(e){n.coin=e},getGold:function(){return n.gold},setGold:function(e){n.gold=e},getGender:function(){return n.gender},setGender:function(e){n.gender=e},getSign:function(){return n.word},setSign:function(e){n.word=e},getCoolNum:function(){return n.coolnum},setCoolNum:function(e){n.coolnum=e},getLevel:function(){return n.level},setLevel:function(e){n.level=e},getMatches:function(){return n.matches},setMatches:function(e){n.matches=e},getWin:function(){return n.win},setWin:function(e){n.win=e},getCheckCode:function(){return n.checkCode},setCheckCode:function(e){n.checkCode=e},getPropDress:function(){return n.propDress},setPropDress:function(e){n.propDress=e},getScore:function(){return n.score},setScore:function(e){n.score=e},getVerfile:function(){return n.verfile},setVerfile:function(e){n.verfile=e},getVertips:function(){return n.vertips},setVertips:function(e){n.vertips=e},getMailUnread:function(){return n.mailUnread},setMailUnread:function(e){n.mailUnread=e},getCoupon:function(){return n.coupon},setCoupon:function(e){n.coupon=e},getAge:function(){return n.age},setAge:function(e){n.age=e},getRoom:function(){return n.room},setRoom:function(e){n.room=e},getRoomByModel:function(e){for(var t in n.room){var o=n.room[t];if(e==o.modelId)return o.rooms}return{}},getContact:function(){return n.contact},setContact:function(e){n.contact=e},getContacts:function(){return n.contacts},setContacts:function(e){n.contacts=e},getWechat:function(){return n.wechat}};n.getWechat=function(e){n.wechat=e},n.getLottery=function(){return n.lottery},n.setLottery=function(e){n.lottery=e},n.getCheckinUndo=function(){return n.checkinUndo},n.setCheckinUndo=function(e){n.checkinUndo=e},n.getTask1Unaward=function(){return n.task1Unaward},n.setTask1Unaward=function(e){n.task1Unaward=e},n.getTask2Unaward=function(){return n.task2Unaward},n.setTask2Unaward=function(e){n.task2Unaward=e},n.getChargeRate=function(){return n.chargeRate},n.setChargeRate=function(e){n.chargeRate=e},n.getPropItems=function(){return n.propItems},n.setPropItems=function(e){n.propItems=e},n.getIsDev=function(){return n.isDev},n.setIsDev=function(e){n.isDev=e},n.getRewardList=function(){return n.rewardList},n.setRewardList=function(e){n.rewardList=e},n.getWechatImg=function(){return n.wechatImg},n.setWechatImg=function(e){n.wechatImg=e},n.getTitle=function(){return n.title},n.setTitle=function(e){n.title=e},t.exports=n,cc._RF.pop()},{config:"config"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"838d3g3hXVK0JPu0+2AvJx0","Player");var c=e("PokerControl"),l=e("config"),d=e("CardUtil"),n=(e("PopCardUtil"),e("ClockControl"));cc.Class({ctor:function(e){e&&(this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.lequan=e.lequan,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems,this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.cardCount=0,this.isDelegated=!1,this.jokerValue=-1,this.openHandCards=!1,this.currentCards={},this.curSendedCards={},this.cards={},this.smallcards={},this.noteCards={},this.lordCard={},this.currentCardType=0,this.noteCards="",this.joktoCards={},this.jokerCardsValue={},this.myCards=[],this.node_name=null,this.node_LeDou=null,this.node_LeQuan=null,this.node_cardsNum=null,this.node_Landlord=null,this.node_delegate=null,this.node_hint=null,this.node_clockDwonTime=null,this.node_wechatImg=null,this.pokerCard=null,this.node_alarm=null)},initInfo:function(e){this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems},initNodes:function(e){this.node_name=e.node_name,this.node_LeDou=e.node_LeDou,this.node_LeQuan=e.node_LeQuan,this.node_cardsNum=e.node_cardsNum,this.node_Landlord=e.node_Landlord,this.node_delegate=e.node_delegate,this.node_hint=e.node_hint,this.node_clockDwonTime=e.node_clockDwonTime,this.node_wechatImg=e.node_wechatImg,this.pokerCard=e.pokerCard,this.node_alarm=e.node_alarm},initBaseInfo:function(){console.log("初始化玩家基础信息"),this.setnickname(this.nickname),this.setCoin(this.coin),this.setLeQuan(this.lequan),this.setWechatImg(this.wechatImg),this.setCardCount(17)},continueInfo:function(e){this.setnickname(e.nickname),this.setCoin(e.coin),this.setLeQuan(e.lequan),this.setWechatImg(e.wechatImg),this.setCardCount(e.cardCount)},clear:function(){this.cardCount=0,this.currentCardType=0,this.jokerValue=-1,this.preSelectedCardIdx=-1,this.curSendedCards={},this.currentCards={},this.cards={},this.smallcards={},this.lordCard={},this.joktoCards={},this.jokerCardsValue={},this.sendCardPos={},this.noteCards={},this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.isDelegated=!1,this.openHandCards=!1,this.node_Landlord&&(this.node_Landlord.enabled=!1),this.node_delegate&&(this.node_delegate.enabled=!1),this.node_hint&&(this.node_hint.enabled=!1),this.node_clockDwonTime&&(this.node_clockDwonTime.active=!1),this.node_alarm&&(this.node_alarm.active=!1)},setOpenHandCards:function(e){this.openHandCards=e},getOpenHandCards:function(){return this.openHandCards},setDelegated:function(e){(this.isDelegated=e)&&this.node_delegate?this.node_delegate.enabled=!0:this.node_delegate&&(this.node_delegate.enabled=!1)},getDelegated:function(){return this.isDelegated},setLandlord:function(e){(this.isLandlord=e)&&this.node_Landlord&&(this.node_Landlord.enabled=!0)},getLandlord:function(){return this.isLandlord},setRoomId:function(e){this.roomid=e},getRoomId:function(){return this.roomid},setTableId:function(e){this.tableid=e},getTableId:function(){return this.tableid},setSignature:function(e){this.signature=e},getSignature:function(){return this.signature},setBuff:function(e){this.buff=e},getBuff:function(){return this.buff},setnickname:function(e){this.nickname=e,this.node_name&&(this.node_name.string=l.parseString(e))},getNickname:function(){return this.nickname},getWechatImg:function(){return this.wechatImg},setWechatImg:function(e){var o=this;if((e=""+(this.wechatImg=e)).length<2)cc.loader.loadRes("defult_head",cc.SpriteFrame,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=t});else{var t=e+"?aa=aa.jpg";this.node_wechatImg&&cc.loader.load(t,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}},getTitle:function(){return this.title},setTitle:function(e){this.title=e},setCoin:function(e){this.coin=e,this.node_LeDou&&(this.node_LeDou.string=""+l.parseNumber(e))},setLeQuan:function(e){this.lequan=e,this.node_LeQuan&&(this.node_LeQuan.string=""+l.parseNumber(e))},getLeQuan:function(){return this.lequan},setWinCoin:function(e){this.winCoin=e},getWinCoin:function(){return this.winCoin},getIsWinner:function(){return this.isWinner},setIsWinner:function(e){this.isWinner=e},getCoin:function(){return this.coin},setGold:function(e){this.gold=e},getGold:function(){return this.gold},setCoinNode:function(e){this.node_Coin=e},setFlagNode:function(e){this.node_Flag=e},setCardCount:function(e){this.cardCount=e,this.node_cardsNum&&(this.node_cardsNum.string=""+e)},getCardCount:function(){return this.cardCount},setJockerVlue:function(e){this.jokerValue=e},refreshIdentity:function(){},getGender:function(){return this.gender},getMySeatId:function(){return this.seatId},setMySeatId:function(e){this.seatId=e},setMySeatNum:function(e){this.seatNumber=e},getMySeatNum:function(){return this.seatNumber},setJoktoCards:function(e){this.joktoCards=e},getJoktoCards:function(){return this.joktoCards},setJokerCardsValue:function(e){this.jokerCardsValue=e},setPokerCard:function(e){this.pokerCard=e},setMyCards:function(e){this.myCards=e},getMyCards:function(){return this.myCards},initMyCards:function(e,t,o,n,a){for(var r=0;r<e.length;r++){var i=cc.instantiate(this.pokerCard);i.parent=o,i.scale=0==a?l.seatPos.right.pokerScale:2==a?l.seatPos.left.pokerScale:l.seatPos.center.pokerScale;var s=i.getComponent(c);e[r].canTouch=!0,s.showPoker(e[r]),t.push(i),0==a?(console.log("右边玩家明牌-----"),this.neatenRightPoker(t,l.seatPos.right,n/2,n/2+140)):2==a?(console.log("左边玩家明牌-----"),this.neatenLeftPoker(t,l.seatPos.left,n/2,230)):this.neatenPoker(t,l.seatPos.center,n)}return this.isLandlord&&t[t.length-1].getComponent(c).setCardDiZhu(!0),this.openHandCards&&t[t.length-1].getComponent(c).setCardShow(!0),t},neatenPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=n||(o-r)/2;for(var i=0;i<e.length;i++)e[i].setPosition(n+i*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,t.positionY),e[i].getComponent(c).setMoveDown()}},clearTableCard:function(e){if(e&&0<e.length){for(var t=0;t<e.length;t++)e[t].getComponent(c).node.removeFromParent();e=[]}},getSendCard:function(e,t,o,n){if(e&&0<e.length){for(var a=0;a<e.length;a++)e[a].getComponent(c).node.removeFromParent();e=[]}var r=0;for(a=n.length-1;-1<a;a--){var i=d.StringToNumber(n[a].showTxt),s=d.StringToNumber(n[a].showType);if(r<t.length&&t[r].showTxt==i&&t[r].showType==s){console.log("cards:"+t[r].showTxt);var l=o[a];e.unshift(l),n.splice(a,1),o.splice(a,1),r++}}return this.setMyCards(n),e},playCard:function(e){if(!(e.length<1))for(var t=40*(e.length-1)+.57*e[0].getComponent(c).node.width,o=(cc.director.getWinSize().width-t)/2,n=0;n<e.length;n++){var a=o+40*n+(e[n].scale=.57)*e[0].getComponent(c).node.width*.5,r=cc.moveTo(.2,a,500);r.easing(cc.easeIn(2));var i=e[n].getComponent(c);i.node.runAction(r),this.isLandlord&&n==e.length-1&&i.setCardDiZhu(!0),this.openHandCards&&n==e.length-1&&i.setCardShow(!0)}},playerLeftShowCard:function(e,t,o,n){this.initMyCards(e,t,o,n,2)},neatenLeftPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=n||(o-r)/2,n+=64;var i=t.positionY;a&&(i=a);var s=e.length;if(s<=10)for(var l=0;l<e.length;l++)e[l].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);else{for(l=0;l<10;l++)e[l].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);for(l=0;l<s-10;l++)e[l+10].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i-55)}}},playCardLeft:function(e,t,o){if(!(e.length<1)){e.length,e[0].getComponent(c).node.width,cc.director.getWinSize().width;t+=64;for(var n=0;n<e.length;n++){var a=t+37*n+(e[n].scale=.5)*e[0].getComponent(c).node.width*.5,r=e[n].getComponent(c);r.node.runAction(cc.moveTo(.2,a,o)),this.isLandlord&&n==e.length-1&&r.setCardDiZhu(!0),this.openHandCards&&n==e.length-1&&r.setCardShow(!0)}}},playerRightShowCard:function(e,t,o,n){this.initMyCards(e,t,o,n,0)},neatenRightPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=(n=n||(o-r)/2)+10*t.disBetween-64;var i=t.positionY;a&&(i=a);var s=e.length;if(s<=10){n+=(10-s)*t.disBetween;for(var l=0;l<e.length;l++)e[l].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i)}else{for(l=0;l<10;l++)e[l].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);for(l=0;l<s-10;l++)e[l+10].setPosition(n+l*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i-55)}}},playCardRight:function(e,t,o){if(!(e.length<1)){e.length,e[0].getComponent(c).node.width;t=cc.director.getWinSize().width/2+590-37*e.length-64;for(var n=0;n<e.length;n++){var a=t+37*n+(e[n].scale=.5)*e[0].getComponent(c).node.width*.5,r=e[n].getComponent(c);r.node.runAction(cc.moveTo(.2,a,o)),this.isLandlord&&n==e.length-1&&r.setCardDiZhu(!0),this.openHandCards&&n==e.length-1&&r.setCardShow(!0)}}},darkCardSend:function(e,t,o,n,a){if(0<e.length){for(var r=0;r<e.length;r++)e[r].getComponent(c).node.removeFromParent();e=[]}t.sort(d.gradeDown);var i=t;for(r=0;r<i.length;r++){var s=cc.instantiate(this.pokerCard);s.parent=o,0==n?s.scale=l.seatPos.right.pokerScale:2==n&&(s.scale=l.seatPos.left.pokerScale),s.getComponent(c).showPoker(i[r]),e.push(s),0==n?this.neatenRightPoker(e,l.seatPos.right,a/2,a/2+140+200,750):2==n&&this.neatenLeftPoker(e,l.seatPos.left,a/2,30,750)}return this.isLandlord&&0<e.length&&e[e.length-1].getComponent(c).setCardDiZhu(!0),e},showClock:function(e){this.node_clockDwonTime.getComponent(n).show(e)},hideClock:function(){this.node_clockDwonTime.active=!1},showHint:function(e){var o=this;o.node_hint.enabled=!0;var t="showTips/p_tip_chuno";e==l.hintType.callLoad?t="showTips/p_tip_jiaodizhu":e==l.hintType.callLoadNo?t="showTips/p_tip_jiaodizhuno":e==l.hintType.grabLoad?t="showTips/p_tip_qiangdizhu":e==l.hintType.grabLoadNo?t="showTips/p_tip_qiangdizhuno":e==l.hintType.dont?t="showTips/p_tip_chuno":e==l.hintType.double?t="showTips/p_tip_jiabei":e==l.hintType.doubleNo&&(t="showTips/p_tip_jiabeino"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_hint.getComponent(cc.Sprite).spriteFrame=t})},hideHint:function(){this.node_hint.enabled=!1}});cc._RF.pop()},{CardUtil:"CardUtil",ClockControl:"ClockControl",PokerControl:"PokerControl",PopCardUtil:"PopCardUtil",config:"config"}],PokerControl:[function(e,t,o){"use strict";cc._RF.push(t,"00f79gpHs9Jd7BBB5drfbt3","PokerControl");var r=e("config");e("CardUtil");cc.Class({extends:cc.Component,properties:{pokerNum:{default:null,type:cc.Sprite},pokerType:{default:null,type:cc.Sprite},pokerType2:{default:null,type:cc.Sprite},pokerBg:{default:null,type:cc.Sprite},pokerLight:{default:null,type:cc.Sprite},pokerDiZhu:{default:null,type:cc.Sprite},pokerShow:{default:null,type:cc.Sprite},canTouch:!1,isTouched:!1,cardData:{default:null},isTopped:!1},showPoker:function(e){var o=this,t=(o.cardData=e).showType;o.canTouch=e.canTouch,o.cardValue=e.showTxt;var n="cards/poke_"+o.cardValue;16!=o.cardValue&&17!=o.cardValue&&cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.pokerNum.getComponent(cc.Sprite).spriteFrame=t}),o.pokerDiZhu.enabled=!1,o.pokerLight.enabled=!1,o.pokerShow.enabled=!1,o.pokerType.enabled=!0;var a="cards/heitao";t==r.pokerCardType.spade?(a="cards/heitao",o.pokerNum.node.color=new cc.Color(27,27,27)):t==r.pokerCardType.hearts?(a="cards/hongxin",o.pokerNum.node.color=new cc.Color(246,58,27)):t==r.pokerCardType.redslice?(a="cards/hongfang",o.pokerNum.node.color=new cc.Color(246,58,27)):t==r.pokerCardType.blackberry?(a="cards/heimei",o.pokerNum.node.color=new cc.Color(27,27,27)):t==r.ghostCardType.bigG?(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_red",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})):t==r.ghostCardType.smallG&&(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_black",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})),cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){o.pokerType.getComponent(cc.Sprite).spriteFrame=t,o.pokerType2.getComponent(cc.Sprite).spriteFrame=t})},setPokerLight:function(e){this.pokerLight.enabled=e},setChoosed:function(e){this.cardData.isChoosed=e,this.pokerLight.enabled=e},cardMove:function(){if(this.cardData.isChoosed&&this.cardData.isTopped)(e=cc.moveBy(.2,0,-30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1;else if(this.cardData.isChoosed&&!this.cardData.isTopped){var e;(e=cc.moveBy(.2,0,30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!0,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},cardMoveDown:function(){if(this.cardData.isTopped){var e=cc.moveBy(.2,0,-30);e.easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},setCardDiZhu:function(e){this.pokerDiZhu.enabled=e},setCardShow:function(e){this.pokerShow.enabled=e},setMoveDown:function(){this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1},setPokerBg:function(){var o=this;cc.loader.loadRes("cards/blank_card",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})},setScale:function(e){this.node.scaleX=e,this.node.scaleY=e}}),cc._RF.pop()},{CardUtil:"CardUtil",config:"config"}],PokerData:[function(e,t,o){"use strict";cc._RF.push(t,"2200e8z40ZFt4GkVby0nQUb","PokerData");var n=e("config"),i=e("helper"),s=e("CardUtil"),l={cardNo:["A",2,3,4,5,6,7,8,9,10,"J","Q","K","G","g"],showData:[],setPokerData:function(){for(var e=0;e<l.cardNo.length;e++)if(e<l.cardNo.length-2)for(var t in n.pokerCardType){var o={showTxt:l.cardNo[e],showType:n.pokerCardType[t]};l.showData.push(o)}else if(13==e){o={showTxt:l.cardNo[e],showType:n.ghostCardType.bigG};l.showData.push(o)}else if(14==e){o={showTxt:l.cardNo[e],showType:n.ghostCardType.smallG};l.showData.push(o)}},getPokerData:function(){return l.showData},bodyPokerData:[],partCards:function(){for(var e=i.copyObj(l.showData),t=0;t<2;t++){for(var o=[],n=0;n<17;n++){var a=Math.floor(Math.random()*e.length),r=e[a];o.push(r),e.splice(a,1)}l.bodyPokerData.push(o)}l.bodyPokerData.push(e);for(n=0;n<l.bodyPokerData.length;n++)l.bodyPokerData[n].sort(s.gradeDown)},getPartCardsData:function(){return l.bodyPokerData},load:function(){l.setPokerData(),l.partCards()}};t.exports=l,cc._RF.pop()},{CardUtil:"CardUtil",config:"config",helper:"helper"}],PopCardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a85e4oibOFF+Ip+aqcwZSHY","PopCardUtil");e("config");var u={StringToNumber:function(e){return"J"==e?11:"Q"==e?12:"K"==e?13:"A"==e?14:"2"==e?15:"g"==e?16:"G"==e?17:"string"==typeof e?parseInt(e):e},getSameCards:function(e){for(var t=[],o=0;o<e.length;o++)t[o]=u.StringToNumber(e[o]);var n=[],a=[],r=t[0];for(o=0;o<t.length;o++)t[o]==r?a.push(t[o]):(n[""+r]=a,a=[],r=t[o],a.push(r)),o==t.length-1&&(n[""+r]=a);return n},SingleNum:0,PairNum:0,ThreeNum:0,FourNum:0,SingleCards:[],PairCards:[],ThreeCards:[],FourCards:[],setSameVulueCardCount:function(e){var t=0,o=0,n=0,a=0,r=[],i=[],s=[],l=[];for(var c in e){var d=e[c];1==d.length?(t++,r.push(d)):2==d.length?(o++,i.push(d)):3==d.length?(n++,s.push(d)):4==d.length&&(a++,l.push(d))}u.SingleNum=t,u.PairNum=o,u.ThreeNum=n,u.FourNum=a,u.SingleCards=r,u.PairCards=i,u.ThreeCards=s,u.FourCards=l},getSingle:function(){var e=[];return e.cards=u.SingleCards,e.count=u.SingleNum,e},getPair:function(){var e=[];return e.cards=u.PairCards,e.count=u.PairNum,e},getThree:function(){var e=[];return e.cards=u.ThreeCards,e.count=u.ThreeNum,e},getFour:function(){var e=[];return e.cards=u.FourCards,e.count=u.FourNum,e}};t.exports=u,cc._RF.pop()},{config:"config"}],Protocol:[function(e,t,o){"use strict";cc._RF.push(t,"15f8e1UHT9ILpWi7f0jBZGL","Protocol");var n={Command:{HeartBeat:0,Login:1,Text:2,Broadcast:3,System:4,Game:5,Props:6,FruitMachine:7,NiuNiu:8,GameCommand:9,Analysis:10},CommandRevert:{0:"HeartBeat",1:"Login",2:"Text",3:"Broadcast",4:"System",5:"Game",6:"Props",7:"FruitMachine",8:"NiuNiu",9:"GameCommand",10:"Analysis"},Request:{HeartBeat:{Alive:0},Login:{Guest:0,Mail:1,Weibo:2,Facebook:3,Account:4,Logout:5,Regist:6},System:{Enter:0,Leave:1,Info:2,Profile:3,ChangeAvatar:4,ChangeNick:5,GetFile:105,GetTips:107,GetNewMail:111,GetNewActivity:129,GetNewAnnouncement:131,ModifyAge:207,Mail:211,ReadMail:213,GetMailAttachment:215,DelMail:217,Consume:231,Activity:401,OpenAdvertising:403,Announcement:431,RichRank:611,EveryDayRank:621,EveryWeekRank:631,RefreshData:109,ShopItem:301,ExchangeItems:321,ExchangeItemConfirm:323,TaskDaily:511,TaskGrowth:503,GetTaskReward:513,BuyProps:331,ShopBuyGold:311,HallReport:901,Backpack:221,MonthNotice:223,GetSalary:225,SlotGetInfo:425,SlotStartRun:427,GetMenuPrompt:233,GetGiftList:169,GetRewardList:235,GetShopItems:303,EnterHall:701,ShareInfo:515,ShareGet:517},Game:{Init:0,Ready:1,Go:2,CallLord:5,GrabLord:6,ShowCard:7,SendCard:8,NotFollow:10,BalanceOk:11,ExitRoom:13,ChangeTable:14,RequestDelegate:15,CancelDelegate:16,EditNick:20,EditSex:21,EditSignature:22,SayToTable:31,ExchangeGoldToCoin:41,LoginContestSignUp:101,ContestSignUp:103,CancelContestSignUp:105,GiveUpContest:109,ChangeSkin:123,BuySkin:125,LuckyDrawView:131,LuckyDraw:133,LuckyDrawRecord:135,LoginRewardView:137,LoginReward:139,GameDayRank:141,GameThisWeekRank:143,GameLastWeekRank:145,ActivityBar:147,RefreshContestData:127,GiftBag:149,ContestFramesComplete:111,OpenRechargeTip:151,OpenReliefTip:155,LuckyDrawList:157,LuckyDrawNew:159,ExitGameText:161,AddRatio:17,GetGameFieldInfo:201,GetFieldDetailInfo:203,GetMyFieldInfo:205,SignupField:207,UnSignupField:209,GetMatchItems:217,ExchangeMatchItem:219,SureKnockout:221,VipPrivilege:223,GetPlayerMatchesInfo:225,GetLoginReward:227,Complaint:231,Emoticon:235,PokerAnalysis:100,Reconnection:229},Props:{PlunderGift:107,PropItems:109,BuySingleItems:111}},Response:{HeartBeat:{Alive:0},Login:{Regist:6,OK:10,NoDevice:11,ErrorDevice:12,NotReg:13,NoNum:14,LoginFailed:15},Broadcast:{Notice:301,ShowActivity:306},System:{GetFileResult:106,GetTipsResult:108,GetNewMailResult:112,GetNewActivityResult:130,GetNewAnnouncementResult:132,ModifyAgeResult:208,MailResult:212,ReadMailResult:214,GetMailAttachmentResult:216,DelMailResult:218,ConsumeResult:232,ActivityResult:402,OpenAdvertisingResult:404,AnnouncementResult:432,RichRankResult:612,EveryDayRankResult:622,EveryWeekRankResult:632,RefreshDataResult:110,ShopItemResult:302,ExchangeItemsResult:322,ExchangeItemConfirmResult:324,TaskDailyResult:512,TaskGrowthResult:504,GetTaskRewardResult:514,BuyPropsResult:332,ShopBuyGoldResult:312,NoviceGiftResult:334,BackpackResult:222,MonthNoticeResult:224,GetSalaryResult:226,RepeatLogin:902,MonthUseUp:228,SlotInfo:426,SlotResult:428,GetMenuPromptResult:234,GetGiftListResult:170,PushGameGift:168,GetRewardListResult:236,GameCommTips:166,ShopItemsResult:304,HallGiftResult:164,GameTips:120,ShareInfoResult:516,ShareGetResult:518},Game:{NoLogin:1e3,Queued:1001,SendLzCard:1002,PlayerReady:1003,GameReady:1004,SendCard:1005,CallLord:1006,CallLordOver:1007,TurnCallLord:1008,TurnSendCard:1009,ContinueGame:1010,TurnGrabLord:1011,InvalidCardSender:1012,InvalidCardNum:1013,GameComplete:1014,InitOk:1015,GrabLord:1016,PlayerSendCard:1017,PlayerNotSend:1018,PlayerShowCard:1019,InvalidCardType:1020,TableTimesUpdate:1021,RequestReady:1023,CoinsNoMatchRoom:1027,PlayerDelegated:1028,PlayerCancelDelegate:1029,UpdateSuccess:2e3,UpdateFailed:2001,UpdateUnknownErr:2002,SayToTableInfo:3e3,ExchangeGoldToCoinOK:4e3,ExchangeGoldToCoinERROR:4001,RechargeOk:4002,SendCoinsFree:1024,TableUserExit:1025,LoginContestSignUpResult:102,ContestSignUpResult:104,CancelContestSignUpResult:106,ContestStart:108,GiveUpContestResult:110,ContestOut:112,ContestEnd:114,ContestFormalEnd:116,SendContestReward:118,SendContestWeekReward:120,InvalidGameModel:122,ChangeSkinResult:124,BuySkinResult:126,LuckyDrawViewResult:132,LuckyDrawResult:134,LuckyDrawRecordResult:136,LoginRewardViewResult:138,LoginRewardResult:140,GameDayRankResult:142,GameThisWeekRankResult:144,GameLastWeekRankResult:146,ActivityBarResult:148,GiftBagResult:150,OpenRechargeTipResult:152,OpenReliefTipResult:156,PokerTask:1022,LuckyDrawListResult:158,LuckyDrawNewResult:160,ExitGameTextResult:162,CanDoubleResult:1030,GetGameFieldInfoResult:202,GetFieldDetailInfoResult:204,GetMyFieldInfoResult:206,SignupFieldResult:208,UnSignupFieldResult:210,GetMatchItemsResult:218,MatchStartResult:212,MatchEliminateResult:214,MatchResult:216,MatchOrderChanged:220,MatchStartSoon:222,MatchEndBag:223,Firstgetlequan:224,Redpacketprocess:225,Entergamerestnum:227,RefreshPlayerData:430,GetPlayerMatchesInfo:226,Complaint:232,EmoticonData:236,PokerAnalysis:100,ReconnectionData:330},Props:{GetPersonalItems:102,GetPublicItems:104,GetPropsGift:106,PlunderGiftResult:108,PropItems:110,BuySingleItemsResult:112}}};t.exports=n,cc._RF.pop()},{}],RoomLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"094768yJc5Ff7oZBOq48GCP","RoomLayerControl");var u=e("config"),n=e("EventHelper"),h=e("PlayerDetailModel"),s=e("GameNetMgr"),a=e("Events"),l=e("dialogManager");cc.Class({extends:cc.Component,properties:{room1:{default:null,type:cc.Node},room2:{default:null,type:cc.Node},room3:{default:null,type:cc.Node},room4:{default:null,type:cc.Node}},start:function(){u.IsContinueGaming=0,this.roomModelId_=u.curRoomModelId,this.initRoomInfo(),n.AddCustomEvent(u.MyNode,a.Network.LoginRoomResult,this.onLoginRoomResult,this),n.AddCustomEvent(u.MyNode,"OpenRechargeTipResult",this.onOpenRechargeTipResult,this)},onLoginRoomResult:function(e){console.log("登陆房间回掉---");var t=e.getUserData();this.handleLoginRoomResult(t)},initRoomInfo:function(){console.log(">>>initRoomInfo");for(var e=[],t=0;t<4;t++){var o="p_room_"+(t+1),n="Canvas/happyroom/rooms/"+o+"/lab_peopleNum",a="Canvas/happyroom/rooms/"+o+"/lab_coins",r={peopleNum:cc.find(n).getComponent(cc.Label),coins:cc.find(a).getComponent(cc.Label)};e.push(r)}var i=[],s=h.getRoom();for(var l in s){var c=s[l];c.modelId==u.curRoomModelId&&(i=c.rooms)}this.roomType_=i,console.log(i);for(t=0;t<i.length;t++){e[t].peopleNum.string=""+this.pepleNumAdd(i[t].onlineNum);var d=i[t].enter.replace("乐豆","");e[t].coins.string=d}},room1Click:function(){console.log("room1Click"),this.selectedIdx_=0,this.roomMinScore=this.roomType_[0].enterLimit,this.trialInfo=this.roomType_[0].trial,this.gotoRoom(this.roomType_[0].roomId)},room2Click:function(){console.log("room2Click"),this.selectedIdx_=1,this.roomMinScore=this.roomType_[1].enterLimit,this.trialInfo=this.roomType_[1].trial,this.gotoRoom(this.roomType_[1].roomId)},room3Click:function(){console.log("room3Click"),this.selectedIdx_=2,this.roomMinScore=this.roomType_[2].enterLimit,this.trialInfo=this.roomType_[2].trial,this.gotoRoom(this.roomType_[2].roomId)},room4Click:function(){console.log("room4Click"),this.selectedIdx_=3,this.roomMinScore=this.roomType_[3].enterLimit,this.trialInfo=this.roomType_[3].trial,this.gotoRoom(this.roomType_[3].roomId)},quickStartClick:function(){console.log("quickStartClick"),this.onWantGotoRoom()},pepleNumAdd:function(e){var t=e;"string"==typeof e&&(t=parseInt(e));return t<=60?t+60:60<t&&t<=200?t+200:200<t&&t<=500?t+1e3:t+3e3},gotoRoom:function(e){var t=h.getCoin(),o={};if(o.roomId=e,o.isContinue=0,console.log("coins:"+t),e==u.RoomConfig[1].roomId||e==u.RoomConfig[7].roomId)t>=this.roomMinScore?(this.roomModelId_==u.ModelId.lazarillo&&(o.modelId=u.ModelId.lazarillo),s.sendRequest("Game","loginRoom",o)):(s.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框")),console.log("新手场");else if(t>=this.roomMinScore)this.roomModelId_==u.ModelId.lazarillo&&(o.modelId=u.ModelId.lazarillo),s.sendRequest("Game","loginRoom",o);else{console.log("弹出充值框");l.showCommonDialog("温馨提示","豆子不够是否去商城充值",function(){console.log("打开商城----")})}},handleLoginRoomResult:function(e){var t=this;h.setCoin(e.payload.data.coins);var o=e.payload;if(t.isGotoLazarillo_=!1,e.ok){var n={};if(n.baseCoins=o.data.baseCoins,n.rate=o.data.rate,n.limitCoins=o.data.limitCoins,n.rake=o.data.rake,n.roomId=o.data.roomId,n.rateMax=o.data.rateMax,n.enterLimit=o.data.enterLimit,n.emoticon=o.data.emoticon,n.emoticon_items=o.data.emoticon_items,n.advert=o.data.advert,o.data.modelId&&(n.modelId=o.data.modelId),n.buys=o.data.buys,n.givecoins=null,o.data.isContinue&&1==parseInt(o.data.isContinue)&&(n.isContinueGaming=!0),1002==n.roomId||1003==n.roomId||n.roomId,parseInt(o.data.modelId)==u.ModelId.contest)return void console("比赛场");var a=o.data.sendCoins,r=o.data.sendCoinsTimes,i=o.data.sendCoinsTimesToday;o.data.isSend;a&&0<a&&(n.givecoins={sended:a,totalTimes:r,curTimes:i},console.log("刷新用户乐豆乐券")),u.tableInfo=n,parseInt(o.data.modelId)==u.ModelId.lazarillo?console.log("进入癞子场"):(console.log("进入普通场"),this.preloadNextScene())}else e.noCoin?1==parseInt(e.payload.data.isSmall)?(console.log("乐豆不够去商城充值"),l.showCommonDialog("温馨提示","亲,您的豆子不够哦！",function(){console.log("打开商城")})):(console.log("亲,豆子太多啦,系统为您推送到合适的房间！"),l.showCommonDialog("温馨提示","亲,豆子太多啦,系统为您推送到合适的房间！",function(){console.log("去合适场次"),t.onWantGotoRoom()}),parseInt(o.data.modelId)==u.ModelId.lazarillo&&(t.isGotoLazarillo_=!0)):e.inGaming&&(o.data.modelId&&parseInt(o.data.modelId)!=u.ModelId.normal?o.data.modelId&&parseInt(o.data.modelId)!=u.ModelId.lazarillo?(console.log("您正在竞技场牌局中，请返回继续！"),l.showCommonDialog("温馨提示","您正在竞技场牌局中，请返回继续！",function(){console.log("短线重连比赛场")})):(console.log("您还在其他癞子场中对局哟，现在进去看看吧！"),l.showCommonDialog("温馨提示","您还在其他癞子场中对局哟，现在进去看看吧！",function(){console.log("短线重连赖子场")})):(console.log("您还在其他房间中对局哟，现在进去看看吧！"),l.showCommonDialog("温馨提示","您还在其他房间中对局哟，现在进去看看吧！",function(){console.log("短线重连普通场"),t.onWantContinueGaming()})))},onWantGotoRoom:function(){if(this.roomModelId_!=u.ModelId.contest){var e=h,t=e.getRoomByModel(this.roomModelId_),o=e.getCoin();if(console.log(t),this.roomModelId_==u.ModelId.lazarillo){for(var n=-1,a=0;a<t.length;a++){if((i=t[a]).modelId==u.ModelId.lazarillo&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){n=i.roomId;break}}if(n<=0)for(a=t.length-1;0<=a;a--){if((i=t[a]).modelId==u.ModelId.lazarillo&&o>=parseInt(i.enterLimit)){n=i.roomId;break}}if(0<n)return(r={}).roomId=n,r.isContinue=0,r.modelId=u.ModelId.lazarillo,console.log("钱多能去的最高赖子场---------------:"+i.roomId),void s.sendRequest("Game","loginRoom",r)}else{var r;for(n=-1,a=0;a<t.length;a++){if((i=t[a]).modelId==u.ModelId.normal&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){n=i.roomId;break}}if(n<=0)for(a=t.length-1;0<=a;a--){var i;if((i=t[a]).modelId==u.ModelId.normal&&o>=parseInt(i.enterLimit)){n=i.roomId;break}}if(console.log("普通场 roomId:"+n),0<n)return(r={}).roomId=n,r.isContinue=0,console.log("钱多能去的最高普通场---------------:"+i.roomId),void s.sendRequest("Game","loginRoom",r)}o>=this.roomType_[0].enterLimit||(s.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框"))}},onOpenRechargeTipResult:function(e){var t=e.getUserData();console.log(t);var o=t.data.trial_count,n="";o<3?(n="系统第"+(o+1)+"次赠送您1000乐豆。",l.showCommonDialog("领救济",n,function(){console.log("点击了领取救济按钮"),s.sendRequest("Game","openReliefTip",{})})):(n="今天乐豆已经领完了哦，明天在过来吧！",l.showCommonDialog("领救济",n))},preloadNextScene:function(){n.RemoveCustomEvent(u.MyNode,a.Network.LoginRoomResult,this.onLoginRoomResult,this),n.RemoveCustomEvent(u.MyNode,"OpenRechargeTipResult",this.onOpenRechargeTipResult,this),cc.director.preloadScene("GameScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("GameScene")})},onWantContinueGaming:function(){console.log("--进入上局未完的普通牌桌"),u.IsContinueGaming=1,this.preloadNextScene()},animShakeNode:function(){var e=cc.director.getScene();e.stopAllActions();var t=e.x,o=e.y,n=cc.delayTime(.2),a=cc.moveTo(.08,t-5,o-5),r=cc.moveTo(.08,t+5,o+5),i=cc.moveTo(.08,t-5,o+5),s=cc.moveTo(.08,t+5,o-5),l=cc.moveTo(.08,t-3,o-3),c=cc.moveTo(.08,t,o);e.runAction(cc.sequence(n,a,r,i,s,l,c))}}),cc._RF.pop()},{EventHelper:"EventHelper",Events:"Events",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],aboutControl:[function(e,t,o){"use strict";cc._RF.push(t,"cff8dsADs1O87bsG851NEGA","aboutControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],blinkAlarmControl:[function(e,t,o){"use strict";cc._RF.push(t,"1104axk1NtBda0XlAkGGWdL","blinkAlarmControl"),cc.Class({extends:cc.Component,properties:{blinkNode:{default:null,type:cc.Sprite}},start:function(){var e=cc.blink(1,3),t=cc.repeatForever(e);this.blinkNode.node.runAction(t)},show:function(e){},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],chatBoxControl:[function(e,t,o){"use strict";cc._RF.push(t,"e7857uEaN1AV5ZXYlbc5zrw","chatBoxControl"),cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Label}},start:function(){},show:function(e){this.content.string=e;var t=this,o=cc.callFunc(function(){t.node.destroy()}),n=cc.delayTime(2);this.node.runAction(cc.sequence(n,o))}}),cc._RF.pop()},{}],chatControl:[function(e,t,o){"use strict";cc._RF.push(t,"a70f7oD34NOergX7blpkOoJ","chatControl");var n=e("config"),a=e("chatItemControl");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},chatItem:{default:null,type:cc.Prefab}},start:function(){for(var e=0;e<n.chatContent.length;e++){var t=cc.instantiate(this.chatItem);t.parent=this.content,t.getComponent(a).show(n.chatContent[e],e+1,this)}},show:function(e){this.click=e},close:function(){console.log("chat close"),this.click&&this.click(),this.node.destroy()}}),cc._RF.pop()},{chatItemControl:"chatItemControl",config:"config"}],chatItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"b3645qoxnlJU5gaqwi6VMyZ","chatItemControl");var n=e("config"),a=e("GameNetMgr");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Label},index:0},start:function(){},show:function(e,t,o){this.index=t,this.content.string=e,this.parentNode=o},itemClick:function(){if(this.index){console.log("index:"+this.index);var e=this.index,t={id:1,word:n.chatContent[e-1]};a.sendRequest("Game","sayToTable",t)}this.parentNode&&this.parentNode.close()}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",config:"config"}],chutianControl:[function(e,t,o){"use strict";cc._RF.push(t,"84277V60kNMpIEv3/HX/A31","chutianControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(2);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],commonControl:[function(e,t,o){"use strict";cc._RF.push(t,"b2e3ekBAMRH14LrzU4SYSoz","commonControl"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_cancel:{default:null,type:cc.Node},btn_enter:{default:null,type:cc.Node}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,n=e.arg3,a=e.arg4;this.title.string=t,this.content.string=o,a||(this.btn_cancel.active=!1,this.btn_enter.x=0),this.enterClick=n,this.cancelClick=a},closeClick:function(){console.log("close click"),this.node.destroy()},btnCancelClick:function(){console.log("btn1 click"),this.cancelClick&&this.cancelClick(),this.node.destroy()},btnEnterClick:function(){console.log("btn2 click"),this.enterClick&&this.enterClick(),this.node.destroy()}}),cc._RF.pop()},{}],config:[function(e,t,o){"use strict";cc._RF.push(t,"51232MuRg1Etoh6eMoOYPIJ","config");var n={MyNode:null,temppassword:"",OpenUDIDEncryptToken:"!_Tvr%^98071e~int5lmUy",wxShareInfo:"key1=value1&key2=value2",playGameId:0,playGameMsg:"",IsContinueGaming:0,RoomId:0,tableInfo:null,curRoomModelId:0,ModelId:{normal:0,contest:3,lazarillo:2},CallLordTimeout:15,GrabLordTimeout:15,SendCardTimeout:25,CheckCardTimeout:25,AddRatioTime:3.5,hintType:{callLoad:1,callLoadNo:2,grabLoad:3,grabLoadNo:4,dont:5,double:6,doubleNo:7},opratType:{callLoad:1,grabLoad:2,mustOutCard:3},pokerCardType:{spade:4,hearts:3,redslice:1,blackberry:2},ghostCardType:{smallG:5,bigG:6},arrayDown:function(e,t){return t-e},arrayUp:function(e,t){return e-t},arraySub:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]);return n},arraySub2:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]),n.push(o[a]);return n},arraySub3:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]),n.push(o[a]),n.push(o[a]);return n},seatPos:{center:{pokerScale:1,disBetween:77,positionY:250},left:{pokerScale:.38,disBetween:27,positionY:860},right:{pokerScale:.38,disBetween:27,positionY:860}},CardType:{Single:1,Pair:2,ThreeOfKind:3,ThreeOfKindPlusOne:4,ThreeOfKindPlusPair:5,Straight:6,StraightDouble:7,StraightThree:8,StraightThreePlusSingle:9,StraightThreePlusPair:10,SoftBomb:87,Bomb:88,LazarilloBomb:89,DoubleKing:99,FourPlusOne:11,FourPlusTwo:12},gameState:{ST_GAME_PREPARE:0,ST_GAME_READY:1,ST_GAME_START:2,ST_GAME_SendCard:3,ST_GAME_CallLord:4,ST_GAME_GrabLord:5,ST_GAME_CallLordOver:6,ST_GAME_BALANCE:7,ST_GAME_WAIT_NEXTROUND:8},wxInfo:{nickName:"",gender:1,avatarUrl:""},UpdateWxInfo:function(e){n.wxInfo.nickName=e.nickName,n.wxInfo.gender=e.gender,n.wxInfo.avatarUrl=e.avatarUrl},GlobalRouter:{director:"https://ddzprotocal.51864.com/clientConfig/host.php",statistics:"http://applog.51864.com/index.php",host:null,port:null,versionUrl:null,downloadUrl:null,filepath:null,resversion:null,silenceVerUrl:null,silenceFileUrl:null,configtable:null},GlobalRouterUpdate:function(e){n.GlobalRouter.host=e.data.host,n.GlobalRouter.port=e.data.port,n.GlobalRouter.versionUrl=e.data.update.versionUrl,n.GlobalRouter.downloadUrl=e.data.update.downloadUrl,n.GlobalRouter.resversion=e.data.update.resversion},RoomConfig:{1:{name:"新手场",umengEvent:"novice_room",pot:5,min:1e3,max:8e4,texture:"room_1.png",roomId:1e3,roomNameTexture:"p_novice_bar.png"},2:{name:"初级场",umengEvent:"primary_room",pot:10,min:2e3,max:2e5,texture:"room_2.png",roomId:1001,roomNameTexture:"p_primary_bar.png"},3:{name:"中级场",umengEvent:"intermediate_room",pot:10,min:2e3,max:2e5,texture:"room_3.png",roomId:1002,roomNameTexture:"p_intermediate_bar.png"},4:{name:"高级场",umengEvent:"senior_room",pot:10,min:2e3,max:2e5,texture:"room_4.png",roomId:1003,roomNameTexture:"p_senior_bar.png"},5:{name:"竞技场",umengEvent:"contest_room",pot:10,min:5e3,max:5e4,texture:"room_JJC.png",roomId:1004,roomNameTexture:"p_primary_arena_bar.png"},6:{name:"无限场",umengEvent:"advanced_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1006,roomNameTexture:"p_advanced_bar.png"},7:{name:"新手场",umengEvent:"l_novice_room",pot:50,min:1e4,max:1e6,texture:"room_1.png",roomId:1007,roomNameTexture:"p_novice_bar.png"},8:{name:"初级场",umengEvent:"l_primary_room",pot:50,min:1e4,max:1e6,texture:"room_2.png",roomId:1008,roomNameTexture:"p_primary_bar.png"},9:{name:"中级场",umengEvent:"l_intermediate_room",pot:50,min:1e4,max:1e6,texture:"room_3.png",roomId:1009,roomNameTexture:"p_intermediate_bar.png"},10:{name:"高级场",umengEvent:"l_senior_room",pot:50,min:1e4,max:1e6,texture:"room_4.png",roomId:1010,roomNameTexture:"p_senior_bar.png"},11:{name:"无限场",umengEvent:"l_noRate_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1011,roomNameTexture:"p_senior_bar.png"}},tableName:{1000:"新手场 底分10",1001:"初级场 底分60",1002:"中级场 底分200",1003:"高级场 底分500",1007:"新手场 底分40",1008:"初级场 底分150",1009:"中级场 底分400"},chatContent:["大家好,很高兴见到各位","快点啊,等到花儿都谢了","你的牌打的也太好了","不要吵了不要吵了，专心玩游戏吧","怎么又断线,网络怎么这么差啊","不好意思,我要离开一会","再见了,我会想念大家的"],parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e){if(!(e&&4<e.length))return e;var t=e.substring(0,4);return t+="..."},getPlayerSeatNum:function(e,t){var o=1;return 0==e?1==t?o=2:2==t&&(o=0):1==e?0==t?o=0:2==t&&(o=2):2==e&&(0==t?o=2:1==t&&(o=0)),o}};t.exports=n,cc._RF.pop()},{}],dialogManager:[function(e,t,o){"use strict";cc._RF.push(t,"4b867ajR6hL6KpFRRVm3Qvl","dialogManager");var r=e("commonControl"),n=e("CancelDelegateController"),a=e("opratShowCardControl"),i=e("opratDoubleControl");cc.Class({extends:cc.Component,statics:{showDialog:function(e,n,a){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);return cc.director.getScene().addChild(o,9999),n?(o.getComponent(n).show(a),o.getComponent(n)):void 0}console.log(e)})},showCommonDialog:function(e,t,o,n){var a={};a.arg1=e,a.arg2=t,a.arg3=o,a.arg4=n,this.showDialog("prefab/commonDialog",r,a)},showBagDialog:function(){this.showDialog("prefab/bagDialog")},showEmailDialog:function(){this.showDialog("prefab/emailDialog")},showExchangeDialog:function(){this.showDialog("prefab/exchangeDialog")},showFanKuiDialog:function(){this.showDialog("prefab/fankuiDialog")},showAboutDialog:function(){this.showDialog("prefab/aboutDialog")},showGameResultDialog:function(e){e?this.showDialog("prefab/gameResultWin"):this.showDialog("prefab/gameResultLose")},showSetDialog:function(){this.showDialog("prefab/setDialog")},showTaskDialog:function(){this.showDialog("prefab/taskDialog")},showJpqNode:function(){this.showDialog("prefab/jpqNode")},showShareDialog:function(){this.showDialog("prefab/shareDialog")},showShopDialog:function(){this.showDialog("prefab/shopDialog")},showChatDialog:function(){this.showDialog("prefab/chatDialog")},showOpratCallLord:function(){this.showDialog("prefab/opratCallLord")},showOpratOutCard:function(){this.showDialog("prefab/opratOutCard")},showOpratDouble:function(e,t){var o={};o.arg1=e,o.arg2=t,this.showDialog("prefab/opratDouble",i,o)},showOpratShowCard:function(e){this.showDialog("prefab/opratShowCard",a,e)},showCancelDelegate:function(e){this.showDialog("prefab/CancelDelegate",n,e)},showAnimChunTian:function(){this.showDialog("animatiom/anim_chuntian")},showAnimFeiJi:function(){this.showDialog("animatiom/anim_feiji")},showAnimHuoJian:function(){this.showDialog("animatiom/anim_huojian")},showAnimZhaDan:function(){this.showDialog("animatiom/anim_zhadan")}}});cc._RF.pop()},{CancelDelegateController:"CancelDelegateController",commonControl:"commonControl",opratDoubleControl:"opratDoubleControl",opratShowCardControl:"opratShowCardControl"}],emailControl:[function(e,t,o){"use strict";cc._RF.push(t,"59af9SWmdhEaaOvGCS7ZmBO","emailControl");var i=e("emailItemControl"),n=e("GameNetMgr"),a=e("EventHelper"),r=e("config"),s=e("dialogManager");e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},emailItem:{default:null,type:cc.Prefab},label_noEmail:{default:null,type:cc.Label}},start:function(){var e=this;this.label_noEmail.node.active=!1,n.sendRequest("System","Mail"),a.AddCustomEvent(r.MyNode,"MailResult",e.onMailResult,e),a.AddCustomEvent(r.MyNode,"ReadMailResult",e.onReadMailResult,e),a.AddCustomEvent(r.MyNode,"GetMailAttachmentResult",e.onGetMailAttachmentResult,e)},closeClick:function(){console.log("close click");var e=this;a.RemoveCustomEvent(r.MyNode,"MailResult",e.onMailResult,e),a.RemoveCustomEvent(r.MyNode,"ReadMailResult",e.onReadMailResult,e),a.RemoveCustomEvent(r.MyNode,"GetMailAttachmentResult",e.onGetMailAttachmentResult,e),this.node.destroy()},leftClick:function(){},rightClick:function(){},onMailResult:function(e){var t=e.getUserData();console.log(t);var o=t.data.list;0==o.length&&(this.label_noEmail.node.active=!0);for(var n=0;n<o.length;n++){var a=o[n],r=cc.instantiate(this.emailItem);r.parent=this.content,r.getComponent(i).init(a,a.id,a.subject,a.content,a.create_time)}},onReadMailResult:function(e){var t=e.getUserData();console.log(t)},onGetMailAttachmentResult:function(e){var t=e.getUserData();console.log(t);var o="恭喜您";if(t.data.coins&&(o=o+"获得乐豆"+t.data.coins),t.data.coupon&&(o=o+"获得乐劵"+t.data.coupon),t.data.propItems)for(k in t.data.propItems){var n=t.data.propItems[k];o=o+"获得道具"+n.name+n.num+"个"}s.showCommonDialog("温馨提示",o)}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager",emailItemControl:"emailItemControl"}],emailItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"a70ae9sWxROLoEclQxr/OAA","emailItemControl");var n=e("GameNetMgr");cc.Class({extends:cc.Component,properties:{read:{default:null,type:cc.Node},unRead:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labTime:{default:null,type:cc.Label}},onLoad:function(){this.read.active=!1,this.unRead.active=!1,this.info=0,this.id=0},init:function(e,t,o,n,a){this.info=e,this.id=t,this.labTitle.string=o,this.labContent.string=n,this.labTime.string=a,1==e.is_read?this.read.active=!0:this.unRead.active=!0},getClick:function(){console.log("点击了邮件"+this.id),n.sendRequest("System","ReadMail",this.id),n.sendRequest("System","GetMailAttachment",this.id),this.node.destroy()}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr"}],exchangeControl:[function(e,t,o){"use strict";cc._RF.push(t,"78080u08PZNb6W8rE8TrOth","exchangeControl"),cc.Class({extends:cc.Component,properties:{lequanNum:{default:null,type:cc.Label}},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()},recordClick:function(){console.log("record click")}}),cc._RF.pop()},{}],exchangeRecordControl:[function(e,t,o){"use strict";cc._RF.push(t,"80f25rAokFAa4ngb857PFia","exchangeRecordControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],fankuiControl:[function(e,t,o){"use strict";cc._RF.push(t,"1a81b2s2IlExZ02fjc4CfR3","fankuiControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],feijiControl:[function(e,t,o){"use strict";cc._RF.push(t,"87cec9P9q9EW6nMNLltgTLN","feijiControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],gameResultControl:[function(e,t,o){"use strict";cc._RF.push(t,"d79724yjfxDdbgN/3Ee9zWb","gameResultControl");var s=e("resoultInfoItemControl"),n=e("dialogManager");cc.Class({extends:cc.Component,properties:{guang:{default:null,type:cc.Sprite},resoultInfoItem:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node}},onLoad:function(){var e=cc.director.getWinSize().width;console.log("width:"+e),this.node.width=e},start:function(){var e=cc.rotateBy(8,360),t=cc.repeatForever(e);this.guang.node.runAction(t)},show:function(e,t,o,n,a){this.click1=t,this.click2=o,this.backHallScene=a;for(var r=0;r<3;r++){var i=cc.instantiate(this.resoultInfoItem);i.parent=this.content,i.getComponent(s).init(e[r].isdizhu,e[r].nickname,e[r].difen,e[r].beishu,e[r].ledou,n==r,e[r].coin,e[r].rateMax)}},btn1Click:function(){console.log("btn1Click"),this.click1&&this.click1(),this.node&&this.node.destroy()},btn2Click:function(){console.log("btn2Click"),this.click2&&this.click2(),this.node&&this.node.destroy()},close:function(){var e=this;n.showCommonDialog("提示","是否返回大厅！",function(){e.backHallScene&&(e.backHallScene(),e.node.destroy())},function(){})}}),cc._RF.pop()},{dialogManager:"dialogManager",resoultInfoItemControl:"resoultInfoItemControl"}],helper:[function(e,t,o){"use strict";cc._RF.push(t,"71dbfNSQKRBXoIb0R49gpQl","helper");var n={copyObj:function(e){var t=Object.prototype.toString;if("[object Array]"==t.call(e)){var o=[];for(var n in e)o.push(e[n]);return o}if("[object Object]"==t.call(e)){o={};for(var n in e)o[n]=e[n];return o}return e}};t.exports=n,cc._RF.pop()},{}],huojianControl:[function(e,t,o){"use strict";cc._RF.push(t,"5d964Tg8XVFl5JoYVvxDv5h","huojianControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],jpqNodeControl:[function(e,t,o){"use strict";cc._RF.push(t,"0bbd6jh72JC1JM15/Q6pmQW","jpqNodeControl");var i=e("PlayerDetailModel");e("config"),e("CardUtil"),e("PopCardUtil");cc.Class({extends:cc.Component,properties:{},start:function(){this.labNodes=[];for(var e=17;3<=e;e--){var t="lab_"+e,o=cc.find("jpqNode/"+t).getComponent(cc.Label);this.labNodes.push(o)}},show:function(e){console.log(e);var t=e;if(e){var o=[],n=i.getJpqData();if(n&&""!=n)for(var a=1;a<n.length;a+=2)o.push(n[a]);for(a=0;a<o.length;a++){var r=parseInt(o[a])-parseInt(t[t.length-1-a]);r<0&&(r=0),this.labNodes[a].string=""+r,0==r&&(this.labNodes[a].node.color=new cc.Color(113,113,113))}}},close:function(){console.log("close click"),this.node&&this.node.destroy()}}),cc._RF.pop()},{CardUtil:"CardUtil",PlayerDetailModel:"PlayerDetailModel",PopCardUtil:"PopCardUtil",config:"config"}],loadingControl:[function(e,t,o){"use strict";cc._RF.push(t,"c3e81EziVFOC6wdlw2myYgS","loadingControl"),cc.Class({extends:cc.Component,properties:{loading:{default:null,type:cc.Sprite}},start:function(){var e=cc.rotateBy(3,360),t=cc.repeatForever(e);this.loading.node.runAction(t)},show:function(e){},close:function(){this.node&&this.node.destroy()}}),cc._RF.pop()},{}],md5:[function(e,t,o){"use strict";cc._RF.push(t,"99de3n6y05GIL/WnrCxpcEX","md5");var u={};u.hex_md5=function(e){return u.binl2hex(u.core_md5(u.str2binl(e),8*e.length))},u.b64_md5=function(e){return u.binl2b64(u.core_md5(u.str2binl(e),8*e.length))},u.str_md5=function(e){return u.binl2str(u.core_md5(u.str2binl(e),8*e.length))},u.hex_hmac_md5=function(e,t){return u.binl2hex(u.core_hmac_md5(e,t))},u.b64_hmac_md5=function(e,t){return u.binl2b64(u.core_hmac_md5(e,t))},u.str_hmac_md5=function(e,t){return u.binl2str(u.core_hmac_md5(e,t))},u.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==u.hex_md5("abc")},u.core_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,n=-271733879,a=-1732584194,r=271733878,i=0;i<e.length;i+=16){var s=o,l=n,c=a,d=r;o=u.md5_ff(o,n,a,r,e[i+0],7,-680876936),r=u.md5_ff(r,o,n,a,e[i+1],12,-389564586),a=u.md5_ff(a,r,o,n,e[i+2],17,606105819),n=u.md5_ff(n,a,r,o,e[i+3],22,-1044525330),o=u.md5_ff(o,n,a,r,e[i+4],7,-176418897),r=u.md5_ff(r,o,n,a,e[i+5],12,1200080426),a=u.md5_ff(a,r,o,n,e[i+6],17,-1473231341),n=u.md5_ff(n,a,r,o,e[i+7],22,-45705983),o=u.md5_ff(o,n,a,r,e[i+8],7,1770035416),r=u.md5_ff(r,o,n,a,e[i+9],12,-1958414417),a=u.md5_ff(a,r,o,n,e[i+10],17,-42063),n=u.md5_ff(n,a,r,o,e[i+11],22,-1990404162),o=u.md5_ff(o,n,a,r,e[i+12],7,1804603682),r=u.md5_ff(r,o,n,a,e[i+13],12,-40341101),a=u.md5_ff(a,r,o,n,e[i+14],17,-1502002290),n=u.md5_ff(n,a,r,o,e[i+15],22,1236535329),o=u.md5_gg(o,n,a,r,e[i+1],5,-165796510),r=u.md5_gg(r,o,n,a,e[i+6],9,-1069501632),a=u.md5_gg(a,r,o,n,e[i+11],14,643717713),n=u.md5_gg(n,a,r,o,e[i+0],20,-373897302),o=u.md5_gg(o,n,a,r,e[i+5],5,-701558691),r=u.md5_gg(r,o,n,a,e[i+10],9,38016083),a=u.md5_gg(a,r,o,n,e[i+15],14,-660478335),n=u.md5_gg(n,a,r,o,e[i+4],20,-405537848),o=u.md5_gg(o,n,a,r,e[i+9],5,568446438),r=u.md5_gg(r,o,n,a,e[i+14],9,-1019803690),a=u.md5_gg(a,r,o,n,e[i+3],14,-187363961),n=u.md5_gg(n,a,r,o,e[i+8],20,1163531501),o=u.md5_gg(o,n,a,r,e[i+13],5,-1444681467),r=u.md5_gg(r,o,n,a,e[i+2],9,-51403784),a=u.md5_gg(a,r,o,n,e[i+7],14,1735328473),n=u.md5_gg(n,a,r,o,e[i+12],20,-1926607734),o=u.md5_hh(o,n,a,r,e[i+5],4,-378558),r=u.md5_hh(r,o,n,a,e[i+8],11,-2022574463),a=u.md5_hh(a,r,o,n,e[i+11],16,1839030562),n=u.md5_hh(n,a,r,o,e[i+14],23,-35309556),o=u.md5_hh(o,n,a,r,e[i+1],4,-1530992060),r=u.md5_hh(r,o,n,a,e[i+4],11,1272893353),a=u.md5_hh(a,r,o,n,e[i+7],16,-155497632),n=u.md5_hh(n,a,r,o,e[i+10],23,-1094730640),o=u.md5_hh(o,n,a,r,e[i+13],4,681279174),r=u.md5_hh(r,o,n,a,e[i+0],11,-358537222),a=u.md5_hh(a,r,o,n,e[i+3],16,-722521979),n=u.md5_hh(n,a,r,o,e[i+6],23,76029189),o=u.md5_hh(o,n,a,r,e[i+9],4,-640364487),r=u.md5_hh(r,o,n,a,e[i+12],11,-421815835),a=u.md5_hh(a,r,o,n,e[i+15],16,530742520),n=u.md5_hh(n,a,r,o,e[i+2],23,-995338651),o=u.md5_ii(o,n,a,r,e[i+0],6,-198630844),r=u.md5_ii(r,o,n,a,e[i+7],10,1126891415),a=u.md5_ii(a,r,o,n,e[i+14],15,-1416354905),n=u.md5_ii(n,a,r,o,e[i+5],21,-57434055),o=u.md5_ii(o,n,a,r,e[i+12],6,1700485571),r=u.md5_ii(r,o,n,a,e[i+3],10,-1894986606),a=u.md5_ii(a,r,o,n,e[i+10],15,-1051523),n=u.md5_ii(n,a,r,o,e[i+1],21,-2054922799),o=u.md5_ii(o,n,a,r,e[i+8],6,1873313359),r=u.md5_ii(r,o,n,a,e[i+15],10,-30611744),a=u.md5_ii(a,r,o,n,e[i+6],15,-1560198380),n=u.md5_ii(n,a,r,o,e[i+13],21,1309151649),o=u.md5_ii(o,n,a,r,e[i+4],6,-145523070),r=u.md5_ii(r,o,n,a,e[i+11],10,-1120210379),a=u.md5_ii(a,r,o,n,e[i+2],15,718787259),n=u.md5_ii(n,a,r,o,e[i+9],21,-343485551),o=u.safe_add(o,s),n=u.safe_add(n,l),a=u.safe_add(a,c),r=u.safe_add(r,d)}return Array(o,n,a,r)},u.md5_cmn=function(e,t,o,n,a,r){return u.safe_add(u.bit_rol(u.safe_add(u.safe_add(t,e),u.safe_add(n,r)),a),o)},u.md5_ff=function(e,t,o,n,a,r,i){return u.md5_cmn(t&o|~t&n,e,t,a,r,i)},u.md5_gg=function(e,t,o,n,a,r,i){return u.md5_cmn(t&n|o&~n,e,t,a,r,i)},u.md5_hh=function(e,t,o,n,a,r,i){return u.md5_cmn(t^o^n,e,t,a,r,i)},u.md5_ii=function(e,t,o,n,a,r,i){return u.md5_cmn(o^(t|~n),e,t,a,r,i)},u.core_hmac_md5=function(e,t){var o=u.str2binl(e);16<o.length&&(o=u.core_md5(o,8*e.length));for(var n=Array(16),a=Array(16),r=0;r<16;r++)n[r]=909522486^o[r],a[r]=1549556828^o[r];var i=u.core_md5(n.concat(u.str2binl(t)),512+8*t.length);return u.core_md5(a.concat(i),640)},u.safe_add=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},u.bit_rol=function(e,t){return e<<t|e>>>32-t},u.str2binl=function(e){for(var t=Array(),o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t},u.binl2str=function(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t},u.binl2hex=function(e){for(var t="0123456789abcdef",o="",n=0;n<4*e.length;n++)o+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return o},u.binl2b64=function(e){for(var t="",o=0;o<4*e.length;o+=3)for(var n=(e[o>>2]>>o%4*8&255)<<16|(e[o+1>>2]>>(o+1)%4*8&255)<<8|e[o+2>>2]>>(o+2)%4*8&255,a=0;a<4;a++)8*o+6*a>32*e.length?t+="":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-a)&63);return t},t.exports=u,cc._RF.pop()},{}],opratCallLordControl:[function(e,t,o){"use strict";cc._RF.push(t,"f7e34gIEi5GOL4xY36+I5ES","opratCallLordControl");var i=e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},btnNode1:{default:null,type:cc.Node},btnNode2:{default:null,type:cc.Node},btnSp1:{default:null,type:cc.Sprite},btnSp2:{default:null,type:cc.Sprite},clock:{default:null,type:cc.Node},tishi:{default:null,type:cc.Sprite},timeCount:30},onLoad:function(){this.tishi.enabled=!1},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,n){this.timeCount=e,this.btn1Func=t,this.btn2Func=o;var a=this;this.type=n;var r="";e<10&&(r=""),this.timeTxt.string=r+e,n==i.opratType.callLoad||(n==i.opratType.grabLoad?(cc.loader.loadRes("operation_btn/p_qiangyes",cc.SpriteFrame,function(e,t){a.btnSp1.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("operation_btn/p_qiangno",cc.SpriteFrame,function(e,t){a.btnSp2.getComponent(cc.Sprite).spriteFrame=t})):n==i.opratType.mustOutCard&&(this.btnNode1.x=0,this.btnNode1.active=!1,this.btnNode2.x=67,this.clock.x=-163,this.timeTxt.node.x=-161,cc.loader.loadRes("operation_btn/p_cardout",cc.SpriteFrame,function(e,t){a.btnSp2.getComponent(cc.Sprite).spriteFrame=t})))},close:function(){this.node&&this.node.destroy()},btn1Click:function(){console.log("btn1Click"),this.btn1Func&&this.btn1Func(),this.node.destroy()},btn2Click:function(){if(console.log("btn2Click"),this.btn2Func&&this.btn2Func(),this.type==i.opratType.mustOutCard){if(this.btn2Func){var e=this.btn2Func();0==e?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==e?this.showTips("showTips/p_tips_seletcedCardTypeError"):this.tishi.enabled=!1}}else this.node.destroy()},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))},chupaiClick:function(e){console.log("出牌");var t=0;this.chupaiFunc&&(t=this.chupaiFunc()),this.tishi.enabled=!1,e&&(t=e),0==t?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==t&&this.showTips("showTips/p_tips_seletcedCardTypeError")},showTips:function(e){this.tishi.node.stopAllActions();var o=this;this.tishi.enabled=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.tishi.getComponent(cc.Sprite).spriteFrame=t});var t=cc.delayTime(2),n=cc.callFunc(function(){o.tishi.enabled=!1});this.tishi.node.runAction(cc.sequence(t,n))}}),cc._RF.pop()},{config:"config"}],opratDoubleControl:[function(e,t,o){"use strict";cc._RF.push(t,"c56d3EULtVHAqVq6xWd2VvQ","opratDoubleControl");e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:3},onLoad:function(){this.timeCount=3,this.timeTxt.string=""+this.timeCount},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.click1=e.arg1,this.click2=e.arg2},close:function(){this.node&&this.node.destroy()},btnClick1:function(){console.log("点击了加倍按钮"),this.click1&&this.click1(),this.node.destroy()},btnClick2:function(){console.log("点击了不加倍按钮"),this.click2&&this.click2(),this.node.destroy()},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))}}),cc._RF.pop()},{config:"config"}],opratOutCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"11981lKVm5PCYFV3U8YkCcn","opratOutCardControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},buchuBtn:{default:null,type:cc.Node},tishiBtn:{default:null,type:cc.Node},chupaiBtn:{default:null,type:cc.Node},clock:{default:null,type:cc.Node},tishi:{default:null,type:cc.Sprite},timeCount:30},onLoad:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.tishi.enabled=!1,this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,n){this.timeCount=e,this.buchuFunc=t,this.tishiFunc=o,this.chupaiFunc=n;this.timeTxt.string=""+e},close:function(){this.node&&this.node.destroy()},buchuClick:function(){console.log("不出"),this.buchuFunc&&this.buchuFunc(),this.node.destroy()},tishiClick:function(){console.log("提示"),this.tishiFunc&&this.tishiFunc()},chupaiClick:function(e){console.log(">>>出牌");var t=0;this.chupaiFunc&&(t=this.chupaiFunc(),console.log("typenum:"+t)),"number"==typeof e&&(t=e),console.log("typenum11111:"+t),0==t?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==t?this.showTips("showTips/p_tips_seletcedCardTypeError"):-2==t&&this.showTips("showTips/p_tips_noCard")},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))},showTips:function(e){var o=this;if(o.tishi){this.tishi.node.stopAllActions(),this.tishi.enabled=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.tishi.getComponent(cc.Sprite).spriteFrame=t});var t=cc.delayTime(2),n=cc.callFunc(function(){o.tishi.enabled=!1});this.tishi.node.runAction(cc.sequence(t,n))}}}),cc._RF.pop()},{}],opratShowCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"32b68GmBLZM66Mox1ff/d6j","opratShowCardControl");e("config");cc.Class({extends:cc.Component,properties:{spNum:{default:null,type:cc.Sprite}},start:function(){},show:function(e){this.click=e;var o=this;this.time=5,this.spTxt="operation_btn/p_add",this.schedule(function(){if(2<this.time){this.time-=1;var e=this.spTxt+this.time;cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.spNum.getComponent(cc.Sprite).spriteFrame=t})}else this.node.destroy()},.8,this.time,0)},close:function(){this.node&&this.node.destroy()},btnClick:function(){console.log("点击了明牌按钮"),this.click&&this.click(this.time),this.node.destroy()}}),cc._RF.pop()},{config:"config"}],resoultInfoItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"befceraMjdEGZQ+n9tC5pA+","resoultInfoItemControl");var l=e("config");cc.Class({extends:cc.Component,properties:{pDizhu:{default:null,type:cc.Sprite},labNickName:{default:null,type:cc.Label},labDifen:{default:null,type:cc.Label},labBeishu:{default:null,type:cc.Label},labLedou:{default:null,type:cc.Label},pInfoBtn:{default:null,type:cc.Sprite},pInfoTxt:{default:null,type:cc.Sprite}},onLoad:function(){this.pDizhu.enabled=!1,this.pInfoBtn.enabled=!1,this.pInfoTxt.enabled=!1},init:function(e,t,o,n,a,r,i,s){e&&(this.pDizhu.enabled=!0),r||(this.labNickName.node.color=new cc.Color(255,255,255),this.labDifen.node.color=new cc.Color(255,255,255),this.labBeishu.node.color=new cc.Color(255,255,255),this.labLedou.node.color=new cc.Color(255,255,255)),this.labNickName.string=l.parseString(t),this.labDifen.string=""+o,this.labBeishu.string=""+n,a=0<a?"+"+a:"- "+Math.abs(a),this.labLedou.string=""+a,this.fengdingpochan(e,n,a,o,s,r,i)},fengdingpochan:function(e,t,o,n,a,r,i){var s=parseInt(t),l=parseInt(o),c=parseInt(n),d=!1;if(a&&a<s&&r&&0<i){var u=!1,h=!1;if(0<l&&(u=!0),l<0){var p=s;a<s&&(p=a);var g=p*c;if(e&&(g*=2),Math.abs(l)<g)return}if(0<l){p=s;a<s&&(p=a);g=p*c;e&&(g*=2),l<g&&(h=!0),l<i&&(d=!0)}if(!d)return void this.fengding(u,h)}if(a&&s<=a&&r&&0<i){u=!1,h=!1;if(0<l&&(u=!0),0<l){p=s;a<s&&(p=a);g=p*c;if(e&&(g*=2),l<i&&(d=!0),l<g&&!d)return h=!0,void this.fengding(u,h)}}if(l<0){p=s;a<s&&(p=a);g=p*c;e&&(g*=2),g>Math.abs(l)&&0==i?this.pochan():g==math.abs(l)&&r&&0==i&&this.pochan()}},pochan:function(){console.log("破产了"),this.pInfoBtn.enabled=!0,this.pInfoTxt.enabled=!0,cc.loader.loadRes("gameResult/p_pochan",cc.SpriteFrame,function(e,t){self.pInfoBtn.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("gameResult/tip_pochan",cc.SpriteFrame,function(e,t){self.pInfoTxt.getComponent(cc.Sprite).spriteFrame=t})},fengding:function(e,t){var o=this,n="gameResult/tip_fengding";n=e?"gameResult/tip_fengding2":"gameResult/tip_fengding",t&&(n="gameResult/tip_fengding3"),console.log("封顶了："+n),this.pInfoBtn.enabled=!0,this.pInfoTxt.enabled=!0,cc.loader.loadRes("gameResult/p_fengding",cc.SpriteFrame,function(e,t){o.pInfoBtn.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.pInfoTxt.getComponent(cc.Sprite).spriteFrame=t})}}),cc._RF.pop()},{config:"config"}],setControl:[function(e,t,o){"use strict";cc._RF.push(t,"d16ccLCjY5O86/MTBSCS0tQ","setControl");var n=e("dialogManager");cc.Class({extends:cc.Component,properties:{imgMusic:{default:null,type:cc.Node},imgEffect:{default:null,type:cc.Node},musicSet:!1,effectSet:!1},start:function(){},musicClick:function(){var o=this;console.log("music click");var e="img_dialog/btn_off";this.musicSet?(this.musicSet=!1,e="img_dialog/btn_off"):(this.musicSet=!0,e="img_dialog/btn_on"),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgMusic.getComponent(cc.Sprite).spriteFrame=t})},effectClick:function(){var o=this;console.log("effect click");var e="img_dialog/btn_off";this.effectSet?(this.effectSet=!1,e="img_dialog/btn_off"):(this.effectSet=!0,e="img_dialog/btn_on"),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgEffect.getComponent(cc.Sprite).spriteFrame=t})},fankuiClick:function(){console.log("fankui click"),n.showFanKuiDialog()},aboutClick:function(){console.log("about click"),n.showAboutDialog()},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{dialogManager:"dialogManager"}],shareControl:[function(e,t,o){"use strict";cc._RF.push(t,"69186QOGcNP24M8wI7sbkLu","shareControl");var n=e("PlayerDetailModel"),a=e("dialogManager"),r=e("config"),i=e("GameNetMgr"),s=e("EventHelper");cc.Class({extends:cc.Component,properties:{btnNode_1:{default:null,type:cc.Button,opentype:"share"},btnNode_2:{default:null,type:cc.Button,opentype:"share"},btnNode_3:{default:null,type:cc.Button,opentype:"share"},btnNode_4:{default:null,type:cc.Button,opentype:"share"},btnNode_5:{default:null,type:cc.Button,opentype:"share"}},start:function(){i.sendRequest("System","ShareInfo"),s.AddCustomEvent(r.MyNode,"ShareInfoResult",this.onShareInfoResult,this),s.AddCustomEvent(r.MyNode,"ShareGetResult",this.onShareGetResult,this),this.pHeads=[],this.labCoins=[];for(var e=1;e<=5;e++){var t="head_"+e,o="label_"+e,n=this.node.getChildByName(t).getChildByName("mask").getChildByName("defult_head").getComponent(cc.Sprite),a=this.node.getChildByName(o).getComponent(cc.Label);this.pHeads.push(n),this.labCoins.push(a),n.enabled=!1}},closeClick:function(){console.log("close click"),this.node.destroy(),s.RemoveCustomEvent(r.MyNode,"ShareInfoResult",this.onShareInfoResult,this),s.RemoveCustomEvent(r.MyNode,"ShareGetResult",this.onShareGetResult,this)},btnClick:function(){cc.loader.loadRes("shareImg",function(e,t){wx.shareAppMessage({title:"小伙伴们帮帮忙，小手一点助我拿豆！",imageUrl:t.url,query:"key="+n.uid})})},getClick:function(){console.log("-------get"),i.sendRequest("System","ShareGet")},onShareInfoResult:function(e){var t=e.getUserData();console.log(t);for(var o=t.data.list,n=0;n<o.length;n++)o[n].img&&(this.pHeads[n].enabled=!0,this.setHeadUrl(o[n].img,this.pHeads[n])),o[n].award&&(0==o[n].award?this.labCoins[n].string=""+o[n].award_desc:this.labCoins[n].string="已领取")},onShareGetResult:function(e){var t=e.getUserData();console.log(t),a.showCommonDialog("温馨提示",t.data.award_desc)},setHeadUrl:function(e,o){console.log(o),console.log(e),e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],shopControl:[function(e,t,o){"use strict";cc._RF.push(t,"500admjfkxC4pcuxdFqWeDz","shopControl");e("config"),e("EventHelper"),e("PlayerDetailModel"),e("dialogManager");cc.Class({extends:cc.Component,properties:{btnCoin:{default:null,type:cc.Sprite},btnProp:{default:null,type:cc.Sprite},gridCoin:{default:null,type:cc.Node},gridProp:{default:null,type:cc.Node}},start:function(){var o=this;cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t}),this.gridCoin.active=!0,this.gridProp.active=!1},closeClick:function(){console.log("close click"),this.node.destroy()},btnCoinClick:function(){console.log("btnCoinClick"),this.gridCoin.active=!0,this.gridProp.active=!1;var o=this;cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t})},btnPropClick:function(){console.log("btnPropClick"),this.gridCoin.active=!1,this.gridProp.active=!0;var o=this;cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t})},coinItemClick:function(e){var t=e.target.name;console.log("coinItemClick:"+t)},propItemClick:function(e){var t=e.target.name;console.log("propItemClick:"+t)}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],taskControl:[function(e,t,o){"use strict";cc._RF.push(t,"48cba0x+mdEuZiLRl/DVjiH","taskControl");var l=e("taskItemControl"),n=e("GameNetMgr"),a=e("EventHelper"),r=e("config"),i=e("dialogManager");e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},taskItem:{default:null,type:cc.Prefab}},start:function(){n.sendRequest("System","TaskDaily"),a.AddCustomEvent(r.MyNode,"TaskDailyResult",this.onTaskDailyResult,this),a.AddCustomEvent(r.MyNode,"GetTaskRewardResult",this.onGetTaskRewardResult,this)},closeClick:function(){console.log("close click"),a.RemoveCustomEvent(r.MyNode,"TaskDailyResult",this.onTaskDailyResult,this),a.RemoveCustomEvent(r.MyNode,"GetTaskRewardResult",this.onGetTaskRewardResult,this),this.node.destroy()},leftClick:function(){},rightClick:function(){},onTaskDailyResult:function(e){var t=e.getUserData();console.log(t);for(var o=t.data.list.everyday,n=0;n<o.length;n++){var a=o[n],r=cc.instantiate(this.taskItem);r.parent=this.content;var i=r.getComponent(l),s=a.complete+"/"+a.target;i.init(a,a.desc,a.award_desc,s)}},onGetTaskRewardResult:function(e){var t=e.getUserData();console.log(t),i.showCommonDialog("温馨提示",t.data.error)}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager",taskItemControl:"taskItemControl"}],taskItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"bbe82HivaFIsojxh19Nd3Sr","taskItemControl");var n=e("GameNetMgr"),a=e("HallCanvasControl");cc.Class({extends:cc.Component,properties:{nodeGet:{default:null,type:cc.Node},nodeComplete:{default:null,type:cc.Node},nodeProgrss:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labProgress:{default:null,type:cc.Label}},onLoad:function(){this.nodeGet.active=!1,this.nodeComplete.active=!1,this.nodeProgrss.active=!1,this.state=0,this.id=0},init:function(e,t,o,n){this.state=e.state,this.labTitle.string=t,this.labContent.string=o,this.id=e.id,this.goto=e.goto,"0"==this.state?(this.nodeProgrss.active=!0,this.labProgress.string=n):"1"==this.state?this.nodeGet.active=!0:"2"==this.state&&(this.nodeComplete.active=!0)},getClick:function(){"1"==this.state&&(console.log("点击了任务领取按钮 this.id:"+this.id),n.sendRequest("System","GetTaskReward",this.id),this.nodeGet.active=!1,this.nodeProgrss.active=!1,this.nodeComplete.active=!0)},gotoClick:function(){console.log("this.goto:"+this.goto),this.goto&&"0"==this.state&&(1==this.goto?(console.log("前往普通场"),this.onWantGotoRoom()):2==this.goto&&console.log("前往分享"))},onWantGotoRoom:function(){a.gotoRoom1()}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",HallCanvasControl:"HallCanvasControl"}],topBarControl:[function(e,t,o){"use strict";cc._RF.push(t,"505a7cMGzRIa4SP1t5a1uM0","topBarControl");var n=e("config"),a=e("EventHelper"),r=e("PlayerDetailModel"),i=e("dialogManager");cc.Class({extends:cc.Component,properties:{headImg:{default:null,type:cc.Sprite},playerName:{default:null,type:cc.Label},playerLevel:{default:null,type:cc.Label},playerLedou:{default:null,type:cc.Label},playerLeQuan:{default:null,type:cc.Label}},start:function(){var e=this;e.setHeadUrl(),e.setNickName(r.getNickName()),e.setLevel(r.getTitle()),e.setLeDou(r.getCoin()),e.setLuQuan(r.getCoupon()),a.AddCustomEvent(n.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),a.AddCustomEvent(n.MyNode,"RepeatLogin",e.onRepeatLogin,e)},onRepeatLogin:function(e){console.log("您的账号已经在其他地方登陆！");var t=this,o=e.getUserData();console.log(o),i.showCommonDialog("提示","您的账号已经在其他地方登陆！",function(){t.isShow=!1,cc.director.loadScene("LoadingScene")})},onRefreshDataResult:function(e){console.log("刷新用户信息数据1111------");var t=e.getUserData();console.log(t);var o=t;o.data&&o.data.coins&&(r.setCoin(o.data.coins),this.setLeDou(r.getCoin())),o.data&&o.data.coupon&&(r.setCoupon(o.data.coupon),this.setLuQuan(r.getCoupon())),o.data&&o.data.lottery&&r.setLottery(o.data.lottery),o.data&&o.data.mail_unread&&r.setMailUnread(o.data.mail_unread),o.data&&o.data.checkin_undo&&r.setCheckinUndo(o.data.checkin_undo),o.data&&o.data.task1_unaward&&r.setTask1Unaward(o.data.task1_unaward),o.data&&o.data.task2_unaward&&r.setTask2Unaward(o.data.task2_unaward),o.data&&o.data.charge_rate&&r.setChargeRate(o.data.charge_rate),o.data&&o.data.propDress&&r.setPropDress(o.data.propDress),o.data&&o.data.propItems&&r.setPropItems(o.data.propItems)},setHeadUrl:function(){var o=this,e=n.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},setNickName:function(e){this.playerName.string=e},setLevel:function(e){this.playerLevel.string=e},setLeDou:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLedou.string=e+"万"):this.playerLedou.string=""+e},setLuQuan:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLeQuan.string=e+"万"):this.playerLeQuan.string=""+e}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],watingStarControl:[function(e,t,o){"use strict";cc._RF.push(t,"8bdcevf/XxFAKDbPvMW3ocZ","watingStarControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},timeCount:30},start:function(){this.schedule(function(){if(0<this.timeCount){this.timeCount-=1;var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1),this.show(30)},show:function(e){this.timeCount=e,this.timeTxt.string=""+e},close:function(){this.node&&this.node.destroy()}}),cc._RF.pop()},{}],zhadanControl:[function(e,t,o){"use strict";cc._RF.push(t,"69731J2gyxBnK+eXdduJZBa","zhadanControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}]},{},["CancelDelegateController","CardUtil","ClockControl","GameTable","HallCanvasControl","HallLayerControl","Player","PlayerControl","PokerControl","PokerData","PopCardUtil","RoomLayerControl","blinkAlarmControl","chutianControl","feijiControl","huojianControl","loadingControl","watingStarControl","zhadanControl","config","BagControl","aboutControl","chatBoxControl","chatControl","chatItemControl","commonControl","dialogManager","emailControl","emailItemControl","exchangeControl","exchangeRecordControl","fankuiControl","gameResultControl","jpqNodeControl","resoultInfoItemControl","setControl","shareControl","shopControl","taskControl","taskItemControl","AppStart","ByteArray","EventHelper","Events","GameNet","GameNetMgr","HTTP","PlayerDetailModel","Protocol","md5","helper","opratCallLordControl","opratDoubleControl","opratOutCardControl","opratShowCardControl","topBarControl"]);