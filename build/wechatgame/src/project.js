require=function r(i,s,l){function c(t,e){if(!s[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var n=s[t]={exports:{}};i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,r,i,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({AppStart:[function(o,e,t){"use strict";cc._RF.push(e,"b138eOALeJJxJ+Gm8GgMV+l","AppStart");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o("config"),r=o("Protocol"),n=o("EventHelper"),s=o("PlayerDetailModel"),l=o("dialogManager"),c=o("md5"),d=o("GameNetMgr");cc.Class({extends:cc.Component,properties:{labLoading:{default:null,type:cc.Label},progress:{default:null,type:cc.Label}},onLoad:function(){(function(){cc.vv={},cc.vv.http=o("HTTP"),cc.vv.net=o("GameNet");var e=o("AudioMgr");cc.vv.audioMgr=new e,cc.vv.audioMgr.init()})(),this.progress.string="",this.shareUid=0,"undefined"==typeof wx?this.getServerInfo():this.weixinLogin();var e=new cc.Node("myNode");if(n.addPersistRootNode(e),this.isShow=!1,console.log("typeof(wx):"+("undefined"==typeof wx?"undefined":a(wx))),"undefined"!=typeof wx){wx.setKeepScreenOn({keepScreenOn:!0,success:function(e){console.log("设置保持常亮状态成功。",e)},fail:function(e){console.log("设置保持常亮状态失败。",e)}}),wx.showShareMenu({withShareTicket:!0,success:function(e){console.log(">>>>>>>>>showShareMenu")}});var t=i.getShareImgPath("task");console.log(">>>shareImg:",t),wx.onShareAppMessage(function(e){return{title:i.shareTxt.task[i.shareIndex],imageUrl:t,query:"key="+s.uid,success:function(e){console.log("转发成功!!!"),console.log(e),d.sendRequest("System","ShareWxRes",1)},fail:function(e){console.log("转发失败!!!")}}})}},weixinLogin:function(){var l=this;wx.login({success:function(e){if(e.code){var t={game_id:1034,version:"1.0.0"};t.code=e.code;var o="code="+e.code+"&game_id=1034&version=1.0.0";console.log("sign:"+o);var a=l.getSign(o);t._sign=a.toUpperCase();var n=null,r=!1,i=function(){console.log("sdk.youjoy.tv 正在连接服务器..."),n=cc.vv.http.sendRequest("",t,function(e){r=!(n=null),console.log("connectSdkServer = "+JSON.stringify(e)),l.sdkuid=e.data.user_id,console.log("------------sdkuid:"+l.sdkuid),l.getServerInfo()},"https://sdk.youjoy.tv/Api/ThirdParty/WxSmallProgram/Login"),setTimeout(s,5e3)},s=function(){r||(n?(n.abort(),console.log("sdk.youjoy.tv 连接失败，即将重试..."),setTimeout(function(){i()},5e3)):i())};s()}else console.log("登录失败！"+res.errMsg)}})},getSign:function(e){return c.hex_md5(e+"79fad6f7510d86aabe01a7006153ddd0")},getServerInfo:function(){var e={env:"prod"};e.ver=i.VERSION_NAME,e.channel="weichatgame",e.udid="udid",e.pver=i.VERSION_NAME,e.pchannel="weichatgame",e.presver=i.VERSION_NAME;var t=this,o=null,a=!1,n=function(){console.log("正在连接服务器..."),t.labLoading.string="正在连接服务器...",o=cc.vv.http.sendRequest("",e,function(e){console.log("连接成功"),t.labLoading.string="连接成功...",a=!(o=null),i.GlobalRouterUpdate(e),console.log(i.GlobalRouter),t.connectGameServer()},i.GlobalRouter.director),setTimeout(r,5e3)},r=function(){a||(o?(o.abort(),console.log("连接失败，即将重试..."),t.labLoading.string="连接失败，即将重试...",setTimeout(function(){n()},5e3)):n())};r()},connectGameServer:function(){var t=this;cc.vv.net.connect(i.GlobalRouter.host,i.GlobalRouter.port,function(e){"undefined"==typeof wx?t.sendRegist():t.getWxUserInfo()});setInterval(function(){cc.vv.net.isPinging?t.sendHeartBeat():t.isShow||(t.isShow=!0,cc.vv.audioMgr.stopMusic(),i.stopOnMassage=!1,cc.director.loadScene("LoadingScene"))}.bind(this),1e4),setInterval(function(){0<i.adCdTime&&(i.adCdTime-=1)}.bind(this),1e3),n.AddCustomEvent(i.MyNode,"Regist",t.onRegist,t),n.AddCustomEvent(i.MyNode,"HeartBeat",t.onHeartBeat,t),n.AddCustomEvent(i.MyNode,"LoginOK",t.onLoginOK,t)},getWxUserInfo:function(){var t=this,e=wx.getLaunchOptionsSync();console.log("launch =  "+JSON.stringify(e)),t.shareUid=e.query.key,console.log("shareUid =  "+t.shareUid),wx.getUserInfo({success:function(e){console.log("res.userInfo = "+JSON.stringify(e.userInfo)),i.UpdateWxInfo(e.userInfo),t.sendRegist()},fail:function(e){console.log("获取信息失败!!!")}})},onRegist:function(e){console.log("Regist---");var t=e.getUserData();console.log(t),i.temppassword=t.data.data.password,this.sendLogin()},onHeartBeat:function(e){},onLoginOK:function(e){console.log("LoginOK---"),console.log(e.getUserData());var t=e.getUserData();this.setPlayerDetailModel(t)},sendHeartBeat:function(){var e={};e.t=r.Request.HeartBeat.Alive,cc.vv.net.send("HeartBeat",r.Command.HeartBeat,e),i.shareIndex=i.getRandom(1)},sendRegist:function(){if("undefined"==typeof wx)return(a={}).t=r.Request.Login.Regist,a.d=c.hex_md5("yepat123"),a.u="50ee8041a7fd8baa6348252ea114432bb3be23bd",a.v=i.VERSION_NAME,a.c="weichatgame",a.e="defaults",a.type="guest",void cc.vv.net.send("Regist",r.Command.Login,a);var e="3rdplt_"+this.sdkuid,t=e+i.OpenUDIDEncryptToken+"suffix";t=c.hex_md5(t);var o=e+i.OpenUDIDEncryptToken;o=c.hex_md5(o);var a,n=this.sdkuid+i.OpenUDIDEncryptToken;n=c.hex_md5(n),(a={}).t=r.Request.Login.Regist,a.d=o,a.a=e,a.p=t,a.v=i.VERSION_NAME,a.c="weichatgame",a.e=n,a.type="third",a.sdkid=this.sdkuid,cc.vv.net.send("Regist",r.Command.Login,a)},sendLogin:function(){if("undefined"==typeof wx)return(e={}).t=r.Request.Login.Guest,e.d=c.hex_md5("yepat123"),e.p=i.temppassword,e.c="weichatgame",e.v=i.VERSION_NAME,e.tv=1,e.e="defaults",e.wn=i.wxInfo.nickName,e.wgender=i.wxInfo.gender,e.wurl=i.wxInfo.avatarUrl,e.weichatgame_version=i.VERSION_ABOUT,void cc.vv.net.send("Login",r.Command.Login,e);var e;(e={}).t=r.Request.Login.Guest,e.d=this.sdkuid,e.p=i.temppassword,e.c="weichatgame",e.v=i.VERSION_NAME,e.tv=1,e.e="defaults",e.f=this.sdkuid,e.wn=i.wxInfo.nickName,e.wgender=i.wxInfo.gender,e.wurl=i.wxInfo.avatarUrl,e.invite=this.shareUid,e.weichatgame_version=i.VERSION_ABOUT,cc.vv.net.send("Login",r.Command.Login,e),console.log(">>>>>>wgender:",i.wxInfo.gender)},setPlayerDetailModel:function(e){var t=e.data.room;if(e.code==r.Response.Login.OK){var o=e.data.isDev;o&&"number"==typeof o||(o=0);for(var a=0;a<t.length;a++)if(t[a].rooms)for(var n=0;n<t[a].rooms.length;n++)t[a].rooms[n].modelId=t[a].modelId;i.playGameId=e.data.playGameId,i.playGameMsg=e.data.playGameMsg,i.firstLogin=e.data.today_first_login,s.nickname=e.data.nick,s.uid=parseInt(e.data.uid),s.coin=parseInt(e.data.coins),s.gold=parseInt(e.data.gold),s.gender=parseInt(e.data.sex),s.word=e.data.word,s.coolnum=e.data.cool_num,s.level=parseInt(e.data.level),s.matches=parseInt(e.data.gameData.matches),s.win=parseInt(e.data.gameData.win),s.checkCode=e.data.check_code,s.propDress=e.data.propDress,s.score=parseInt(e.data.score),s.verfile=parseInt(e.data.verfile),s.vertips=parseInt(e.data.vertips),s.mailUnread=parseInt(e.data.mail_unread),s.taskUnReward=parseInt(e.data.weichatgame_task_unaward),s.shareUnReward=parseInt(e.data.weichatgame_invite_unaward),s.coupon=parseInt(e.data.coupon),s.age=parseInt(e.data.age),s.room=t,s.contact=e.data.contact,s.contacts=e.data.contacts,s.wechat=e.data.wechat,s.lottery=parseInt(e.data.lottery),s.checkinUndo=parseInt(e.data.checkin_undo),s.task1Unaward=parseInt(e.data.task1_unaward),s.task2Unaward=parseInt(e.data.task2_unaward),s.chargeRate=parseInt(e.data.charge_rate),s.propItems=e.data.propItems,s.rewardList=e.data.n_reward_list,s.wechatImg=e.data.img,s.title=e.data.title,s.isDev=o,e.data.continueRoomId&&(s.continueRoomId=e.data.continueRoomId),console.log(e.data),i.adCdTime=e.data.watch_advertisement_cd,i.showAd=e.data.watch_advertisement_open,console.log("-----config.showAd:",i.showAd),i.TrialShareShow=e.data.weichatgame_trial_share_show,console.log("-----config.TrialShareShow:",i.TrialShareShow),console.log("进入游戏大厅...uid:"+parseInt(e.data.uid)),this.labLoading.string="进入游戏大厅...",this.downloadFile()}else console.log("登陆游戏失败！"),this.labLoading.string="登陆游戏失败！",l.showCommonDialog("提示","登陆游戏失败！",function(){cc.director.loadScene("LoadingScene")})},preloadNextScene:function(){cc.director.preloadScene("HallScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("HallScene")})},downloadFile:function(){var o=this;if("undefined"==typeof wx)o.preloadNextScene();else{var a=wx.getFileSystemManager(),e=wx.env.USER_DATA_PATH+"/ddz_res/1.0.3";console.log("soundspath:"+e),a.access({path:e,success:function(e){console.log("目录存在!!!",e),o.preloadNextScene()},fail:function(e){console.log("目录不存在!!!",e),wx.downloadFile({url:"https://sg.youjoy.tv/ddzwechatgame/resources/ddz_res_103.zip",success:function(e){console.log("资源下载成功");var t=e.tempFilePath;a.unzip({zipFilePath:t,targetPath:wx.env.USER_DATA_PATH,success:function(e){console.log("解压成功!!!",e),o.preloadNextScene()},fail:function(e){console.log("解压失败!!!",e)}})},fail:function(e){console.log("资源下载失败",e)}}).onProgressUpdate(function(e){o.progress.string=e.progress+"%",o.labLoading.string="资源更新中..."})}})}}}),cc._RF.pop()},{AudioMgr:"AudioMgr",EventHelper:"EventHelper",GameNet:"GameNet",GameNetMgr:"GameNetMgr",HTTP:"HTTP",PlayerDetailModel:"PlayerDetailModel",Protocol:"Protocol",config:"config",dialogManager:"dialogManager",md5:"md5"}],AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"e24c9C8R0dFuqNVoyy1ZAaq","AudioMgr");var r=e("config");cc.Class({extends:cc.Component,properties:{bgmVolume:1,sfxVolume:1,bgmAudioID:-1},onLoad:function(){this.bgmUrl="";var e=cc.sys.localStorage.getItem("bgmVolume");this.bgmVolume=e;var t=cc.sys.localStorage.getItem("sfxVolume");this.sfxVolume=t},init:function(){var e=cc.sys.localStorage.getItem("bgmVolume");this.bgmVolume=1,this.sfxVolume=1,e?(this.bgmVolume=e,cc.sys.localStorage.setItem("bgmVolume",this.bgmVolume)):"string"==typeof e?cc.sys.localStorage.setItem("bgmVolume",this.bgmVolume):this.bgmVolume=0;var t=cc.sys.localStorage.getItem("sfxVolume");t?(this.sfxVolume=t,cc.sys.localStorage.setItem("sfxVolume",this.sfxVolume)):"string"==typeof t?cc.sys.localStorage.setItem("sfxVolume",this.sfxVolume):this.sfxVolume=0},getUrl:function(e){return"undefined"==typeof wx?cc.url.raw("resources/sounds/"+e+".mp3"):r.soundsPath()+e+".mp3"},getBgmUrl:function(){return this.bgmUrl},playBGM:function(e){var t=this.getUrl(e);console.log(t+"bgmVolume:"+this.bgmVolume),this.bgmUrl=e,0<=this.bgmAudioID&&cc.audioEngine.stop(this.bgmAudioID),1==this.bgmVolume&&(this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume))},playSFX:function(e){var t=this.getUrl(e);if(0<this.sfxVolume)cc.audioEngine.play(t,!1,this.sfxVolume)},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e){console.log("-------------- setBGMVolume :"+e),this.bgmVolume!=e&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e),""!=this.bgmUrl&&1==this.bgmVolume?this.playBGM(this.bgmUrl):cc.audioEngine.stopAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopMusic:function(){cc.audioEngine.stopAll()},stopAllEffects:function(){cc.audioEngine.stopAll()},getCardValue:function(e){console.log(e);var t="";return"00"==e?t="14":"01"==e?t="15":"a"==(t=e.substring(1))?t="10":"b"==t?t="11":"c"==t?t="12":"d"==t&&(t="13"),t},playSay:function(e,t){var o=-1;for(var a in console.log("say1:"+t),r.chatContent){r.chatContent[a]==t&&(o=a)}if(-1!=o){t=r.chatSay[o];t=1==e?"Man_"+t:"Woman_"+t,this.playSFX(t)}},playCardsEffect:function(e,t,o){if(1==e)if("mingpai"==t)this.playSFX("Man_Share"),this.playSFX("Special_Multiply");else if("jiaodizhu"==t)this.playSFX("Man_Order");else if("bujiao"==t)this.playSFX("Man_NoOrder");else if("qiangdizhu"==t)this.playSFX("Man_Rob1");else if("buqiang"==t)this.playSFX("Man_NoRob");else if("buyao"==t)this.playSFX("Man_buyao1");else if("baojing1"==t)this.playSFX("Man_baojing1"),this.playSFX("Special_alert");else if("baojing2"==t)this.playSFX("Man_baojing2"),this.playSFX("Special_alert");else if("dani"==t)this.playSFX("Man_dani1");else if("jiabei"==t)this.playSFX("Man_jiabei");else if("jiabeiNo"==t)this.playSFX("Man_jiabeiNo");else if(t==r.CardType.Single){var a=o[0],n=this.getCardValue(a);this.playSFX("Man_"+n),this.playSFX("Special_give")}else if(t==r.CardType.Pair){a=o[1],n=this.getCardValue(a);this.playSFX("Man_dui"+n),this.playSFX("Special_give")}else if(t==r.CardType.ThreeOfKind){a=o[2],n=this.getCardValue(a);this.playSFX("Man_tuple"+n),this.playSFX("Special_give")}else t==r.CardType.ThreeOfKindPlusOne?(this.playSFX("Man_sandaiyi"),this.playSFX("Special_give")):t==r.CardType.ThreeOfKindPlusPair?(this.playSFX("Man_sandaiyidui"),this.playSFX("Special_give")):t==r.CardType.Straight?(this.playSFX("Man_shunzi"),this.playSFX("Special_star")):t==r.CardType.StraightDouble?(this.playSFX("Man_liandui"),this.playSFX("Special_star")):t==r.CardType.StraightThree?(this.playSFX("Man_feiji"),this.playSFX("Special_plane")):t==r.CardType.StraightThreePlusSingle?(this.playSFX("Man_feiji"),this.playSFX("Special_plane")):t==r.CardType.StraightThreePlusPair?(this.playSFX("Man_feiji"),this.playSFX("Special_plane")):t==r.CardType.FourPlusOne?(this.playSFX("Man_sidaier"),this.playSFX("Special_give")):t==r.CardType.FourPlusTwo?(this.playSFX("Man_sidailiangdui"),this.playSFX("Special_give")):t==r.CardType.Bomb||t==r.CardType.SoftBomb||t==r.CardType.LazarilloBomb?(this.playSFX("Man_zhadan"),this.playSFX("Special_Bomb"),this.playBGM("MusicEx_Exciting")):t==r.CardType.DoubleKing&&(this.playSFX("Man_wangzha"),this.playSFX("rocket"),this.playBGM("MusicEx_Exciting"));else if("mingpai"==t)this.playSFX("Woman_Share"),this.playSFX("Special_Multiply");else if("jiaodizhu"==t)this.playSFX("Woman_Order");else if("bujiao"==t)this.playSFX("Woman_NoOrder");else if("qiangdizhu"==t)this.playSFX("Woman_Rob1");else if("buqiang"==t)this.playSFX("Woman_NoRob");else if("buyao"==t)this.playSFX("Woman_buyao1");else if("baojing1"==t)this.playSFX("Woman_baojing1"),this.playSFX("Special_alert");else if("baojing2"==t)this.playSFX("Woman_baojing2"),this.playSFX("Special_alert");else if("dani"==t)this.playSFX("Woman_dani1");else if("jiabei"==t)this.playSFX("Woman_jiabei");else if("jiabeiNo"==t)this.playSFX("Woman_jiabeiNo");else if(t==r.CardType.Single){a=o[0],n=this.getCardValue(a);this.playSFX("Woman_"+n),this.playSFX("Special_give")}else if(t==r.CardType.Pair){a=o[1],n=this.getCardValue(a);this.playSFX("Woman_dui"+n),this.playSFX("Special_give")}else if(t==r.CardType.ThreeOfKind){a=o[2],n=this.getCardValue(a);this.playSFX("Woman_tuple"+n),this.playSFX("Special_give")}else t==r.CardType.ThreeOfKindPlusOne?(this.playSFX("Woman_sandaiyi"),this.playSFX("Special_give")):t==r.CardType.ThreeOfKindPlusPair?(this.playSFX("Woman_sandaiyidui"),this.playSFX("Special_give")):t==r.CardType.Straight?(this.playSFX("Woman_shunzi"),this.playSFX("Special_star")):t==r.CardType.StraightDouble?(this.playSFX("Woman_liandui"),this.playSFX("Special_star")):t==r.CardType.StraightThree?(this.playSFX("Woman_feiji"),this.playSFX("Special_plane")):t==r.CardType.StraightThreePlusSingle?(this.playSFX("Woman_feiji"),this.playSFX("Special_plane")):t==r.CardType.StraightThreePlusPair?(this.playSFX("Woman_feiji"),this.playSFX("Special_plane")):t==r.CardType.FourPlusOne?(this.playSFX("Woman_sidaier"),this.playSFX("Special_give")):t==r.CardType.FourPlusTwo?(this.playSFX("Woman_sidailiangdui"),this.playSFX("Special_give")):t==r.CardType.Bomb||t==r.CardType.SoftBomb||t==r.CardType.LazarilloBomb?(this.playSFX("Woman_zhadan"),this.playSFX("Special_Bomb"),this.playBGM("MusicEx_Exciting")):t==r.CardType.DoubleKing&&(this.playSFX("Woman_wangzha"),this.playSFX("rocket"),this.playBGM("MusicEx_Exciting"))}}),cc._RF.pop()},{config:"config"}],AuthorizeControl:[function(e,t,o){"use strict";cc._RF.push(t,"33b87emX1pFPo8NaAniAuL7","AuthorizeControl");e("dialogManager");cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_enter:{default:null,type:cc.Node,opentype:"getUserInfo"}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,a=e.arg3;""!=t&&(this.title.string=t),""!=o&&(this.content.string=o),this.enterClick=a},closeClick:function(){console.log("close click")},btnEnterClick:function(){console.log("btn2 click"),wx.authorize({success:function(e){console.log("authorize 获取信息成功!!!")},fail:function(e){(-1<e.errMsg.indexOf("auth deny")||-1<e.errMsg.indexOf("auth denied"))&&console.log("authorize 获取信息失败!!!")}}),this.node.destroy()}}),cc._RF.pop()},{dialogManager:"dialogManager"}],BagControl:[function(e,t,o){"use strict";cc._RF.push(t,"f4f03DMqX1BfqbKBfny1VUn","BagControl");var r=e("BagItemControl"),a=e("GameNetMgr"),n=e("EventHelper"),i=e("config");e("dialogManager"),e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},propItem:{default:null,type:cc.Prefab},lab_tips:{default:null,type:cc.Label}},onLoad:function(){this.lab_tips.string="空空如也"},start:function(){a.sendRequest("System","BagInfo"),n.AddCustomEvent(i.MyNode,"BagInfoResult",this.onBagInfoResult,this)},onBagInfoResult:function(e){var t=e.getUserData();console.log("背包：",t),this.show(t.data)},show:function(e){var t=[],o={propName:"lequan",propNum:e.list.coupon};if(t.push(o),e.list.noteCards){o={propName:"jipaiqi",propNum:e.list.noteCards};t.push(o)}for(var a=0;a<t.length;a++){var n=cc.instantiate(this.propItem);n.parent=this.content,n.getComponent(r).show(t[a].propName,t[a].propNum,a)}0<t.length&&(this.lab_tips.string="")},closeClick:function(){console.log("close click");n.RemoveCustomEvent(i.MyNode,"BagInfoResult",this.onBagInfoResult,this),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},leftClick:function(){console.log("left click"),this.btnLeft_1.enabled=!0,this.btnRight_1.enabled=!1,cc.vv.audioMgr.playSFX("SpecOk")},rightClick:function(){console.log("right click"),this.btnLeft_1.enabled=!1,this.btnRight_1.enabled=!0,cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{BagItemControl:"BagItemControl",EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],BagItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"7db1dtw8c5EO4Ca/LHnxP6f","BagItemControl");e("config"),e("GameNetMgr"),e("dialogManager");cc.Class({extends:cc.Component,properties:{p_item:{default:null,type:cc.Sprite},lab_num:{default:null,type:cc.Label},lab_name:{default:null,type:cc.Label},index:0},onLoad:function(){},show:function(e,t,o){var a=this,n="";this.propName=e,a.lab_num.string="",a.lab_name.string="","jipaiqi"==e?(a.lab_name.string="记牌器",n="p_daoju_jpq",a.lab_num.string=""+this.showTime(t)):"lequan"==e&&(a.lab_name.string="乐券",n="p_daoju_lequan",a.lab_num.string=""+t),cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){a.p_item.getComponent(cc.Sprite).spriteFrame=t})},itemClick:function(){console.log("背包道具点击"),this.propName&&"lequan"==this.propName&&console.log("打开道具兑换")},showTime:function(e){var t="",o=e.time,a=e.num;if(0==o)t="永久";else if(-1==o)t=""+a;else{var n=Math.floor(o/86400),r=Math.floor((o-24*n*60*60)/3600);t=n+"天"+r+"小时"+Math.floor((o-24*n*60*60-60*r*60)/60)+"分"}return t}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",config:"config",dialogManager:"dialogManager"}],ByteArray:[function(e,t,o){"use strict";cc._RF.push(t,"2ea8aD4dpZIJoQjo0J0vRIF","ByteArray");e("config");var l={PACKET_HEADER_LENGTH:16,encodeUtf8:function(e){for(var t=encodeURIComponent(e),o=[],a=0;a<t.length;a++){var n=t.charAt(a);if("%"===n){var r=t.charAt(a+1)+t.charAt(a+2),i=parseInt(r,16);o.push(i),a+=2}else o.push(n.charCodeAt(0))}return o},decodeUtf8:function(e){for(var t="",o=0;o<e.length;o++)t+="%"+e[o].toString(16);return decodeURIComponent(t)},getHead:function(e,t){for(var o=[e,t,1,2],a=[],n=0;n<o.length;n++)for(var r=l.complementByte(o[n]),i=0;i<r.length;i++)a.push(r[i]);return a},complementByte:function(e){for(var t=e.toString(2),o="",a=0;a<32-t.length;a++)o+="0";var n=o+t,r=[];for(a=0;a<32;a+=8){var i=n.substring(a,a+8);r.push(parseInt(i,2))}return r},getView:function(e,t){var o=JSON.stringify(e),a=l.encodeUtf8(o),n=new ArrayBuffer(a.length+l.PACKET_HEADER_LENGTH),r=new DataView(n);r.setUint32(0,a.length+l.PACKET_HEADER_LENGTH);for(var i=l.getHead(a.length+l.PACKET_HEADER_LENGTH,t),s=0;s<i.length;s++)r.setUint8(s,i[s]);for(s=0;s<a.length;s++)r.setUint8(s+l.PACKET_HEADER_LENGTH,a[s]);return r}};t.exports=l,cc._RF.pop()},{config:"config"}],CancelDelegateController:[function(e,t,o){"use strict";cc._RF.push(t,"917adx22mBOi7OyW3Ekl6tk","CancelDelegateController"),cc.Class({extends:cc.Component,properties:{},start:function(){},show:function(e){this.node.active=!0,this.click=e},close:function(){this.node&&(this.node.active=!1)},btnClick:function(){console.log("取消托管"),this.click&&this.click(),this.node.active=!1}}),cc._RF.pop()},{}],CardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"bcf07TAfuVFjJw5QqEtX1yc","CardUtil");var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=e("config"),T=e("PopCardUtil"),w={cardGrade:{3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,1:14,2:15,g:16,G:17},getNodeCards:function(e){for(var t="",o=[],a=0;a<e.length;a++){var n=w.convertCardToClient(e[a]);o.push(n.showTxt)}o.sort(b.arrayUp);var r=T.getSameCards(o);for(a=3;a<=17;a++)r[a]?t+=r[a].length:t+="0";return t},subNodeCards:function(e,t){for(var o="",a=(e=w.getNodeCards(e),t=w.getNodeCards(t),0);a<e.length;a++){var n=parseInt(e[a])-parseInt(t[a]);n<0&&(n=0),o+=n}return console.log(o),o},StringToNumber:function(e){return"string"==typeof e?parseInt(e):e},gradeDown:function(e,t){return 10*t.showTxt+t.showType-(10*e.showTxt+e.showType)},gradeUp:function(e,t){if(""!=b.joker){var o=w.serverCardValueToClient(b.joker);return e.showTxt==o&&t.showTxt==o?100*e.showTxt+e.showType-(100*t.showTxt+t.showType):e.showTxt==o&&t.showTxt!=o?100*e.showTxt+e.showType-(10*t.showTxt+t.showType):e.showTxt!=o&&t.showTxt==o?10*e.showTxt+e.showType-(100*t.showTxt+t.showType):10*e.showTxt+e.showType-(10*t.showTxt+t.showType)}return 10*e.showTxt+e.showType-(10*t.showTxt+t.showType)},getAllCardsValue:function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].showTxt);return 0<t.length&&t.sort(b.arrayUp),t},serverCardsToClient:function(e){for(var t=[],o=0;o<e.length;o++){var a=e[o];t.push(w.convertCardToClient(a))}return t},convertCardToClient:function(e){var t=0,o=0,a={};if("00"==e)t=16,o=b.ghostCardType.smallG;else if("01"==e)t=17,o=b.ghostCardType.bigG;else{var n=e.substring(0,1),r=e.substring(1);"4"==n?o=b.pokerCardType.spade:"3"==n?o=b.pokerCardType.hearts:"2"==n?o=b.pokerCardType.blackberry:"1"==n&&(o=b.pokerCardType.redslice),t="1"==r?14:"2"==r?15:"a"==r?10:"b"==r?11:"c"==r?12:"d"==r?13:parseInt(r)}return a.showTxt=t,a.showType=o,a},serverCardValueToClient:function(e){return"1"==e?14:"2"==e?15:"a"==e?10:"b"==e?11:"c"==e?12:"d"==e?13:parseInt(e)},clientCardsToServer:function(e){for(var t=[],o=0;o<e.length;o++)t.push(w.convertCardToServer(e[o]));return t},convertCardToServer:function(e){var t=e.showTxt,o=e.showType,a="";o==b.pokerCardType.spade?a="4":o==b.pokerCardType.hearts?a="3":o==b.pokerCardType.blackberry?a="2":o==b.pokerCardType.redslice&&(a="1");var n=a+(14==t?"1":15==t?"2":10==t?"a":11==t?"b":12==t?"c":13==t?"d":""+t);return 16==t?n="00":17==t&&(n="01"),n},serverCardValueToServer:function(e){return 14==e?"1":15==e?"2":10==e?"a":11==e?"b":12==e?"c":13==e?"d":""+e},getMyTopCards:function(e,t){for(var o=[],a=e.length-1;0<a;a--){var n=e[a].getComponent(t);n.cardData.isTopped&&o.push(n.cardValue)}return o},AutoChooseLiftUpCard:function(e,t,o){console.log("tishiFunc!!");var a=0,n=0;if(console.log(void 0===o?"undefined":h(o)),o){if("number"==typeof o?(console.log("这是个数字"),a=1):a=o.length,console.log("maxLenght:"+a),1<a&&""!=b.joker){var r=w.serverCardValueToClient(b.joker);o.sort(b.arrayUp);for(var i=[],s=[],l=0;l<a;l++)o[l]==r?i.push(o[l]):s.push(o[l]);for(l=0;l<i.length;l++)s.push(i[l]);o=s,console.log("tempcards:",s)}for(l=e.length-1;0<=l;l--){var c=e[l].getComponent(t),d=parseInt(c.cardValue),u=parseInt(o[n]);1==a&&(u=o),n<a&&u==d&&(console.log("num:"+n),n++,c.setChoosed(!0))}if(n<o.length)for(l=e.length-1;0<=l;l--){(c=e[l].getComponent(t)).setChoosed(!1)}else for(l=e.length-1;0<=l;l--){(c=e[l].getComponent(t)).cardMove()}}else console.log("没有符合牌型！")},is_rank_consective_inc:function(e){var t;if((t=e.length)<2)return!0;for(var o=0;o<t-1;o++)if(e[o][0]+1!=e[o+1][0])return!1;return!0},extend:function(e,t){if(!e||!t)return console.log("table can not be nil"),!1;for(var o=0;o<t.length;o++)t[o]&&e.push(t[o])},get_topCard_type:function(e,t){"number"==typeof e&&(console.log("这是个数字"),e=[e]);var o=T.getSameCards(e);T.setSameVulueCardCount(o);var a=e.length,n=[];if(n.type=0,n.rank=0,n.repeatCount=0,1==a){var r=T.getSingle();return n.type=b.CardType.Single,n.rank=e[0],n.repeatCount=1,console.log("单只"),n}if(2==a){if(1==(s=T.getPair()).count)return n.type=b.CardType.Pair,n.rank=e[0],n.repeatCount=1,console.log("对子"),n;if(16==e[0]&&17==e[1])return n.type=b.CardType.DoubleKing,n.rank=e[0],n.repeatCount=1,console.log("王炸"),n}else if(3==a){if(0<(i=T.getThree()).count)return n.type=b.CardType.ThreeOfKind,n.rank=i.cards[0][0],n.repeatCount=1,console.log("三不带"),n}else if(4==a){var i=T.getThree();if(0<(l=T.getFour()).count)return n.type=t||b.CardType.Bomb,n.rank=l.cards[0][0],n.repeatCount=1,console.log("炸弹"),n;if(0<i.count)return n.type=b.CardType.ThreeOfKindPlusOne,n.rank=i.cards[0][0],n.repeatCount=1,console.log("三带一"),n}else{r=T.getSingle();var s=T.getPair(),l=(i=T.getThree(),T.getFour()),c=r.count,d=s.count,u=i.count,h=l.count,p=T.SingleCards,g=T.PairCards,m=T.ThreeCards,f=T.FourCards,C=w.is_rank_consective_inc(p),y=w.is_rank_consective_inc(g),v=w.is_rank_consective_inc(m),_=w.cardGrade[2];if(1==h&&0==u){if(2==c&&0==d)return n.type=b.CardType.FourPlusOne,n.rank=f[0][0],n.repeatCount=1,console.log("四带二单"),n;if(0==c&&1==d)return n.type=b.CardType.FourPlusOne,n.rank=f[0][0],n.repeatCount=1,console.log("四带一对"),n;if(0==c&&2==d)return n.type=b.CardType.FourPlusTwo,n.rank=f[0][0],n.repeatCount=1,console.log("四带两对"),n}if(1==u&&0==c&&1==d&&0==h)return n.type=b.CardType.ThreeOfKindPlusPair,n.rank=m[0][0],n.repeatCount=1,console.log("三带一对"),n;if(1<u&&0==c&&0==d&&0==h&&v&&m[u-1][0]<_)return n.type=b.CardType.StraightThree,n.rank=m[0][0],n.repeatCount=u,console.log("飞机不带"),n;if(2<d&&0==c&&0==u&&0==h&&y&&g[d-1][0]<_)return n.type=b.CardType.StraightDouble,n.rank=g[0][0],n.repeatCount=d,console.log("连对"),n;if(4<c&&0==d&&0==u&&0==h&&C&&p[c-1][0]<_)return n.type=b.CardType.Straight,n.rank=p[0][0],n.repeatCount=c,console.log("顺子"),n;var S=[];if(0<u)if(c==u&&0==d&&0==h){if(v&&m[u-1][0]<_)return n.type=b.CardType.StraightThreePlusSingle,n.rank=m[0][0],n.repeatCount=u,console.log("飞机带单"),n}else if(0==c&&d==u&&0==h){if(v&&m[u-1][0]<_)return n.type=b.CardType.StraightThreePlusPair,n.rank=m[0][0],n.repeatCount=u,console.log("飞机带双"),n}else if(c+2*d==u&&0==h){if(v&&m[u-1][0]<_)return n.type=b.CardType.StraightThreePlusSingle,n.rank=m[0][0],n.repeatCount=u,console.log("飞机带单"),n}else{if(u+h!=2*d+c+h)return d+2*h==u&&0==c&&v&&m[u-1][0]<_?(n.type=b.CardType.StraightThreePlusPair,n.rank=m[0][0],n.repeatCount=u,console.log("飞机带双2")):3<u&&(n.type=-1,console.log("特殊牌型")),n;console.log("带炸弹的飞机（4=3+1）");var k=v;0<h?(w.extend(S,m),w.extend(S,f),S.sort(b.arrayUp),k=w.is_rank_consective_inc(S)):S=m;var R=S.length;if(k&&S[R-1][0]<_)return n.type=b.CardType.StraightThreePlusSingle,n.rank=m[0][0],n.repeatCount=R,console.log("飞机带单2"),n}}return n},getCardsFromTopCards:function(e,t){e=e;(t=t).sort(b.arrayUp);var o,a=e.length,n=t.length;o=T.getSameCards(e);var r=[];if(2==n){if(t[0]!=t[1]){if(t[0]+1==t[1]){if(t[1]>=w.cardGrade[2])return r=t;f=t[1];r=t;for(c=1;c<=3;c++)o[f+c]&&f+c<w.cardGrade[2]&&r.push(o[f+c][0]);return r.length<5&&(r=[]),r}return r=[]}var i=o[f=t[0]].length;if(console.log("key:"+f+" kCount:"+i),4==i)return console.log("炸弹----------"),r=o[f];if(3==i&&"2"!=f){console.log("可能有飞机");var s=[],l=0;s[l]=o[f];for(var c=1;c<a&&(o[f+c]&&3==o[f+c].length&&f+c!="2");c++)s[++l]=o[f+c],console.log("key+i:"+(f+c));for(var c=1;c<a&&(o[f-c]&&3==o[f-c].length&&f+c!="2");c++)s[++l]=o[f-c],console.log("key+i:"+(f-c));if(1<s.length)for(c=0;c<s.length;c++)for(var d=0;d<s[c].length;d++)console.log("temp:"+s[c][d]),r.push(s[c][d]);return r.sort(b.arrayUp),r}}else if(3==n){console.log("连队判定");var u;if(2<(u=T.getSameCards(t)).length){var h=[];for(var p in u)h.push(p);var g=parseInt(h[0]),m=parseInt(h[1]);if(g+1==m&&m<w.cardGrade[2]){var f=g;for(var p in o)if(p==f){var C=o[p];if(console.log("d:"+C.length+"  k:"+p),!(2<=C.length))break;for(c=0;c<2;c++)r.push(C[c]);f++}return r.length<6&&(r=[]),r}}}return r},get_cards_larger:function(e,t){var o=[],a=T.getSameCards(t),n=e.type;if(n==b.CardType.Single?o=w.find_single_card(e,a,t):n==b.CardType.Pair?o=w.find_pair_card(e,a,t):n==b.CardType.ThreeOfKind?o=w.find_three_card(e,a,t):n==b.CardType.Bomb?o=w.find_bomb_card(e,a,t):n==b.CardType.ThreeOfKindPlusOne?o=w.find_three_with_one_card(e,a,t):n==b.CardType.ThreeOfKindPlusPair?o=w.find_three_with_two_card(e,a,t):n==b.CardType.FourPlusOne?o=w.find_four_with_two_single_card(e,a,t):n==b.CardType.FourPlusTwo?o=w.find_four_with_two_pair_card(e,a,t):n==b.CardType.Straight?o=w.find_straight(e,a,t):n==b.CardType.StraightDouble?o=w.find_pair_straight(e,a,t):n==b.CardType.StraightThree?o=w.find_three_straight(e,a,t):n==b.CardType.StraightThreePlusSingle?o=w.find_three_straight_with_single_card(e,a,t):n==b.CardType.StraightThreePlusPair&&(o=w.find_three_straight_with_pair_card(e,a,t)),n!=b.CardType.Bomb&&n!=b.CardType.DoubleKing)for(var r=w.find_bomb_all(a),i=0;i<r.length;i++)o.push(r[i]);return o},find_single_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getSingle(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){r<(l=n.cards[i])&&a.push(l)}var s=[];for(var i in t){var l=t[i];s.push(i)}if(a.length<=0)for(var i in s){r<(l=parseInt(s[i]))&&a.push(l)}return a},find_pair_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getPair(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){var s=n.cards[i];r<s[0]&&a.push(s)}var l=[];if(a.length<=0){var c=T.getThree(),d=T.getFour();if(0<c.count)for(var i in c.cards){if(r<(h=c.cards[i])[0]){var u=h.slice(0,2);l.push(u)}}if(0<d.count)for(var i in d.cards){var h;if(r<(h=d.cards[i])[0]){u=h.slice(0,2);l.push(u)}}return l}return a},find_three_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getThree(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){var s=n.cards[i];r<s[0]&&a.push(s)}return a},find_bomb_all:function(e){var t=[];T.setSameVulueCardCount(e);var o=T.getFour();for(var a in o.cards){var n=o.cards[a];t.push(n)}if(e[16]&&e[17]){console.log("有王炸");t.push([16,17])}else console.log("没有王炸");return t},find_bomb_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getFour(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){var s=n.cards[i];r<s[0]&&a.push(s)}if(t[16]&&t[17]){console.log("有王炸");a.push([16,17])}else console.log("没有王炸");return a},find_three_with_one_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getThree(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){r<(u=n.cards[i])[0]&&a.push(u)}var s=T.getSingle(),l=T.getPair(),c=[],d=0;if(0<s.count)d=parseInt(s.cards[0]),console.log("onecard1:"+d);else if(0<l.count)d=parseInt(l.cards[0][0]),console.log("onecard2:"+d);else for(var i in n.cards){var u=n.cards[i];c.push(u[0])}for(var i in a){u=a[i];if(console.log("v:"+u+"  k:"+i+" allone:"+c[i]),0==d)if(i<c.length-1)if(u[0]!=c[i])d=c[i];else d=c[parseInt(i)+1];else d=c[0];u[u.length]=d,u.sort(b.arrayUp)}return a},find_three_with_two_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getThree(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){r<(d=n.cards[i])[0]&&a.push(d)}var s=[],l=T.getPair(),c=[];if(0<l.count)c=l.cards[0];else for(var i in n.cards){var d=n.cards[i];s.push(d[0])}var u=c.length;for(var i in a){d=a[i];if(0==u){if(i<s.length-1)if(d[0]!=s[i])u=s[i];else u=s[parseInt(i)+1];else u=s[0];for(var h=0;h<2;h++)d.push(parseInt(u));u=0}else for(h=0;h<c.length;h++)d.push(parseInt(c[h]));console.log("v2:"+d),d.sort(b.arrayUp)}return a},find_four_with_two_single_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getFour(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){r<(h=n.cards[i])[0]&&a.push(h)}var s=[],l=T.getSingle(),c=T.getPair(),d=T.getThree();if(1<l.count)for(var u=0;u<2;u++)s.push(parseInt(l.cards[u]));else if(0<c.count)for(u=0;u<2;u++)s.push(parseInt(c.cards[0]));else if(0<d.count)for(u=0;u<2;u++)s.push(parseInt(d.cards[0]));for(var i in a){var h=a[i];for(u=0;u<s.length;u++)h.push(parseInt(s[u]));console.log("v2:"+h),h.sort(b.arrayUp)}return a},find_four_with_two_pair_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=T.getFour(),r=parseInt(e.rank);if(0<n.count)for(var i in n.cards){r<(h=n.cards[i])[0]&&a.push(h)}var s=[],l=T.getPair(),c=T.getThree();if(1<l.count)for(var d=0;d<2;d++)for(var u=0;u<2;u++)s.push(parseInt(l.cards[d]));else if(1==l.count&&0<c.count){for(d=0;d<2;d++)s.push(parseInt(l.cards[0]));for(d=0;d<2;d++)s.push(parseInt(c.cards[0]))}else if(1<c.count)for(d=0;d<2;d++)for(u=0;u<2;u++)s.push(parseInt(c.cards[d]));for(var i in a){var h=a[i];for(d=0;d<s.length;d++)h.push(parseInt(s[d]));console.log("v2:"+h),h.sort(b.arrayUp)}return a},find_straight:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=parseInt(e.rank),r=e.repeatCount;T.getSingle();console.log("rank:"+n+" repeatCount:"+r);for(var i=[],s=[],l=n,c=1;c<20;c++)t[l+c]&&l+c<w.cardGrade[2]?i.push(t[l+c][0]):(i.length>=r&&s.push(i),i=[]);if(console.log(s),0==s.length)return a;if(console.log("length:"+s[0].length),s[0].length>r){var d=s[0].length-r,u=[];for(c=0;c<=d;c++)s[0].length>=r+c&&(u=b.arraySub(c,r+c,s[0],1),a.push(u))}else a=s;return console.log(a),a},find_pair_straight:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+n+" repeatCount:"+r);for(var i=T.getPair(),s=T.getThree(),l=T.getFour(),c=[],d=0;d<i.count;d++)c.push(i.cards[d][0]);for(d=0;d<s.count;d++)c.push(s.cards[d][0]);for(d=0;d<l.count;d++)c.push(l.cards[d][0]);c.sort(b.arrayUp);var u=[],h=[],p=0;for(d=0;d<c.length;d++)if(c[d]<w.cardGrade[2]&&c[d]>n){if(console.log("i:"+d),!(c[d]+1==c[d+1]&&c[d+1]<w.cardGrade[2])){p=c[d+1],u.length>=r&&h.push(u),u=[];continue}console.log("i2:"+d),p+1==c[d+1]&&u.push(p),0==d&&u.push(c[d]),u.push(c[d+1])}for(d=0;d<h.length;d++)if(h[d].length>=r)for(var g=h[d].length-r,m=[],f=0;f<=g;f++)h[d].length>=r+f&&(m=b.arraySub(f,r+f,h[d],2),a.push(m));return console.log(a),a},find_three_straight:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+n+" repeatCount:"+r);for(var i=T.getThree(),s=T.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(b.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>n){if(console.log("i:"+c),!(l[c]+1==l[c+1]&&l[c+1]<w.cardGrade[2])){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=b.arraySub(m,r+m,u[c],3),a.push(g));return console.log(a),a},find_three_straight_with_single_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+n+" repeatCount:"+r);for(var i=T.getThree(),s=T.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(b.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>n){if(console.log("i:"+c),!(l[c]+1==l[c+1]&&l[c+1]<w.cardGrade[2])){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=b.arraySub(m,r+m,u[c],3),a.push(g));return console.log(a),a},find_three_straight_with_pair_card:function(e,t,o){var a=[];T.setSameVulueCardCount(t);var n=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+n+" repeatCount:"+r);for(var i=T.getThree(),s=T.getFour(),l=[],c=0;c<i.count;c++)l.push(i.cards[c][0]);for(c=0;c<s.count;c++)l.push(s.cards[c][0]);l.sort(b.arrayUp),console.log(l);var d=[],u=[],h=0;for(c=0;c<l.length;c++)if(l[c]<w.cardGrade[2]&&l[c]>n){if(console.log("i:"+c),!(l[c]+1==l[c+1]&&l[c+1]<w.cardGrade[2])){h=l[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==l[c+1]&&d.push(h),0==c&&d.push(l[c]),d.push(l[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=b.arraySub(m,r+m,u[c],3),a.push(g));return console.log(a),a}};t.exports=w,cc._RF.pop()},{PopCardUtil:"PopCardUtil",config:"config"}],ClockControl:[function(e,t,o){"use strict";cc._RF.push(t,"74c75z4+AFA2p0Z2kyQJ1wv","ClockControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:30},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&1<=this.timeCount&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.active=!1);var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.node.active=!0,this.timeCount=e,this.timeTxt.string=""+e},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),a=cc.moveTo(.05,this.clockX,this.clockY+2),n=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,a,n,r,i)),cc.vv.audioMgr.playSFX("Special_Remind")}}),cc._RF.pop()},{}],EventHelper:[function(e,t,o){"use strict";cc._RF.push(t,"5f640z64OJCO7qfrQDJom3k","EventHelper");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("config"),r={AddCustomEvent:function(e,t,o,a){"object"==(void 0===e?"undefined":n(e))?e.on(t,o,a):console.log("__node节点不存在")},DispatchCustomEvent:function(e,t,o){if("object"==(void 0===e?"undefined":n(e))){var a=new cc.Event.EventCustom(t,!0);a.setUserData(o),e.dispatchEvent(a)}else console.log("__node节点不存在")},RemoveCustomEvent:function(e,t,o,a){"object"==(void 0===e?"undefined":n(e))?e.off(t,o,a):console.log("__node节点不存在")},addPersistRootNode:function(e){cc.game.addPersistRootNode(e),a.MyNode=e},removePersistRootNode:function(e){cc.game.removePersistRootNode(e)}};t.exports=r,cc._RF.pop()},{config:"config"}],Events:[function(e,t,o){"use strict";var a;function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}cc._RF.push(t,"f75a5WV9zFIIZD2d9+2E/ny","Events");var r={};r.Network=(n(a={GameStateChanged:"GameStateChanged",StatusChange:"network_status_change",LoginServerResult:"network_loginserver_result",LoginRoomResult:"network_loginroom_result",JoinQueueResult:"network_joinqueue_result",GameReady:"network_gameready",EditProfile:"network_editprofile",DispatchCard:"network_dispatchcard",CallLordTurn:"network_calllord_turn",CallLordResult:"network_calllord_result",GrabLordTurn:"network_grablord_turn",GrabLordResult:"network_grablord_result",ConfirmedLord:"network_confirmed_lord",SendCardTurn:"network_sendcard_turn",PlayerSendCard:"network_player_sendcard",PlayerNotSendCard:"network_player_notsendcard",PlayerShowCard:"network_player_showcard",PlayerReady:"network_player_ready",GameOver:"network_gameover",GameRequestReady:"network_game_requestready",TalkContent:"talk_content",SayToTableInfo:"say_to_table_info",TableRateUpdate:"network_tablerate_update",ExchangeGoldToCoin:"exchange_gold_to_coin",RechargeOk:"recharge_ok",PlayerDelegated:"network_player_delegated",PlayerCancelDelegate:"network_player_canceldelegate",SendCoinsFree:"send_coins_free",TableUserExit:"table_user_exit",PlayerInvalidSendCard:"network_sendcard_invalid",Notice:"notice",ContinueGame:"continue_game",LoginContestSignUpResult:"login_contest_signup_result",ContestSignUpResult:"contest_signup_result",CancelContestSignUpResult:"cancel_contest_signup_result",GiveUpContestResult:"give_up_contest_result",ContestStart:"contest_start",ContestOut:"contest_out",ContestEnd:"contest_end",ContestFormalEnd:"contest_formal_end",SendContestReward:"send_contest_reward",SendContestWeekReward:"send_contest_week_reward",InvalidGameModel:"invalid_game_model",ChangeSkinResult:"change_skin_result",BuySkinResult:"buy_skin_result",BuySkinResultAtHall:"buy_goodsAtHall_result",LuckyDrawViewResult:"lucky_draw_view_result",LuckyDrawResult:"lucky_draw_result",LuckyDrawRecordResult:"lucky_draw_record_result",LoginRewardViewResult:"login_reward_view_result",LoginRewardResult:"login_reward_result",GameDayRankResult:"game_day_rank_result",GameThisWeekRankResult:"game_this_week_rank_result",GameLastWeekRankResult:"game_last_week_rank_result",ActivityBarResult:"activity_bar_result",GiftBagResult:"gift_bag_result",ShowActivity:"show_activity",MailResult:"mail_result",ActivityResult:"activity_result",AnnouncementResult:"announcement_result",GetFileResult:"get_file_result",GetTipsResult:"get_tips_result",RichRankResult:"rich_rank_result",EveryDayRankResult:"every_day_rank_result",EveryWeekRankResult:"every_week_rank_result",ModifyAgeResult:"modify_age_result",GetNewMailResult:"get_new_mail_result",ReadMailResult:"read_mail_result",GetMailAttachmentResult:"get_mail_attachment_result",DelMailResult:"del_mail_result",GetNewActivityResult:"get_new_activity_result",GetNewAnnouncementResult:"get_new_announcement_result",OpenAdvertisingResult:"open_advertising_result",ConsumeResult:"consume_result",GetPersonalItems:"get_personal_items",GetPublicItems:"get_public_items",GetPropsGift:"get_props_gift",PlunderGiftResult:"plunder_gift_result",OpenRechargeTip:"open_recharge_tip",OpenReliefTip:"open_relief_tip",ShopItem:"shop_item",ExchangeItems:"exchange_items",RefreshDataResult:"refresh_data_result",ExchangeItemConfirm:"exchange_item_confirm",PokerTask:"poker_task",TaskDailyResult:"task_daily_result",TaskGrowthResult:"task_growth_result",GetTaskRewardResult:"get_task_reward_result",PropItems:"prop_items",BuyPropsResult:"buy_props_result",ShopBuyGoldResult:"shop_buy_gold_result",NoviceGiftResult:"novice_gift_result",BackpackResult:"backpack_result",MonthNoticeResult:"month_notice_result",GetSalaryResult:"get_salary_result",GetLoginReward:"GetLoginReward",Complaint:"Complaint",RepeatLogin:"repeat_login",MonthUseUp:"month_use_up",SendLzCard:"send_lz_card",BuySingleItemsResult:"buy_single_items_result",LuckyDrawListResult:"lucky_draw_list_result",LuckyDrawNewResult:"lucky_draw_new_result",ExitGameTextResult:"exit_game_text_result",SlotMachineGetInfo:"slotMachine_getInfo",SlotMachineGameResult:"slotMachine_gameResult",GetMenuPromptResult:"get_menu_prompt_result",GetGameGiftListResult:"get_game_lift_list_result",GetRewardListResult:"get_reward_list_result"},"GetGameGiftListResult","get_game_lift_list_result"),n(a,"CanDoubleResult","can_double_result"),n(a,"BuyGoodsResult","buyGoods_result"),n(a,"GetGameFieldResult","getGameField_result"),n(a,"GetFieldDetailResult","getFieldDetail_result"),n(a,"GetMyFieldResult","getMyField_result"),n(a,"SignupResult","Signup_Result"),n(a,"UnSignupResult","UnSignup_Result"),n(a,"GetMatchItemsResult","GetMatchItems_Result"),n(a,"GameMatchStart","gamematch_start"),n(a,"MatchEliminateResult","MatchEliminate_Result"),n(a,"EnterHallScence","EnterHallScenece"),n(a,"MatchOrderChangedResult","MatchOrderChangedResult"),n(a,"MatchStartSoonResult","MatchStartSoonResult"),n(a,"MatchEndBagResult","MatchEndBagResult"),n(a,"FirstgetlequanResult","FirstgetlequanResult"),n(a,"RedpacketprocessResult","RedpacketprocessResult"),n(a,"EntergamerestnumResult","EntergamerestnumResult"),n(a,"RefreshPlayerData","RefreshPlayerData"),n(a,"GetPlayerMatchesInfo","GetPlayerMatchesInfo"),n(a,"Analysis_log","Analysis_log"),n(a,"EmoticonData","emoticon_data"),n(a,"PokerAnalysis","PokerAnalysis"),a),t.exports=r,cc._RF.pop()},{}],GameNetMgr:[function(e,t,o){"use strict";cc._RF.push(t,"72ee4iEEmpHqLHnKeAEFN6H","GameNetMgr");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("Protocol");cc.Class({extends:cc.Component,statics:{opPlayerSeatId:"",sendRequest:function(e,t,o){"Game"==e&&("loginRoom"==t?this.sendLoginRoom(o):"startGame"==t?this.sendStartGame(o):"callLord"==t?this.sendCallLord(o):"grabLord"==t?this.sendGrabLord(o):"showCard"==t?this.sendShowCard(o):"giveupSendCard"==t?this.sendGiveupSendCard(o):"sendCard"==t?this.sendSendCard(o):"requestDelegate"==t?this.sendRequestDelegate(o):"cancelDelegate"==t?this.sendCancelDelegate(o):"addRatio"==t?this.sendAddRatio(o):"exitRoom"==t?this.sendExitRoom():"sayToTable"==t?this.sendSayToTable(o):"openRechargeTip"==t?this.sendOpenRechargeTip():"openReliefTip"==t?this.sendOpenReliefTip():"reconnection"==t?this.sendReconnection():"emoticon"==t&&this.sendEmoticon(o)),"System"==e&&("Mail"==t?this.sendMail():"ReadMail"==t?this.sendReadMail(o):"GetMailAttachment"==t?this.sendGetMailAttachment(o):"DelMail"==t?this.sendDelMail(o):"TaskDaily"==t?this.sendTaskDaily():"GetTaskReward"==t?this.sendGetTaskReward(o):"ShareInfo"==t?this.sendShareInfo():"ShareGet"==t?this.sendShareGet():"ShareWxRes"==t?this.sendShareWxRes(o):"WatchAdvertisement"==t?this.sendWatchAdvertisement(o):"BagInfo"==t&&this.sendBagInfo())},sendLoginRoom:function(e){var t={};t.t=n.Request.Game.Init,t.roomId=parseInt(e.roomId),t.isContinue=parseInt(e.isContinue),t.modelId=e.modelId,cc.vv.net.send("loginRoom",n.Command.Game,t)},sendStartGame:function(e){var t={};t.t=n.Request.Game.Go,e&&(t.showcard=!0),this.opPlayerSeatId="-1",cc.vv.net.send("startGame",n.Command.Game,t)},sendCallLord:function(e){var t={},o=e;t.t=n.Request.Game.CallLord,t.doLord=o,cc.vv.net.send("callLord",n.Command.Game,t)},sendGrabLord:function(e){var t={},o=e;t.t=n.Request.Game.GrabLord,t.grabLord=o,cc.vv.net.send("grabLord",n.Command.Game,t)},sendShowCard:function(e){2<e||(e=2);var t={};t.t=n.Request.Game.ShowCard,t.showRate=e,cc.vv.net.send("showCard",n.Command.Game,t)},sendGiveupSendCard:function(){var e={};e.t=n.Request.Game.NotFollow,cc.vv.net.send("giveupSendCard",n.Command.Game,e)},sendSendCard:function(e){var t={};t.t=n.Request.Game.SendCard,"object"==a(e[0])?(t.sendCards=e[0],t.jokto=e[1]):t.sendCards=e,cc.vv.net.send("sendCard",n.Command.Game,t)},sendRequestDelegate:function(){var e={};e.t=n.Request.Game.RequestDelegate,cc.vv.net.send("requestDelegate",n.Command.Game,e)},sendCancelDelegate:function(){var e={};e.t=n.Request.Game.CancelDelegate,cc.vv.net.send("cancelDelegate",n.Command.Game,e)},sendAddRatio:function(){var e={};e.t=n.Request.Game.AddRatio,cc.vv.net.send("addRatio",n.Command.Game,e)},sendExitRoom:function(){var e={};e.t=n.Request.Game.ExitRoom,cc.vv.net.send("exitRoom",n.Command.Game,e)},sendSayToTable:function(e){var t={};t.t=n.Request.Game.SayToTable,t.wordId=e.id,t.word=e.word,cc.vv.net.send("sayToTable",n.Command.Game,t)},sendOpenRechargeTip:function(){var e={};e.t=n.Request.Game.OpenRechargeTip,cc.vv.net.send("openRechargeTip",n.Command.Game,e)},sendOpenReliefTip:function(){var e={};e.t=n.Request.Game.OpenReliefTip,cc.vv.net.send("openReliefTip",n.Command.Game,e)},sendReconnection:function(){var e={};e.t=n.Request.Game.Reconnection,cc.vv.net.send("reconnection",n.Command.Game,e)},sendEmoticon:function(e){var t={};t.t=n.Request.Game.Emoticon,t.emoticonData=e,cc.vv.net.send("emoticon",n.Command.Game,t)},sendMail:function(){var e={};e.t=n.Request.System.Mail,cc.vv.net.send("Mail",n.Command.System,e)},sendReadMail:function(e){var t={};t.t=n.Request.System.ReadMail,t.id=e,cc.vv.net.send("Mail",n.Command.System,t)},sendGetMailAttachment:function(e){var t={};t.t=n.Request.System.GetMailAttachment,t.id=e,cc.vv.net.send("Mail",n.Command.System,t)},sendDelMail:function(e){var t={};t.t=n.Request.System.DelMail,t.id=e,cc.vv.net.send("Mail",n.Command.System,t)},sendTaskDaily:function(){var e={};e.t=n.Request.System.TaskDaily,cc.vv.net.send("TaskDaily",n.Command.System,e)},sendGetTaskReward:function(e){var t={};t.t=n.Request.System.GetTaskReward,t.id=e,cc.vv.net.send("GetTaskReward",n.Command.System,t)},sendShareInfo:function(){var e={};e.t=n.Request.System.ShareInfo,cc.vv.net.send("ShareInfo",n.Command.System,e)},sendShareGet:function(){var e={};e.t=n.Request.System.ShareGet,cc.vv.net.send("ShareGet",n.Command.System,e)},sendShareWxRes:function(e){var t={};t.t=n.Request.System.ShareWxRes,t.type=e,cc.vv.net.send("ShareWxRes",n.Command.System,t)},sendWatchAdvertisement:function(e){var t={};t.t=n.Request.System.WatchAdvertisement,t.type=e,cc.vv.net.send("WatchAdvertisement",n.Command.System,t)},sendBagInfo:function(){var e={};e.t=n.Request.System.BagInfo,cc.vv.net.send("BagInfo",n.Command.System,e)}}});cc._RF.pop()},{Protocol:"Protocol"}],GameNet:[function(e,t,o){"use strict";cc._RF.push(t,"15c8fdeug5LtJuDTQtrqwqd","GameNet");var l=e("config"),c=e("EventHelper"),d=e("Protocol"),u=e("Events");cc.Class({extends:cc.Component,statics:{ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(e,t){},connect:function(e,t,o){var a=this;a.callback=o,this.ip=e+":"+t,this.sio=new WebSocket("wss://"+this.ip),this.sio.binaryType="arraybuffer",this.sio.onopen=function(e){console.log("Connection open "),a.isPinging=!0,a.callback()},this.sio.onmessage=function(e){var t=e.data,o=JSON.parse(t);a.receivedMsg(o,-1)},this.sio.onclose=function(e){console.log("Connection closed."),a.isPinging=!1},this.sio.onerror=function(e){console.log("Connection onerror."+e.data),a.isPinging=!1}},send:function(e,t,o){"HeartBeat"!=e&&console.log("<- send:"+e),o.cmd=t;var a=JSON.stringify(o);this.sio.send(a)},close:function(){this.sio&&this.sio.close()},receivedMsg:function(e,t){0!=(t=e.cmd)&&console.log("-> cmd:"+t+" code:"+e.code),t==d.Command.Game&&e.code==d.Response.Game.ReconnectionData&&(console.log("短线重连"),c.DispatchCustomEvent(l.MyNode,"ReconnectionData",e)),l.stopOnMassage||(t==d.Command.HeartBeat&&e.code==d.Response.HeartBeat.Alive&&c.DispatchCustomEvent(l.MyNode,"HeartBeat",e),t==d.Command.Login&&(e.code==d.Response.Login.Regist?c.DispatchCustomEvent(l.MyNode,"Regist",e):e.code==d.Response.Login.OK&&c.DispatchCustomEvent(l.MyNode,"LoginOK",e)),t==d.Command.System&&(e.code==d.Response.System.RepeatLogin&&(console.log("通知用户连接被另外一个连接踢掉"),c.DispatchCustomEvent(l.MyNode,"RepeatLogin",e)),e.code==d.Response.System.RefreshDataResult?(console.log("刷新用户信息数据"),c.DispatchCustomEvent(l.MyNode,"RefreshDataResult",e)):e.code==d.Response.System.MailResult?(console.log("邮箱数据"),c.DispatchCustomEvent(l.MyNode,"MailResult",e)):e.code==d.Response.System.ReadMailResult?(console.log("标记邮件已读结果"),c.DispatchCustomEvent(l.MyNode,"ReadMailResult",e)):e.code==d.Response.System.GetMailAttachmentResult?(console.log("领取邮件附件结果"),c.DispatchCustomEvent(l.MyNode,"GetMailAttachmentResult",e)):e.code==d.Response.System.DelMailResult?(console.log("删除某个邮件结果"),c.DispatchCustomEvent(l.MyNode,"DelMailResult",e)):e.code==d.Response.System.TaskDailyResult?(console.log("打开每日任务面板"),c.DispatchCustomEvent(l.MyNode,"TaskDailyResult",e)):e.code==d.Response.System.GetTaskRewardResult?(console.log("领取任务奖励"),c.DispatchCustomEvent(l.MyNode,"GetTaskRewardResult",e)):e.code==d.Response.System.ShareInfoResult?(console.log("分享信息结果"),c.DispatchCustomEvent(l.MyNode,"ShareInfoResult",e)):e.code==d.Response.System.ShareGetResult?(console.log("分享领取结果"),c.DispatchCustomEvent(l.MyNode,"ShareGetResult",e)):e.code==d.Response.System.ShareWxResResult?(console.log("微信分享成功发送结果"),console.log(e),c.DispatchCustomEvent(l.MyNode,"ShareWxResResult",e)):e.code==d.Response.System.WatchAdvertisementResult?(console.log("看完广告领奖"),console.log(e),c.DispatchCustomEvent(l.MyNode,"WatchAdvertisementResult",e)):e.code==d.Response.System.BagInfoResult&&(console.log("背包信息"),console.log(e),c.DispatchCustomEvent(l.MyNode,"BagInfoResult",e))),t==d.Command.Game&&(console.log(e),e.code==d.Response.Game.NoLogin?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.InitOk?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.CoinsNoMatchRoom?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.Queued?(console.log("进入队列"),c.DispatchCustomEvent(l.MyNode,"Queued",e)):e.code==d.Response.Game.GameReady?(console.log("游戏准备好了"),c.DispatchCustomEvent(l.MyNode,"GameReady",e)):e.code==d.Response.Game.TableTimesUpdate?(console.log("桌子的倍数发生改变"),c.DispatchCustomEvent(l.MyNode,"TableTimesUpdate",e)):e.code==d.Response.Game.SendCard?(console.log("发牌, 包括各用户的牌信息"),c.DispatchCustomEvent(l.MyNode,"SendCard",e)):e.code==d.Response.Game.RefreshPlayerData?(console.log("刷新用户金币"),c.DispatchCustomEvent(l.MyNode,"RefreshPlayerData",e)):e.code==d.Response.Game.TurnCallLord?(console.log("轮到谁叫地主"),c.DispatchCustomEvent(l.MyNode,"TurnCallLord",e)):e.code==d.Response.Game.CallLord?(console.log("玩家叫地主"),c.DispatchCustomEvent(l.MyNode,"CallLord",e)):e.code==d.Response.Game.TurnGrabLord?(console.log("轮到谁抢地主"),c.DispatchCustomEvent(l.MyNode,"TurnGrabLord",e)):e.code==d.Response.Game.GrabLord?(console.log("玩家抢地主"),c.DispatchCustomEvent(l.MyNode,"GrabLord",e)):e.code==d.Response.Game.CallLordOver?(console.log("叫地主结束"),c.DispatchCustomEvent(l.MyNode,"CallLordOver",e)):e.code==d.Response.Game.CanDoubleResult?(console.log("通知是否可以加倍"),c.DispatchCustomEvent(l.MyNode,"CanDoubleResult",e)):e.code==d.Response.Game.TurnSendCard?(console.log("轮到谁出牌"),c.DispatchCustomEvent(l.MyNode,"TurnSendCard",e)):e.code==d.Response.Game.PlayerDelegated?(console.log("用户托管"),c.DispatchCustomEvent(l.MyNode,"PlayerDelegated",e)):e.code==d.Response.Game.PlayerCancelDelegate?(console.log("用户取消托管"),c.DispatchCustomEvent(l.MyNode,"PlayerCancelDelegate",e)):e.code==d.Response.Game.PlayerSendCard?(console.log("用户出牌"),c.DispatchCustomEvent(l.MyNode,"PlayerSendCard",e)):e.code==d.Response.Game.PlayerNotSend?(console.log("用户不出牌"),c.DispatchCustomEvent(l.MyNode,"PlayerNotSend",e)):e.code==d.Response.Game.PlayerShowCard?(console.log("用户明牌"),c.DispatchCustomEvent(l.MyNode,"PlayerShowCard",e)):e.code==d.Response.Game.GameComplete?(console.log("本局结束"),c.DispatchCustomEvent(l.MyNode,"GameComplete",e)):e.code==d.Response.Game.TableUserExit?(console.log("有用户退出 通知桌上的玩家重新进入队列"),c.DispatchCustomEvent(l.MyNode,"TableUserExit",e)):e.code==d.Response.Game.InvalidCardNum?(console.log("出的牌不够大 [非法出牌]"),c.DispatchCustomEvent(l.MyNode,"InvalidCardNum",e)):e.code==d.Response.Game.SayToTableInfo?(console.log("聊天信息"),c.DispatchCustomEvent(l.MyNode,"SayToTableInfo",e)):e.code==d.Response.Game.OpenRechargeTipResult?(console.log("打开救济面板"),c.DispatchCustomEvent(l.MyNode,"OpenRechargeTipResult",e)):e.code==d.Response.Game.PokerTask?(console.log("触发牌局任务"),c.DispatchCustomEvent(l.MyNode,"PokerTask",e)):e.code==d.Response.Game.EmoticonData?(console.log("广播表情包"),c.DispatchCustomEvent(l.MyNode,"EmoticonData",e)):e.code==d.Response.Game.SendLzCard?(console.log("发送癞子牌"),c.DispatchCustomEvent(l.MyNode,"SendLzCard",e)):e.code==d.Response.Game.InvalidCardType&&(console.log("出牌有非法数据 [非法出牌]"),c.DispatchCustomEvent(l.MyNode,"InvalidCardType",e))))},handleLoginRoomResult:function(e,t){var o=!0,a=!1,n=!1,r=null,i=null;if(t==d.Response.Game.NoLogin)return o=!1,void console.log("未登录");t==d.Response.Game.InitOk?(console.log("进入房间成功"),1==e.data.isGaming&&(console.log("进入未完成牌局"),o=!(n=!0),l.RoomId=e.data.roomId)):t==d.Response.Game.CoinsNoMatchRoom&&(console.log("进入房间失败"),a=!(o=!1),r=e.data.msg,i=e.data.newRoomId);var s={};s.name=u.Network.LoginRoomResult,s.ok=o,s.payload=e,s.noCoin=a,s.inGaming=n,s.msg=r,s.newRoomId=i,c.DispatchCustomEvent(l.MyNode,u.Network.LoginRoomResult,s)}}});cc._RF.pop()},{EventHelper:"EventHelper",Events:"Events",Protocol:"Protocol",config:"config"}],GameTable:[function(f,e,t){"use strict";cc._RF.push(e,"1393cipeeNFZbpX9aJxYpTG","GameTable");var _=f("PokerControl"),S=f("config"),k=f("CardUtil"),i=f("opratOutCardControl"),R=f("dialogManager"),b=f("PlayerDetailModel"),s=f("Player"),o=f("EventHelper"),T=f("GameNetMgr"),C=f("LazarilloCardUtil");cc.Class({extends:cc.Component,properties:{pokerCard:{default:null,type:cc.Prefab},pokerLayerLeft:{default:null,type:cc.Node},pokerLayerRight:{default:null,type:cc.Node},pokerLayerMy:{default:null,type:cc.Node},canvas:cc.Node,opratOutCard:{default:null,type:cc.Prefab},myPlayer:{default:null,type:cc.Node},leftPlayer:{default:null,type:cc.Node},rightPlayer:{default:null,type:cc.Node},WatingStartNode:{default:null,type:cc.Node}},onLoad:function(){this.gameState=0,cc.game.on(cc.game.EVENT_HIDE,function(){console.log("游戏进入后台"),S.stopOnMassage=!0,cc.vv.audioMgr.stopMusic()},this),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("重新返回游戏"),S.stopOnMassage&&(T.sendRequest("Game","reconnection"),cc.vv.audioMgr.playBGM("MusicEx_Normal"))},this),cc.vv.audioMgr.playBGM("MusicEx_Normal"),this.showWatingStartGame(),S.rewardedVideoAd||this.initWxVideoAd()},start:function(){var e=this,t=cc.director.getWinSize().width,o=cc.director.getScene();console.log(">>>>sceneWidth:"+t),this.sceneWidth=t,this.scene=o,this.mySeatId=0,this.preSendCards=[],this.preSeatId=-1,this.gameState=0,this.myShowDialog=[],this.loadSeatId=0,this.nicknames=[],this.animShake=!1,this.myHandCards=[],this.taskComplete=!1,this.taskRewardNum=0,e.touchBeganX=0,e.leftX=0,e.rightX=0,e.upY=0,e.downY=0,e.isTouchbegan=!1;var a=S.wxInfo.avatarUrl,n=b,r={};r.uid=n.getUid(),r.nickname=n.getNickName(),r.gender=n.getGender(),r.coin=n.getCoin(),r.gold=n.getGold(),r.lequan=n.getCoupon(),r.propDress=n.getPropDress(),r.wechatImg=a,r.title=n.getTitle(),r.emoticon={},r.emoticonItems={},r.play=b.getMatches(),r.win=b.getWin(),this.myOpratShow=null,this.CancelDelegate=null,this.ChatDialog=null,this.jpqNode=null,this.LazarilloPokerSelected=null,this.gameResultControl=null,this.myOpratCall=null,this.myPokerData=[],this.myPokerNode=[],this.dispatchCard=[];var i=new s(r);e.playerme_=i,e.initMyPlayerNode(),e.playerme_.initBaseInfo(),this.leftDispatchCard=[],this.leftPokerData=[],this.leftPokerNode=[],this.left_player=new s,this.initLeftPlayerNode(),this.rightDispatchCard=[],this.rightPokerData=[],this.rightPokerNode=[],this.right_player=new s,this.initRightPlayerNode(),this.registerTouchEvent(),this.leftPlayer.active=!1,this.rightPlayer.active=!1,this.table3Card=[],this.table3Cards=[],1==S.IsContinueGaming?(T.sendRequest("Game","reconnection"),S.IsContinueGaming=0):T.sendRequest("Game","startGame"),this.registerEventListener(),this.initTable3Card()},initTable3Card:function(){this.node_diPai=cc.find("Canvas/top_bar1/diPai"),this.node_pCardBg=cc.find("Canvas/top_bar1/p_card_bg"),this.node_tableTimes=cc.find("Canvas/bottom_bar3/beishu/lab_bei").getComponent(cc.Label),this.node_pCardBg.active=!1,this.node_diPai.active=!1;for(var e=1;e<=3;e++){var t="Canvas/top_bar1/diPai/poker_"+e,o=cc.find(t);this.table3Card.push(o)}this.node_lazarillo_poker=cc.find("Canvas/top_bar1/lazarillo_poker"),this.node_lazarillo_poker.active=!1,this.node_lazarillo_Num=cc.find("Canvas/top_bar1/lazarillo_poker/sp_num").getComponent(cc.Sprite)},setLazarillo_poker:function(e){var o=this;this.node_lazarillo_poker.active=!0;var t="cards/poke_"+(e=k.serverCardValueToClient(e));cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_lazarillo_Num.getComponent(cc.Sprite).spriteFrame=t})},setTable3Card:function(e){this.node_pCardBg.active=!0,this.node_diPai.active=!0,this.table3Cards=e;for(var t=0;t<3;t++){var o=this.table3Card[t].getComponent(_);o.setPokerBg(),o.showPoker(k.convertCardToClient(e[t]))}},clearTable3Card:function(){this.node_pCardBg.active=!1,this.node_diPai.active=!1},setNodeRate:function(e){if(console.log(e),e&&2<=e){var o=this;o.nodeRate.enabled=!0,3==e?cc.loader.loadRes("p_rate3",cc.SpriteFrame,function(e,t){o.nodeRate.getComponent(cc.Sprite).spriteFrame=t}):cc.loader.loadRes("p_rate2",cc.SpriteFrame,function(e,t){o.nodeRate.getComponent(cc.Sprite).spriteFrame=t})}},initMyPlayerNode:function(){var e=this,t=cc.find("Canvas/my_player/head1/name").getComponent(cc.Label),o=cc.find("Canvas/my_player/ledou/lab_ledou").getComponent(cc.Label),a=cc.find("Canvas/my_player/lequan/lab_lequan").getComponent(cc.Label),n=cc.find("Canvas/my_player/head1/p_dz_icon").getComponent(cc.Sprite),r=cc.find("Canvas/my_tip/p_tip_jiaodizhu").getComponent(cc.Sprite),i=cc.find("Canvas/my_player/head1/p_head/p_head_1").getComponent(cc.Sprite),s={};s.node_name=t,s.node_LeDou=o,s.node_LeQuan=a,s.node_cardsNum=null,s.node_Landlord=n,s.node_delegate=null,s.node_hint=r,s.node_clockDwonTime=null,s.node_wechatImg=i,s.pokerCard=this.pokerCard,s.node_alarm=null,n.enabled=!1,s.node_hint.enabled=!1,e.playerme_.initNodes(s),e.node_taskbg=cc.find("Canvas/p_taskbg").getComponent(cc.Sprite),e.node_taskName=cc.find("Canvas/p_taskbg/taskName").getComponent(cc.Label),e.node_taskbg.enabled=!1,e.node_taskName.string="",e.lab_roomId=cc.find("Canvas/p_table_icon/lab_roomId").getComponent(cc.Label),S.tableInfo&&(e.lab_roomId.string=S.tableName[S.tableInfo.roomId]),e.leftChatBoxNode=cc.find("Canvas/leftchatBox"),e.leftChatBoxLabel=cc.find("Canvas/leftchatBox/lab_content").getComponent(cc.Label),e.rightChatBoxNode=cc.find("Canvas/rightchatBox"),e.rightChatBoxLabel=cc.find("Canvas/rightchatBox/lab_content").getComponent(cc.Label),e.leftChatBoxNode.active=!1,e.rightChatBoxNode.active=!1,e.leftCardtype=cc.find("Canvas/left_player/p_cardtype").getComponent(cc.Sprite),e.rightCardtype=cc.find("Canvas/right_player/p_cardtype").getComponent(cc.Sprite),e.leftCardtype.enabled=!1,e.rightCardtype.enabled=!1,e.nodeRate=cc.find("Canvas/top_bar1/p_rate").getComponent(cc.Sprite),e.nodeRate.enabled=!1},initLeftPlayerNode:function(){var e=cc.find("Canvas/left_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/left_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/left_player/p_card_1/cardNum").getComponent(cc.Label),a=cc.find("Canvas/left_player/head/p_dz_icon").getComponent(cc.Sprite),n=cc.find("Canvas/left_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/left_player/left_tip/p_tip_yaobuqi").getComponent(cc.Sprite),i=cc.find("Canvas/left_player/left_clock/clockDown"),s=cc.find("Canvas/left_player/head/p_head/p_head_1").getComponent(cc.Sprite),l=cc.find("Canvas/left_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=a,c.node_delegate=n,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=s,c.pokerCard=this.pokerCard,c.node_alarm=l,a.enabled=!1,n.enabled=!1,r.enabled=!1,i.active=!1,l.active=!1,this.left_player.initNodes(c)},initRightPlayerNode:function(){var e=cc.find("Canvas/right_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/right_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/right_player/p_card_1/cardNum").getComponent(cc.Label),a=cc.find("Canvas/right_player/head/p_dz_icon").getComponent(cc.Sprite),n=cc.find("Canvas/right_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/right_player/right_tip/p_tip_qiangdizhu").getComponent(cc.Sprite),i=cc.find("Canvas/right_player/right_clock/clockDown"),s=cc.find("Canvas/right_player/head/p_head/p_head_1").getComponent(cc.Sprite),l=cc.find("Canvas/right_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=a,c.node_delegate=n,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=s,c.pokerCard=this.pokerCard,c.node_alarm=l,a.enabled=!1,n.enabled=!1,r.enabled=!1,i.active=!1,l.active=!1,this.right_player.initNodes(c)},clearTable:function(){if(this.playerme_.clear(),this.left_player.clear(),this.right_player.clear(),this.clearTable3Card(),this.playerme_.clearTableCard(this.dispatchCard),this.left_player.clearTableCard(this.leftDispatchCard),this.right_player.clearTableCard(this.rightDispatchCard),0<this.myPokerNode.length){for(var e=0;e<this.myPokerNode.length;e++)this.myPokerNode[e].getComponent(_).node.removeFromParent();this.myPokerNode=[]}if(this.myPokerData=[],0<this.leftPokerNode.length){for(e=0;e<this.leftPokerNode.length;e++)this.leftPokerNode[e].getComponent(_).node.removeFromParent();this.leftPokerNode=[]}if(this.leftPokerData=[],0<this.rightPokerNode.length){for(e=0;e<this.rightPokerNode.length;e++)this.rightPokerNode[e].getComponent(_).node.removeFromParent();this.rightPokerNode=[]}this.rightPokerData=[],this.leftPlayer.active=!1,this.rightPlayer.active=!1,this.node_taskbg.enabled=!1,this.node_taskName.string="",this.nodeRate.enabled=!1,this.preSendCards=[],this.preSeatId=-1,S.joker="",console.log("//清理拍桌"),this.CancelDelegate&&(console.log("//清理托管 22222"),this.CancelDelegate.close()),this.ChatDialog&&this.ChatDialog.close(),this.jpqNode&&(console.log("//记牌器 11111"),this.jpqNode.close(),this.jpqNode=null),this.myOpratShow&&this.myOpratShow.close(),this.myOpratCall&&(this.myOpratCall.close(),this.myOpratCall=null),this.LazarilloPokerSelected&&(this.LazarilloPokerSelected.closeClick(),this.LazarilloPokerSelected=null),this.watingStart&&this.watingStart.hideNode(),this.node_lazarillo_poker.active=!1,this.table3Cards=[]},registerTouchEvent:function(){var l=this;this.canvas.on(cc.Node.EventType.TOUCH_START,function(e){if(l.myPokerNode.length<1&&!S.sendCardState)return!1;var t=e.getLocation();if(l.touchBeganX=t.x,l.leftX=0,l.rightX=1e4,l.upY=1e4,l.downY=0,l.isTouchbegan=!0,l.setSelectCardByTouch(l.myPokerNode,t.x,t.y,l.isTouchbegan),l.isTouchbegan){var o=l.myPokerNode[0].getPositionX(),a=l.myPokerNode[l.myPokerNode.length-1].getPositionX(),n=l.myPokerNode[0].getPositionY(),r=l.myPokerNode[0].getContentSize(),i=r.width,s=r.height;l.leftX=o-i/2-10,l.rightX=a+i/2+10,l.upY=n+s/2+40,l.downY=n-s/2,l.isTouchbegan&&(t.y>l.upY||t.y<l.downY||t.x<l.leftX||t.x>l.rightX)&&l.moveAllCardDown(l.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_END,function(e){if(l.ChatDialog&&l.ChatDialog.close(),l.LazarilloPokerSelected&&(l.LazarilloPokerSelected.closeClick(),l.LazarilloPokerSelected=null),!(l.myPokerNode.length<1)||S.sendCardState){e.getLocation();l.moveCard(l.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!(l.myPokerNode.length<1)||S.sendCardState){var t=e.getLocation();40<Math.abs(l.touchBeganX-t.x)&&(l.isTouchbegan=!1,l.setSelectCardByTouch(l.myPokerNode,t.x,t.y,l.isTouchbegan))}},this.node)},unregisterEvent:function(){this.canvas.targetOff(this.node),console.log("off")},setSelectCardByTouch:function(e,t,o,a){var n=this.touchBeganX,r=t;this.isTouchbegan=a,this.touchBeganX>t&&(n=t,r=this.touchBeganX),r-n<5&&(r=n);for(var i=0;i<e.length;i++){var s=e[i],l=s.getPositionY(),c=s.getContentSize(),d=s.getPositionX(),u=c.width,h=c.height,p=S.seatPos.center.disBetween;2330<this.sceneWidth&&(p=S.seatPos.center.disBetweenIX);var g=d-u/2+p,m=d-u/2,f=l-h/2,C=l+h/2;i==e.length-1&&(g=d+u/2),f<=o&&o<=C&&(n<=m&&m<=r||n<=g&&g<=r||m<=n&&n<=g||m<=r&&r<=g)&&s.getComponent(_).setChoosed(!0)}},moveCard:function(e){for(var t=!1,o=0;o<e.length;o++){var a=e[o].getComponent(_);a.cardData.isChoosed&&(t=!0),a.cardMove()}t&&cc.vv.audioMgr.playSFX("Special_selectedCrad")},moveAllCardDown:function(e){console.log("moveAllCardDown");for(var t=!1,o=0;o<e.length;o++){var a=e[o].getComponent(_);a.cardData.isTopped&&(t=!0),a.cardMoveDown()}t&&cc.vv.audioMgr.playSFX("Special_selectedCrad")},onShow:function(){},onHide:function(){},onMyOutCard:function(e){var f=this,p=function(){f.moveAllCardDown(f.myPokerNode),T.sendRequest("Game","giveupSendCard"),f.myOpratShow&&f.myOpratShow.close()},g=0,t=function(){var e=[];if(f.preSendCards&&0<f.preSendCards.length){var t=k.serverCardsToClient(f.preSendCards);if(f.prejokto&&0<f.prejokto.length)for(var o=0,a=k.serverCardValueToClient(S.joker),n=f.prejokto,r=0;r<t.length;r++)if(n[o]&&t[r].showTxt==a){var i=k.serverCardValueToClient(n[o]);e.push(i),o++}else e.push(t[r].showTxt);else for(r=0;r<t.length;r++)e.push(t[r].showTxt)}e.sort(S.arrayUp);var s=k.get_topCard_type(e,f.preCardType),l=[];console.log(s);for(r=f.myPokerData.length-1;-1<r;r--){var c=k.StringToNumber(f.myPokerData[r].showTxt);l.push(c)}var d=null;if(0==(d=""!=S.joker?C.get_cards_larger(s,l):k.get_cards_larger(s,l)).length)return console.log("没有符合的牌型可供提示"),void(f.myOpratShow&&p());e=d[g],g<d.length-1?g++:g=0,f.node.stopAllActions(),f.moveAllCardDown(f.myPokerNode);var u=cc.callFunc(function(){k.AutoChooseLiftUpCard(f.myPokerNode,_,e)}),h=cc.delayTime(.1);f.node.runAction(cc.sequence(h,u))},o=function(){if(console.log("点击了出牌"),f.dispatchCard&&0<f.dispatchCard.length){console.log("dispatchCard.length:"+f.dispatchCard.length);for(var e=0;e<f.dispatchCard.length;e++)f.dispatchCard[e].getComponent(_).node.removeFromParent();f.dispatchCard=[]}var t=[],o=[];for(e=f.myPokerData.length-1;-1<e;e--)if(f.myPokerData[e].isTopped){var a=k.StringToNumber(f.myPokerData[e].showTxt);t.push(a);var n={showTxt:a,showType:f.myPokerData[e].showType};o.push(n)}var r=[];if(""!=S.joker&&f.preSendCards&&0<f.preSendCards.length){var i=k.serverCardsToClient(f.preSendCards);if(f.prejokto&&0<f.prejokto.length){var s=0,l=k.serverCardValueToClient(S.joker),c=f.prejokto;for(e=0;e<i.length;e++)if(c[s]&&i[e].showTxt==l){var d=k.serverCardValueToClient(c[s]);r.push(d),s++}else r.push(i[e].showTxt)}else for(e=0;e<i.length;e++)r.push(i[e].showTxt);r.sort(S.arrayUp)}if(""!=S.joker){var u=k.clientCardsToServer(o);if(console.log("-----赖子出牌测试"),console.log(u),u.length){var h=C.get_effective_tips_cards(u,S.joker);if(console.log(h),1==h.length){var p=h[0][1];for(e=0;e<p.length;e++)p[e]=k.serverCardValueToServer(p[e]);T.sendRequest("Game","sendCard",{0:h[0][0],1:p})}else{if(!(1<h.length))return-1;if(f.mySeatId==f.preSeatId||20==f.myPokerData.length)return f.showLazarilloPokerSelected(h),100;var g=k.get_topCard_type(r,f.preCardType),m=C.get_big_tips_cards(h,g);if(1==m.length){for(p=m[0][1],e=0;e<p.length;e++)p[e]=k.serverCardValueToServer(p[e]);T.sendRequest("Game","sendCard",{0:m[0][0],1:p})}else f.showLazarilloPokerSelected(m)}}return 100}if(!(1<=t.length))return console.log("没有牌提起"),0;if(0==k.get_topCard_type(t).type)return console.log("提起的牌不合法"),-1;u=k.clientCardsToServer(o);return T.sendRequest("Game","sendCard",u),100},a=S.SendCardTimeout;if(e&&(a=e),this.myOpratShow)20==this.playerme_.getCardCount()||this.mySeatId==this.preSeatId?this.myOpratShow.show(a,p,t,o,1):this.myOpratShow.show(a,p,t,o);else if(20==this.playerme_.getCardCount()||this.mySeatId==this.preSeatId){var n=cc.instantiate(this.opratOutCard);cc.director.getScene().addChild(n,999),(r=n.getComponent(i)).show(a,p,t,o,1),this.myOpratShow=r}else{var r;n=cc.instantiate(this.opratOutCard);cc.director.getScene().addChild(n,999),(r=n.getComponent(i)).show(a,p,t,o),this.myOpratShow=r}},mySendCards:function(e,t){var o=this;if(e){var a=k.serverCardsToClient(e);a.sort(k.gradeUp),o.dispatchCard=o.playerme_.getSendCard(o.dispatchCard,a,o.myPokerNode,o.myPokerData)}o.playerme_.playCard(o.dispatchCard,t),o.playerme_.neatenPoker(o.myPokerNode,S.seatPos.center,o.sceneWidth),o.playerme_.getLandlord()&&0<o.myPokerNode.length&&o.myPokerNode[o.myPokerNode.length-1].getComponent(_).setCardDiZhu(!0),o.playerme_.getOpenHandCards()&&0<o.myPokerNode.length&&o.myPokerNode[o.myPokerNode.length-1].getComponent(_).setCardShow(!0),o.playerme_.setCardCount(o.myPokerNode.length)},leftSendCards:function(e,t,o,a){var n=this,r=this.sceneWidth;e&&(t||(t=k.serverCardsToClient(e)),o?(t.sort(k.gradeUp),n.leftDispatchCard=n.left_player.getSendCard(n.leftDispatchCard,t,n.leftPokerNode,n.leftPokerData),n.left_player.playCardLeft(n.leftDispatchCard,320,650,a),n.left_player.neatenLeftPoker(n.leftPokerNode,S.seatPos.left,r/2,230)):(n.leftDispatchCard=n.left_player.darkCardSend(n.leftDispatchCard,t,n.pokerLayerLeft,2,r,a),n.left_player.playCardLeft(n.leftDispatchCard,320,650,a)))},rightSendCards:function(e,t,o,a){var n=this,r=this.sceneWidth;e&&(t||e&&(t=k.serverCardsToClient(e)),o?(t.sort(k.gradeUp),n.rightDispatchCard=n.right_player.getSendCard(n.rightDispatchCard,t,n.rightPokerNode,n.rightPokerData),n.right_player.playCardRight(n.rightDispatchCard,620,650,a),n.right_player.neatenRightPoker(n.rightPokerNode,S.seatPos.right,r/2,r/2+140)):(n.rightDispatchCard=n.right_player.darkCardSend(n.rightDispatchCard,t,n.pokerLayerRight,0,r,a),n.right_player.playCardRight(n.rightDispatchCard,620,650,a)))},btnMyPlayerClick:function(){console.log("点击自己头像");var e={};e.player=this.playerme_,e.sendSeatId=this.mySeatId,e.receiveSeatId=this.mySeatId,R.showPlayerInfo(e),cc.vv.audioMgr.playSFX("SpecOk")},btnLeftPlayerClick:function(){console.log("点击左边头像");var e={};e.player=this.left_player,e.sendSeatId=this.mySeatId,e.receiveSeatId=this.left_player.getMySeatId(),R.showPlayerInfo(e),cc.vv.audioMgr.playSFX("SpecOk")},btnRightPlayerClick:function(){console.log("点击右边头像");var e={};e.player=this.right_player,e.sendSeatId=this.mySeatId,e.receiveSeatId=this.right_player.getMySeatId(),R.showPlayerInfo(e),cc.vv.audioMgr.playSFX("SpecOk")},btnBackClick:function(){var e=this;if(console.log("btnBackClick"),b.continueRoomId=0,e.gameState<S.gameState.ST_GAME_BALANCE&&e.gameState>S.gameState.ST_GAME_PREPARE){R.showCommonDialog("温馨提示","现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！",function(){T.sendRequest("Game","requestDelegate",!0),e.removeEventListener(),e.preloadNextScene()})}else e.gameState==S.gameState.ST_GAME_PREPARE&&T.sendRequest("Game","exitRoom"),e.removeEventListener(),e.preloadNextScene();cc.vv.audioMgr.playSFX("SpecOk")},btnDelegateClick:function(){console.log("btnDelegateClick");this.playerme_.getDelegated()?console.log("托管中。。。。"):this.gameState>=S.gameState.ST_GAME_CallLordOver&&(T.sendRequest("Game","requestDelegate",!0),this.playerme_.setDelegated(!0),this.showCancelDelegate()),cc.vv.audioMgr.playSFX("SpecOk")},showCancelDelegate:function(){var n=this,r=function(){T.sendRequest("Game","cancelDelegate"),n.playerme_.setDelegated(!1),cc.vv.audioMgr.playSFX("SpecOk")};n.CancelDelegate?n.CancelDelegate.show(r):cc.loader.loadRes("prefab/CancelDelegate",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,10);var a=o.getComponent(f("CancelDelegateController"));a.show(r),n.CancelDelegate=a}})},btnSetClick:function(){console.log("btnSetClick"),R.showSetDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnJiPaiQiClick:function(){console.log("btnJiPaiQiClick"),this.showJPQShareGet();this.jpqNode&&(this.jpqNode.getIsActive()?this.jpqNode.showNode(!1):this.jpqNode.showNode(!0)),cc.vv.audioMgr.playSFX("SpecOk")},showJPQShareGet:function(){var e=b.getPropItems();e[5]&&1==e[5]||(console.log(">>>>>>gameState:",this.gameState),this.gameState>S.gameState.ST_GAME_START&&R.showTableShareGet("jipaiqi"))},showJPQ:function(n){var r=this;r.jpqNode?r.jpqNode.show(n):cc.loader.loadRes("prefab/jpqNode",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9);var a=o.getComponent(f("jpqNodeControl"));r.jpqNode=a,r.jpqNode.show(n)}})},btnChatClick:function(){console.log("btnChatClick");var n=this;if(n.ChatDialog)n.ChatDialog.show();else{var r=function(){};cc.loader.loadRes("prefab/chatDialog",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9999);var a=o.getComponent(f("chatControl"));a.show(r),n.ChatDialog=a}})}cc.vv.audioMgr.playSFX("SpecOk")},showMyChat:function(n){var r=this;if(r.myChatBox)return r.myChatBox.show(n),void console.log("myChatBox 已存在");cc.loader.loadRes("prefab/chatBox",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9999);var a=o.getComponent(f("chatBoxControl"));(r.myChatBox=a).show(n)}})},showLeftChat:function(e){var t=this;t.leftChatBoxNode.active=!0,t.leftChatBoxLabel.string=e,this.pokerLayerLeft.stopAllActions();var o=cc.callFunc(function(){t.leftChatBoxNode.active=!1}),a=cc.delayTime(2);this.pokerLayerLeft.runAction(cc.sequence(a,o))},showRightChat:function(e){var t=this;t.rightChatBoxNode.active=!0,t.rightChatBoxLabel.string=e,this.pokerLayerRight.stopAllActions();var o=cc.callFunc(function(){t.rightChatBoxNode.active=!1}),a=cc.delayTime(2);this.pokerLayerRight.runAction(cc.sequence(a,o))},showMyCardtype:function(a){cc.loader.loadRes("animatiom/anim_cardType",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9999),o.getComponent(f("cardTypeControl")).show(a)}})},showLeftCardtype:function(e){var o=this,t="showTips/p_cardtype_1";e==S.CardType.Straight||e==S.CardType.StraightDouble&&(t="showTips/p_cardtype_2"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.leftCardtype.getComponent(cc.Sprite).spriteFrame=t}),o.leftCardtype.enabled=!0;var a=cc.callFunc(function(){o.leftCardtype.enabled=!1}),n=cc.delayTime(2);this.leftCardtype.node.runAction(cc.sequence(n,a))},showRightCardtype:function(e){var o=this,t="showTips/p_cardtype_1";e==S.CardType.Straight||e==S.CardType.StraightDouble&&(t="showTips/p_cardtype_2"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.rightCardtype.getComponent(cc.Sprite).spriteFrame=t}),o.rightCardtype.enabled=!0;var a=cc.callFunc(function(){o.rightCardtype.enabled=!1}),n=cc.delayTime(2);this.rightCardtype.node.runAction(cc.sequence(n,a))},registerEventListener:function(){var e=this;o.AddCustomEvent(S.MyNode,"Queued",e.onQueued,e),o.AddCustomEvent(S.MyNode,"GameReady",e.onGameReady,e),o.AddCustomEvent(S.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.AddCustomEvent(S.MyNode,"SendCard",e.onSendCard,e),o.AddCustomEvent(S.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.AddCustomEvent(S.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.AddCustomEvent(S.MyNode,"CallLord",e.onCallLord,e),o.AddCustomEvent(S.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.AddCustomEvent(S.MyNode,"GrabLord",e.onGrabLord,e),o.AddCustomEvent(S.MyNode,"CallLordOver",e.onCallLordOver,e),o.AddCustomEvent(S.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.AddCustomEvent(S.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.AddCustomEvent(S.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.AddCustomEvent(S.MyNode,"PlayerCancelDelegate",e.onPlayerCancelDelegate,e),o.AddCustomEvent(S.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.AddCustomEvent(S.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.AddCustomEvent(S.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.AddCustomEvent(S.MyNode,"GameComplete",e.onGameComplete,e),o.AddCustomEvent(S.MyNode,"TableUserExit",e.onTableUserExit,e),o.AddCustomEvent(S.MyNode,"InvalidCardNum",e.onInvalidCardNum,e),o.AddCustomEvent(S.MyNode,"SayToTableInfo",e.onSayToTableInfo,e),o.AddCustomEvent(S.MyNode,"ReconnectionData",e.onReconnectionData,e),o.AddCustomEvent(S.MyNode,"PokerTask",e.onPokerTask,e),o.AddCustomEvent(S.MyNode,"OpenRechargeTipResult",e.onOpenRechargeTipResult,e),o.AddCustomEvent(S.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),o.AddCustomEvent(S.MyNode,"RepeatLogin",e.onRepeatLogin,e),o.AddCustomEvent(S.MyNode,"EmoticonData",e.onEmoticonData,e),o.AddCustomEvent(S.MyNode,"SendLzCard",e.onSendLzCard,e),o.AddCustomEvent(S.MyNode,"ShareWxResResult",e.onShareWxResResult,e),o.AddCustomEvent(S.MyNode,"InvalidCardType",e.onInvalidCardType,e),o.AddCustomEvent(S.MyNode,"WatchAdvertisementResult",e.onWatchAdvertisementResult,e)},removeEventListener:function(){var e=this;o.RemoveCustomEvent(S.MyNode,"Queued",e.onQueued,e),o.RemoveCustomEvent(S.MyNode,"GameReady",e.onGameReady,e),o.RemoveCustomEvent(S.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.RemoveCustomEvent(S.MyNode,"SendCard",e.onSendCard,e),o.RemoveCustomEvent(S.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.RemoveCustomEvent(S.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.RemoveCustomEvent(S.MyNode,"CallLord",e.onCallLord,e),o.RemoveCustomEvent(S.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.RemoveCustomEvent(S.MyNode,"GrabLord",e.onGrabLord,e),o.RemoveCustomEvent(S.MyNode,"CallLordOver",e.onCallLordOver,e),o.RemoveCustomEvent(S.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.RemoveCustomEvent(S.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.RemoveCustomEvent(S.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.RemoveCustomEvent(S.MyNode,"PlayerCancelDelegate",e.onPlayerCancelDelegate,e),o.RemoveCustomEvent(S.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.RemoveCustomEvent(S.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.RemoveCustomEvent(S.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.RemoveCustomEvent(S.MyNode,"GameComplete",e.onGameComplete,e),o.RemoveCustomEvent(S.MyNode,"TableUserExit",e.onTableUserExit,e),o.RemoveCustomEvent(S.MyNode,"InvalidCardNum",e.onInvalidCardNum,e),o.RemoveCustomEvent(S.MyNode,"SayToTableInfo",e.onSayToTableInfo,e),o.RemoveCustomEvent(S.MyNode,"ReconnectionData",e.onReconnectionData,e),o.RemoveCustomEvent(S.MyNode,"PokerTask",e.onPokerTask,e),o.RemoveCustomEvent(S.MyNode,"OpenRechargeTipResult",e.onOpenRechargeTipResult,e),o.RemoveCustomEvent(S.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),o.RemoveCustomEvent(S.MyNode,"RepeatLogin",e.onRepeatLogin,e),o.RemoveCustomEvent(S.MyNode,"EmoticonData",e.onEmoticonData,e),o.RemoveCustomEvent(S.MyNode,"SendLzCard",e.onSendLzCard,e),o.RemoveCustomEvent(S.MyNode,"ShareWxResResult",e.onShareWxResResult,e),o.RemoveCustomEvent(S.MyNode,"InvalidCardType",e.onInvalidCardType,e),o.RemoveCustomEvent(S.MyNode,"WatchAdvertisementResult",e.onWatchAdvertisementResult,e)},initPlayerInfo:function(e){var t=this;e.data.time?(S.CallLordTimeout=e.data.time.lord,S.GrabLordTimeout=e.data.time.lord,S.SendCardTimeout=e.data.time.send,S.CheckCardTimeout=e.data.time.giveup,S.AddRatioTime=e.data.time.double):(S.CallLordTimeout=15,S.GrabLordTimeout=15,S.SendCardTimeout=30,S.CheckCardTimeout=10,S.AddRatioTime=5);var o=e.data.isNewGame;if(this.nicknames=[],o){var a=e.data.seatId;t.mySeatId=a,t.playerme_.setMySeatId(a),t.playerme_.setMySeatNum(1);var n={0:e.data[0],1:e.data[1],2:e.data[2]};for(var r in n){var i=n[r],s=i.seatId;if(this.nicknames.push(i.nick),s==a)t.playerme_.setMySeatId(i.seatId),t.playerme_.setRoomId(i.roomId),t.playerme_.setTableId(i.tableId),t.playerme_.setSignature(i.word),t.playerme_.setBuff(i.buff),t.playerme_.setPlay(i.play),t.playerme_.setWin(i.win);else{var l;l=S.getPlayerSeatNum(t.mySeatId,s);var c={};c.uid=parseInt(i.uid),c.nickname=i.nick,c.gender=i.sex,c.coin=parseInt(i.coin),c.gold=parseInt(i.gold),c.propDress=i.propDress,c.myseat=i.seatId,c.roomid=i.roomId,c.tableid=i.tableId,c.signature=i.word,c.buff=i.buff,c.wechatImg=i.img,c.title=i.title,c.emoticon={},c.emoticonItems={},c.play=i.play,c.win=i.win,2==l?(t.left_player.initInfo(c),t.left_player.initBaseInfo(),t.left_player.setMySeatNum(l),t.leftPlayer.active=!0):0==l&&(t.right_player.initInfo(c),t.right_player.initBaseInfo(),t.right_player.setMySeatNum(l),t.rightPlayer.active=!0)}}}else console.log("短线重连 进入游戏-----------")},showCallLord:function(n,r,i,s){var l=this;cc.loader.loadRes("prefab/opratCallLord",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,999);var a=o.getComponent(f("opratCallLordControl"));a.show(n,r,i,s),l.myOpratCall=a}})},showGameResult:function(e){var n=this,r=[],t=e.data;cc.vv.audioMgr.stopMusic(),S.IsContinueGaming=0,b.continueRoomId=0;var i=function(){n.clearTable(),cc.vv.audioMgr.stopMusic(),S.tableInfo&&n.playerme_.getCoin()<S.tableInfo.enterLimit?S.tableInfo.roomId==S.RoomConfig[1].roomId||S.tableInfo.roomId==S.RoomConfig[7].roomId?R.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){T.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框----")}):R.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){n.preloadNextScene()}):(T.sendRequest("Game","startGame",!0),cc.vv.audioMgr.playBGM("MusicEx_Normal"),n.gameResultControl.closeClick(),n.gameResultControl=null)},s=function(){n.clearTable(),cc.vv.audioMgr.stopMusic(),S.tableInfo&&n.playerme_.getCoin()<S.tableInfo.enterLimit?S.tableInfo.roomId==S.RoomConfig[1].roomId||S.tableInfo.roomId==S.RoomConfig[7].roomId?R.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){T.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框----")}):R.showCommonDialog("温馨提示","您的豆子不足该场次！",function(){n.preloadNextScene()}):(T.sendRequest("Game","startGame",!1),cc.vv.audioMgr.playBGM("MusicEx_Normal"),n.gameResultControl.closeClick(),n.gameResultControl=null)},o="prefab/gameResultWin";1==e.data.isWinner[""+n.mySeatId]?cc.vv.audioMgr.playSFX("MusicEx_Win"):(o="prefab/gameResultLose",cc.vv.audioMgr.playSFX("MusicEx_Lose")),n.playerme_.setCoin(t.coins[n.mySeatId]);for(var a=t.rate,l=t.rateMax,c=t.baseCoins,d=0,u=0,h=0;h<3;h++){var p=t.total[""+h],g={isdizhu:n.loadSeatId==h,nickname:n.nicknames[h],difen:c,beishu:a,ledou:p,coin:t.coins[h],rateMax:l};r.push(g),n.mySeatId==h&&(d=p,u=t.stwin[""+h])}console.log(">>>>>myStwin:",u),n.gameResultControl||cc.loader.loadRes(o,function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,999);var a=o.getComponent(f("gameResultControl"));a.show(r,i,s,n.mySeatId,function(){n.gameResultControl=null,n.removeEventListener(),n.preloadNextScene()}),n.gameResultControl=a}});var m=!1;1!=e.data.spring&&1!=e.data.boorSpring||(0<d&&(this.taskComplete=!1,R.showTaskCompleteShare("chuntian")),m=!0),3!=u||m||(R.showTaskCompleteShare("liansheng_3"),m=!0),this.taskComplete&&!m&&(R.showTaskCompleteShare("lequan"),m=S.leQuanShareSucss=!0)},showWatingStartGame:function(){var e=this.WatingStartNode.getComponent(f("watingStarControl"));this.watingStart=e,this.watingStart.hideNode()},onQueued:function(e){var t=this;console.log("进入队列---"),1<t.gameState&&t.gameState<8||(t.gameState=S.gameState.ST_GAME_PREPARE,t.watingStart&&t.watingStart.showNode())},onGameReady:function(e){var t=this;console.log("游戏准备好了---"),t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint(),S.joker="",t.gameState=S.gameState.ST_GAME_START;var o=e.getUserData();t.initPlayerInfo(o)},onTableTimesUpdate:function(e){var t=this;console.log("桌子的倍数发生改变---");var o=e.getUserData(),a=o.data.rate;t.node_tableTimes.string=""+a;var n=o.data.rate_num,r=o.data.rateId,i=S.getPlayerSeatNum(t.mySeatId,r);console.log("seatNum:"+i),console.log("self.gameState:"+t.gameState);var s=1;t.gameState==S.gameState.ST_GAME_Double?(1==i?(s=t.playerme_.getGender(),1<n&&n<=5&&R.showAnimDouble(n,i)):0==i?(s=t.right_player.getGender(),1<n&&n<=5&&R.showAnimDouble(n,i)):2==i?(s=t.left_player.getGender(),1<n&&n<=5&&R.showAnimDouble(n,i)):1<n&&n<=5&&R.showAnimDouble(n,1),t.gameState==S.gameState.ST_GAME_Double&&cc.vv.audioMgr.playCardsEffect(s,"jiabei")):1<n&&n<=5&&R.showAnimDouble(n,1)},onSendCard:function(e){var a=this;if(console.log("发牌, 包括各用户的牌信息---"),a.gameState=S.gameState.ST_GAME_SendCard,a.watingStart&&a.watingStart.hideNode(),a.playerme_.hideHint(),a.left_player.hideHint(),a.right_player.hideHint(),0<a.myPokerNode.length){for(var t=0;t<a.myPokerNode.length;t++)a.myPokerNode[t].getComponent(_).node.removeFromParent();a.myPokerNode=[]}a.myPokerData=[],S.sendCardState=!0;setTimeout(function(){S.sendCardState=!1},1800);var o=e.getUserData();if(a.myPokerData=k.serverCardsToClient(o.data.myCard),a.playerme_.initMyCards(a.myPokerData,a.myPokerNode,a.scene,a.sceneWidth,-1),cc.vv.audioMgr.playSFX("Special_Dispatch"),a.myHandCards=o.data.myCard,0==o.data.showCard[a.mySeatId]){var n=function(e){T.sendRequest("Game","showCard",e)};cc.loader.loadRes("prefab/opratShowCard",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,999),a.opratShowCard=o.getComponent(f("opratShowCardControl")),a.opratShowCard.show(n)}})}},onRefreshPlayerData:function(e){console.log("刷新用户金币---");var t=e.getUserData().data;if(t)for(var o=0;o<t.length;o++){var a=S.getPlayerSeatNum(this.mySeatId,o);1==a?(this.playerme_.setCoin(t[o].coins),b.setCoin(t[o].coins)):0==a?this.right_player.setCoin(t[o].coins):2==a&&this.left_player.setCoin(t[o].coins)}},onTurnCallLord:function(e){var t=this;console.log("轮到谁叫地主---"),t.gameState=S.gameState.ST_GAME_CallLord,this.watingStart&&this.watingStart.hideNode(),t.opratShowCard&&(t.opratShowCard.close(),t.opratShowCard=null),t.opratDouble&&(t.opratDouble.close(),t.opratDouble=null);var o=e.getUserData(),a=S.getPlayerSeatNum(t.mySeatId,o.data.callId);if(1==a){t.showCallLord(S.CallLordTimeout,function(){T.sendRequest("Game","callLord",1),t.myOpratShow&&t.myOpratShow.close()},function(){T.sendRequest("Game","callLord",2),t.myOpratShow&&t.myOpratShow.close()},S.opratType.callLoad),t.playerme_.hideHint()}else 0==a?(t.right_player.showClock(S.CallLordTimeout),t.right_player.hideHint()):2==a&&(t.left_player.showClock(S.CallLordTimeout),t.left_player.hideHint())},onCallLord:function(e){var t=this;console.log("玩家叫地主---");var o=e.getUserData(),a=o.data.beLordId,n=o.data.beLordInfo,r=S.getPlayerSeatNum(t.mySeatId,a);if(1==r){var i=t.playerme_.getGender();1==n?(t.playerme_.showHint(S.hintType.callLoad),cc.vv.audioMgr.playCardsEffect(i,"jiaodizhu")):(t.playerme_.showHint(S.hintType.callLoadNo),cc.vv.audioMgr.playCardsEffect(i,"bujiao"))}else if(0==r){t.right_player.hideClock();i=t.right_player.getGender();1==n?(t.right_player.showHint(S.hintType.callLoad),cc.vv.audioMgr.playCardsEffect(i,"jiaodizhu")):(t.right_player.showHint(S.hintType.callLoadNo),cc.vv.audioMgr.playCardsEffect(i,"bujiao"))}else if(2==r){t.left_player.hideClock();i=t.left_player.getGender();1==n?(t.left_player.showHint(S.hintType.callLoad),cc.vv.audioMgr.playCardsEffect(i,"jiaodizhu")):(t.left_player.showHint(S.hintType.callLoadNo),cc.vv.audioMgr.playCardsEffect(i,"bujiao"))}},onTurnGrabLord:function(e){var t=this;console.log("轮到谁抢地主---");var o=e.getUserData().data.callId,a=S.getPlayerSeatNum(t.mySeatId,o);if(1==a){t.showCallLord(S.CallLordTimeout,function(){T.sendRequest("Game","grabLord",1)},function(){T.sendRequest("Game","grabLord",2)},S.opratType.grabLoad),t.playerme_.hideHint()}else 0==a?(t.right_player.showClock(S.CallLordTimeout),t.right_player.hideHint()):2==a&&(t.left_player.showClock(S.CallLordTimeout),t.left_player.hideHint())},onGrabLord:function(e){var t=this;console.log("玩家抢地主---");var o=e.getUserData(),a=o.data.grabLordId,n=o.data.grabLordInfo,r=S.getPlayerSeatNum(t.mySeatId,a);if(1==r){var i=t.playerme_.getGender();1==n?(t.playerme_.showHint(S.hintType.grabLoad),cc.vv.audioMgr.playCardsEffect(i,"qiangdizhu")):(t.playerme_.showHint(S.hintType.grabLoadNo),cc.vv.audioMgr.playCardsEffect(i,"buqiang"))}else if(0==r){t.right_player.hideClock();i=t.right_player.getGender();1==n?(t.right_player.showHint(S.hintType.grabLoad),cc.vv.audioMgr.playCardsEffect(i,"qiangdizhu")):(t.right_player.showHint(S.hintType.grabLoadNo),cc.vv.audioMgr.playCardsEffect(i,"buqiang"))}else if(2==r){t.left_player.hideClock();i=t.left_player.getGender();1==n?(t.left_player.showHint(S.hintType.grabLoad),cc.vv.audioMgr.playCardsEffect(i,"qiangdizhu")):(t.left_player.showHint(S.hintType.grabLoadNo),cc.vv.audioMgr.playCardsEffect(i,"buqiang"))}},onCallLordOver:function(e){var t=this;console.log("叫地主结束---"),t.gameState=S.gameState.ST_GAME_CallLordOver;setTimeout(function(){t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint()},500);var o=e.getUserData(),a=o.data.lordId,n=o.data.lordCard,r=o.data.lordBonus;t.setTable3Card(n),t.setNodeRate(r);var i=o.data.noteCards;b.setJpqData(i),t.loadSeatId=a;var s=S.getPlayerSeatNum(t.mySeatId,a);if(1==s){if(o.data.myCard&&20==o.data.myCard.length){if(0<t.myPokerNode.length){for(var l=0;l<t.myPokerNode.length;l++)t.myPokerNode[l].getComponent(_).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.playerme_.setCardCount(20),t.playerme_.setLandlord(!0),t.myPokerData=k.serverCardsToClient(o.data.myCard),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth)}t.myHandCards=o.data.myCard}else if(0==s){if(t.right_player.setCardCount(20),t.right_player.setLandlord(!0),o.data.lordShowCard&&20==o.data.lordShowCard.length){if(0<t.rightPokerNode.length){for(l=0;l<t.rightPokerNode.length;l++)t.rightPokerNode[l].getComponent(_).node.removeFromParent();t.rightPokerNode=[]}t.rightPokerData=[],t.rightPokerData=k.serverCardsToClient(o.data.lordShowCard),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)}}else if(2==s&&(t.left_player.setCardCount(20),t.left_player.setLandlord(!0),o.data.lordShowCard&&20==o.data.lordShowCard.length)){if(0<t.leftPokerNode.length){for(l=0;l<t.leftPokerNode.length;l++)t.leftPokerNode[l].getComponent(_).node.removeFromParent();t.leftPokerNode=[]}t.leftPokerData=[],t.leftPokerData=k.serverCardsToClient(o.data.lordShowCard),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)}var c=b.getPropItems();if(t.myHandCards=k.clientCardsToServer(t.myPokerData),c[5]&&1==c[5]){var d=k.getNodeCards(t.myHandCards);d&&t.showJPQ(d)}},onCanDoubleResult:function(e){var a=this;console.log("通知是否可以加倍---");var t=e.getUserData().data.can_double;if(a.gameState=S.gameState.ST_GAME_Double,t&&1==t){var n={arg1:function(){a.playerme_.showHint(S.hintType.waitingDouble),T.sendRequest("Game","addRatio")},arg2:function(){a.playerme_.showHint(S.hintType.waitingDouble),cc.vv.audioMgr.playCardsEffect(a.playerme_.getGender(),"jiabeiNo")}};cc.loader.loadRes("prefab/opratDouble",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,999),a.opratDouble=o.getComponent(f("opratDoubleControl")),a.opratDouble.show(n)}})}},onTurnSendCard:function(e){var t=this;console.log("轮到谁出牌---"),t.gameState=S.gameState.ST_GAME_OutCard,t.playerme_.getShowHintType()==S.hintType.waitingDouble&&t.playerme_.hideHint();var o=e.getUserData().data.callId,a=S.getPlayerSeatNum(t.mySeatId,o);if(1==a)if(t.myOpratShow&&t.myOpratShow.close(),t.playerme_.hideHint(),t.playerme_.clearTableCard(t.dispatchCard),1==t.myHandCards.length){if(console.log("最后一张牌了"),t.mySeatId==t.preSeatId)return void T.sendRequest("Game","sendCard",t.myHandCards);if(t.preSendCards&&1==t.preSendCards.length){var n=t.preSendCards[0],r=t.myHandCards[0],i=k.convertCardToClient(r).showTxt-k.convertCardToClient(n).showTxt;console.log("sub = "+i),0<i?T.sendRequest("Game","sendCard",t.myHandCards):T.sendRequest("Game","giveupSendCard")}else T.sendRequest("Game","giveupSendCard")}else t.onMyOutCard();else 0==a?(t.right_player.showClock(S.SendCardTimeout),t.right_player.hideHint(),t.right_player.clearTableCard(t.rightDispatchCard),t.myOpratShow&&t.myOpratShow.close()):2==a&&(t.left_player.showClock(S.SendCardTimeout),t.left_player.hideHint(),t.left_player.clearTableCard(t.leftDispatchCard),t.myOpratShow&&t.myOpratShow.close())},onPlayerDelegated:function(e){var t=this;console.log("用户托管---");var o=e.getUserData(),a=o.data.trustId,n=(o.data.giveup,S.getPlayerSeatNum(t.mySeatId,a));console.log("用户托管---"+n),1==n?t.playerme_.getDelegated()||(t.showCancelDelegate(),t.playerme_.setDelegated(!0)):0==n?t.right_player.setDelegated(!0):2==n&&t.left_player.setDelegated(!0)},onPlayerCancelDelegate:function(e){console.log("用户取消托管---");var t=e.getUserData().data.trustId,o=S.getPlayerSeatNum(this.mySeatId,t);console.log("用户取消托管---"+o),1==o||(0==o?this.right_player.setDelegated(!1):2==o&&this.left_player.setDelegated(!1))},onPlayerSendCard:function(e){var t=this;console.log("用户出牌---"),t.gameState=S.gameState.ST_GAME_OutCard;var o=e.getUserData(),a=o.data.callId,n=S.getPlayerSeatNum(t.mySeatId,a),r=o.data.noteCards;b.setJpqData(r);var i=o.data.cardType,s=[];""!=S.joker&&(s=o.data.jokto);var l=1;if(1==n)t.playerme_.setCurrentCards(o.data.sendCards),t.mySendCards(o.data.sendCards,s),(c=o.data.sendCards.length)<=(d=t.playerme_.getCardCount())&&t.playerme_.setCardCount(d-c),t.myOpratShow&&t.myOpratShow.close(),l=t.playerme_.getGender();else if(0==n){l=t.right_player.getGender(),t.right_player.setCurrentCards(o.data.sendCards),t.rightSendCards(o.data.sendCards,null,t.right_player.getOpenHandCards(),s);var c=o.data.sendCards.length;0<=(u=(d=t.right_player.getCardCount())-c)&&(t.right_player.setCardCount(u),2==u?(t.right_player.setNode_alarmShow(!0),cc.vv.audioMgr.playCardsEffect(l,"baojing2")):1==u&&(t.right_player.setNode_alarmShow(!0),cc.vv.audioMgr.playCardsEffect(l,"baojing1"))),t.right_player.hideClock()}else if(2==n){l=t.left_player.getGender(),t.left_player.setCurrentCards(o.data.sendCards),t.leftSendCards(o.data.sendCards,null,t.left_player.getOpenHandCards(),s);var d,u;c=o.data.sendCards.length;0<=(u=(d=t.left_player.getCardCount())-c)&&(t.left_player.setCardCount(u),2==u?(t.left_player.setNode_alarmShow(!0),cc.vv.audioMgr.playCardsEffect(l,"baojing2")):1==u&&(t.left_player.setNode_alarmShow(!0),cc.vv.audioMgr.playCardsEffect(l,"baojing1"))),t.left_player.hideClock()}var h=o.data.sendCards,p=!1;if(h&&0<h.length){var g=i;g==S.CardType.StraightThree||g==S.CardType.StraightThreePlusSingle||g==S.CardType.StraightThreePlusPair?R.showAnimFeiJi():g==S.CardType.DoubleKing?(R.showAnimHuoJian(),t.animShakeNode()):g==S.CardType.Bomb||g==S.CardType.SoftBomb||g==S.CardType.LazarilloBomb?(R.showAnimZhaDan(),t.animShakeNode()):g==S.CardType.Straight?p=!0:g==S.CardType.StraightDouble&&(p=!0),p&&(1==n?t.showMyCardtype(g):0==n?t.showRightCardtype(g):2==n&&t.showLeftCardtype(g)),cc.vv.audioMgr.playCardsEffect(l,g,h)}t.preSendCards=o.data.sendCards,t.preSeatId=a,t.preCardType=i,""!=S.joker&&(t.prejokto=s);var m=b.getPropItems();if(t.myHandCards=k.clientCardsToServer(t.myPokerData),m[5]&&1==m[5]){var f=k.getNodeCards(t.myHandCards);f&&t.showJPQ(f)}},onPlayerNotSend:function(e){var t=this;console.log("用户不出牌---"),t.gameState=S.gameState.ST_GAME_OutCard;var o=e.getUserData().data.callId,a=S.getPlayerSeatNum(t.mySeatId,o);if(1==a){t.playerme_.showHint(S.hintType.dont),t.myOpratShow&&t.myOpratShow.close();var n=t.playerme_.getGender();cc.vv.audioMgr.playCardsEffect(n,"buyao")}else if(0==a){t.right_player.showHint(S.hintType.dont),t.right_player.hideClock();n=t.right_player.getGender();cc.vv.audioMgr.playCardsEffect(n,"buyao")}else if(2==a){t.left_player.showHint(S.hintType.dont),t.left_player.hideClock();n=t.left_player.getGender();cc.vv.audioMgr.playCardsEffect(n,"buyao")}},onPlayerShowCard:function(e){var t=this;console.log("用户明牌---");var o=e.getUserData(),a=o.data.showCardId,n=o.data.showCardInfo,r=S.getPlayerSeatNum(t.mySeatId,a);if(console.log("seatNum:"+r),1==r){t.playerme_.setOpenHandCards(!0),0<t.myPokerNode.length&&t.myPokerNode[t.myPokerNode.length-1].getComponent(_).setCardShow(!0);var i=t.playerme_.getGender();cc.vv.audioMgr.playCardsEffect(i,"mingpai")}else if(0==r){t.right_player.setOpenHandCards(!0),t.rightPokerData=k.serverCardsToClient(n),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth);i=t.right_player.getGender();cc.vv.audioMgr.playCardsEffect(i,"mingpai")}else if(2==r){t.left_player.setOpenHandCards(!0),t.leftPokerData=k.serverCardsToClient(n),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth);i=t.left_player.getGender();cc.vv.audioMgr.playCardsEffect(i,"mingpai")}},onGameComplete:function(e){var t=this;console.log("本局结束---"),t.gameState=S.gameState.ST_GAME_BALANCE;var o=e.getUserData();console.log(o.data),1!=o.data.spring&&1!=o.data.boorSpring||R.showAnimChunTian();var a=cc.callFunc(function(){t.showGameResult(o)}),n=cc.delayTime(2);this.node.runAction(cc.sequence(n,a)),this.CancelDelegate&&(console.log("//清理托管弹框"),this.CancelDelegate.close());for(var r=0;r<3;r++){var i=S.getPlayerSeatNum(t.mySeatId,r),s=o.data.cards[r];1==i||(0==i&&!t.right_player.getOpenHandCards()&&0<s.length?(t.rightPokerData=k.serverCardsToClient(s),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)):2==i&&!t.left_player.getOpenHandCards()&&0<s.length&&(t.leftPokerData=k.serverCardsToClient(s),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)))}},onTableUserExit:function(e){console.log("有用户退出 通知桌上的玩家重新进入队列---"),this.gameState=S.gameState.ST_GAME_WAIT_NEXTROUND,this.LazarilloPokerSelected&&(this.LazarilloPokerSelected.closeClick(),this.LazarilloPokerSelected=null)},onInvalidCardNum:function(e){console.log("出的牌不够大 [非法出牌]---");e.getUserData();this.myOpratShow&&this.myOpratShow.chupaiClick(-1)},onInvalidCardType:function(e){console.log("出牌有非法数据 [非法出牌]---"),this.myOpratShow&&this.myOpratShow.chupaiClick(-1)},onSayToTableInfo:function(e){console.log("聊天信息---");var t=e.getUserData(),o=t.data.sayId,a=S.getPlayerSeatNum(this.mySeatId,o),n=t.data.word;1==a?(this.showMyChat(n),cc.vv.audioMgr.playSay(this.playerme_.getGender(),n)):0==a?(this.showRightChat(n),cc.vv.audioMgr.playSay(this.right_player.getGender(),n)):2==a&&(this.showLeftChat(n),cc.vv.audioMgr.playSay(this.left_player.getGender(),n))},onReconnectionData:function(e){console.log("短线重连-------"),S.stopOnMassage=!1;var t=this,o=e.getUserData();console.log(o);if(setTimeout(function(){S.jpqShareSucss?T.sendRequest("System","ShareWxRes",4):S.leQuanShareSucss?T.sendRequest("System","ShareWxRes",5):S.leDouShareSucss&&(T.sendRequest("System","ShareWxRes",3),T.sendRequest("Game","openReliefTip",{}))},1e3),"AUTO_CALL_LORD"==o.data.act||"TURN_CALL_LORD"==o.data.act?t.gameState=S.gameState.ST_GAME_CallLord:"AUTO_GRAB_LORD"==o.data.act||"TURN_GRAB_LORD"==o.data.act?t.gameState=S.gameState.ST_GAME_GrabLord:"AUTO_PLAY_CARD"!=o.data.act&&"TURN_PLAY_CARD"!=o.data.act||(t.gameState=S.gameState.ST_GAME_OutCard),"JOIN_TRIO"!=o.data.act||t.gameState!=S.gameState.ST_GAME_PREPARE){if("WAIT_TOTAL_DONE"==o.data.act&&t.gameState<S.gameState.ST_GAME_BALANCE)R.showCommonDialog("温馨提示","当前牌局已经结束",function(){S.IsContinueGaming=0,b.continueRoomId=0,t.preloadNextScene()});else if("WAIT_TOTAL_DONE"!=o.data.act){t.clearTable(),S.joker=o.data.joker;var a=o.data.lastJokto;""!=S.joker&&(t.prejokto=a);var n={};n.lastCall=o.data.lastCall,n.lastCards=o.data.lastCards,n.noteCards=o.data.noteCards,n.lordId=o.data.lordId,n.noteCards=o.data.lordCard,n.task=o.data.task,n.rate=o.data.rate,t.preSeatId=n.lastCall,o.data.rate&&(t.node_tableTimes.string=""+o.data.rate);var r=n.task.name;if(n.task.coins&&"0"!=n.task.coins?r=r+" 奖"+n.task.coins+"乐豆":n.task.lottery&&"0"!=n.task.lottery?r=r+" 奖"+n.task.lottery+"抽奖数":n.task.tip?r+=n.task.tip:n.task.coupon&&(r=r+" 奖"+n.task.coupon+"乐劵",this.taskRewardNum=n.task.coupon),r){t.node_taskbg.enabled=!0,t.node_taskName.string=r;var i=t.node_taskName.node.width;t.node_taskbg.node.width=i+70}n.act=o.data.act,n.time=o.data.time,n.turnSeat=o.data.turnSeat;var s=S.getPlayerSeatNum(o.data.mySeatId,n.turnSeat);n.data=[];for(var l=0;l<3;l++){var c={};c.cards=o.data["seat"+l+"cards"],c.info=o.data["seat"+l+"info"],c.show=o.data["seat"+l+"show"],c.trust=o.data["seat"+l+"trust"],n.data.push(c),t.nicknames[l]=c.info.nick}if(console.log("players-------"),console.log(n),t.preSendCards=o.data.lastCards,t.preSeatId=o.data.lastCall,t.leftPlayer.active=!0,t.rightPlayer.active=!0,t.mySeatId=o.data.mySeatId,4!=n.lordId){t.loadSeatId=n.lordId,""!=S.joker&&t.setLazarillo_poker(S.joker),t.setTable3Card(o.data.lordCard);var d=o.data.lordBouns;t.setNodeRate(d)}for(l=0;l<3;l++){var u=S.getPlayerSeatNum(t.mySeatId,l),h=n.data[l].cards,p=n.data[l].show,g=n.data[l].info,m=n.data[l].trust;if(1==u){if(0<t.myPokerNode.length){for(l=0;l<t.myPokerNode.length;l++)t.myPokerNode[l].getComponent(_).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.playerme_.setCardCount(h.length),t.playerme_.setOpenHandCards(1==p),t.playerme_.setLandlord(n.lordId==l),t.myPokerData=k.serverCardsToClient(h),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),t.myHandCards=h,(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,f.seatId=g.seatId,f.play=g.play,f.win=g.win,f.uid=g.uid,f.sex=g.sex,t.playerme_.continueInfo(f),0!=m&&(console.log("自己托管中。。。。"),t.playerme_.setDelegated(!0),t.playerme_.getDelegated()&&(console.log("自己托管中。。。。1111"),t.showCancelDelegate()))}else if(0==u){if(1==p){if(0<t.rightPokerNode.length){for(l=0;l<t.rightPokerNode.length;l++)t.rightPokerNode[l].getComponent(_).node.removeFromParent();t.rightPokerNode=[]}t.rightPokerData=[],t.rightPokerData=k.serverCardsToClient(h),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)}t.right_player.setOpenHandCards(1==p),t.right_player.setLandlord(n.lordId==l),(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,f.seatId=g.seatId,f.play=g.play,f.win=g.win,f.uid=g.uid,f.sex=g.sex,t.right_player.continueInfo(f),0!=m&&t.right_player.setDelegated(!0)}else if(2==u){if(1==p){if(0<t.leftPokerNode.length){for(l=0;l<t.leftPokerNode.length;l++)t.leftPokerNode[l].getComponent(_).node.removeFromParent();t.leftPokerNode=[]}t.leftPokerData=[],t.leftPokerData=k.serverCardsToClient(h),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)}var f;t.left_player.setOpenHandCards(1==p),t.left_player.setLandlord(n.lordId==l),(f={}).nickname=g.nick,f.coin=g.coins,f.lequan=g.coupon,f.wechatImg=g.img,f.cardCount=h.length,f.seatId=g.seatId,f.play=g.play,f.win=g.win,f.uid=g.uid,f.sex=g.sex,t.left_player.continueInfo(f),0!=m&&t.left_player.setDelegated(!0)}}var C=S.getPlayerSeatNum(o.data.mySeatId,t.preSeatId);if(1==C?(t.playerme_.setCurrentCards(t.preSendCards),t.mySendCards(t.preSendCards,a)):0==C?(t.right_player.setCurrentCards(t.preSendCards),t.rightSendCards(t.preSendCards,null,t.right_player.getOpenHandCards(),a)):2==C&&(t.left_player.setCurrentCards(t.preSendCards),t.leftSendCards(t.preSendCards,null,t.left_player.getOpenHandCards(),a)),1==s)if("AUTO_CALL_LORD"==n.act){var y=function(){t.myOpratCall&&(t.myOpratCall.close(),t.myOpratCall=null),T.sendRequest("Game","callLord",1)},v=function(){t.myOpratCall&&(t.myOpratCall.close(),t.myOpratCall=null),T.sendRequest("Game","callLord",2)};t.showCallLord(n.time,y,v,S.opratType.callLoad),t.playerme_.hideHint()}else if("AUTO_GRAB_LORD"==n.act){y=function(){t.myOpratCall&&(t.myOpratCall.close(),t.myOpratCall=null),T.sendRequest("Game","grabLord",1)},v=function(){t.myOpratCall&&(t.myOpratCall.close(),t.myOpratCall=null),T.sendRequest("Game","grabLord",2)};t.showCallLord(n.time,y,v,S.opratType.grabLoad),t.playerme_.hideHint()}else"AUTO_PLAY_CARD"==n.act&&(t.myOpratShow&&t.myOpratShow.close(),t.onMyOutCard(n.time),t.playerme_.hideHint(),t.playerme_.clearTableCard(t.dispatchCard));else 0==s?(t.right_player.showClock(n.time),t.right_player.hideHint(),t.right_player.clearTableCard(t.rightDispatchCard)):2==s&&(t.left_player.showClock(n.time),t.left_player.hideHint(),t.left_player.clearTableCard(t.leftDispatchCard))}}else t.watingStart&&t.watingStart.showNode()},onPokerTask:function(e){console.log("触发牌局任务-------");var t=e.getUserData();if(this.node_taskbg.enabled=!0,this.taskComplete=!1,t.data&&0==t.data.is_done){var o=t.data.table_task;t.data.coins?o=o+" 奖"+t.data.coins+"乐豆":t.data.lottery?o=o+" 奖"+t.data.lottery+"抽奖数":t.data.tip?o+=t.data.tip:(o=o+" 奖"+t.data.coupon+"乐劵",this.taskRewardNum=t.data.coupon),this.node_taskName.string=o;var a=this.node_taskName.node.width;this.node_taskbg.node.width=a+70}else this.taskComplete=!0},onOpenRechargeTipResult:function(e){var t=this,o=e.getUserData();console.log(o);var a=o.data.trial_count,n=o.data.trial_cooldown,r="",i=cc.callFunc(function(){0==n?(r="系统第"+(a+1)+"次赠送您1000乐豆。",1==S.TrialShareShow?R.showTableShareGet("jiuji"):R.showCommonDialog("领救济",r,function(){console.log("点击了领取救济按钮"),0==n?T.sendRequest("Game","openReliefTip",{}):t.preloadNextScene()})):(r="今天乐豆已经领完了哦，明天在过来吧！",R.showCommonDialog("温馨提示",r,function(){t.preloadNextScene()}))}),s=cc.delayTime(.5);this.node.runAction(cc.sequence(s,i))},onRepeatLogin:function(e){console.log("您的账号已经在其他地方登陆！");var t=this,o=e.getUserData();console.log(o),R.showCommonDialog("提示","您的账号已经在其他地方登陆！",function(){t.isShow=!1,cc.vv.audioMgr.stopMusic(),cc.director.loadScene("LoadingScene")})},onRefreshDataResult:function(e){console.log("刷新用户信息数据222------");var t=e.getUserData();console.log(t);var o=t;if(o.data&&o.data.coins&&(b.setCoin(o.data.coins),this.playerme_.setCoin(o.data.coins),S.leDouShareSucss)){S.leDouShareSucss=!1;var a=[];a.push({arg1:"ledou",arg2:1e3}),R.showAnimGetProp(a)}if(o.data&&o.data.coupon&&(b.setCoupon(o.data.coupon),this.playerme_.setLeQuan(o.data.coupon)),o.data&&o.data.lottery&&b.setLottery(o.data.lottery),o.data&&o.data.mail_unread&&b.setMailUnread(o.data.mail_unread),o.data&&o.data.weichatgame_task_unaward&&b.setTaskUnReward(o.data.weichatgame_task_unaward),o.data&&o.data.weichatgame_invite_unaward&&b.setShareUnReward(o.data.weichatgame_invite_unaward),o.data&&o.data.checkin_undo&&b.setCheckinUndo(o.data.checkin_undo),o.data&&o.data.task1_unaward&&b.setTask1Unaward(o.data.task1_unaward),o.data&&o.data.task2_unaward&&b.setTask2Unaward(o.data.task2_unaward),o.data&&o.data.charge_rate&&b.setChargeRate(o.data.charge_rate),o.data&&o.data.propDress&&b.setPropDress(o.data.propDress),o.data&&o.data.propItems){b.setPropItems(o.data.propItems);var n=b.getPropItems();if(n[5]&&1==n[5]&&S.jpqShareSucss){console.log("---获得记牌器");setTimeout(function(){var e=[];e.push({arg1:"jipaiqi",arg2:3}),R.showAnimGetProp(e)},500),S.jpqShareSucss=!1}}},onEmoticonData:function(e){console.log("广播表情包------");var t=this,o=e.getUserData(),a=o.data.emoticonData.id,n=S.getPlayerSeatNum(t.mySeatId,o.data.emoticonData.sendSeatId),r=S.getPlayerSeatNum(t.mySeatId,o.data.emoticonData.receiveSeatId),i=cc.p(0,0),s=cc.p(0,0),l="",c="";1==n?i=t.myPlayer.getPosition():0==n?i=t.rightPlayer.getPosition():2==n&&(i=t.leftPlayer.getPosition()),1==r?s=t.myPlayer.getPosition():0==r?s=t.rightPlayer.getPosition():2==r&&(s=t.leftPlayer.getPosition()),1001==a?(l="mf_tuoxie",c="animatiom/anim_tuoxie"):1002==a?(l="mf_xihongshi",c="animatiom/anim_jidan"):1003==a?(l="mf_dianzan",c="animatiom/anim_dianzan"):1004==a&&(l="mf_meigui",c="animatiom/anim_xianhua");var d={};d.beginPos=i,d.endpos=s,d.audioUrl=l,d.prefabUrl=c,t.showEmoticon(d)},showEmoticon:function(a){var e=a.prefabUrl;console.log("prefabUrl:"+e),cc.loader.loadRes(e,function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,9999),o.getComponent(f("expressionControl")).show(a)}})},onSendLzCard:function(e){console.log("发送癞子牌------");var t=this,o=e.getUserData(),a=o.data.joker;if(S.joker=a,""!=S.joker&&this.setLazarillo_poker(a),this.setTable3Card(this.table3Cards),o.data.myCard){if(0<t.myPokerNode.length){for(var n=0;n<t.myPokerNode.length;n++)t.myPokerNode[n].getComponent(_).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.myPokerData=k.serverCardsToClient(o.data.myCard),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),t.myHandCards=o.data.myCard}var r=o.data.showCardInfo;if(console.log("showCardInfo>>>",r),r)for(var i=0;i<r.length;i++){var s=S.getPlayerSeatNum(t.mySeatId,i);if(1==s);else if(0==s){if(r[i]&&1<r[i].length){if(0<t.rightPokerNode.length){for(n=0;n<t.rightPokerNode.length;n++)t.rightPokerNode[n].getComponent(_).node.removeFromParent();t.rightPokerNode=[]}t.rightPokerData=[],console.log(i+" : ",r[i]),t.rightPokerData=k.serverCardsToClient(r[i]),t.right_player.playerRightShowCard(t.rightPokerData,t.rightPokerNode,t.pokerLayerRight,t.sceneWidth)}}else if(2==s&&r[i]&&1<r[i].length){if(0<t.leftPokerNode.length){for(n=0;n<t.leftPokerNode.length;n++)t.leftPokerNode[n].getComponent(_).node.removeFromParent();t.leftPokerNode=[]}t.leftPokerData=[],console.log(i+" : ",r[i]),t.leftPokerData=k.serverCardsToClient(r[i]),t.left_player.playerLeftShowCard(t.leftPokerData,t.leftPokerNode,t.pokerLayerLeft,t.sceneWidth)}}},onShareWxResResult:function(e){console.log("微信分享成功发送结果------");var t=this,o=e.getUserData();if(console.log(o),S.leQuanShareSucss){S.leQuanShareSucss=!1;setTimeout(function(){console.log("taskRewardNum = ",t.taskRewardNum);var e=[];e.push({arg1:"lequan",arg2:3}),R.showAnimGetProp(e)},500)}},onWatchAdvertisementResult:function(e){console.log("-----看完广告领奖");var t=e.getUserData().data,o=[];if(t.coins){var a={arg1:"ledou",arg2:t.coins};o.push(a)}if(t.coupon){a={arg1:"lequan",arg2:t.coupon};o.push(a)}if(t.noteCards){a={arg1:"jipaiqi",arg2:t.coupon};o.push(a)}0<o.length&&R.showAnimGetProp(o),S.adCdTime=t.watch_advertisement_cd},preloadNextScene:function(){cc.director.preloadScene("HallScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("HallScene")})},animShakeNode:function(){var e=this;if(!this.animShake){this.animShake=!0;var t=this.scene.x,o=this.scene.y,a=cc.moveTo(.08,t-5,o-5),n=cc.moveTo(.08,t+5,o+5),r=cc.moveTo(.08,t-5,o+5),i=cc.moveTo(.08,t+5,o-5),s=cc.moveTo(.08,t-3,o-3),l=cc.moveTo(.08,t+3,o+3),c=cc.moveTo(.08,t-3,o+3),d=cc.moveTo(.08,t+3,o-3),u=cc.moveTo(.08,t,o),h=cc.callFunc(function(){e.animShake=!1});this.scene.runAction(cc.sequence(a,n,r,i,s,l,c,d,u,h))}},showLazarilloPokerSelected:function(n){var r=this;if(!r.LazarilloPokerSelected){var i=function(){r.LazarilloPokerSelected=null};cc.loader.loadRes("prefab/LazarilloPokerSelected",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o,1e4);var a=o.getComponent(f("LazarilloPokerSelectedControl"));a.show(n,i),r.LazarilloPokerSelected=a}})}},initWxVideoAd:function(){if("undefined"!=typeof wx){var e=S.rewardedVideoAd;e.onLoad(function(){console.log("激励视频 广告加载成功")}),e.onError(function(e){console.log("激励视频 拉取失败"+e)}),e.onClose(function(e){e&&e.isEnded||void 0===e?(console.log("正常播放结束，可以下发游戏奖励"),T.sendRequest("System","WatchAdvertisement",S.rewardedVideoType)):console.log("播放中途退出，不下发游戏奖励"),cc.vv.audioMgr.playBGM("MusicEx_Welcome")}),this.rewardedVideoAd=e}}}),cc._RF.pop()},{CancelDelegateController:"CancelDelegateController",CardUtil:"CardUtil",EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",LazarilloCardUtil:"LazarilloCardUtil",LazarilloPokerSelectedControl:"LazarilloPokerSelectedControl",Player:"Player",PlayerDetailModel:"PlayerDetailModel",PokerControl:"PokerControl",cardTypeControl:"cardTypeControl",chatBoxControl:"chatBoxControl",chatControl:"chatControl",config:"config",dialogManager:"dialogManager",expressionControl:"expressionControl",gameResultControl:"gameResultControl",jpqNodeControl:"jpqNodeControl",opratCallLordControl:"opratCallLordControl",opratDoubleControl:"opratDoubleControl",opratOutCardControl:"opratOutCardControl",opratShowCardControl:"opratShowCardControl",watingStarControl:"watingStarControl"}],HTTP:[function(e,t,o){"use strict";cc._RF.push(t,"edffdUfs8ZMY4eGLNYRnj/H","HTTP");var a="http://39.108.156.104:9000",l=cc.Class({extends:cc.Component,statics:{sessionId:0,userId:0,master_url:a,url:a,sendRequest:function(e,t,o,a){var n=cc.loader.getXMLHttpRequest();n.timeout=5e3;var r="?";for(var i in t)"?"!=r&&(r+="&"),r+=i+"="+t[i];null==a&&(a=l.url);var s=a+e+encodeURI(r);return console.log("RequestURL:"+s),n.open("POST",s,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===n.readyState&&200<=n.status&&n.status<300){console.log("http res("+n.responseText.length+"):"+n.responseText);try{var e=JSON.parse(n.responseText);null!==o&&o(e)}catch(e){console.log("err:"+e)}finally{cc.vv&&cc.vv.wc}}},cc.vv&&cc.vv.wc,n.send(),n}}});cc._RF.pop()},{}],HallCanvasControl:[function(e,t,o){"use strict";cc._RF.push(t,"7b0e5TdvIVGPocizZ83oGuj","HallCanvasControl");var a=e("config"),n=(e("dialogManager"),e("GameNetMgr"));cc.Class({extends:cc.Component,properties:{hallLayer:{default:null,type:cc.Node},roomLayer:{default:null,type:cc.Node}},onLoad:function(){cc.game.on(cc.game.EVENT_HIDE,function(){console.log("游戏进入后台"),cc.vv.audioMgr.stopMusic()},this),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("重新返回游戏"),cc.vv.audioMgr.playBGM("MusicEx_Welcome"),setTimeout(function(){a.leDouShareSucss&&(n.sendRequest("System","ShareWxRes",3),n.sendRequest("Game","openReliefTip",{}))},1e3)},this),cc.vv.audioMgr.playBGM("MusicEx_Welcome")},start:function(){this.hallLayer.active=!0,this.roomLayer.active=!1},btnRoom1Click:function(){console.log("欢乐场"),a.curRoomModelId=a.ModelId.normal,this.hallLayer.active=!1,this.roomLayer.active=!0,cc.vv.audioMgr.playSFX("SpecOk")},btnRoom2Click:function(){console.log("赖子场"),a.curRoomModelId=a.ModelId.lazarillo,this.hallLayer.active=!1,this.roomLayer.active=!0,cc.vv.audioMgr.playSFX("SpecOk")},roomBackHall:function(){console.log("反回大厅"),this.hallLayer.active=!0,this.roomLayer.active=!1,cc.vv.audioMgr.playSFX("SpecOk")},loadSubpackage:function(){"undefined"!=typeof wx&&(wx.loadSubpackage?wx.loadSubpackage({name:"stage1",success:function(e){console.log("分包加载成功",e)},fail:function(e){console.log("分包加载失败",e)}}).onProgressUpdate(function(e){console.log("下载进度",e.progress),console.log("已经下载的数据长度",e.totalBytesWritten),console.log("预期需要下载的数据总长度",e.totalBytesExpectedToWrite)}):console.log("没有分包加载这个接口"))}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",config:"config",dialogManager:"dialogManager"}],HallLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"ca1bfsOJVRIfZ+JaI0gWh+N","HallLayerControl");var n=e("dialogManager"),a=e("PlayerDetailModel"),r=e("EventHelper"),i=e("config"),s=e("GameNetMgr"),l=e("Events");cc.Class({extends:cc.Component,properties:{taskTip:{default:null,type:cc.Sprite},mailTip:{default:null,type:cc.Sprite},shareTip:{default:null,type:cc.Sprite},btn_videoAd:{default:null,type:cc.Sprite},ad_time:{default:null,type:cc.Label}},start:function(){var e=this;if(this.taskTip.enabled=!1,this.mailTip.enabled=!1,this.shareTip.enabled=!1,this.ad_time.string="",this.timeCount=0,this.adCanTouch=!0,this.btn_videoAd.enabled=!1,0<a.getTaskUnReward()&&(this.taskTip.enabled=!0),0<a.getMailUnread()&&(this.mailTip.enabled=!0),0<a.getShareUnReward()&&(this.shareTip.enabled=!0),r.AddCustomEvent(i.MyNode,"RefreshDataResult",e.onRefreshDataResult,e),r.AddCustomEvent(i.MyNode,"WatchAdvertisementResult",e.onWatchAdvertisementResult,e),0!=a.continueRoomId){var t=cc.callFunc(function(){var e={};e.roomId=a.continueRoomId,s.sendRequest("Game","loginRoom",e)}),o=cc.delayTime(.5);this.node.runAction(cc.sequence(o,t)),r.AddCustomEvent(i.MyNode,l.Network.LoginRoomResult,e.onLoginRoomResult,e)}i.firstLogin&&(i.firstLogin=!1,n.showShareDialog()),1==i.showAd&&(this.btn_videoAd.enabled=!0),this.initWxVideoAd()},onEnable:function(){console.log(" HallLayer onEnable"),1<i.adCdTime&&(this.btn_videoAd.node.color=new cc.Color(218,218,218),this.adCanTouch=!1)},onDisable:function(){console.log(" HallLayer onDisable")},initWxVideoAd:function(){if("undefined"!=typeof wx){var e=null;1<i.adCdTime&&(this.btn_videoAd.node.color=new cc.Color(218,218,218),this.adCanTouch=!1),this.timeCount=i.adCdTime,this.schedule(function(){0<this.timeCount&&(this.timeCount-=1,this.ad_time.string=this.showTimes(this.timeCount),0==this.timeCount&&(this.ad_time.string="",this.btn_videoAd.node.color=new cc.Color(255,255,255),this.adCanTouch=!0))},1),i.rewardedVideoAd||((e=wx.createRewardedVideoAd({adUnitId:"adunit-5e51a762e521fda5"})).onLoad(function(){console.log("激励视频 广告加载成功")}),e.onError(function(e){console.log("激励视频 拉取失败"+e)}),e.onClose(function(e){e&&e.isEnded||void 0===e?(console.log("正常播放结束，可以下发游戏奖励"),s.sendRequest("System","WatchAdvertisement",i.rewardedVideoType),console.log(">>>>>rewardedVideoType:",i.rewardedVideoType),1==i.rewardedVideoType&&i.videoEndFuc&&i.videoEndFuc()):console.log("播放中途退出，不下发游戏奖励")}),i.rewardedVideoAd=e)}},showTimes:function(e){var t=Math.floor(e/60),o=e-60*t;return(0==t?"00":t<10?"0"+t:""+t)+":"+(0==o?"00":o<10?"0"+o:""+o)},onDestroy:function(){console.log(" HallLayer Destroy")},onLoginRoomResult:function(e){console.log("登陆房间回掉---");var t=e.getUserData();this.handleLoginRoomResult(t)},preloadNextScene:function(){r.RemoveCustomEvent(i.MyNode,l.Network.LoginRoomResult,this.onLoginRoomResult,this),cc.director.preloadScene("GameScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("GameScene")})},onRefreshDataResult:function(e){var t=e.getUserData();console.log("onRefreshDataResult  33333"),t.data&&(0<t.data.mail_unread?this.mailTip.enabled=!0:this.mailTip.enabled=!1),t.data&&(0<t.data.weichatgame_task_unaward?this.taskTip.enabled=!0:this.taskTip.enabled=!1),t.data&&(0<t.data.weichatgame_invite_unaward?this.shareTip.enabled=!0:this.shareTip.enabled=!1)},btnSetClick:function(){console.log("btnSetClick"),n.showSetDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnTaskClick:function(){console.log("btnTaskClick"),n.showTaskDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnEmailClick:function(){console.log("btnEmailClick"),n.showEmailDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnBagClick:function(){console.log("btnBagClick"),n.showBagDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnShopClick:function(){console.log("btnShopClick")},btnShareClick:function(){console.log("btnShareClick"),n.showShareDialog(),cc.vv.audioMgr.playSFX("SpecOk")},btnVideoAdClick:function(){if(console.log("btnVideoAdClick"),this.adCanTouch){if(cc.vv.audioMgr.playSFX("SpecOk"),"undefined"!=typeof wx&&(i.rewardedVideoType=1,i.rewardedVideoAd)){var e=this;i.videoEndFuc=function(){e.btn_videoAd.node.color=new cc.Color(218,218,218),e.adCanTouch=!1},i.rewardedVideoAd.show().then()}}else console.log("cd中。。。。。。。。")},btnKefuClick:function(){console.log("btnKefuClick"),cc.vv.audioMgr.playSFX("SpecOk"),"undefined"!=typeof wx&&wx.openCustomerServiceConversation({success:function(e){console.log("吊起会话成功>>>>>>>")},fail:function(e){console.log("吊起会失败>>>>>>>")},complete:function(e){console.log("会话完成>>>>>>>>")}})},handleLoginRoomResult:function(e){console.log("--进入上局未完的普通牌桌>>>");var t=e.payload,o={};o.baseCoins=t.data.baseCoins,o.rate=t.data.rate,o.limitCoins=t.data.limitCoins,o.rake=t.data.rake,o.roomId=t.data.roomId,o.rateMax=t.data.rateMax,o.enterLimit=t.data.enterLimit,o.emoticon=t.data.emoticon,o.emoticon_items=t.data.emoticon_items,o.advert=t.data.advert,t.data.modelId&&(o.modelId=t.data.modelId),o.buys=t.data.buys,o.givecoins=null,t.data.isContinue&&1==parseInt(t.data.isContinue)&&(o.isContinueGaming=!0);var a=t.data.sendCoins,n=t.data.sendCoinsTimes,r=t.data.sendCoinsTimesToday;a&&0<a&&(o.givecoins={sended:a,totalTimes:n,curTimes:r},console.log("刷新用户乐豆乐券")),i.tableInfo=o,console.log(i.tableInfo),i.IsContinueGaming=1,this.preloadNextScene()},onWatchAdvertisementResult:function(e){console.log("-----看完广告领奖");var t=e.getUserData().data,o=[];if(t.coins){var a={arg1:"ledou",arg2:t.coins};o.push(a)}if(t.coupon){a={arg1:"lequan",arg2:t.coupon};o.push(a)}if(t.noteCards){a={arg1:"jipaiqi",arg2:t.noteCards};o.push(a)}0<o.length&&n.showAnimGetProp(o),i.adCdTime=t.watch_advertisement_cd,this.timeCount=i.adCdTime}}),cc._RF.pop()},{EventHelper:"EventHelper",Events:"Events",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],JpqGetControl:[function(e,t,o){"use strict";cc._RF.push(t,"7f959ifeRhOMIBxQTM28fVR","JpqGetControl");var a=e("GameNetMgr"),n=e("PlayerDetailModel"),r=e("config");cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_cancel:{default:null,type:cc.Node},btn_enter:{default:null,type:cc.Node,opentype:"share"}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,a=e.arg3,n=e.arg4;this.title.string=t,this.content.string=o,n||(this.btn_cancel.active=!1,this.btn_enter.x=0),this.enterClick=a,this.cancelClick=n},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnCancelClick:function(){console.log("btn1 click"),this.cancelClick&&this.cancelClick(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnEnterClick:function(){console.log("btn2 click");var e=r.getRandom(1),t=r.shareTxt.jipaiqi[e];console.log(">>>shareTxt:",t);var o=r.getShareImgPath("jipaiqi");console.log(">>>shareImg:",o),wx.shareAppMessage({title:t,imageUrl:o,query:"key="+n.uid,success:function(e){console.log("---转发成功!!!"),console.log(e),a.sendRequest("System","ShareWxRes",4)},fail:function(e){console.log("---转发失败!!!")}}),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],LazarilloCardListControl:[function(e,t,o){"use strict";cc._RF.push(t,"0f81dFeq5ZMW7N2Emr13L4l","LazarilloCardListControl");var h=e("PokerControl"),p=e("config"),g=e("CardUtil"),a=e("GameNetMgr");cc.Class({extends:cc.Component,properties:{pokerCard:{default:null,type:cc.Prefab}},onLoad:function(){this.index=-1},start:function(){},show:function(e,t,o){this.index=t,this.lazCards=e,this.parentNode=o;for(var a=e[0],n=g.serverCardsToClient(a),r=e[1],i=0,s=g.serverCardValueToClient(p.joker),l=0;l<n.length;l++){var c=cc.instantiate(this.pokerCard);c.parent=this.node,c.scale=.3;var d=c.getComponent(h);if(n[l].canTouch=!1,r[i]&&n[l].showTxt==s){var u=g.serverCardValueToClient(r[i]);d.convertLazarillo(u),i++}else d.showPoker(n[l])}},Click:function(){if(console.log("cardlist click"),-1!=this.index){console.log("index = ",this.index);for(var e=this.lazCards[1],t=0;t<e.length;t++)e[t]=g.serverCardValueToServer(e[t]);a.sendRequest("Game","sendCard",{0:this.lazCards[0],1:e}),this.parentNode&&(console.log("-----parentNode.closeClick"),this.parentNode.closeClick())}}}),cc._RF.pop()},{CardUtil:"CardUtil",GameNetMgr:"GameNetMgr",PokerControl:"PokerControl",config:"config"}],LazarilloCardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"cfc00zTG3FGgL4E2ZZPOFFW","LazarilloCardUtil");var q=e("config"),X=e("PopCardUtil"),H=e("CardUtil"),k=(e("helper"),{get_big_tips_cards:function(e,t){var o=[];console.log("------获取大于上家的赖子牌组合"),console.log("cardlist",e),console.log("preCardType",t);for(var a=H.serverCardValueToClient(q.joker),n=[],r=0;r<e.length;r++){var i=e[r][0],s=e[r][1];console.log(">>>cards",i),console.log(">>>jokto",s);for(var l=0,c=[],d=0;d<i.length;d++){var u=i[d].substring(1),h=H.serverCardValueToClient(u);if(s[l]&&h==a){var p=H.serverCardValueToClient(s[l]);c.push(p),l++}else c.push(h)}c.sort(q.arrayUp),console.log(">>>>tempcards",c);var g=H.get_topCard_type(c),m={cardlist:e[r],cardstype:g};n.push(m)}console.log(">>>newCardlist",n);for(r=0;r<n.length;r++){var f=n[r].cardstype;(f.type==t.type&&f.rank>t.rank||88==f.type)&&o.push(n[r].cardlist)}return console.log(">>>return_cards",o),o},get_effective_tips_cards:function(e,t){var o=[];if(!e)return o;var a=H.serverCardsToClient(e);t=H.serverCardValueToClient(t);var n=[],r=[];for(var i in a){a[i].showTxt==t?n.push(a[i]):r.push(a[i])}if(!(0<n.length&&0<r.length)){var s={0:e,1:[]};return o.push(s),o}var l=n.length,c=r.length+l;if(2==c)o=k.get_pair_lazarillo_cards(c,r,t,l,e);else if(3==c)o=k.get_three_lazarillo_cards(c,r,t,l,e);else if(4==c){var d=k.get_three_single_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_bomb_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i]}else if(5==c){d=k.get_three_pair_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_straight_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i]}else if(6==c){d=k.get_four_single_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_straight_double_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];for(var i in d=[],d=k.get_straight_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];d=[];var u=2;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThree))o[o.length]=d[i]}else if(7==c||11==c)o=k.get_straight_lazarillo_cards(c,r,t,l,e);else if(8==c){d=k.get_four_pair_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_straight_double_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];for(var i in d=[],d=k.get_straight_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];d=[];u=2;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusSingle))o[o.length]=d[i]}else if(9==c){d=k.get_straight_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];d=[];u=3;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThree))o[o.length]=d[i]}else if(10==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_straight_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];d=[];u=2;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusPair))o[o.length]=d[i]}else if(12==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];for(var i in d=[],d=k.get_straight_lazarillo_cards(c,r,t,l,e))o[o.length]=d[i];d=[];u=4;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThree))o[o.length]=d[i];for(var i in d=[],u=3,d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusSingle))o[o.length]=d[i]}else if(13==c);else if(14==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i]}else if(15==c){u=5,d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThree);for(var i in d)o[o.length]=d[i];for(var i in d=[],u=3,d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusPair))o[o.length]=d[i]}else if(16==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];d=[];u=4;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusSingle))o[o.length]=d[i]}else if(17==c);else if(18==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];d=[];u=6;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThree))o[o.length]=d[i]}else if(19==c);else if(20==c){d=k.get_straight_double_lazarillo_cards(c,r,t,l,e);for(var i in d)o[o.length]=d[i];d=[];u=5;for(var i in d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusSingle))o[o.length]=d[i];for(var i in d=[],u=4,d=k.get_straight_three_lazarillo_cards(u,r,t,l,e,q.CardType.StraightThreePlusPair))o[o.length]=d[i]}return o},checkTopCardsHasKing:function(e){for(var t=0,o=0;o<e.length;o++)"00"!=e[o]&&"01"!=e[o]||t++;return t},get_pair_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;if(t[0].showTxt<=H.cardGrade[2]){var s=H.serverCardValueToServer(t[0].showTxt);i.push(s);var l={0:n,1:i};r.push(l)}return console.log("---赖子组合成对子的值"),console.log(r),r},get_three_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle(),d=X.getPair(),u=c.count,h=d.count,p=0,g=[];if(1==u&&2==a?p=c.cards[0][0]:1==h&&1==a&&(p=d.cards[0][0]),p){for(s=0;s<a;s++)g.push(p);var m={0:n,1:g};r.push(m)}return console.log("---赖子组合成三张的值"),console.log(r),r},get_three_single_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[],s=k.checkTopCardsHasKing(n);if(console.log("kingCount:"+s),1<s)return r;for(var l=0;l<t.length;l++)i.push(t[l].showTxt);var c=X.getSameCards(i);X.setSameVulueCardCount(c);var d=X.getSingle(),u=X.getPair(),h=X.getThree(),p=d.count,g=u.count,m=h.count,f={};if(3==a)1==p&&(f={0:n,1:[]},r.push(f),0==s&&(f={0:n,1:[d.cards[0][0],d.cards[0][0]]},r.push(f)));else if(2==a){if(1==g)f={0:n,1:[u.cards[0][0]]},r.push(f);else if(2==p)if(console.log(d.cards[0][0],d.cards[1][0]),d.cards[0][0]==H.cardGrade.g||d.cards[0][0]==H.cardGrade.G){var C=[];for(l=0;l<a;l++)C.push(d.cards[1][0]);f={0:n,1:C},r.push(f)}else if(d.cards[1][0]==H.cardGrade.g||d.cards[1][0]==H.cardGrade.G){for(C=[],l=0;l<a;l++)C.push(d.cards[0][0]);f={0:n,1:C},r.push(f)}else for(l=0;l<p;l++){C=[];for(var y=0;y<a;y++)C.push(d.cards[l][0]);f={0:n,1:C},r.push(f)}}else 1==a&&(1==m?(f={0:n,1:[]},r.push(f)):1==g&&1==p&&(f={0:n,1:[u.cards[0][0]]},r.push(f)));return console.log("---赖子组合成三带一的值"),console.log(r),r},get_three_pair_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle(),d=X.getPair(),u=X.getThree(),h=c.count,p=d.count,g=u.count,m={};return 4==a?1==h&&(m={0:n,1:[c.cards[0][0]]},r.push(m),m={0:n,1:[c.cards[0][0],c.cards[0][0]]},r.push(m)):3==a?1==p?(m={0:n,1:[]},r.push(m),m={0:n,1:[d.cards[0][0]]},r.push(m)):2==h&&(m={0:n,1:[c.cards[0][0],c.cards[0][0],c.cards[1][0]]},r.push(m),m={0:n,1:[c.cards[1][0],c.cards[1][0],c.cards[0][0]]},r.push(m)):2==a?1==g?(m={0:n,1:[]},r.push(m)):1==p&&1==h&&(m={0:n,1:[d.cards[0][0],c.cards[0][0]]},r.push(m),m={0:n,1:[c.cards[0][0],c.cards[0][0]]},r.push(m)):1==a&&(1==g&&1==h?(m={0:n,1:[c.cards[0][0]]},r.push(m)):2==p&&(m={0:n,1:[d.cards[0][0]]},r.push(m),m={0:n,1:[d.cards[1][0]]},r.push(m))),console.log("---赖子组合成三带一对的值"),console.log(r),r},get_bomb_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle(),d=X.getPair(),u=X.getThree(),h=c.count,p=d.count,g=u.count,m={},f=0,C=[];if(1==h&&3==a?f=c.cards[0][0]:1==p&&2==a?f=d.cards[0][0]:1==g&&1==a&&(f=u.cards[0][0]),f){for(s=0;s<a;s++)C.push(f);m={0:n,1:C},r.push(m)}return console.log("---赖子组合成四炸的值"),console.log(r),r},get_four_single_lazarillo_cards:function(e,t,o,a,n){for(var r=[],i=[],s=k.checkTopCardsHasKing(n),l=0;l<t.length;l++)i.push(t[l].showTxt);var c=X.getSameCards(i);X.setSameVulueCardCount(c);var d=X.getSingle(),u=X.getPair(),h=X.getThree(),p=X.getFour(),g=d.count,m=u.count,f=h.count,C=p.count,y={};if(4==a)1!=m&&2!=g||(y={0:n,1:[]},r.push(y));else if(3==a){if(1==f)y={0:n,1:[h.cards[0][0]]},r.push(y);else if(1==m&&1==g)y={0:n,1:[u.cards[0][0],u.cards[0][0]]},r.push(y),s||(y={0:n,1:[d.cards[0][0],d.cards[0][0],d.cards[0][0]]},r.push(y));else if(3==g)for(var v in d){var _=d.cards[v][0];if(_==H.cardGrade.g||_==H.cardGrade.G);else{var S=[];for(l=1;l<a;l++)S.push(_);y={0:n,1:S},r.push(y)}}}else 2==a?1==C?(y={0:n,1:[]},r.push(y)):1==f&&1==g?(y={0:n,1:[h.cards[0][0]]},r.push(y)):2==m?(y={0:n,1:[u.cards[0][0],u.cards[0][0]]},r.push(y),y={0:n,1:[u.cards[1][0],u.cards[1][0]]},r.push(y)):1==m&&2==g&&(y={0:n,1:[u.cards[0][0],u.cards[0][0]]},r.push(y)):1==a&&(1==C&&1==g?(y={0:n,1:[]},r.push(y)):1==f&&1==m?(y={0:n,1:[h.cards[0][0]]},r.push(y)):1==f&&2==g&&(y={0:n,1:[h.cards[0][0]]},r.push(y)));return console.log("---赖子组合成四带二张的值"),console.log(r),r},get_four_pair_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle(),d=X.getPair(),u=X.getThree(),h=X.getFour(),p=c.count,g=d.count,m=u.count,f=h.count,C={};return 4==a?1==f?(C={0:n,1:[]},r.push(C)):1==m&&1==p?(C={0:n,1:[u.cards[0][0],c.cards[0][0]]},r.push(C)):2==g?(C={0:n,1:[]},r.push(C),C={0:n,1:[d.cards[0][0],d.cards[0][0]]},r.push(C),C={0:n,1:[d.cards[1][0],d.cards[1][0]]},r.push(C)):1!=g&&2!=p||(C={0:n,1:[d.cards[0][0],d.cards[0][0],c.cards[0][0],c.cards[1][0]]},r.push(C)):3==a?1==f&&1==p?(C=h.cards[0][0]>o?{0:n,1:[c.cards[0][0]]}:{0:n,1:[c.cards[0][0],c.cards[0][0],c.cards[0][0],c.cards[0][0]]},r.push(C)):1==m&&1==g?(C=u.cards[0][0]>d.cards[0][0]?{0:n,1:[u.cards[0][0]]}:{0:n,1:[d.cards[0][0],d.cards[0][0],u.cards[0][0]]},r.push(C)):1==m&&2==p?(C={0:n,1:[u.cards[0][0],c.cards[0][0],c.cards[1][0]]},r.push(C)):2==g&&1==p&&(C={0:n,1:[d.cards[0][0],d.cards[0][0],c.cards[0][0]]},r.push(C),C={0:n,1:[d.cards[1][0],d.cards[1][0],c.cards[0][0]]},r.push(C)):2==a?1==f&&1==g?(C=h.cards[0][0]>d.cards[0][0]?{0:n,1:[]}:{0:n,1:[d.cards[0][0],d.cards[0][0]]},r.push(C)):1==f&&2==p?(C={0:n,1:[c.cards[0][0],c.cards[1][0]]},r.push(C)):2==m?(C=u.cards[0][0]>u.cards[1][0]?{0:n,1:[u.cards[0][0],u.cards[1][0]]}:{0:n,1:[u.cards[1][0],u.cards[0][0]]},r.push(C)):1==m&&1==g&&1==p?(C={0:n,1:[u.cards[0][0],c.cards[0][0]]},r.push(C)):3==g&&(C={0:n,1:[d.cards[0][0],d.cards[0][0]]},r.push(C),C={0:n,1:[d.cards[1][0],d.cards[1][0]]},r.push(C),C={0:n,1:[d.cards[2][0],d.cards[2][0]]},r.push(C)):1==a&&(1==f&&1==g&&1==p?(C={0:n,1:[c.cards[0][0]]},r.push(C)):1==m&&2==g&&(C={0:n,1:[u.cards[0][0]]},r.push(C))),console.log("---赖子组合成四带二对的值"),console.log(r),r},get_straight_three_lazarillo_cards:function(e,t,o,a,n,r){for(var i=[],s=[],l=0;l<t.length;l++)s.push(t[l].showTxt);var c=X.getSameCards(s);X.setSameVulueCardCount(c);var d=X.getSingle(),u=X.getPair(),h=X.getThree(),p=X.getFour(),g=d.count,m=u.count,f=h.count,C=p.count,y={},v=[],_=[],S=[];if(0<g)for(var k in d.cards){(R=d.cards[k][0])==H.cardGrade.g||R==H.cardGrade.G?S.push(R):v.push(R),_.push(R)}if(0<m)for(var k in u.cards){var R=u.cards[k][0];v.push(R);for(l=0;l<2;l++)_.push(R)}if(0<f)for(var k in h.cards){R=h.cards[k][0];v.push(R);for(l=0;l<3;l++)_.push(R)}if(0<C)for(var k in p.cards){R=p.cards[k][0];v.push(R);for(l=0;l<4;l++)_.push(R)}v.sort(q.arrayUp);var b=0,T=0;0<v.length&&(b=v[0]>o?o:v[0],T=v[v.length-1]>o?v[v.length-1]:o);var w=[];for(l=3;l<=H.cardGrade[1];l++)if(b-1<=l&&l<=T&&l+(e-1)<=H.cardGrade[1]){for(var I=[l,l,l],N=1;N<e;N++)for(var M=0;M<3;M++)I[I.length]=l+N;w.push(I)}var P=[];for(var D in w){var L=w[D],G=[];for(M=0;M<L.length;M++)G[M]=L[M];for(var k in _){R=_[k];for(var l in G){if((N=G[l])==R){G.splice(l,1);break}}}G.length<=a&&(P[P.length]=[G,L])}if(0<P.length)if(r==q.CardType.StraightThree)for(var k in P){0==(F=a-(R=P[k])[0].length)&&(y={0:n,1:R[0]},i.push(y))}else if(r==q.CardType.StraightThreePlusSingle)for(var k in P){for(var F=a-(R=P[k])[0].length,x=[],E=0;E<_.length;E++)x[E]=_[E];for(var l in R[1]){N=R[1][l];for(var A in x){if((M=x[A])==N){x.splice(A,1);break}}}0==F?x.length==e&&(y={0:n,1:R[0]},i.push(y)):x.length+F==e&&(y={0:n,1:R[0]},i.push(y))}else if(r==q.CardType.StraightThreePlusPair&&0==S.length)for(var k in P){for(F=a-(R=P[k])[0].length,x=[],E=0;E<_.length;E++)x[E]=_[E];for(var l in R[1]){N=R[1][l];for(var A in x){if((M=x[A])==N){x.splice(A,1);break}}}if(0==F){if(x.length==2*e){var O=[];for(var l in x){O[N=x[l]]=O[N]||[],O[N][O[N].length]=N}var U=!0;for(var l in O){2!=(N=O[l]).length&&(U=!1)}U&&(y={0:n,1:R[0]},i.push(y))}}else if(x.length+F==2*e){O=[];for(var l in x){O[N=x[l]]=O[N]||[],O[N][O[N].length]=N}U=!0;var B=R[0];for(var l in O){2!=(N=O[l]).length&&(0<F?(B[B.length]=N[0],F-=1):U=!1)}U&&(0!=F&&2!=F||(y={0:n,1:R[0]},i.push(y)))}}return console.log("---赖子组合成飞机的值"),console.log(i),i},get_straight_double_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle(),d=X.getPair();e/=2;for(var u=H.cardGrade[1];3<=u;u--)if(u+(e-1)<=H.cardGrade[1]){var h=[];for(s=0;s<e;s++){var p=!1;for(var g in c.cards){c.cards[g][0]==u+s&&(p=!0)}if(p)h.push(u+s);else{for(var g in d.cards){d.cards[g][0]==u+s&&(p=!0)}p||(h.push(u+s),h.push(u+s))}}if(h.length+0==a){var m={0:n,1:h};r.push(m)}}return console.log("---赖子组合成连对的值"),console.log(r),r},get_straight_lazarillo_cards:function(e,t,o,a,n){var r=[],i=[];if(0<k.checkTopCardsHasKing(n))return r;for(var s=0;s<t.length;s++)i.push(t[s].showTxt);var l=X.getSameCards(i);X.setSameVulueCardCount(l);var c=X.getSingle();if(0==c.count)return r;for(var d=H.cardGrade[1];3<=d;d--)if(d+(e-1)<=H.cardGrade[1]){var u=[];for(s=0;s<e;s++){var h=!1;for(var p in c.cards){c.cards[p][0]==d+s&&(h=!0)}h||u.push(d+s)}if(u.length+0==a){var g={0:n,1:u};r.push(g)}}return console.log("---赖子组合成顺子的值"),console.log(r),r},get_cards_larger:function(e,t){for(var o=[],a=X.getSameCards(t),n=H.serverCardValueToClient(q.joker),r=0,i=0;i<t.length;i++)t[i]==n&&r++;var s=e.type;if(s==q.CardType.Single?o=k.find_single_card(e,a,t):s==q.CardType.Pair?o=k.find_pair_card(e,a,t,r,n):s==q.CardType.ThreeOfKind?o=k.find_three_card(e,a,t,r,n):s==q.CardType.SoftBomb?o=k.find_SoftBomb_card(e,a,t,r,n):s==q.CardType.Bomb?o=k.find_bomb_card(e,a,t,r,n):s==q.CardType.LazarilloBomb?o=k.find_LazarilloBomb_card(e,a,t,r,n):s==q.CardType.ThreeOfKindPlusOne?o=k.find_three_with_one_card(e,a,t,r,n):s==q.CardType.ThreeOfKindPlusPair?o=k.find_three_with_two_card(e,a,t,r,n):s==q.CardType.FourPlusOne?o=k.find_four_with_two_single_card(e,a,t,r,n):s==q.CardType.FourPlusTwo?o=k.find_four_with_two_pair_card(e,a,t,r,n):s==q.CardType.Straight?o=k.find_straight(e,a,t,r,n):s==q.CardType.StraightDouble?o=k.find_pair_straight(e,a,t,r,n):s==q.CardType.StraightThree?o=k.find_three_straight(e,a,t,r,n):s==q.CardType.StraightThreePlusSingle?o=k.find_three_straight_with_single_card(e,a,t,r,n):s==q.CardType.StraightThreePlusPair&&(o=k.find_three_straight_with_pair_card(e,a,t,r,n)),s!=q.CardType.SoftBomb&&s!=q.CardType.Bomb&&s!=q.CardType.LazarilloBomb&&s!=q.CardType.DoubleKing){var l=k.find_allBomb_card(e,a,t,r,n);for(i=0;i<l.length;i++)o.push(l[i])}return o},find_single_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getSingle(),s=parseInt(e.rank);if(0<i.count)for(var l in i.cards){s<(d=i.cards[l])&&r.push(d)}var c=[];for(var l in t){var d=t[l];c.push(l)}if(r.length<=0)for(var l in c){s<(d=parseInt(c[l]))&&d!=n&&r.push(d)}return 1<=a&&s<n&&r.push(n),r},find_pair_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getPair(),s=parseInt(e.rank);if(0<i.count)for(var l in i.cards){s<(d=i.cards[l])[0]&&r.push(d)}if(0<a){var c=X.getSingle();if(0<c.count)for(var l in c.cards){var d;if(s<(d=c.cards[l])&&d<=H.cardGrade[2]){var u=[n,d];r.push(u)}}}var h=[];if(r.length<=0){var p=X.getThree(),g=X.getFour();if(0<p.count)for(var l in p.cards){if(s<(f=p.cards[l])[0]){var m=f.slice(0,2);h.push(m)}}if(0<g.count)for(var l in g.cards){var f;if(s<(f=g.cards[l])[0]){m=f.slice(0,2);h.push(m)}}return h}return r},find_three_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getSingle(),s=X.getPair(),l=X.getThree(),c=parseInt(e.rank);if(0<l.count)for(var d in l.cards){c<(h=l.cards[d])[0]&&r.push(h)}if(1<=a&&0<s.count)for(var d in s.cards){if(c<(h=s.cards[d])[0]){var u=[n,h[0],h[0]];r.push(u)}}if(2<=a&&0<i.count)for(var d in i.cards){var h;if(c<(h=i.cards[d])[0]&&h[0]<=H.cardGrade[2]){u=[n,n,h[0]];r.push(u)}}return r},find_allBomb_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getSingle(),s=X.getPair(),l=X.getThree(),c=X.getFour();parseInt(e.rank);if(console.log("赖子场所有的炸弹牌---"),1<=a&&0<l.count)for(var d in l.cards){if((h=l.cards[d])[0]!=n){var u=[n,h[0],h[0],h[0]];r.push(u)}}if(2<=a&&0<s.count)for(var d in s.cards){if((h=s.cards[d])[0]!=n){u=[n,n,h[0],h[0]];r.push(u)}}if(3<=a&&0<i.count)for(var d in i.cards){if((h=i.cards[d])[0]!=n&&h[0]<=H.cardGrade[2]){u=[n,n,n,h[0]];r.push(u)}}if(0<c.count)for(var d in c.cards){var h=c.cards[d];r.push(h)}if(t[16]&&t[17]){console.log("有王炸");r.push([16,17])}return console.log("赖子场所有的炸弹牌",r),r},find_SoftBomb_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getSingle(),s=X.getPair(),l=X.getThree(),c=X.getFour(),d=parseInt(e.rank);if(1<=a&&0<l.count)for(var u in l.cards){if(d<(p=l.cards[u])[0]&&p[0]!=n){var h=[n,p[0],p[0],p[0]];r.push(h)}}if(2<=a&&0<s.count)for(var u in s.cards){if(d<(p=s.cards[u])[0]&&p[0]!=n){h=[n,n,p[0],p[0]];r.push(h)}}if(3<=a&&0<i.count)for(var u in i.cards){if(d<(p=i.cards[u])[0]&&p[0]<=H.cardGrade[2]){h=[n,n,n,p[0]];r.push(h)}}if(0<c.count)for(var u in c.cards){var p;(p=c.cards[u])[0]!=n?r.push(p):p[0]==n&&r.push(p)}if(t[16]&&t[17]){console.log("有王炸");r.push([16,17])}return r},find_bomb_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getFour(),s=parseInt(e.rank);if(0<i.count)for(var l in i.cards){var c=i.cards[l];s<c[0]?r.push(c):c[0]==n&&r.push(c)}if(t[16]&&t[17]){console.log("有王炸");r.push([16,17])}else console.log("没有王炸");return r},find_LazarilloBomb_card:function(e,t,o,a,n){var r=[];if(t[16]&&t[17]){console.log("有王炸");r.push([16,17])}return r},find_three_with_one_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getPair(),s=X.getThree(),l=parseInt(e.rank);if(0<s.count)for(var c in s.cards){l<(d=s.cards[c])[0]&&r.push(d)}if(1<=a&&0<i.count)for(var c in i.cards){var d=i.cards[c];if(console.log("v:"+d[0]+"  k:"+c),l<d[0]&&d[0]!=n){var u=[n,d[0],d[0]];r.push(u)}}var h=X.getSingle(),p=(i=X.getPair(),[]),g=0;if(0<h.count)console.log(h.cards),g=1<=h.count&&h.cards[0][0]!=n?h.cards[0][0]:h.cards[1][0],console.log("onecard1:"+g);else if(0<i.count)g=parseInt(i.cards[0][0]),console.log("onecard2:"+g);else for(var c in s.cards){d=s.cards[c];p.push(d[0])}for(var c in r){d=r[c];if(console.log("v:"+d+"  k:"+c+" allone:"+p[c]),0==g)if(c<p.length-1)if(d[0]!=p[c])g=p[c];else g=p[parseInt(c)+1];else g=p[0];d[d.length]=g,d.sort(q.arrayUp)}return console.log("找合适的三带一"),console.log("all_result:",r),r},find_three_with_two_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getPair(),s=X.getThree(),l=parseInt(e.rank);if(0<s.count)for(var c in s.cards){l<(p=s.cards[c])[0]&&r.push(p)}if(1<=a&&0<i.count)for(var c in i.cards){if(l<(p=i.cards[c])[0]&&p[0]!=n){var d=[n,p[0],p[0]];r.push(d)}}var u=[],h=[];if(0<(i=X.getPair()).count&&(h=1<=i.count&&parseInt(i.cards[0][0])!=n?i.cards[0]:i.cards[1]),0==h.length)for(var c in s.cards){var p=s.cards[c];u.push(p[0])}console.log("tempPair:",h);var g=h.length;for(var c in r){p=r[c];if(0==g){if(c<u.length-1)if(p[0]!=u[c])g=u[c];else g=u[parseInt(c)+1];else g=u[0];for(var m=0;m<2;m++)p.push(parseInt(g));g=0}else for(m=0;m<h.length;m++)p.push(parseInt(h[m]));console.log("v2:"+p),p.sort(q.arrayUp)}return r},find_four_with_two_single_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getFour(),s=parseInt(e.rank);if(0<i.count)for(var l in i.cards){s<(g=i.cards[l])[0]&&r.push(g)}var c=[],d=X.getSingle(),u=X.getPair(),h=X.getThree();if(1<d.count)for(var p=0;p<2;p++)c.push(parseInt(d.cards[p]));else if(0<u.count)for(p=0;p<2;p++)c.push(parseInt(u.cards[0]));else if(0<h.count)for(p=0;p<2;p++)c.push(parseInt(h.cards[0]));for(var l in r){var g=r[l];for(p=0;p<c.length;p++)g.push(parseInt(c[p]));console.log("v2:"+g),g.sort(q.arrayUp)}return r},find_four_with_two_pair_card:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=X.getFour(),s=parseInt(e.rank);if(0<i.count)for(var l in i.cards){s<(g=i.cards[l])[0]&&r.push(g)}var c=[],d=X.getPair(),u=X.getThree();if(1<d.count)for(var h=0;h<2;h++)for(var p=0;p<2;p++)c.push(parseInt(d.cards[h]));else if(1==d.count&&0<u.count){for(h=0;h<2;h++)c.push(parseInt(d.cards[0]));for(h=0;h<2;h++)c.push(parseInt(u.cards[0]))}else if(1<u.count)for(h=0;h<2;h++)for(p=0;p<2;p++)c.push(parseInt(u.cards[h]));for(var l in r){var g=r[l];for(h=0;h<c.length;h++)g.push(parseInt(c[h]));console.log("v2:"+g),g.sort(q.arrayUp)}return r},find_straight:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=parseInt(e.rank),s=e.repeatCount;if(console.log("rank:"+i+" repeatCount:"+s),i+s-1==H.cardGrade[1])return console.log("-----已经是通天顺子"),r;console.log("-------所有顺子赖子补齐");for(var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],c=i+1,d=q.arraySub(c,l.length,l,1),u=[],h=d.length-s,p=[],g=0;g<=h;g++)d.length>=s+g&&(p=q.arraySub(g,s+g,d,1),u.push(p));var m=[];for(var f in t)m.push(f);var C=[];for(g=0;g<u.length;g++){for(var y=[],v=0;v<u[g].length;v++)for(var _=0;_<m.length;_++)u[g][v]==m[_]&&y.push(u[g][v]);C.push(y)}for(g=0;g<C.length;g++){var S=0,k=s-C[g].length;if(k<=a){for(v=0;v<k;v++)C[g].push(n);for(var R=0;R<C[g].length;R++)C[g][R]==n&&S++;S<=a&&r.push(C[g])}}return console.log(r),r},find_pair_straight:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=parseInt(e.rank),s=e.repeatCount;if(console.log("rank:"+i+" repeatCount:"+s),i+s-1==H.cardGrade[1])return console.log("-----已经是通天连队"),r;for(var l=X.getPair(),c=X.getThree(),d=X.getFour(),u=[],h=0;h<l.count;h++)u.push(l.cards[h][0]);for(h=0;h<c.count;h++)u.push(c.cards[h][0]);for(h=0;h<d.count;h++)u.push(d.cards[h][0]);u.sort(q.arrayUp);var p=[],g=[],m=0;for(h=0;h<u.length;h++)if(u[h]<H.cardGrade[2]&&u[h]>i){if(!(u[h]+1==u[h+1]&&u[h+1]<H.cardGrade[2])){m=u[h+1],p.length>=s&&g.push(p),p=[];continue}m+1==u[h+1]&&p.push(m),0==h&&p.push(u[h]),p.push(u[h+1])}for(h=0;h<g.length;h++)if(g[h].length>=s)for(var f=g[h].length-s,C=[],y=0;y<=f;y++)g[h].length>=s+y&&(C=q.arraySub(y,s+y,g[h],2),r.push(C));if(r.length<1){r=[],p=[],g=[];var v=i;for(h=1;h<20;h++)t[v+h]&&v+h<H.cardGrade[2]?p.push(t[v+h][0]):(p.length>=s&&g.push(p),p=[]);console.log("tempCards",g);for(var _=[],S=0;S<g.length;S++)for(f=g[S].length-s,C=[],h=0;h<=f;h++)g[S].length>=s+h&&(C=q.arraySub(h,s+h,g[S],1),_.push(C));console.log("copyTempCards",_);for(h=0;h<_.length;h++){for(var k=0,R=[],b=0;b<_[h].length;b++){var T=_[h][b];1<t[T].length?R.push(T):k++}if(k<=a){for(y=0;y<R.length;y++)_[h].push(R[y]);_[h].sort(q.arrayUp);for(y=0;y<k;y++)_[h].push(n);_[h].length==2*s&&(r[r.length]=_[h])}}}return console.log(r),r},find_three_straight:function(e,t,o,a,n){var r=[];X.setSameVulueCardCount(t);var i=parseInt(e.rank),s=e.repeatCount;console.log("rank:"+i+" repeatCount:"+s);for(var l=X.getThree(),c=X.getFour(),d=[],u=0;u<l.count;u++)d.push(l.cards[u][0]);for(u=0;u<c.count;u++)d.push(c.cards[u][0]);d.sort(q.arrayUp),console.log(d);var h=[],p=[],g=0;for(u=0;u<d.length;u++)if(d[u]<H.cardGrade[2]&&d[u]>i){if(console.log("i:"+u),!(d[u]+1==d[u+1]&&d[u+1]<H.cardGrade[2])){g=d[u+1],h.length>=s&&p.push(h),h=[];continue}console.log("i2:"+u),g+1==d[u+1]&&h.push(g),0==u&&h.push(d[u]),h.push(d[u+1])}console.log(p);for(u=0;u<p.length;u++)if(p[u].length>=s)for(var m=p[u].length-s,f=[],C=0;C<=m;C++)p[u].length>=s+C&&(f=q.arraySub(C,s+C,p[u],3),r.push(f));return console.log(r),r},find_three_straight_with_single_card:function(e,t,o,a,n){return k.find_three_straight(e,t,o,a,n)},find_three_straight_with_pair_card:function(e,t,o){return k.find_three_straight(e,t,o,lzLen,lzValue)}});t.exports=k,cc._RF.pop()},{CardUtil:"CardUtil",PopCardUtil:"PopCardUtil",config:"config",helper:"helper"}],LazarilloPokerSelectedControl:[function(e,t,o){"use strict";cc._RF.push(t,"bedbcfZI7lNw6c1hqe9AkLz","LazarilloPokerSelectedControl");var r=e("LazarilloCardListControl");cc.Class({extends:cc.Component,properties:{nodeGrad:{default:null,type:cc.Node},nodeLayout:{default:null,type:cc.Node},spBg:{default:null,type:cc.Sprite},cardList:{default:null,type:cc.Prefab}},start:function(){},show:function(e,t){console.log("--------cardlist:",e),this.click=t;var o=e;this.nodeGrad.y=100*(Math.ceil(o.length/2)-1)-20,this.spBg.node.height=20+100*Math.ceil(o.length/2),this.nodeLayout.height=50+100*Math.ceil(o.length/2);for(var a=0;a<o.length;a++){var n=cc.instantiate(this.cardList);n.parent=this.nodeGrad,n.getComponent(r).show(o[a],a,this)}},closeClick:function(){console.log("cardlist click"),this.click&&this.click(),this.node&&this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{LazarilloCardListControl:"LazarilloCardListControl"}],PlayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"3c4f20tXR5PuI0NTCNoAn1B","PlayerControl"),cc.Class({extends:cc.Component,properties:{playerMy:{default:null,type:cc.Node},headMyImg:{default:null,type:cc.Sprite},headMyName:{default:null,type:cc.Label},headMyCoin:{default:null,type:cc.Label},headMyLeQuan:{default:null,type:cc.Label},playerLeft:{default:null,type:cc.Node},headLeftImg:{default:null,type:cc.Sprite},headLeftName:{default:null,type:cc.Label},headLeftCoin:{default:null,type:cc.Label},playerRight:{default:null,type:cc.Node},headRightImg:{default:null,type:cc.Sprite},headRightName:{default:null,type:cc.Label},headRightCoin:{default:null,type:cc.Label}},start:function(){this.initMyInfo(),this.initLeftPlayerInfo(),this.initRightPlayerInfo()},initMyInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headMyImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headMyName.string=this.parseString("我自己啊啊啊啊"),this.headMyCoin.string=this.parseNumber("1000000000"),this.headMyLeQuan.string=this.parseNumber("500000")},initLeftPlayerInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headLeftImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headLeftName.string=this.parseString("美好的回忆233"),this.headLeftCoin.string=this.parseNumber("1000000")},initRightPlayerInfo:function(){var o=this,e=config.wxInfo.avatarUrl;e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headRightImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headRightName.string=this.parseString("新手1366567222"),this.headRightCoin.string=this.parseNumber("1000000")},parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e){var t=e.substring(0,4);return t+="...",console.log(">>string:"+e),t}}),cc._RF.pop()},{}],PlayerDetailModel:[function(e,t,o){"use strict";cc._RF.push(t,"32ba6NTG9dP6IOtyXm8iqMU","PlayerDetailModel");e("config");var a={nickname:"",uid:0,coin:0,gold:0,gender:1,word:"",coolnum:"",level:0,matches:0,win:0,checkCode:"",propDress:{},score:0,verfile:0,vertips:0,mailUnread:0,taskUnReward:0,shareUnReward:0,coupon:0,age:0,room:{},contact:"",contacts:"",wechat:"",lottery:0,checkinUndo:0,task1Unaward:0,task2Unaward:0,chargeRate:0,propItems:{},rewardList:{},isDev:0,wechatImg:"",title:"",jpqData:"",continueRoomId:0,getJpqData:function(){return a.jpqData},setJpqData:function(e){a.jpqData=e},getNickName:function(){return a.nickname},setNickName:function(e){a.nickname=e},getUid:function(){return a.uid},setUid:function(e){a.uid=e},getCoin:function(){return a.coin},setCoin:function(e){a.coin=e},getGold:function(){return a.gold},setGold:function(e){a.gold=e},getGender:function(){return a.gender},setGender:function(e){a.gender=e},getSign:function(){return a.word},setSign:function(e){a.word=e},getCoolNum:function(){return a.coolnum},setCoolNum:function(e){a.coolnum=e},getLevel:function(){return a.level},setLevel:function(e){a.level=e},getMatches:function(){return a.matches},setMatches:function(e){a.matches=e},getWin:function(){return a.win},setWin:function(e){a.win=e},getCheckCode:function(){return a.checkCode},setCheckCode:function(e){a.checkCode=e},getPropDress:function(){return a.propDress},setPropDress:function(e){a.propDress=e},getScore:function(){return a.score},setScore:function(e){a.score=e},getVerfile:function(){return a.verfile},setVerfile:function(e){a.verfile=e},getVertips:function(){return a.vertips},setVertips:function(e){a.vertips=e},getMailUnread:function(){return a.mailUnread},setMailUnread:function(e){a.mailUnread=e},getTaskUnReward:function(){return a.taskUnReward},setTaskUnReward:function(e){a.taskUnReward=e},getShareUnReward:function(){return a.shareUnReward},setShareUnReward:function(e){a.shareUnReward=e},getCoupon:function(){return a.coupon},setCoupon:function(e){a.coupon=e},getAge:function(){return a.age},setAge:function(e){a.age=e},getRoom:function(){return a.room},setRoom:function(e){a.room=e},getRoomByModel:function(e){for(var t in a.room){var o=a.room[t];if(e==o.modelId)return o.rooms}return{}},getContact:function(){return a.contact},setContact:function(e){a.contact=e},getContacts:function(){return a.contacts},setContacts:function(e){a.contacts=e},getWechat:function(){return a.wechat}};a.getWechat=function(e){a.wechat=e},a.getLottery=function(){return a.lottery},a.setLottery=function(e){a.lottery=e},a.getCheckinUndo=function(){return a.checkinUndo},a.setCheckinUndo=function(e){a.checkinUndo=e},a.getTask1Unaward=function(){return a.task1Unaward},a.setTask1Unaward=function(e){a.task1Unaward=e},a.getTask2Unaward=function(){return a.task2Unaward},a.setTask2Unaward=function(e){a.task2Unaward=e},a.getChargeRate=function(){return a.chargeRate},a.setChargeRate=function(e){a.chargeRate=e},a.getPropItems=function(){return a.propItems},a.setPropItems=function(e){a.propItems=e},a.getIsDev=function(){return a.isDev},a.setIsDev=function(e){a.isDev=e},a.getRewardList=function(){return a.rewardList},a.setRewardList=function(e){a.rewardList=e},a.getWechatImg=function(){return a.wechatImg},a.setWechatImg=function(e){a.wechatImg=e},a.getTitle=function(){return a.title},a.setTitle=function(e){a.title=e},t.exports=a,cc._RF.pop()},{config:"config"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"838d3g3hXVK0JPu0+2AvJx0","Player");var p=e("PokerControl"),g=e("config"),m=e("CardUtil"),a=e("ClockControl");cc.Class({ctor:function(e){e&&(this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.lequan=e.lequan,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems,this.play=e.play,this.win=e.win,this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.cardCount=0,this.isDelegated=!1,this.jokerValue=-1,this.openHandCards=!1,this.currentCards=[],this.curSendedCards={},this.cards={},this.smallcards={},this.noteCards={},this.lordCard={},this.currentCardType=0,this.noteCards="",this.joktoCards={},this.jokerCardsValue={},this.myCards=[],this.showHintType=0,this.node_name=null,this.node_LeDou=null,this.node_LeQuan=null,this.node_cardsNum=null,this.node_Landlord=null,this.node_delegate=null,this.node_hint=null,this.node_clockDwonTime=null,this.node_wechatImg=null,this.pokerCard=null,this.node_alarm=null)},initInfo:function(e){this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems,this.play=e.play,this.win=e.win},setPlay:function(e){this.play=e},getPlay:function(){return this.play},setWin:function(e){this.win=e},getWin:function(){return this.win},initNodes:function(e){this.node_name=e.node_name,this.node_LeDou=e.node_LeDou,this.node_LeQuan=e.node_LeQuan,this.node_cardsNum=e.node_cardsNum,this.node_Landlord=e.node_Landlord,this.node_delegate=e.node_delegate,this.node_hint=e.node_hint,this.node_clockDwonTime=e.node_clockDwonTime,this.node_wechatImg=e.node_wechatImg,this.pokerCard=e.pokerCard,this.node_alarm=e.node_alarm},initBaseInfo:function(){console.log("初始化玩家基础信息"),this.setnickname(this.nickname),this.setCoin(this.coin),this.setLeQuan(this.lequan),this.setWechatImg(this.wechatImg),this.setCardCount(17)},continueInfo:function(e){this.play=e.play,this.win=e.win,this.uid=e.uid,this.gender=e.sex,this.setnickname(e.nickname),this.setCoin(e.coin),this.setLeQuan(e.lequan),this.setWechatImg(e.wechatImg),this.setCardCount(e.cardCount),this.setMySeatId(e.seatId)},clear:function(){this.cardCount=0,this.currentCardType=0,this.jokerValue=-1,this.preSelectedCardIdx=-1,this.curSendedCards={},this.currentCards=[],this.cards={},this.smallcards={},this.lordCard={},this.joktoCards={},this.jokerCardsValue={},this.sendCardPos={},this.noteCards={},this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.isDelegated=!1,this.openHandCards=!1,this.node_Landlord&&(this.node_Landlord.enabled=!1),this.node_delegate&&(this.node_delegate.enabled=!1),this.node_hint&&(this.node_hint.enabled=!1),this.node_clockDwonTime&&(this.node_clockDwonTime.active=!1),this.node_alarm&&(this.node_alarm.active=!1)},setNode_alarmShow:function(e){this.node_alarm&&(this.node_alarm.active=e)},setOpenHandCards:function(e){this.openHandCards=e},getOpenHandCards:function(){return this.openHandCards},setDelegated:function(e){(this.isDelegated=e)&&this.node_delegate?this.node_delegate.enabled=!0:this.node_delegate&&(this.node_delegate.enabled=!1)},getDelegated:function(){return this.isDelegated},setLandlord:function(e){(this.isLandlord=e)&&this.node_Landlord&&(this.node_Landlord.enabled=!0)},getLandlord:function(){return this.isLandlord},setRoomId:function(e){this.roomid=e},getRoomId:function(){return this.roomid},setTableId:function(e){this.tableid=e},getTableId:function(){return this.tableid},setSignature:function(e){this.signature=e},getSignature:function(){return this.signature},setBuff:function(e){this.buff=e},getBuff:function(){return this.buff},getUid:function(){return this.uid},setUid:function(e){this.uid=e},setnickname:function(e){this.nickname=e,this.node_name&&(this.node_name.string=g.parseString(e))},getNickname:function(){return this.nickname},getWechatImg:function(){return this.wechatImg},setWechatImg:function(e){var o=this;if(""==(this.wechatImg=e)){var t="p_head_woman";return 1==this.gender&&(t="p_head_man"),void cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=t})}var a=e+"?aa=aa.jpg";this.node_wechatImg&&cc.loader.load(a,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},getTitle:function(){return this.title},setTitle:function(e){this.title=e},getCoin:function(){return this.coin},setCoin:function(e){this.coin=e,this.node_LeDou&&(this.node_LeDou.string=""+g.parseNumber(e))},setLeQuan:function(e){this.lequan=e,this.node_LeQuan&&(this.node_LeQuan.string=""+g.parseNumber(e))},getLeQuan:function(){return this.lequan},setWinCoin:function(e){this.winCoin=e},getWinCoin:function(){return this.winCoin},getIsWinner:function(){return this.isWinner},setIsWinner:function(e){this.isWinner=e},setGold:function(e){this.gold=e},getGold:function(){return this.gold},setCoinNode:function(e){this.node_Coin=e},setFlagNode:function(e){this.node_Flag=e},setCardCount:function(e){this.cardCount=e,this.node_cardsNum&&(this.node_cardsNum.string=""+e)},getCardCount:function(){return this.cardCount},setJockerVlue:function(e){this.jokerValue=e},refreshIdentity:function(){},getGender:function(){return this.gender},getMySeatId:function(){return this.seatId},setMySeatId:function(e){this.seatId=e},setMySeatNum:function(e){this.seatNumber=e},getMySeatNum:function(){return this.seatNumber},setJoktoCards:function(e){this.joktoCards=e},getJoktoCards:function(){return this.joktoCards},setJokerCardsValue:function(e){this.jokerCardsValue=e},setPokerCard:function(e){this.pokerCard=e},setMyCards:function(e){this.myCards=e},getMyCards:function(){return this.myCards},getCurrentCards:function(){return this.currentCards},setCurrentCards:function(e){this.currentCards=e},getShowHintType:function(){return this.showHintType},initMyCards:function(e,t,o,a,n){for(var r=0;r<e.length;r++){var i=cc.instantiate(this.pokerCard);i.parent=o,i.scale=0==n?g.seatPos.right.pokerScale:2==n?g.seatPos.left.pokerScale:g.seatPos.center.pokerScale;var s=i.getComponent(p);e[r].canTouch=!0,s.showPoker(e[r]),n||i.setPosition(a/2,g.seatPos.center.positionY),t.push(i)}return 0==n?(console.log("右边玩家明牌-----"),this.neatenRightPoker(t,g.seatPos.right,a/2,a/2+140)):2==n?(console.log("左边玩家明牌-----"),this.neatenLeftPoker(t,g.seatPos.left,a/2,230)):-1==n?this.mySendCardAnim(t,g.seatPos.center,a):this.neatenPoker(t,g.seatPos.center,a),this.isLandlord&&t[t.length-1].getComponent(p).setCardDiZhu(!0),this.openHandCards&&t[t.length-1].getComponent(p).setCardShow(!0),t},mySendCardAnim:function(n,e,t){if(!(n.length<1)){var r=n.length,i=e.disBetween;2330<t&&(i=g.seatPos.center.disBetweenIX);var o=n[0].getComponent(p).node.width*e.pokerScale*.5,a=(t-((r-1)*i+o))/2;a=a+8*i+o/2;for(var s=0;s<n.length;s++)n[s].setPosition(a,e.positionY);var l=0;(function e(){if(l<8){for(var t=0;t<8-l;t++){var o=cc.moveBy(.22,-i,0);n[t]&&n[t].runAction(o)}for(var a=l+9;a<r;a++)o=cc.moveBy(.22,i,0),n[a]&&n[a].runAction(o);l++,setTimeout(e,224)}})()}},neatenPoker:function(e,t,o,a){if(!(e.length<1)){var n=e.length,r=t.disBetween;2330<o&&(r=g.seatPos.center.disBetweenIX);var i=(n-1)*r+e[0].getComponent(p).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,a=a||(o-i)/2;for(var s=0;s<e.length;s++)e[s].setPosition(a+s*r+e[0].getComponent(p).node.width*t.pokerScale*.5,t.positionY),e[s].getComponent(p).setMoveDown()}},clearTableCard:function(e){if(e&&0<e.length){for(var t=0;t<e.length;t++)e[t].getComponent(p).node.removeFromParent();e=[]}},getSendCard:function(e,t,o,a){if(e&&0<e.length){for(var n=0;n<e.length;n++)e[n].getComponent(p).node.removeFromParent();e=[]}var r=0;for(n=a.length-1;-1<n;n--){var i=m.StringToNumber(a[n].showTxt),s=m.StringToNumber(a[n].showType);if(r<t.length&&t[r].showTxt==i&&t[r].showType==s){console.log("cards:"+t[r].showTxt);var l=o[n];e.unshift(l),a.splice(n,1),o.splice(n,1),r++}}return this.setMyCards(a),e},playCard:function(e,t){if(!(e.length<1)){for(var o=40*(e.length-1)+.57*e[0].getComponent(p).node.width,a=(cc.director.getWinSize().width-o)/2,n=0;n<e.length;n++){var r=a+40*n+(e[n].scale=.57)*e[0].getComponent(p).node.width*.5,i=cc.moveTo(.1,r,500);(c=e[n].getComponent(p)).node.runAction(i)}var s=0,l=this.getCurrentCards();for(n=0;n<e.length;n++){var c;(c=e[n].getComponent(p)).setPokerBg();var d=m.convertCardToClient(l[n]);if(""!=g.joker)if(t&&0<t.length){var u=m.serverCardValueToClient(g.joker);if(t[s]&&d.showTxt==u){var h=m.serverCardValueToClient(t[s]);c.convertLazarillo(h),s++}else c.showPoker(d)}else c.showPoker(d);else c.showPoker(d)}this.isLandlord&&e[e.length-1].getComponent(p).setCardDiZhu(!0),this.openHandCards&&e[e.length-1].getComponent(p).setCardShow(!0)}},playerLeftShowCard:function(e,t,o,a){this.initMyCards(e,t,o,a,2)},neatenLeftPoker:function(e,t,o,a,n){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,a=a||(o-r)/2,a+=64;var i=t.positionY;n&&(i=n);var s=e.length;if(s<=10)for(var l=0;l<e.length;l++)e[l].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i);else{for(l=0;l<10;l++)e[l].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i);for(l=0;l<s-10;l++)e[l+10].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i-55)}}},playCardLeft:function(e,t,o,a){if(!(e.length<1)){t+=64;for(var n=0;n<e.length;n++){var r=t+37*n+(e[n].scale=.5)*e[0].getComponent(p).node.width*.5;(l=e[n].getComponent(p)).node.runAction(cc.moveTo(.1,r,o))}var i=0,s=this.getCurrentCards();for(n=0;n<e.length;n++){var l;(l=e[n].getComponent(p)).setPokerBg();var c=m.convertCardToClient(s[n]);if(""!=g.joker)if(a&&0<a.length){var d=m.serverCardValueToClient(g.joker);if(a[i]&&c.showTxt==d){var u=m.serverCardValueToClient(a[i]);l.convertLazarillo(u),i++}else l.showPoker(c)}else l.showPoker(c);else l.showPoker(c)}this.isLandlord&&e[e.length-1].getComponent(p).setCardDiZhu(!0),this.openHandCards&&e[e.length-1].getComponent(p).setCardShow(!0)}},playerRightShowCard:function(e,t,o,a){this.initMyCards(e,t,o,a,0)},neatenRightPoker:function(e,t,o,a,n){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,a=(a=a||(o-r)/2)+10*t.disBetween-64;var i=t.positionY;n&&(i=n);var s=e.length;if(s<=10){a+=(10-s)*t.disBetween;for(var l=0;l<e.length;l++)e[l].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i)}else{for(l=0;l<10;l++)e[l].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i);for(l=0;l<s-10;l++)e[l+10].setPosition(a+l*t.disBetween+e[0].getComponent(p).node.width*t.pokerScale*.5,i-55)}}},playCardRight:function(e,t,o,a){if(!(e.length<1)){t=cc.director.getWinSize().width/2+590-37*e.length-64;for(var n=0;n<e.length;n++){var r=t+37*n+(e[n].scale=.5)*e[0].getComponent(p).node.width*.5;(l=e[n].getComponent(p)).node.runAction(cc.moveTo(.2,r,o))}var i=0,s=this.getCurrentCards();for(n=0;n<e.length;n++){var l;(l=e[n].getComponent(p)).setPokerBg();var c=m.convertCardToClient(s[n]);if(""!=g.joker)if(a&&0<a.length){var d=m.serverCardValueToClient(g.joker);if(a[i]&&c.showTxt==d){var u=m.serverCardValueToClient(a[i]);l.convertLazarillo(u),i++}else l.showPoker(c)}else l.showPoker(c);else l.showPoker(c)}this.isLandlord&&e[e.length-1].getComponent(p).setCardDiZhu(!0),this.openHandCards&&e[e.length-1].getComponent(p).setCardShow(!0)}},darkCardSend:function(e,t,o,a,n,r){if(0<e.length){for(var i=0;i<e.length;i++)e[i].getComponent(p).node.removeFromParent();e=[]}var s=t;for(i=0;i<s.length;i++){var l=cc.instantiate(this.pokerCard);l.parent=o,0==a?l.scale=g.seatPos.right.pokerScale:2==a&&(l.scale=g.seatPos.left.pokerScale),l.getComponent(p).showPoker(s[i]),e.push(l),0==a?this.neatenRightPoker(e,g.seatPos.right,n/2,n/2+140+200,750):2==a&&this.neatenLeftPoker(e,g.seatPos.left,n/2,30,750)}return this.isLandlord&&0<e.length&&e[e.length-1].getComponent(p).setCardDiZhu(!0),e},showClock:function(e){this.node_clockDwonTime.getComponent(a).show(e)},hideClock:function(){this.node_clockDwonTime.active=!1},showHint:function(e){var o=this;o.node_hint.enabled=!0;var t="showTips/p_tip_chuno";(o.showHintType=e)==g.hintType.callLoad?t="showTips/p_tip_jiaodizhu":e==g.hintType.callLoadNo?t="showTips/p_tip_jiaodizhuno":e==g.hintType.grabLoad?t="showTips/p_tip_qiangdizhu":e==g.hintType.grabLoadNo?t="showTips/p_tip_qiangdizhuno":e==g.hintType.dont?t="showTips/p_tip_chuno":e==g.hintType.double?t="showTips/p_tip_jiabei":e==g.hintType.doubleNo?t="showTips/p_tip_jiabeino":e==g.hintType.waitingDouble&&(t="showTips/p_tips_waitingDouble"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_hint.getComponent(cc.Sprite).spriteFrame=t})},hideHint:function(){this.node_hint.enabled=!1}});cc._RF.pop()},{CardUtil:"CardUtil",ClockControl:"ClockControl",PokerControl:"PokerControl",config:"config"}],PokerControl:[function(e,t,o){"use strict";cc._RF.push(t,"00f79gpHs9Jd7BBB5drfbt3","PokerControl");var i=e("config"),s=e("CardUtil");cc.Class({extends:cc.Component,properties:{pokerNum:{default:null,type:cc.Sprite},pokerType:{default:null,type:cc.Sprite},pokerType2:{default:null,type:cc.Sprite},pokerBg:{default:null,type:cc.Sprite},pokerLight:{default:null,type:cc.Sprite},pokerDiZhu:{default:null,type:cc.Sprite},pokerShow:{default:null,type:cc.Sprite},canTouch:!1,isTouched:!1,cardData:{default:null},isTopped:!1},showPoker:function(e){var o=this,t=(o.cardData=e).showType;o.canTouch=e.canTouch,o.cardValue=e.showTxt;var a="cards/poke_"+o.cardValue;16!=o.cardValue&&17!=o.cardValue&&(o.pokerType2.enabled=!0,o.pokerNum.enabled=!0,cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){o.pokerNum.getComponent(cc.Sprite).spriteFrame=t})),o.pokerDiZhu.enabled=!1,o.pokerLight.enabled=!1,o.pokerShow.enabled=!1,o.pokerType.enabled=!0,o.pokerType2.enabled=!0;var n="cards/heitao";t==i.pokerCardType.spade?(n="cards/heitao",o.pokerNum.node.color=new cc.Color(27,27,27)):t==i.pokerCardType.hearts?(n="cards/hongxin",o.pokerNum.node.color=new cc.Color(246,58,27)):t==i.pokerCardType.redslice?(n="cards/hongfang",o.pokerNum.node.color=new cc.Color(246,58,27)):t==i.pokerCardType.blackberry?(n="cards/heimei",o.pokerNum.node.color=new cc.Color(27,27,27)):t==i.ghostCardType.bigG?(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_red",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})):t==i.ghostCardType.smallG&&(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_black",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t}));var r=s.serverCardValueToClient(i.joker);o.cardValue==r&&(n="cards/laizi",o.pokerNum.node.color=new cc.Color(221,109,30)),cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.pokerType.getComponent(cc.Sprite).spriteFrame=t,o.pokerType2.getComponent(cc.Sprite).spriteFrame=t})},setPokerLight:function(e){this.pokerLight.enabled=e},setChoosed:function(e){this.cardData.isChoosed=e,this.pokerLight.enabled=e},cardMove:function(){if(this.cardData.isChoosed&&this.cardData.isTopped)(e=cc.moveBy(.1,0,-30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1;else if(this.cardData.isChoosed&&!this.cardData.isTopped){var e;(e=cc.moveBy(.1,0,30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!0,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},cardMoveDown:function(){if(this.cardData.isTopped){var e=cc.moveBy(.1,0,-30);e.easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},setCardDiZhu:function(e){this.pokerDiZhu.enabled=e},setCardShow:function(e){this.pokerShow.enabled=e},setMoveDown:function(){this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1},setPokerBg:function(){var o=this;cc.loader.loadRes("cards/blank_card",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})},setScale:function(e){this.node.scaleX=e,this.node.scaleY=e},convertLazarillo:function(e){var o=this;o.pokerDiZhu.enabled=!1,o.pokerLight.enabled=!1,o.pokerShow.enabled=!1,o.pokerType.enabled=!0,o.pokerType2.enabled=!0;var t="cards/poke_"+e;cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.pokerNum.getComponent(cc.Sprite).spriteFrame=t});o.pokerNum.node.color=new cc.Color(221,109,30),cc.loader.loadRes("cards/laizi",cc.SpriteFrame,function(e,t){o.pokerType.getComponent(cc.Sprite).spriteFrame=t,o.pokerType2.getComponent(cc.Sprite).spriteFrame=t})}}),cc._RF.pop()},{CardUtil:"CardUtil",config:"config"}],PokerData:[function(e,t,o){"use strict";cc._RF.push(t,"2200e8z40ZFt4GkVby0nQUb","PokerData");var a=e("config"),i=e("helper"),s=e("CardUtil"),l={cardNo:["A",2,3,4,5,6,7,8,9,10,"J","Q","K","G","g"],showData:[],setPokerData:function(){for(var e=0;e<l.cardNo.length;e++)if(e<l.cardNo.length-2)for(var t in a.pokerCardType){var o={showTxt:l.cardNo[e],showType:a.pokerCardType[t]};l.showData.push(o)}else if(13==e){o={showTxt:l.cardNo[e],showType:a.ghostCardType.bigG};l.showData.push(o)}else if(14==e){o={showTxt:l.cardNo[e],showType:a.ghostCardType.smallG};l.showData.push(o)}},getPokerData:function(){return l.showData},bodyPokerData:[],partCards:function(){for(var e=i.copyObj(l.showData),t=0;t<2;t++){for(var o=[],a=0;a<17;a++){var n=Math.floor(Math.random()*e.length),r=e[n];o.push(r),e.splice(n,1)}l.bodyPokerData.push(o)}l.bodyPokerData.push(e);for(a=0;a<l.bodyPokerData.length;a++)l.bodyPokerData[a].sort(s.gradeDown)},getPartCardsData:function(){return l.bodyPokerData},load:function(){l.setPokerData(),l.partCards()}};t.exports=l,cc._RF.pop()},{CardUtil:"CardUtil",config:"config",helper:"helper"}],PopCardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a85e4oibOFF+Ip+aqcwZSHY","PopCardUtil");e("config");var u={StringToNumber:function(e){return"string"==typeof e?parseInt(e):e},getSameCards:function(e){for(var t=[],o=0;o<e.length;o++)t[o]=u.StringToNumber(e[o]);var a=[],n=[],r=t[0];for(o=0;o<t.length;o++)t[o]==r?n.push(t[o]):(a[""+r]=n,n=[],r=t[o],n.push(r)),o==t.length-1&&(a[""+r]=n);return a},SingleNum:0,PairNum:0,ThreeNum:0,FourNum:0,SingleCards:[],PairCards:[],ThreeCards:[],FourCards:[],setSameVulueCardCount:function(e){var t=0,o=0,a=0,n=0,r=[],i=[],s=[],l=[];for(var c in e){var d=e[c];1==d.length?(t++,r.push(d)):2==d.length?(o++,i.push(d)):3==d.length?(a++,s.push(d)):4==d.length&&(n++,l.push(d))}u.SingleNum=t,u.PairNum=o,u.ThreeNum=a,u.FourNum=n,u.SingleCards=r,u.PairCards=i,u.ThreeCards=s,u.FourCards=l},getSingle:function(){var e=[];return e.cards=u.SingleCards,e.count=u.SingleNum,e},getPair:function(){var e=[];return e.cards=u.PairCards,e.count=u.PairNum,e},getThree:function(){var e=[];return e.cards=u.ThreeCards,e.count=u.ThreeNum,e},getFour:function(){var e=[];return e.cards=u.FourCards,e.count=u.FourNum,e}};t.exports=u,cc._RF.pop()},{config:"config"}],Protocol:[function(e,t,o){"use strict";cc._RF.push(t,"15f8e1UHT9ILpWi7f0jBZGL","Protocol");var a={Command:{HeartBeat:0,Login:1,Text:2,Broadcast:3,System:4,Game:5,Props:6,FruitMachine:7,NiuNiu:8,GameCommand:9,Analysis:10},CommandRevert:{0:"HeartBeat",1:"Login",2:"Text",3:"Broadcast",4:"System",5:"Game",6:"Props",7:"FruitMachine",8:"NiuNiu",9:"GameCommand",10:"Analysis"},Request:{HeartBeat:{Alive:0},Login:{Guest:0,Mail:1,Weibo:2,Facebook:3,Account:4,Logout:5,Regist:6},System:{Enter:0,Leave:1,Info:2,Profile:3,ChangeAvatar:4,ChangeNick:5,GetFile:105,GetTips:107,GetNewMail:111,GetNewActivity:129,GetNewAnnouncement:131,ModifyAge:207,Mail:211,ReadMail:213,GetMailAttachment:215,DelMail:217,Consume:231,Activity:401,OpenAdvertising:403,Announcement:431,RichRank:611,EveryDayRank:621,EveryWeekRank:631,RefreshData:109,ShopItem:301,ExchangeItems:321,ExchangeItemConfirm:323,TaskDaily:511,TaskGrowth:503,GetTaskReward:513,BuyProps:331,ShopBuyGold:311,HallReport:901,Backpack:221,MonthNotice:223,GetSalary:225,SlotGetInfo:425,SlotStartRun:427,GetMenuPrompt:233,GetGiftList:169,GetRewardList:235,GetShopItems:303,EnterHall:701,ShareInfo:515,ShareGet:517,ShareWxRes:519,WatchAdvertisement:521,BagInfo:523},Game:{Init:0,Ready:1,Go:2,CallLord:5,GrabLord:6,ShowCard:7,SendCard:8,NotFollow:10,BalanceOk:11,ExitRoom:13,ChangeTable:14,RequestDelegate:15,CancelDelegate:16,EditNick:20,EditSex:21,EditSignature:22,SayToTable:31,ExchangeGoldToCoin:41,LoginContestSignUp:101,ContestSignUp:103,CancelContestSignUp:105,GiveUpContest:109,ChangeSkin:123,BuySkin:125,LuckyDrawView:131,LuckyDraw:133,LuckyDrawRecord:135,LoginRewardView:137,LoginReward:139,GameDayRank:141,GameThisWeekRank:143,GameLastWeekRank:145,ActivityBar:147,RefreshContestData:127,GiftBag:149,ContestFramesComplete:111,OpenRechargeTip:151,OpenReliefTip:155,LuckyDrawList:157,LuckyDrawNew:159,ExitGameText:161,AddRatio:17,GetGameFieldInfo:201,GetFieldDetailInfo:203,GetMyFieldInfo:205,SignupField:207,UnSignupField:209,GetMatchItems:217,ExchangeMatchItem:219,SureKnockout:221,VipPrivilege:223,GetPlayerMatchesInfo:225,GetLoginReward:227,Complaint:231,Emoticon:235,PokerAnalysis:100,Reconnection:229},Props:{PlunderGift:107,PropItems:109,BuySingleItems:111}},Response:{HeartBeat:{Alive:0},Login:{Regist:6,OK:10,NoDevice:11,ErrorDevice:12,NotReg:13,NoNum:14,LoginFailed:15},Broadcast:{Notice:301,ShowActivity:306},System:{GetFileResult:106,GetTipsResult:108,GetNewMailResult:112,GetNewActivityResult:130,GetNewAnnouncementResult:132,ModifyAgeResult:208,MailResult:212,ReadMailResult:214,GetMailAttachmentResult:216,DelMailResult:218,ConsumeResult:232,ActivityResult:402,OpenAdvertisingResult:404,AnnouncementResult:432,RichRankResult:612,EveryDayRankResult:622,EveryWeekRankResult:632,RefreshDataResult:110,ShopItemResult:302,ExchangeItemsResult:322,ExchangeItemConfirmResult:324,TaskDailyResult:512,TaskGrowthResult:504,GetTaskRewardResult:514,BuyPropsResult:332,ShopBuyGoldResult:312,NoviceGiftResult:334,BackpackResult:222,MonthNoticeResult:224,GetSalaryResult:226,RepeatLogin:902,MonthUseUp:228,SlotInfo:426,SlotResult:428,GetMenuPromptResult:234,GetGiftListResult:170,PushGameGift:168,GetRewardListResult:236,GameCommTips:166,ShopItemsResult:304,HallGiftResult:164,GameTips:120,ShareInfoResult:516,ShareGetResult:518,ShareWxResResult:520,WatchAdvertisementResult:522,BagInfoResult:524},Game:{NoLogin:1e3,Queued:1001,SendLzCard:1002,PlayerReady:1003,GameReady:1004,SendCard:1005,CallLord:1006,CallLordOver:1007,TurnCallLord:1008,TurnSendCard:1009,ContinueGame:1010,TurnGrabLord:1011,InvalidCardSender:1012,InvalidCardNum:1013,GameComplete:1014,InitOk:1015,GrabLord:1016,PlayerSendCard:1017,PlayerNotSend:1018,PlayerShowCard:1019,InvalidCardType:1020,TableTimesUpdate:1021,RequestReady:1023,CoinsNoMatchRoom:1027,PlayerDelegated:1028,PlayerCancelDelegate:1029,UpdateSuccess:2e3,UpdateFailed:2001,UpdateUnknownErr:2002,SayToTableInfo:3e3,ExchangeGoldToCoinOK:4e3,ExchangeGoldToCoinERROR:4001,RechargeOk:4002,SendCoinsFree:1024,TableUserExit:1025,LoginContestSignUpResult:102,ContestSignUpResult:104,CancelContestSignUpResult:106,ContestStart:108,GiveUpContestResult:110,ContestOut:112,ContestEnd:114,ContestFormalEnd:116,SendContestReward:118,SendContestWeekReward:120,InvalidGameModel:122,ChangeSkinResult:124,BuySkinResult:126,LuckyDrawViewResult:132,LuckyDrawResult:134,LuckyDrawRecordResult:136,LoginRewardViewResult:138,LoginRewardResult:140,GameDayRankResult:142,GameThisWeekRankResult:144,GameLastWeekRankResult:146,ActivityBarResult:148,GiftBagResult:150,OpenRechargeTipResult:152,OpenReliefTipResult:156,PokerTask:1022,LuckyDrawListResult:158,LuckyDrawNewResult:160,ExitGameTextResult:162,CanDoubleResult:1030,GetGameFieldInfoResult:202,GetFieldDetailInfoResult:204,GetMyFieldInfoResult:206,SignupFieldResult:208,UnSignupFieldResult:210,GetMatchItemsResult:218,MatchStartResult:212,MatchEliminateResult:214,MatchResult:216,MatchOrderChanged:220,MatchStartSoon:222,MatchEndBag:223,Firstgetlequan:224,Redpacketprocess:225,Entergamerestnum:227,RefreshPlayerData:430,GetPlayerMatchesInfo:226,Complaint:232,EmoticonData:236,PokerAnalysis:100,ReconnectionData:330},Props:{GetPersonalItems:102,GetPublicItems:104,GetPropsGift:106,PlunderGiftResult:108,PropItems:110,BuySingleItemsResult:112}}};t.exports=a,cc._RF.pop()},{}],RoomLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"094768yJc5Ff7oZBOq48GCP","RoomLayerControl");var p=e("config"),a=e("EventHelper"),g=e("PlayerDetailModel"),s=e("GameNetMgr"),n=e("Events"),l=e("dialogManager");cc.Class({extends:cc.Component,properties:{room1:{default:null,type:cc.Node},room2:{default:null,type:cc.Node},room3:{default:null,type:cc.Node},room4:{default:null,type:cc.Node}},onLoad:function(){var e=[];e.push(this.room1),e.push(this.room2),e.push(this.room3),e.push(this.room4),this.rooms=e,this.initBaseInfo()},start:function(){p.IsContinueGaming=0,this.roomModelId_=p.curRoomModelId,a.AddCustomEvent(p.MyNode,n.Network.LoginRoomResult,this.onLoginRoomResult,this),a.AddCustomEvent(p.MyNode,"OpenRechargeTipResult",this.onOpenRechargeTipResult,this)},onEnable:function(){console.log(" RoomLayer onEnable"),p.IsContinueGaming=0,this.roomModelId_=p.curRoomModelId,this.initRoomInfo()},onDisable:function(){console.log(" RoomLayer onDisable")},onDestroy:function(){console.log(" RoomLayer Destroy")},onLoginRoomResult:function(e){console.log("登陆房间回掉---");var t=e.getUserData();this.handleLoginRoomResult(t)},initBaseInfo:function(){for(var e=[],t=0;t<4;t++){var o="p_room_"+(t+1),a="Canvas/happyroom/rooms/"+o+"/lab_peopleNum",n="Canvas/happyroom/rooms/"+o+"/lab_coins",r="Canvas/happyroom/rooms/"+o+"/p_roomA_num",i={peopleNum:cc.find(a).getComponent(cc.Label),coins:cc.find(n).getComponent(cc.Label),baseCoin:cc.find(r).getComponent(cc.Sprite)};e.push(i),this.rooms[t].active=!1}this.roomInfos=e,this.node_roomName=cc.find("Canvas/happyroom/topBar/p_roomName").getComponent(cc.Sprite)},initRoomInfo:function(){console.log(">>>initRoomInfo");for(var o=this,e=0;e<4;e++)this.rooms[e].active=!1;var t="roomInfo/p_roomA",a=["roomInfo/p_roomA_num_1","roomInfo/p_roomA_num_2","roomInfo/p_roomA_num_3","roomInfo/p_roomA_num_4"];p.curRoomModelId==p.ModelId.lazarillo&&(t="roomInfo/p_roomB",a=["roomInfo/p_roomB_num_1","roomInfo/p_roomB_num_2","roomInfo/p_roomB_num_3","roomInfo/p_roomB_num_4"]),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_roomName.getComponent(cc.Sprite).spriteFrame=t});var n=[],r=g.getRoom();for(var i in r){var s=r[i];s.modelId==p.curRoomModelId&&(n=s.rooms)}this.roomType_=n,console.log(n);for(e=0;e<n.length;e++){this.rooms[e].active=!0,this.roomInfos[e].peopleNum.string=""+this.pepleNumAdd(n[e].onlineNum);var l=n[e].enter.replace("乐豆","");this.roomInfos[e].coins.string=l}for(e=0;e<n.length;e++)if(0==e){var c=this.roomInfos[e].baseCoin;cc.loader.loadRes(a[e],cc.SpriteFrame,function(e,t){c.getComponent(cc.Sprite).spriteFrame=t})}else if(1==e){var d=this.roomInfos[e].baseCoin;cc.loader.loadRes(a[e],cc.SpriteFrame,function(e,t){d.getComponent(cc.Sprite).spriteFrame=t})}else if(2==e){var u=this.roomInfos[e].baseCoin;cc.loader.loadRes(a[e],cc.SpriteFrame,function(e,t){u.getComponent(cc.Sprite).spriteFrame=t})}else if(3==e){var h=this.roomInfos[e].baseCoin;cc.loader.loadRes(a[e],cc.SpriteFrame,function(e,t){h.getComponent(cc.Sprite).spriteFrame=t})}},room1Click:function(){console.log("room1Click"),this.selectedIdx_=0,this.roomMinScore=this.roomType_[0].enterLimit,this.trialInfo=this.roomType_[0].trial,this.gotoRoom(this.roomType_[0].roomId),cc.vv.audioMgr.playSFX("SpecOk")},room2Click:function(){console.log("room2Click"),this.selectedIdx_=1,this.roomMinScore=this.roomType_[1].enterLimit,this.trialInfo=this.roomType_[1].trial,this.gotoRoom(this.roomType_[1].roomId),cc.vv.audioMgr.playSFX("SpecOk")},room3Click:function(){console.log("room3Click"),this.selectedIdx_=2,this.roomMinScore=this.roomType_[2].enterLimit,this.trialInfo=this.roomType_[2].trial,this.gotoRoom(this.roomType_[2].roomId),cc.vv.audioMgr.playSFX("SpecOk")},room4Click:function(){console.log("room4Click"),this.selectedIdx_=3,this.roomMinScore=this.roomType_[3].enterLimit,this.trialInfo=this.roomType_[3].trial,this.gotoRoom(this.roomType_[3].roomId),cc.vv.audioMgr.playSFX("SpecOk")},quickStartClick:function(){console.log("quickStartClick"),this.onWantGotoRoom(),cc.vv.audioMgr.playSFX("SpecOk")},pepleNumAdd:function(e){var t=e;"string"==typeof e&&(t=parseInt(e));return t<=60?t+60:60<t&&t<=200?t+200:200<t&&t<=500?t+1e3:t+3e3},gotoRoom:function(e){var t=g.getCoin(),o={};if(o.roomId=e,o.isContinue=0,console.log("coins:"+t),e==p.RoomConfig[1].roomId||e==p.RoomConfig[7].roomId)t>=this.roomMinScore?(this.roomModelId_==p.ModelId.lazarillo&&(o.modelId=p.ModelId.lazarillo),s.sendRequest("Game","loginRoom",o)):(s.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框")),console.log("新手场");else if(t>=this.roomMinScore)this.roomModelId_==p.ModelId.lazarillo&&(o.modelId=p.ModelId.lazarillo),s.sendRequest("Game","loginRoom",o);else{console.log("弹出充值框");l.showCommonDialog("温馨提示","豆子不够无法进入该场次",function(){console.log("打开商城----")})}},handleLoginRoomResult:function(e){var t=this;g.setCoin(e.payload.data.coins);var o=e.payload;if(t.isGotoLazarillo_=!1,e.ok){var a={};if(a.baseCoins=o.data.baseCoins,a.rate=o.data.rate,a.limitCoins=o.data.limitCoins,a.rake=o.data.rake,a.roomId=o.data.roomId,a.rateMax=o.data.rateMax,a.enterLimit=o.data.enterLimit,a.emoticon=o.data.emoticon,a.emoticon_items=o.data.emoticon_items,a.advert=o.data.advert,o.data.modelId&&(a.modelId=o.data.modelId),a.buys=o.data.buys,a.givecoins=null,o.data.isContinue&&1==parseInt(o.data.isContinue)&&(a.isContinueGaming=!0),1002==a.roomId||1003==a.roomId||a.roomId,parseInt(o.data.modelId)==p.ModelId.contest)return void console("比赛场");var n=o.data.sendCoins,r=o.data.sendCoinsTimes,i=o.data.sendCoinsTimesToday;o.data.isSend;n&&0<n&&(a.givecoins={sended:n,totalTimes:r,curTimes:i},console.log("刷新用户乐豆乐券")),p.tableInfo=a,console.log(p.tableInfo),parseInt(o.data.modelId)==p.ModelId.lazarillo?console.log("进入癞子场"):console.log("进入普通场"),this.preloadNextScene()}else e.noCoin?1==parseInt(e.payload.data.isSmall)?(console.log("乐豆不够去商城充值"),l.showCommonDialog("温馨提示","亲,您的豆子不够哦！",function(){console.log("打开商城")})):(console.log("亲,豆子太多啦,系统为您推送到合适的房间！"),l.showCommonDialog("温馨提示","亲,豆子太多啦,系统为您推送到合适的房间！",function(){console.log("去合适场次"),t.onWantGotoRoom()}),parseInt(o.data.modelId)==p.ModelId.lazarillo&&(t.isGotoLazarillo_=!0)):e.inGaming&&(o.data.modelId&&parseInt(o.data.modelId)!=p.ModelId.normal?o.data.modelId&&parseInt(o.data.modelId)!=p.ModelId.lazarillo?(console.log("您正在竞技场牌局中，请返回继续！"),l.showCommonDialog("温馨提示","您正在竞技场牌局中，请返回继续！",function(){console.log("短线重连比赛场")})):(console.log("您还在其他癞子场中对局哟，现在进去看看吧！"),l.showCommonDialog("温馨提示","您还在其他癞子场中对局哟，现在进去看看吧！",function(){console.log("短线重连赖子场"),t.onWantContinueGaming(e)})):(console.log("您还在其他房间中对局哟，现在进去看看吧！"),l.showCommonDialog("温馨提示","您还在其他房间中对局哟，现在进去看看吧！",function(){console.log("短线重连普通场"),t.onWantContinueGaming(e)})))},onWantGotoRoom:function(){if(this.roomModelId_!=p.ModelId.contest){var e=g,t=e.getRoomByModel(this.roomModelId_),o=e.getCoin();if(console.log(t),this.roomModelId_==p.ModelId.lazarillo){for(var a=-1,n=0;n<t.length;n++){if((i=t[n]).modelId==p.ModelId.lazarillo&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){a=i.roomId;break}}if(a<=0)for(n=t.length-1;0<=n;n--){if((i=t[n]).modelId==p.ModelId.lazarillo&&o>=parseInt(i.enterLimit)){a=i.roomId;break}}if(0<a)return(r={}).roomId=a,r.isContinue=0,r.modelId=p.ModelId.lazarillo,console.log("钱多能去的最高赖子场---------------:"+i.roomId),void s.sendRequest("Game","loginRoom",r)}else{var r;for(a=-1,n=0;n<t.length;n++){if((i=t[n]).modelId==p.ModelId.normal&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){a=i.roomId;break}}if(a<=0)for(n=t.length-1;0<=n;n--){var i;if((i=t[n]).modelId==p.ModelId.normal&&o>=parseInt(i.enterLimit)){a=i.roomId;break}}if(console.log("普通场 roomId:"+a),0<a)return(r={}).roomId=a,r.isContinue=0,console.log("钱多能去的最高普通场---------------:"+i.roomId),void s.sendRequest("Game","loginRoom",r)}o>=this.roomType_[0].enterLimit||(s.sendRequest("Game","openRechargeTip",{}),console.log("弹出救济框"))}},onOpenRechargeTipResult:function(e){var t=e.getUserData();console.log(t);var o=t.data.trial_count,a="";0==t.data.trial_cooldown?(a="系统第"+(o+1)+"次赠送您1000乐豆。",1==p.TrialShareShow?l.showTableShareGet("jiuji"):l.showCommonDialog("领救济",a,function(){console.log("点击了领取救济按钮"),s.sendRequest("Game","openReliefTip",{})})):(a="今天乐豆已经领完了哦，明天在过来吧！",l.showCommonDialog("领救济",a))},preloadNextScene:function(){a.RemoveCustomEvent(p.MyNode,n.Network.LoginRoomResult,this.onLoginRoomResult,this),a.RemoveCustomEvent(p.MyNode,"OpenRechargeTipResult",this.onOpenRechargeTipResult,this),cc.director.preloadScene("GameScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("GameScene")})},onWantContinueGaming:function(e){console.log("--进入上局未完的普通牌桌");var t=e.payload,o={};o.baseCoins=t.data.baseCoins,o.rate=t.data.rate,o.limitCoins=t.data.limitCoins,o.rake=t.data.rake,o.roomId=t.data.roomId,o.rateMax=t.data.rateMax,o.enterLimit=t.data.enterLimit,o.emoticon=t.data.emoticon,o.emoticon_items=t.data.emoticon_items,o.advert=t.data.advert,t.data.modelId&&(o.modelId=t.data.modelId),o.buys=t.data.buys,o.givecoins=null,t.data.isContinue&&1==parseInt(t.data.isContinue)&&(o.isContinueGaming=!0);var a=t.data.sendCoins,n=t.data.sendCoinsTimes,r=t.data.sendCoinsTimesToday;a&&0<a&&(o.givecoins={sended:a,totalTimes:n,curTimes:r},console.log("刷新用户乐豆乐券")),p.tableInfo=o,console.log(p.tableInfo),p.IsContinueGaming=1,this.preloadNextScene()}}),cc._RF.pop()},{EventHelper:"EventHelper",Events:"Events",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],ShareGetControl:[function(e,t,o){"use strict";cc._RF.push(t,"e1abdVKhKlEFKUlnM50Af1y","ShareGetControl");var a=e("GameNetMgr"),n=e("PlayerDetailModel"),r=e("config");cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_cancel:{default:null,type:cc.Node},btn_enter:{default:null,type:cc.Node,opentype:"share"}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,a=e.arg3,n=e.arg4;""!=t&&(this.title.string=t),""!=o&&(this.content.string=o),n||(this.btn_cancel.active=!1,this.btn_enter.x=0),this.enterClick=a,this.cancelClick=n},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnCancelClick:function(){console.log("btn1 click"),this.cancelClick&&this.cancelClick(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnEnterClick:function(){console.log("btn2 click");var e=r.getRandom(1),t=r.shareTxt.jiuji[e];console.log(">>>shareTxt:",t);var o=r.getShareImgPath("jiuji");console.log(">>>shareImg:",o),wx.shareAppMessage({title:t,imageUrl:o,query:"key="+n.uid,success:function(e){console.log("---转发成功!!!"),console.log(e),a.sendRequest("System","ShareWxRes",3),a.sendRequest("Game","openReliefTip",{})},fail:function(e){console.log("---转发失败!!!")}}),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],TableShareGetControl:[function(e,t,o){"use strict";cc._RF.push(t,"52569YpHwpDYZFYpWJGPueQ","TableShareGetControl");e("GameNetMgr");var r=e("PlayerDetailModel"),i=e("config");cc.Class({extends:cc.Component,properties:{img_bg:{default:null,type:cc.Sprite},img_title:{default:null,type:cc.Sprite},img_daoju:{default:null,type:cc.Sprite},jpq_num:{default:null,type:cc.Label},lab_tips:{default:null,type:cc.Label},btn_1:{default:null,type:cc.Node},btn_2:{default:null,type:cc.Node,opentype:"share"}},onLoad:function(){this.jpq_num.string="",this.dialogName="",this.lab_tips.string=""},start:function(){},show:function(e){this.dialogName=e,i.loadImage(this.img_bg,"p_yaoqing"),"jiuji"==e?(i.loadImage(this.img_title,"p_douzi"),this.lab_tips.string="现在发送分享额外再得500乐豆呦～"):"jipaiqi"==e&&(i.loadImage(this.img_title,"p_tip_jipaiqi"),i.loadImage(this.img_daoju,"p_daoju_jpq"),this.jpq_num.string="X 3",this.lab_tips.string="分享任意好友即可获得哦！",this.btn_1.active=!1,this.btn_2.x=183)},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnEnterClick:function(){console.log("btnEnter click");var e=this.dialogName,t=3;"jipaiqi"==e?t=4:"jiuji"==e&&(t=3),console.log(">>>shareType:",t);var o=i.getRandom(1),a=i.shareTxt[e][o];console.log(">>>shareTxt:",a);var n=i.getShareImgPath(e);console.log(">>>shareImg:",n),wx.shareAppMessage({title:a,imageUrl:n,query:"key="+r.uid,success:function(e){console.log("---转发成功!!!"),console.log(e),4==t?i.jpqShareSucss=!0:3==t&&(i.leDouShareSucss=!0)},fail:function(e){console.log("---转发失败!!!")}}),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnKanShiPinClick:function(){console.log("btnKanShiPinClick"),cc.vv.audioMgr.playSFX("SpecOk"),"undefined"!=typeof wx&&(i.rewardedVideoType=2,i.rewardedVideoAd&&(i.rewardedVideoAd.show().then(),this.node&&this.node.destroy()))}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],TaskCompleteShareControl:[function(e,t,o){"use strict";cc._RF.push(t,"bbe63rYSDpNuqIRlN42Y4WF","TaskCompleteShareControl");e("GameNetMgr");var n=e("PlayerDetailModel"),r=e("config");cc.Class({extends:cc.Component,properties:{img_bg:{default:null,type:cc.Sprite},img_head:{default:null,type:cc.Sprite},btn_1:{default:null,type:cc.Node},btn_2:{default:null,type:cc.Node,opentype:"share"}},onLoad:function(){this.dialogName=""},start:function(){},show:function(e){"lequan"==(this.dialogName=e)?r.loadImage(this.img_bg,"p_get_lequan"):"chuntian"==e?r.loadImage(this.img_bg,"p_chuntian"):"liansheng_3"==e&&r.loadImage(this.img_bg,"p_liansheng_3"),this.setHeadUrl()},setHeadUrl:function(){var o=this,e=r.wxInfo.avatarUrl;if(""==e){var t="p_head_woman";return 1==n.getGender()&&(t="p_head_man"),void cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.img_head.getComponent(cc.Sprite).spriteFrame=t})}e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.img_head.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnEnterClick:function(){console.log("btnEnter click");var e=this.dialogName;var t=r.getRandom(1),o=r.shareTxt[e][t];console.log(">>>shareTxt:",o);var a=r.getShareImgPath(e);console.log(">>>shareImg:",a),wx.shareAppMessage({title:o,imageUrl:a,query:"key="+n.uid,success:function(e){console.log("---转发成功!!!"),console.log(e)},fail:function(e){console.log("---转发失败!!!")}}),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnKanShiPinClick:function(){console.log("btnKanShiPinClick"),cc.vv.audioMgr.playSFX("SpecOk"),"undefined"!=typeof wx&&(r.rewardedVideoType=3,r.rewardedVideoAd&&(r.rewardedVideoAd.show().then(),this.node&&this.node.destroy()))}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],aboutControl:[function(e,t,o){"use strict";cc._RF.push(t,"cff8dsADs1O87bsG851NEGA","aboutControl");var a=e("config");cc.Class({extends:cc.Component,properties:{lab_content_1:{default:null,type:cc.Label},lab_content_2:{default:null,type:cc.Label}},start:function(){this.lab_content_2.string="版本号："+a.VERSION_ABOUT},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{config:"config"}],animPropControl:[function(e,t,o){"use strict";cc._RF.push(t,"a588a2cviNJ17e/DW5dqslR","animPropControl");var a=e("config");cc.Class({extends:cc.Component,properties:{sp_prop:{default:null,type:cc.Sprite},lab_num:{default:null,type:cc.Label}},onLoad:function(){this.lab_num.string=""},show:function(e){var t=e.arg1,o=e.arg2;"lequan"==t?a.loadImage(this.sp_prop,"p_daoju_lequan"):"jipaiqi"==t&&a.loadImage(this.sp_prop,"p_daoju_jpq"),this.lab_num.string="X "+o},close:function(){this.node.destroy()}}),cc._RF.pop()},{config:"config"}],blinkAlarmControl:[function(e,t,o){"use strict";cc._RF.push(t,"1104axk1NtBda0XlAkGGWdL","blinkAlarmControl"),cc.Class({extends:cc.Component,properties:{blinkNode:{default:null,type:cc.Sprite}},start:function(){var e=cc.blink(1,3),t=cc.repeatForever(e);this.blinkNode.node.runAction(t)},show:function(e){},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],cardTypeControl:[function(e,t,o){"use strict";cc._RF.push(t,"39670ZwbAhBCJqRuNMPR0N5","cardTypeControl");var a=e("config");cc.Class({extends:cc.Component,properties:{myCardtype:{default:null,type:cc.Sprite}},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(2);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()},show:function(e){var o=this,t="showTips/p_cardtype_1";e==a.CardType.Straight||e==a.CardType.StraightDouble&&(t="showTips/p_cardtype_2"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.myCardtype.getComponent(cc.Sprite).spriteFrame=t})}}),cc._RF.pop()},{config:"config"}],chatBoxControl:[function(e,t,o){"use strict";cc._RF.push(t,"e7857uEaN1AV5ZXYlbc5zrw","chatBoxControl"),cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Label}},start:function(){},show:function(e){this.node.active=!0,this.content.string=e,this.node.stopAllActions();var t=this,o=cc.callFunc(function(){t.node.active=!1}),a=cc.delayTime(2);this.node.runAction(cc.sequence(a,o))}}),cc._RF.pop()},{}],chatControl:[function(e,t,o){"use strict";cc._RF.push(t,"a70f7oD34NOergX7blpkOoJ","chatControl");var a=e("config"),n=e("chatItemControl");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},chatItem:{default:null,type:cc.Prefab}},start:function(){for(var e=1;e<a.chatContent.length;e++){var t=cc.instantiate(this.chatItem);t.parent=this.content,t.getComponent(n).show(a.chatContent[e],e,this)}},show:function(e){this.node.active=!0,this.click=e},close:function(){console.log("chat close"),this.click&&this.click(),this.node.active=!1}}),cc._RF.pop()},{chatItemControl:"chatItemControl",config:"config"}],chatItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"b3645qoxnlJU5gaqwi6VMyZ","chatItemControl");var a=e("config"),n=e("GameNetMgr");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Label},index:0},start:function(){},show:function(e,t,o){this.index=t,this.content.string=e,this.parentNode=o},itemClick:function(){if(this.index){console.log("index:"+this.index);var e={id:1,word:a.chatContent[this.index]};n.sendRequest("Game","sayToTable",e)}this.parentNode&&this.parentNode.close(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",config:"config"}],chutianControl:[function(e,t,o){"use strict";cc._RF.push(t,"84277V60kNMpIEv3/HX/A31","chutianControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(2);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],commonControl:[function(e,t,o){"use strict";cc._RF.push(t,"b2e3ekBAMRH14LrzU4SYSoz","commonControl"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_cancel:{default:null,type:cc.Node},btn_enter:{default:null,type:cc.Node}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,a=e.arg3,n=e.arg4;this.title.string=t,this.content.string=o,n||(this.btn_cancel.active=!1,this.btn_enter.x=0),this.enterClick=a,this.cancelClick=n},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnCancelClick:function(){console.log("btn1 click"),this.cancelClick&&this.cancelClick(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnEnterClick:function(){console.log("btn2 click"),this.enterClick&&this.enterClick(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{}],config:[function(e,t,o){"use strict";cc._RF.push(t,"51232MuRg1Etoh6eMoOYPIJ","config");var a={MyNode:null,temppassword:"",OpenUDIDEncryptToken:"!_Tvr%^98071e~int5lmUy",stopOnMassage:!1,VERSION_NAME:"2.1.0",VERSION_ABOUT:"1.0.2",TrialShareShow:0,wxShareInfo:"key1=value1&key2=value2",playGameId:0,playGameMsg:"",firstLogin:!1,IsContinueGaming:0,RoomId:0,tableInfo:null,curRoomModelId:0,ModelId:{normal:0,contest:3,lazarillo:2},joker:"",adCdTime:0,showAd:0,rewardedVideoAd:null,rewardedVideoType:0,jpqShareSucss:!1,leQuanShareSucss:!1,leDouShareSucss:!1,shareIndex:0,sendCardState:!1,videoEndFuc:null,CallLordTimeout:15,GrabLordTimeout:15,SendCardTimeout:25,CheckCardTimeout:25,AddRatioTime:3.5,hintType:{callLoad:1,callLoadNo:2,grabLoad:3,grabLoadNo:4,dont:5,double:6,doubleNo:7,waitingDouble:8},opratType:{callLoad:1,grabLoad:2,mustOutCard:3},pokerCardType:{spade:4,hearts:3,redslice:1,blackberry:2},ghostCardType:{smallG:5,bigG:6},getRandom:function(e){return e=Math.round(Math.random()*e)},arrayDown:function(e,t){return t-e},arrayUp:function(e,t){return e-t},arraySub:function(e,t,o,a){for(var n=[],r=e;r<t;r++)for(var i=0;i<a;i++)n.push(o[r]);return n},seatPos:{center:{pokerScale:1,disBetween:77,disBetweenIX:87,positionY:250},left:{pokerScale:.38,disBetween:27,positionY:860},right:{pokerScale:.38,disBetween:27,positionY:860}},CardType:{Single:1,Pair:2,ThreeOfKind:3,ThreeOfKindPlusOne:4,ThreeOfKindPlusPair:5,Straight:6,StraightDouble:7,StraightThree:8,StraightThreePlusSingle:9,StraightThreePlusPair:10,SoftBomb:87,Bomb:88,LazarilloBomb:89,DoubleKing:99,FourPlusOne:11,FourPlusTwo:12},gameState:{ST_GAME_PREPARE:0,ST_GAME_READY:1,ST_GAME_START:2,ST_GAME_SendCard:3,ST_GAME_CallLord:4,ST_GAME_GrabLord:5,ST_GAME_CallLordOver:6,ST_GAME_Double:7,ST_GAME_OutCard:8,ST_GAME_BALANCE:9,ST_GAME_WAIT_NEXTROUND:10},wxInfo:{nickName:"",gender:1,avatarUrl:""},UpdateWxInfo:function(e){a.wxInfo.nickName=e.nickName,a.wxInfo.gender=e.gender,a.wxInfo.avatarUrl=e.avatarUrl},GlobalRouter:{director:"https://ddzprotocal.51864.com/clientConfig/host.php",statistics:"http://applog.51864.com/index.php",host:null,port:null,versionUrl:null,downloadUrl:null,filepath:null,resversion:null,silenceVerUrl:null,silenceFileUrl:null,configtable:null},GlobalRouterUpdate:function(e){a.GlobalRouter.host=e.data.host,a.GlobalRouter.port=e.data.port,a.GlobalRouter.versionUrl=e.data.update.versionUrl,a.GlobalRouter.downloadUrl=e.data.update.downloadUrl,a.GlobalRouter.resversion=e.data.update.resversion},RoomConfig:{1:{name:"新手场",umengEvent:"novice_room",pot:5,min:1e3,max:8e4,texture:"room_1.png",roomId:1e3,roomNameTexture:"p_novice_bar.png"},2:{name:"初级场",umengEvent:"primary_room",pot:10,min:2e3,max:2e5,texture:"room_2.png",roomId:1001,roomNameTexture:"p_primary_bar.png"},3:{name:"中级场",umengEvent:"intermediate_room",pot:10,min:2e3,max:2e5,texture:"room_3.png",roomId:1002,roomNameTexture:"p_intermediate_bar.png"},4:{name:"高级场",umengEvent:"senior_room",pot:10,min:2e3,max:2e5,texture:"room_4.png",roomId:1003,roomNameTexture:"p_senior_bar.png"},5:{name:"竞技场",umengEvent:"contest_room",pot:10,min:5e3,max:5e4,texture:"room_JJC.png",roomId:1004,roomNameTexture:"p_primary_arena_bar.png"},6:{name:"无限场",umengEvent:"advanced_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1006,roomNameTexture:"p_advanced_bar.png"},7:{name:"新手场",umengEvent:"l_novice_room",pot:50,min:1e4,max:1e6,texture:"room_1.png",roomId:1007,roomNameTexture:"p_novice_bar.png"},8:{name:"初级场",umengEvent:"l_primary_room",pot:50,min:1e4,max:1e6,texture:"room_2.png",roomId:1008,roomNameTexture:"p_primary_bar.png"},9:{name:"中级场",umengEvent:"l_intermediate_room",pot:50,min:1e4,max:1e6,texture:"room_3.png",roomId:1009,roomNameTexture:"p_intermediate_bar.png"},10:{name:"高级场",umengEvent:"l_senior_room",pot:50,min:1e4,max:1e6,texture:"room_4.png",roomId:1010,roomNameTexture:"p_senior_bar.png"},11:{name:"无限场",umengEvent:"l_noRate_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1011,roomNameTexture:"p_senior_bar.png"}},tableName:{1000:"新手场 底分10",1001:"初级场 底分60",1002:"中级场 底分200",1003:"高级场 底分500",1007:"新手场 底分10",1008:"初级场 底分40",1009:"中级场 底分150"},chatContent:["","大家好,很高兴见到各位","快点啊,等到花儿都谢了","你的牌打的也太好了","不要吵了不要吵了，专心玩游戏吧","怎么又断线,网络怎么这么差啊","不好意思,我要离开一会","再见了,我会想念大家的"],chatSay:["","welcom","kuaidiana","nidepai","buyaochao","duanxian","buyaozou","zaijian"],parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e,t){var o=4;if(t&&(o=t),!(e&&e.length>o))return e;var a=e.substring(0,o);return a+="..."},getPlayerSeatNum:function(e,t){var o=1;return 0==e?1==t?o=2:2==t&&(o=0):1==e?0==t?o=0:2==t&&(o=2):2==e&&(0==t?o=2:1==t&&(o=0)),o},shareTxt:{task:["【有乐开心斗地主】，点击就能和我一起玩！","只有10秒，炸还是不炸，交给你来决定！"],share:["就差你了！帮我一下我就能拆礼包了~","【仅剩N人】麻烦你啦，点击帮我拆礼包吧！"],jiuji:["【含泪求助】老铁们帮帮忙，小手一点助我拿豆！","小伙伴们帮帮忙，小手一点助我拿豆！"],jipaiqi:["世界上最悲伤的事情是什么？","对3，我只剩一张牌啦！"],lequan:["小手一抖，奖券到手，免费兑话费咯！","我在玩【有乐开心斗地主】，赢奖券兑话费！"],chuntian:["对不起，牌好就是可以为所欲为！","又打出春天咯！你能超越我吗？"],liansheng_3:["【有人@你】来和我比一比，看谁更厉害！","已经没有人可以阻止我的连胜了！"]},shareImg:{task:"share1.png",share:"share2.png",jiuji:"share3.png",jipaiqi:"share4.png",lequan:"share5.png",chuntian:"share6.png",liansheng_3:"share7.png"},getShareImgPath:function(e){return a.imagePath()+a.shareImg[e]},imagePath:function(){return wx.env.USER_DATA_PATH+"/ddz_res/image/"},soundsPath:function(){return wx.env.USER_DATA_PATH+"/ddz_res/sounds/"},loadImage:function(o,e){var t=cc.url.raw("resources/shareBig/"+e+".png");"undefined"==typeof wx||(t=wx.env.USER_DATA_PATH+"/ddz_res/image/shareBig/"+e+".png"),cc.loader.load(t,function(e,t){o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}};t.exports=a,cc._RF.pop()},{}],dialogManager:[function(e,t,o){"use strict";cc._RF.push(t,"4b867ajR6hL6KpFRRVm3Qvl","dialogManager");var r=e("commonControl"),a=e("CancelDelegateController"),n=e("opratShowCardControl"),i=e("opratDoubleControl"),s=e("doubleControl"),l=e("playerInfoControl"),c=e("TableShareGetControl"),d=e("TaskCompleteShareControl"),u=e("huodedaojuControl"),h=e("AuthorizeControl");cc.Class({extends:cc.Component,statics:{showDialog:function(e,a,n){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);return cc.director.getScene().addChild(o,9999),a?(o.getComponent(a).show(n),o.getComponent(a)):void 0}console.log(e)})},showCommonDialog:function(e,t,o,a){var n={};n.arg1=e,n.arg2=t,n.arg3=o,n.arg4=a,this.showDialog("prefab/commonDialog",r,n)},showAuthorizeDialog:function(e,t,o){var a={};a.arg1=e,a.arg2=t,a.arg3=o,this.showDialog("prefab/AuthorizeDialog",h,a)},showBagDialog:function(){this.showDialog("prefab/bagDialog")},showEmailDialog:function(){this.showDialog("prefab/emailDialog")},showExchangeDialog:function(){this.showDialog("prefab/exchangeDialog")},showFanKuiDialog:function(){this.showDialog("prefab/fankuiDialog")},showAboutDialog:function(){this.showDialog("prefab/aboutDialog")},showGameResultDialog:function(e){e?this.showDialog("prefab/gameResultWin"):this.showDialog("prefab/gameResultLose")},showSetDialog:function(){this.showDialog("prefab/setDialog")},showTaskDialog:function(){this.showDialog("prefab/taskDialog")},showJpqNode:function(){this.showDialog("prefab/jpqNode")},showShareDialog:function(){this.showDialog("prefab/shareDialog")},showShopDialog:function(){this.showDialog("prefab/shopDialog")},showChatDialog:function(){this.showDialog("prefab/chatDialog")},showPlayerInfo:function(e){this.showDialog("prefab/playerInfoDialog",l,e)},showOpratCallLord:function(){this.showDialog("prefab/opratCallLord")},showOpratOutCard:function(){this.showDialog("prefab/opratOutCard")},showOpratDouble:function(e,t){var o={};o.arg1=e,o.arg2=t,this.showDialog("prefab/opratDouble",i,o)},showOpratShowCard:function(e){this.showDialog("prefab/opratShowCard",n,e)},showCancelDelegate:function(e){this.showDialog("prefab/CancelDelegate",a,e)},showAnimChunTian:function(){this.showDialog("animatiom/anim_chuntian")},showAnimFeiJi:function(){this.showDialog("animatiom/anim_feiji")},showAnimHuoJian:function(){this.showDialog("animatiom/anim_huojian")},showAnimZhaDan:function(){this.showDialog("animatiom/anim_zhadan")},showAnimDouble:function(e,t){var o={};o.arg1=e,o.arg2=t,this.showDialog("animatiom/anim_double",s,o)},showAnimGetProp:function(e,t){var o={};o.arg1=e,o.arg2=t,this.showDialog("animatiom/anim_huodedaoju",u,o)},showTableShareGet:function(e){this.showDialog("prefab/tableShareGetDialog",c,e)},showTaskCompleteShare:function(e){this.showDialog("prefab/taskCompleteShareDialog",d,e)}}});cc._RF.pop()},{AuthorizeControl:"AuthorizeControl",CancelDelegateController:"CancelDelegateController",TableShareGetControl:"TableShareGetControl",TaskCompleteShareControl:"TaskCompleteShareControl",commonControl:"commonControl",doubleControl:"doubleControl",huodedaojuControl:"huodedaojuControl",opratDoubleControl:"opratDoubleControl",opratShowCardControl:"opratShowCardControl",playerInfoControl:"playerInfoControl"}],doubleControl:[function(e,t,o){"use strict";cc._RF.push(t,"72169xwyh5J6r9Ilqxc5XxE","doubleControl"),cc.Class({extends:cc.Component,properties:{addNum:{default:null,type:cc.Sprite},animNode:{default:null,type:cc.Node}},onLoad:function(){var e=cc.director.getWinSize().width;console.log("width:"+e),this.node.width=e},start:function(){},show:function(e){var o=this,t=e.arg1,a=e.arg2;if(!(t<2||5<t)){if(console.log(">>>seatNum:"+a),1==a||(0==a?this.animNode.x=this.node.width/5:2==a&&(this.animNode.x=-this.node.width/5)),2!=t){var n="showTips/p_addX"+t;console.log(n),cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.addNum.getComponent(cc.Sprite).spriteFrame=t})}var r=cc.scaleTo(.1,1.2),i=cc.scaleTo(.1,.95),s=cc.scaleTo(.1,1),l=cc.delayTime(.1),c=cc.fadeTo(.2,0),d=cc.callFunc(function(){o.node.destroy()});this.animNode.runAction(cc.sequence(l,r,i,s,l,c,d))}},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],emailControl:[function(e,t,o){"use strict";cc._RF.push(t,"59af9SWmdhEaaOvGCS7ZmBO","emailControl");var i=e("emailItemControl"),a=e("GameNetMgr"),n=e("EventHelper"),r=e("config"),s=e("dialogManager");e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},emailItem:{default:null,type:cc.Prefab},label_noEmail:{default:null,type:cc.Label}},start:function(){var e=this;this.label_noEmail.node.active=!1,a.sendRequest("System","Mail"),n.AddCustomEvent(r.MyNode,"MailResult",e.onMailResult,e),n.AddCustomEvent(r.MyNode,"ReadMailResult",e.onReadMailResult,e),n.AddCustomEvent(r.MyNode,"GetMailAttachmentResult",e.onGetMailAttachmentResult,e)},closeClick:function(){console.log("close click");var e=this;n.RemoveCustomEvent(r.MyNode,"MailResult",e.onMailResult,e),n.RemoveCustomEvent(r.MyNode,"ReadMailResult",e.onReadMailResult,e),n.RemoveCustomEvent(r.MyNode,"GetMailAttachmentResult",e.onGetMailAttachmentResult,e),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},leftClick:function(){cc.vv.audioMgr.playSFX("SpecOk")},rightClick:function(){cc.vv.audioMgr.playSFX("SpecOk")},onMailResult:function(e){var t=e.getUserData();console.log(t);var o=t.data.list;0==o.length&&(this.label_noEmail.node.active=!0);for(var a=0;a<o.length;a++){var n=o[a],r=cc.instantiate(this.emailItem);r.parent=this.content,r.getComponent(i).init(n,n.id,n.subject,n.content,n.create_time)}},onReadMailResult:function(e){var t=e.getUserData();console.log(t)},onGetMailAttachmentResult:function(e){var t=e.getUserData();console.log(t);var o="恭喜您";if(t.data.coins&&(o=o+"获得乐豆"+t.data.coins),t.data.coupon&&(o=o+"获得乐劵"+t.data.coupon),t.data.propItems)for(var a in t.data.propItems){var n=t.data.propItems[a];o=o+"获得道具"+n.name+n.num+"个"}s.showCommonDialog("温馨提示",o)}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager",emailItemControl:"emailItemControl"}],emailItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"a70ae9sWxROLoEclQxr/OAA","emailItemControl");var a=e("GameNetMgr"),n=e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{read:{default:null,type:cc.Node},unRead:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labTime:{default:null,type:cc.Label}},onLoad:function(){this.read.active=!1,this.unRead.active=!1,this.info=0,this.id=0},init:function(e,t,o,a,n){this.info=e,this.id=t,this.labTitle.string=o,this.labContent.string=a,this.labTime.string=n,1==e.is_read?this.read.active=!0:this.unRead.active=!0},getClick:function(){console.log("点击了邮件"+this.id),a.sendRequest("System","ReadMail",this.id),a.sendRequest("System","GetMailAttachment",this.id);var e=n.getMailUnread();n.setMailUnread(e-1),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel"}],exchangeControl:[function(e,t,o){"use strict";cc._RF.push(t,"78080u08PZNb6W8rE8TrOth","exchangeControl"),cc.Class({extends:cc.Component,properties:{lequanNum:{default:null,type:cc.Label}},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},recordClick:function(){console.log("record click")}}),cc._RF.pop()},{}],exchangeRecordControl:[function(e,t,o){"use strict";cc._RF.push(t,"80f25rAokFAa4ngb857PFia","exchangeRecordControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],expressionControl:[function(e,t,o){"use strict";cc._RF.push(t,"d0a233e+vFILqcnZGW6aMCC","expressionControl"),cc.Class({extends:cc.Component,properties:{node_ske:{default:null,type:cc.Node},node_pic:{default:null,type:cc.Sprite}},onLoad:function(){var e=cc.director.getWinSize().width,t=cc.director.getWinSize().height;this.node.width=e,this.node.height=t},start:function(){},show:function(e){if(e){var t=e.beginPos,o=e.endpos,a=e.audioUrl;this.node_pic.node.setPosition(t),this.node_ske.setPosition(cc.p(o.x,o.y-50)),this.node_ske.active=!1;var n=this,r=cc.callFunc(function(){n.node_ske.active=!0,n.node_pic.enabled=!1;var e=n.node_ske.getComponent(dragonBones.ArmatureDisplay);e&&(e.playAnimation("newAnimation"),""!=a&&cc.vv.audioMgr.playSFX(a))}),i=cc.callFunc(function(){n.node.destroy()}),s=cc.moveTo(.2,cc.p(o.x,o.y-50)),l=cc.delayTime(2);this.node_pic.node.runAction(cc.sequence(s,r,l,i))}},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],fankuiControl:[function(e,t,o){"use strict";cc._RF.push(t,"1a81b2s2IlExZ02fjc4CfR3","fankuiControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{}],feijiControl:[function(e,t,o){"use strict";cc._RF.push(t,"87cec9P9q9EW6nMNLltgTLN","feijiControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],gameResultControl:[function(e,t,o){"use strict";cc._RF.push(t,"d79724yjfxDdbgN/3Ee9zWb","gameResultControl");var s=e("resoultInfoItemControl");cc.Class({extends:cc.Component,properties:{guang:{default:null,type:cc.Sprite},resoultInfoItem:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node}},onLoad:function(){var e=cc.director.getWinSize().width;console.log("width:"+e),this.node.width=e},start:function(){var e=cc.rotateBy(8,360),t=cc.repeatForever(e);this.guang.node.runAction(t)},show:function(e,t,o,a,n){this.click1=t,this.click2=o,this.backHallScene=n;for(var r=0;r<3;r++){var i=cc.instantiate(this.resoultInfoItem);i.parent=this.content,i.getComponent(s).init(e[r].isdizhu,e[r].nickname,e[r].difen,e[r].beishu,e[r].ledou,a==r,e[r].coin,e[r].rateMax)}},btn1Click:function(){console.log("btn1Click"),this.click1&&this.click1(),cc.vv.audioMgr.playSFX("SpecOk")},btn2Click:function(){console.log("btn2Click"),this.click2&&this.click2(),cc.vv.audioMgr.playSFX("SpecOk")},close:function(){this.backHallScene&&(this.backHallScene(),this.node.destroy()),cc.vv.audioMgr.playSFX("SpecOk")},closeClick:function(){this.node&&this.node.destroy()}}),cc._RF.pop()},{resoultInfoItemControl:"resoultInfoItemControl"}],helper:[function(e,t,o){"use strict";cc._RF.push(t,"71dbfNSQKRBXoIb0R49gpQl","helper");var a={copyObj:function(e){var t=Object.prototype.toString;if("[object Array]"==t.call(e)){var o=[];for(var a in e)o.push(e[a]);return o}if("[object Object]"==t.call(e)){o={};for(var a in e)o[a]=e[a];return o}return e}};t.exports=a,cc._RF.pop()},{}],huodedaojuControl:[function(e,t,o){"use strict";cc._RF.push(t,"834488CDQdJHrGQqbwprXeh","huodedaojuControl");var d=e("animPropControl");cc.Class({extends:cc.Component,properties:{node_ske:{default:null,type:cc.Node},propList:{default:null,type:cc.Node},anima_prop:{default:null,type:cc.Prefab}},onLoad:function(){var e=cc.director.getWinSize().width,t=cc.director.getWinSize().height;this.node.width=e,this.node.height=t},start:function(){},show:function(e){var t=e.arg1,o=e.arg2;this.enterClick=o;for(var a=0;a<t.length;a++){var n=t[a],r=cc.instantiate(this.anima_prop);r.parent=this.propList,r.getComponent(d).show(n)}cc.vv.audioMgr.playSFX("gifteffect");var i=this.node_ske.getComponent(dragonBones.ArmatureDisplay),s=cc.callFunc(function(){i&&i.playAnimation("newAnimation")}),l=cc.callFunc(function(){i&&i.playAnimation("newAnimation1")}),c=cc.delayTime(.5);this.node_ske.runAction(cc.sequence(s,c,l))},close:function(){this.enterClick&&this.enterClick(),this.node.destroy()}}),cc._RF.pop()},{animPropControl:"animPropControl"}],huojianControl:[function(e,t,o){"use strict";cc._RF.push(t,"5d964Tg8XVFl5JoYVvxDv5h","huojianControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],jpqNodeControl:[function(e,t,o){"use strict";cc._RF.push(t,"0bbd6jh72JC1JM15/Q6pmQW","jpqNodeControl");var i=e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.labNodes=[];for(var e=17;3<=e;e--){var t="lab_"+e,o=cc.find("jpqNode/"+t).getComponent(cc.Label);this.labNodes.push(o)}},start:function(){this.isActive=!0},show:function(e){console.log(e);var t=e;if(e){var o=[],a=i.getJpqData();if(a&&""!=a)for(var n=1;n<a.length;n+=2)o.push(a[n]);for(n=0;n<o.length;n++){var r=parseInt(o[n])-parseInt(t[t.length-1-n]);r<0&&(r=0),this.labNodes[n].string=""+r,this.labNodes[n].node.color=0==r?new cc.Color(113,113,113):new cc.Color(191,45,0)}}},close:function(){console.log("close click"),this.node&&this.node.destroy()},showNode:function(e){this.isActive=e,this.node.active=e},getIsActive:function(){return this.isActive}}),cc._RF.pop()},{PlayerDetailModel:"PlayerDetailModel"}],loadingControl:[function(e,t,o){"use strict";cc._RF.push(t,"c3e81EziVFOC6wdlw2myYgS","loadingControl"),cc.Class({extends:cc.Component,properties:{loading:{default:null,type:cc.Sprite}},start:function(){var e=cc.rotateBy(3,360),t=cc.repeatForever(e);this.loading.node.runAction(t)},show:function(e){},close:function(){this.node&&this.node.destroy()}}),cc._RF.pop()},{}],md5:[function(e,t,o){"use strict";cc._RF.push(t,"99de3n6y05GIL/WnrCxpcEX","md5");var u={};u.hex_md5=function(e){return u.binl2hex(u.core_md5(u.str2binl(e),8*e.length))},u.b64_md5=function(e){return u.binl2b64(u.core_md5(u.str2binl(e),8*e.length))},u.str_md5=function(e){return u.binl2str(u.core_md5(u.str2binl(e),8*e.length))},u.hex_hmac_md5=function(e,t){return u.binl2hex(u.core_hmac_md5(e,t))},u.b64_hmac_md5=function(e,t){return u.binl2b64(u.core_hmac_md5(e,t))},u.str_hmac_md5=function(e,t){return u.binl2str(u.core_hmac_md5(e,t))},u.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==u.hex_md5("abc")},u.core_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,a=-271733879,n=-1732584194,r=271733878,i=0;i<e.length;i+=16){var s=o,l=a,c=n,d=r;o=u.md5_ff(o,a,n,r,e[i+0],7,-680876936),r=u.md5_ff(r,o,a,n,e[i+1],12,-389564586),n=u.md5_ff(n,r,o,a,e[i+2],17,606105819),a=u.md5_ff(a,n,r,o,e[i+3],22,-1044525330),o=u.md5_ff(o,a,n,r,e[i+4],7,-176418897),r=u.md5_ff(r,o,a,n,e[i+5],12,1200080426),n=u.md5_ff(n,r,o,a,e[i+6],17,-1473231341),a=u.md5_ff(a,n,r,o,e[i+7],22,-45705983),o=u.md5_ff(o,a,n,r,e[i+8],7,1770035416),r=u.md5_ff(r,o,a,n,e[i+9],12,-1958414417),n=u.md5_ff(n,r,o,a,e[i+10],17,-42063),a=u.md5_ff(a,n,r,o,e[i+11],22,-1990404162),o=u.md5_ff(o,a,n,r,e[i+12],7,1804603682),r=u.md5_ff(r,o,a,n,e[i+13],12,-40341101),n=u.md5_ff(n,r,o,a,e[i+14],17,-1502002290),a=u.md5_ff(a,n,r,o,e[i+15],22,1236535329),o=u.md5_gg(o,a,n,r,e[i+1],5,-165796510),r=u.md5_gg(r,o,a,n,e[i+6],9,-1069501632),n=u.md5_gg(n,r,o,a,e[i+11],14,643717713),a=u.md5_gg(a,n,r,o,e[i+0],20,-373897302),o=u.md5_gg(o,a,n,r,e[i+5],5,-701558691),r=u.md5_gg(r,o,a,n,e[i+10],9,38016083),n=u.md5_gg(n,r,o,a,e[i+15],14,-660478335),a=u.md5_gg(a,n,r,o,e[i+4],20,-405537848),o=u.md5_gg(o,a,n,r,e[i+9],5,568446438),r=u.md5_gg(r,o,a,n,e[i+14],9,-1019803690),n=u.md5_gg(n,r,o,a,e[i+3],14,-187363961),a=u.md5_gg(a,n,r,o,e[i+8],20,1163531501),o=u.md5_gg(o,a,n,r,e[i+13],5,-1444681467),r=u.md5_gg(r,o,a,n,e[i+2],9,-51403784),n=u.md5_gg(n,r,o,a,e[i+7],14,1735328473),a=u.md5_gg(a,n,r,o,e[i+12],20,-1926607734),o=u.md5_hh(o,a,n,r,e[i+5],4,-378558),r=u.md5_hh(r,o,a,n,e[i+8],11,-2022574463),n=u.md5_hh(n,r,o,a,e[i+11],16,1839030562),a=u.md5_hh(a,n,r,o,e[i+14],23,-35309556),o=u.md5_hh(o,a,n,r,e[i+1],4,-1530992060),r=u.md5_hh(r,o,a,n,e[i+4],11,1272893353),n=u.md5_hh(n,r,o,a,e[i+7],16,-155497632),a=u.md5_hh(a,n,r,o,e[i+10],23,-1094730640),o=u.md5_hh(o,a,n,r,e[i+13],4,681279174),r=u.md5_hh(r,o,a,n,e[i+0],11,-358537222),n=u.md5_hh(n,r,o,a,e[i+3],16,-722521979),a=u.md5_hh(a,n,r,o,e[i+6],23,76029189),o=u.md5_hh(o,a,n,r,e[i+9],4,-640364487),r=u.md5_hh(r,o,a,n,e[i+12],11,-421815835),n=u.md5_hh(n,r,o,a,e[i+15],16,530742520),a=u.md5_hh(a,n,r,o,e[i+2],23,-995338651),o=u.md5_ii(o,a,n,r,e[i+0],6,-198630844),r=u.md5_ii(r,o,a,n,e[i+7],10,1126891415),n=u.md5_ii(n,r,o,a,e[i+14],15,-1416354905),a=u.md5_ii(a,n,r,o,e[i+5],21,-57434055),o=u.md5_ii(o,a,n,r,e[i+12],6,1700485571),r=u.md5_ii(r,o,a,n,e[i+3],10,-1894986606),n=u.md5_ii(n,r,o,a,e[i+10],15,-1051523),a=u.md5_ii(a,n,r,o,e[i+1],21,-2054922799),o=u.md5_ii(o,a,n,r,e[i+8],6,1873313359),r=u.md5_ii(r,o,a,n,e[i+15],10,-30611744),n=u.md5_ii(n,r,o,a,e[i+6],15,-1560198380),a=u.md5_ii(a,n,r,o,e[i+13],21,1309151649),o=u.md5_ii(o,a,n,r,e[i+4],6,-145523070),r=u.md5_ii(r,o,a,n,e[i+11],10,-1120210379),n=u.md5_ii(n,r,o,a,e[i+2],15,718787259),a=u.md5_ii(a,n,r,o,e[i+9],21,-343485551),o=u.safe_add(o,s),a=u.safe_add(a,l),n=u.safe_add(n,c),r=u.safe_add(r,d)}return Array(o,a,n,r)},u.md5_cmn=function(e,t,o,a,n,r){return u.safe_add(u.bit_rol(u.safe_add(u.safe_add(t,e),u.safe_add(a,r)),n),o)},u.md5_ff=function(e,t,o,a,n,r,i){return u.md5_cmn(t&o|~t&a,e,t,n,r,i)},u.md5_gg=function(e,t,o,a,n,r,i){return u.md5_cmn(t&a|o&~a,e,t,n,r,i)},u.md5_hh=function(e,t,o,a,n,r,i){return u.md5_cmn(t^o^a,e,t,n,r,i)},u.md5_ii=function(e,t,o,a,n,r,i){return u.md5_cmn(o^(t|~a),e,t,n,r,i)},u.core_hmac_md5=function(e,t){var o=u.str2binl(e);16<o.length&&(o=u.core_md5(o,8*e.length));for(var a=Array(16),n=Array(16),r=0;r<16;r++)a[r]=909522486^o[r],n[r]=1549556828^o[r];var i=u.core_md5(a.concat(u.str2binl(t)),512+8*t.length);return u.core_md5(n.concat(i),640)},u.safe_add=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},u.bit_rol=function(e,t){return e<<t|e>>>32-t},u.str2binl=function(e){for(var t=Array(),o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t},u.binl2str=function(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t},u.binl2hex=function(e){for(var t="0123456789abcdef",o="",a=0;a<4*e.length;a++)o+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return o},u.binl2b64=function(e){for(var t="",o=0;o<4*e.length;o+=3)for(var a=(e[o>>2]>>o%4*8&255)<<16|(e[o+1>>2]>>(o+1)%4*8&255)<<8|e[o+2>>2]>>(o+2)%4*8&255,n=0;n<4;n++)8*o+6*n>32*e.length?t+="":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-n)&63);return t},t.exports=u,cc._RF.pop()},{}],opratCallLordControl:[function(e,t,o){"use strict";cc._RF.push(t,"f7e34gIEi5GOL4xY36+I5ES","opratCallLordControl");var i=e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},btnNode1:{default:null,type:cc.Node},btnNode2:{default:null,type:cc.Node},btnSp1:{default:null,type:cc.Sprite},btnSp2:{default:null,type:cc.Sprite},clock:{default:null,type:cc.Node},tishi:{default:null,type:cc.Sprite},timeCount:30},onLoad:function(){this.tishi.enabled=!1},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&1<=this.timeCount&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,a){this.timeCount=e,this.btn1Func=t,this.btn2Func=o;var n=this;this.type=a;var r="";e<10&&(r=""),this.timeTxt.string=r+e,a==i.opratType.callLoad||(a==i.opratType.grabLoad?(cc.loader.loadRes("operation_btn/p_qiangyes",cc.SpriteFrame,function(e,t){n.btnSp1.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("operation_btn/p_qiangno",cc.SpriteFrame,function(e,t){n.btnSp2.getComponent(cc.Sprite).spriteFrame=t})):a==i.opratType.mustOutCard&&(this.btnNode1.x=0,this.btnNode1.active=!1,this.btnNode2.x=67,this.clock.x=-163,this.timeTxt.node.x=-161,cc.loader.loadRes("operation_btn/p_cardout",cc.SpriteFrame,function(e,t){n.btnSp2.getComponent(cc.Sprite).spriteFrame=t})))},close:function(){this.node&&this.node.destroy()},btn1Click:function(){console.log("btn1Click"),this.btn1Func&&this.btn1Func(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btn2Click:function(){if(console.log("btn2Click"),this.type==i.opratType.mustOutCard){if(this.btn2Func){var e=this.btn2Func();0==e?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==e?this.showTips("showTips/p_tips_seletcedCardTypeError"):this.tishi.enabled=!1}}else this.btn2Func&&this.btn2Func(),this.node.destroy();cc.vv.audioMgr.playSFX("SpecOk")},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),a=cc.moveTo(.05,this.clockX,this.clockY+2),n=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,a,n,r,i)),cc.vv.audioMgr.playSFX("Special_Remind")},chupaiClick:function(e){console.log("出牌");var t=0;this.chupaiFunc&&(t=this.chupaiFunc()),this.tishi.enabled=!1,e&&(t=e),0==t?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==t&&this.showTips("showTips/p_tips_seletcedCardTypeError")},showTips:function(e){this.tishi.node.stopAllActions();var o=this;this.tishi.enabled=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.tishi.getComponent(cc.Sprite).spriteFrame=t});var t=cc.delayTime(2),a=cc.callFunc(function(){o.tishi.enabled=!1});this.tishi.node.runAction(cc.sequence(t,a))}}),cc._RF.pop()},{config:"config"}],opratDoubleControl:[function(e,t,o){"use strict";cc._RF.push(t,"c56d3EULtVHAqVq6xWd2VvQ","opratDoubleControl");e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:3},onLoad:function(){this.timeCount=3,this.timeTxt.string=""+this.timeCount},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.click1=e.arg1,this.click2=e.arg2},close:function(){this.node&&this.node.destroy()},btnClick1:function(){console.log("点击了加倍按钮"),this.click1&&this.click1(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnClick2:function(){console.log("点击了不加倍按钮"),this.click2&&this.click2(),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),a=cc.moveTo(.05,this.clockX,this.clockY+2),n=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,a,n,r,i))}}),cc._RF.pop()},{config:"config"}],opratOutCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"11981lKVm5PCYFV3U8YkCcn","opratOutCardControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},buchuBtn:{default:null,type:cc.Node},tishiBtn:{default:null,type:cc.Node},chupaiBtn:{default:null,type:cc.Node},clock:{default:null,type:cc.Node},tishi:{default:null,type:cc.Sprite},timeCount:30},onLoad:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.tishi.enabled=!1,this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&1<=this.timeCount&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.active=!1);var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,a,n){this.node.active=!0,this.timeCount=e,this.buchuFunc=t,this.tishiFunc=o,this.chupaiFunc=a;this.timeTxt.string=""+e,this.buchuBtn.active=!0,this.tishiBtn.active=!0,this.chupaiBtn.active=!0,this.buchuBtn.x=-370,this.tishiBtn.x=79,this.chupaiBtn.x=387,this.clock.x=-147,1==n?(this.clock.x=-163,this.chupaiBtn.x=63,this.buchuBtn.active=!1,this.tishiBtn.active=!1):2==n&&(this.clock.x=-163,this.buchuBtn.x=63,this.tishiBtn.active=!1,this.chupaiBtn.active=!1)},close:function(){this.node&&(this.node.active=!1)},buchuClick:function(){console.log("不出"),this.buchuFunc&&this.buchuFunc(),this.node.active=!1},tishiClick:function(){console.log("提示"),this.tishiFunc&&this.tishiFunc()},chupaiClick:function(e){console.log(">>>出牌");var t=0;this.chupaiFunc&&(t=this.chupaiFunc(),console.log("typenum:"+t)),"number"==typeof e&&(t=e),console.log("typenum11111:"+t),0==t?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==t?this.showTips("showTips/p_tips_seletcedCardTypeError"):-2==t&&this.showTips("showTips/p_tips_noCard")},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),a=cc.moveTo(.05,this.clockX,this.clockY+2),n=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,a,n,r,i)),cc.vv.audioMgr.playSFX("Special_Remind")},showTips:function(e){var o=this;if(o.tishi){this.tishi.node.stopAllActions(),this.tishi.enabled=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.tishi.getComponent(cc.Sprite).spriteFrame=t});var t=cc.delayTime(2),a=cc.callFunc(function(){o.tishi.enabled=!1});this.tishi.node.runAction(cc.sequence(t,a))}}}),cc._RF.pop()},{}],opratShowCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"32b68GmBLZM66Mox1ff/d6j","opratShowCardControl");e("config");cc.Class({extends:cc.Component,properties:{spNum:{default:null,type:cc.Sprite}},start:function(){},show:function(e){this.click=e;var o=this;this.time=5,this.spTxt="operation_btn/p_add",this.schedule(function(){if(2<this.time){this.time-=1;var e=this.spTxt+this.time;cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.spNum.getComponent(cc.Sprite).spriteFrame=t})}else this.node.destroy()},.8,this.time,0)},close:function(){this.node&&this.node.destroy()},btnClick:function(){console.log("点击了明牌按钮"),this.click&&this.click(this.time),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{config:"config"}],playerInfoControl:[function(e,t,o){"use strict";cc._RF.push(t,"5918boob3hJWoGJ2VNlWJWN","playerInfoControl");var r=e("config"),i=e("PlayerDetailModel"),a=e("GameNetMgr");cc.Class({extends:cc.Component,properties:{head:{default:null,type:cc.Sprite},ledou:{default:null,type:cc.Label},lequan:{default:null,type:cc.Label},nickname:{default:null,type:cc.Label},id:{default:null,type:cc.Label},duijv:{default:null,type:cc.Label},shenglv:{default:null,type:cc.Label},expressionNode:{default:null,type:cc.Node},nodeLequan:{default:null,type:cc.Node}},onLoad:function(){this.expressionNode.active=!1,this.args={},this.canClick=!0},start:function(){},showMyInfo:function(){this.expressionNode.active=!0,this.canClick=!1,this.ledou.string=""+i.getCoin(),this.lequan.string=""+i.getCoupon(),this.nickname.string=""+i.getNickName(),this.id.string="(ID:"+i.getUid()+")";var e=i.getMatches(),t=i.getWin(),o=0;o=0==i.getMatches()?0:Math.ceil(t/e*100),this.duijv.string="对局："+e,this.shenglv.string="胜率："+o+"%",this.setHeadUrl()},initInfo:function(e){if("hall"!=e){if("my"==(this.args=e).posName?(this.expressionNode.active=!1,this.nodeLequan.active=!0):(this.expressionNode.active=!0,this.nodeLequan.active=!1),e.player){this.ledou.string=""+e.player.getCoin(),this.nickname.string=""+e.player.getNickname(),this.id.string="(ID:"+e.player.getUid()+")";var t=e.player.getPlay(),o=e.player.getWin(),a=0;a=0==t?0:Math.ceil(o/t*100),this.duijv.string="对局："+t,this.shenglv.string="胜率："+a+"%",this.setHeadUrl(e.player)}}else this.showMyInfo()},show:function(e){this.initInfo(e)},closeClick:function(){console.log("close click"),cc.vv.audioMgr.playSFX("SpecOk"),this.node.destroy()},setHeadUrl:function(e){var o=this,t="";t=e?e.getWechatImg():r.wxInfo.avatarUrl;var a=0;if(a=e?e.getGender():i.getGender(),""==t){var n="p_head_woman";return 1==a&&(n="p_head_man"),void cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.head.getComponent(cc.Sprite).spriteFrame=t})}t+="?aa=aa.jpg",cc.loader.load(t,function(e,t){o.head.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},btn1Click:function(){if(console.log(" 拖鞋"),this.canClick){cc.vv.audioMgr.playSFX("SpecOk"),this.node.destroy();var e=this.args,t=0;r.tableInfo&&(t=r.tableInfo.emoticon_items[0]);var o={sendSeatId:e.sendSeatId,receiveSeatId:e.receiveSeatId,emoticonType:2,id:t};a.sendRequest("Game","emoticon",o)}},btn2Click:function(){if(console.log(" 鸡蛋"),this.canClick){cc.vv.audioMgr.playSFX("SpecOk"),this.node.destroy();var e=this.args,t=0;r.tableInfo&&(t=r.tableInfo.emoticon_items[1]);var o={sendSeatId:e.sendSeatId,receiveSeatId:e.receiveSeatId,emoticonType:2,id:t};a.sendRequest("Game","emoticon",o)}},btn3Click:function(){if(console.log(" 点赞"),this.canClick){cc.vv.audioMgr.playSFX("SpecOk"),this.node.destroy();var e=this.args,t=0;r.tableInfo&&(t=r.tableInfo.emoticon_items[2]);var o={sendSeatId:e.sendSeatId,receiveSeatId:e.receiveSeatId,emoticonType:2,id:t};a.sendRequest("Game","emoticon",o)}},btn4Click:function(){if(console.log(" 鲜花"),this.canClick){cc.vv.audioMgr.playSFX("SpecOk"),this.node.destroy();var e=this.args,t=0;r.tableInfo&&(t=r.tableInfo.emoticon_items[3]);var o={sendSeatId:e.sendSeatId,receiveSeatId:e.receiveSeatId,emoticonType:2,id:t};a.sendRequest("Game","emoticon",o)}}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],resoultInfoItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"befceraMjdEGZQ+n9tC5pA+","resoultInfoItemControl");var l=e("config");cc.Class({extends:cc.Component,properties:{pDizhu:{default:null,type:cc.Sprite},labNickName:{default:null,type:cc.Label},labDifen:{default:null,type:cc.Label},labBeishu:{default:null,type:cc.Label},labLedou:{default:null,type:cc.Label},pInfoBtn:{default:null,type:cc.Sprite},pInfoTxt:{default:null,type:cc.Sprite}},onLoad:function(){this.pDizhu.enabled=!1,this.pInfoBtn.enabled=!1,this.pInfoTxt.enabled=!1},init:function(e,t,o,a,n,r,i,s){e&&(this.pDizhu.enabled=!0),r||(this.labNickName.node.color=new cc.Color(255,255,255),this.labDifen.node.color=new cc.Color(255,255,255),this.labBeishu.node.color=new cc.Color(255,255,255),this.labLedou.node.color=new cc.Color(255,255,255)),this.labNickName.string=l.parseString(t),this.labDifen.string=""+o,this.labBeishu.string=""+a,this.fengdingpochan(e,a,n,o,s,r,i),n=0<n?"+"+n:"- "+Math.abs(n),this.labLedou.string=""+n},fengdingpochan:function(e,t,o,a,n,r,i){var s=parseInt(t),l=parseInt(o),c=parseInt(a),d=!1;if(n&&n<s&&r&&0<i){var u=!1,h=!1;if(0<l&&(u=!0),l<0){var p=s;n<s&&(p=n);var g=p*c;if(e&&(g*=2),Math.abs(l)<g)return}if(0<l){p=s;n<s&&(p=n);g=p*c;e&&(g*=2),l<g&&(h=!0),l<i&&(d=!0)}if(!d)return void this.fengding(u,h)}if(n&&s<=n&&r&&0<i){u=!1,h=!1;if(0<l&&(u=!0),0<l){p=s;n<s&&(p=n);g=p*c;if(e&&(g*=2),l<i&&(d=!0),l<g&&!d)return h=!0,void this.fengding(u,h)}}if(l<0){p=s;n<s&&(p=n);g=p*c;e&&(g*=2),g>Math.abs(l)&&0==i?this.pochan():g==Math.abs(l)&&r&&0==i&&this.pochan()}},pochan:function(){console.log("破产了");var o=this;this.pInfoBtn.enabled=!0,this.pInfoTxt.enabled=!0,cc.loader.loadRes("gameResult/p_pochan",cc.SpriteFrame,function(e,t){o.pInfoBtn.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("gameResult/tip_pochan",cc.SpriteFrame,function(e,t){o.pInfoTxt.getComponent(cc.Sprite).spriteFrame=t})},fengding:function(e,t){var o=this,a="gameResult/tip_fengding";a=e?"gameResult/tip_fengding2":"gameResult/tip_fengding",t&&(a="gameResult/tip_fengding3"),console.log("封顶了："+a),this.pInfoBtn.enabled=!0,this.pInfoTxt.enabled=!0,cc.loader.loadRes("gameResult/p_fengding",cc.SpriteFrame,function(e,t){o.pInfoBtn.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){o.pInfoTxt.getComponent(cc.Sprite).spriteFrame=t})}}),cc._RF.pop()},{config:"config"}],setControl:[function(e,t,o){"use strict";cc._RF.push(t,"d16ccLCjY5O86/MTBSCS0tQ","setControl");var a=e("dialogManager");cc.Class({extends:cc.Component,properties:{imgMusic:{default:null,type:cc.Node},imgEffect:{default:null,type:cc.Node},musicSet:!1,effectSet:!1},start:function(){var o=this;this.musicSet=cc.sys.localStorage.getItem("bgmVolume"),this.effectSet=cc.sys.localStorage.getItem("sfxVolume"),console.log("-----musicSet:"+this.musicSet),console.log("-----effectSet:"+this.effectSet);var e="";e=1==this.musicSet?"img_dialog/btn_on":"img_dialog/btn_off",cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgMusic.getComponent(cc.Sprite).spriteFrame=t}),e=1==this.effectSet?"img_dialog/btn_on":"img_dialog/btn_off",cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgEffect.getComponent(cc.Sprite).spriteFrame=t})},musicClick:function(){var o=this;console.log("music click");var e="img_dialog/btn_off";1==this.musicSet?(this.musicSet=!1,e="img_dialog/btn_off",cc.vv.audioMgr.setBGMVolume(0)):(this.musicSet=!0,e="img_dialog/btn_on",cc.vv.audioMgr.setBGMVolume(1)),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgMusic.getComponent(cc.Sprite).spriteFrame=t}),cc.vv.audioMgr.playSFX("SpecOk")},effectClick:function(){var o=this;console.log("effect click");var e="img_dialog/btn_off";1==this.effectSet?(this.effectSet=!1,e="img_dialog/btn_off",cc.vv.audioMgr.setSFXVolume(0)):(this.effectSet=!0,e="img_dialog/btn_on",cc.vv.audioMgr.setSFXVolume(1)),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgEffect.getComponent(cc.Sprite).spriteFrame=t}),cc.vv.audioMgr.playSFX("SpecOk")},fankuiClick:function(){console.log("fankui click"),a.showFanKuiDialog(),cc.vv.audioMgr.playSFX("SpecOk")},aboutClick:function(){console.log("about click"),a.showAboutDialog(),cc.vv.audioMgr.playSFX("SpecOk")},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{dialogManager:"dialogManager"}],shareControl:[function(e,t,o){"use strict";cc._RF.push(t,"69186QOGcNP24M8wI7sbkLu","shareControl");var s=e("PlayerDetailModel"),l=e("dialogManager"),r=e("config"),i=e("GameNetMgr"),c=e("EventHelper");cc.Class({extends:cc.Component,properties:{btnNode_1:{default:null,type:cc.Button,opentype:"share"},btnNode_2:{default:null,type:cc.Button,opentype:"share"},btnNode_3:{default:null,type:cc.Button,opentype:"share"},btnNode_4:{default:null,type:cc.Button,opentype:"share"},btnNode_5:{default:null,type:cc.Button,opentype:"share"},btnNode_get:{default:null,type:cc.Button,opentype:"share"}},start:function(){i.sendRequest("System","ShareInfo"),c.AddCustomEvent(r.MyNode,"ShareInfoResult",this.onShareInfoResult,this),c.AddCustomEvent(r.MyNode,"ShareGetResult",this.onShareGetResult,this),this.pHeads=[],this.labCoins=[],this.palyerNum=0;for(var e=1;e<=5;e++){var t="head_"+e,o="label_"+e,a=this.node.getChildByName(t).getChildByName("mask").getChildByName("defult_head").getComponent(cc.Sprite),n=this.node.getChildByName(o).getComponent(cc.Label);this.pHeads.push(a),this.labCoins.push(n),a.enabled=!1}},closeClick:function(){console.log("close click"),this.node.destroy(),c.RemoveCustomEvent(r.MyNode,"ShareInfoResult",this.onShareInfoResult,this),c.RemoveCustomEvent(r.MyNode,"ShareGetResult",this.onShareGetResult,this),cc.vv.audioMgr.playSFX("SpecOk")},btnClick:function(){var e=5-this.palyerNum;if(console.log("xxxxxxx",e),0<e){var t=r.getRandom(1),o=r.shareTxt.share[t];1==t&&(o="【仅剩"+e+"人】麻烦你啦，点击帮我拆礼包吧！"),console.log(">>>>shareTxt:",o);var a=r.getShareImgPath("share");console.log(">>>shareImg:",a),wx.shareAppMessage({title:o,imageUrl:a,query:"key="+s.uid,success:function(e){console.log("---转发成功!!!"),console.log(e),i.sendRequest("System","ShareWxRes",2)},fail:function(e){console.log("---转发失败!!!")}}),cc.vv.audioMgr.playSFX("SpecOk")}},getClick:function(){console.log("-------get"),i.sendRequest("System","ShareGet"),cc.vv.audioMgr.playSFX("SpecOk")},onShareInfoResult:function(e){var t=e.getUserData();console.log(t);for(var o=t.data.list,a=this.palyerNum=0;a<o.length;a++)o[a].img&&(this.pHeads[a].enabled=!0,this.setHeadUrl(o[a].img,this.pHeads[a]),this.palyerNum++),o[a].award&&(0==o[a].award?this.labCoins[a].string=""+o[a].award_desc:this.labCoins[a].string="已领取")},onShareGetResult:function(e){var t=e.getUserData();console.log(t);var o=this,a=t.data.awarded,n=t.data.award,r=[];if(n.coins){var i={arg1:"ledou",arg2:n.coins};r.push(i)}if(n.coupon){i={arg1:"lequan",arg2:n.coupon};r.push(i)}0<r.length?l.showAnimGetProp(r,function(){if(a<=5)for(var e=0;e<a;e++)o.labCoins[e].string="已领取"}):5==a?l.showCommonDialog("温馨提示",t.data.award_desc):l.showCommonDialog("温馨提示",t.data.award_desc,function(){o.btnClick()}),s.setShareUnReward(0)},setHeadUrl:function(e,o){e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],shopControl:[function(e,t,o){"use strict";cc._RF.push(t,"500admjfkxC4pcuxdFqWeDz","shopControl");e("config"),e("EventHelper"),e("PlayerDetailModel"),e("dialogManager");cc.Class({extends:cc.Component,properties:{btnCoin:{default:null,type:cc.Sprite},btnProp:{default:null,type:cc.Sprite},gridCoin:{default:null,type:cc.Node},gridProp:{default:null,type:cc.Node}},start:function(){var o=this;cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t}),this.gridCoin.active=!0,this.gridProp.active=!1},closeClick:function(){console.log("close click"),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},btnCoinClick:function(){console.log("btnCoinClick"),this.gridCoin.active=!0,this.gridProp.active=!1;var o=this;cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t})},btnPropClick:function(){console.log("btnPropClick"),this.gridCoin.active=!1,this.gridProp.active=!0;var o=this;cc.loader.loadRes("shop/p_shopBtn_2",cc.SpriteFrame,function(e,t){o.btnCoin.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("shop/p_shopBtn_1",cc.SpriteFrame,function(e,t){o.btnProp.getComponent(cc.Sprite).spriteFrame=t})},coinItemClick:function(e){var t=e.target.name;console.log("coinItemClick:"+t)},propItemClick:function(e){var t=e.target.name;console.log("propItemClick:"+t)}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],taskControl:[function(e,t,o){"use strict";cc._RF.push(t,"48cba0x+mdEuZiLRl/DVjiH","taskControl");var l=e("taskItemControl"),a=e("GameNetMgr"),n=e("EventHelper"),r=e("config"),i=e("dialogManager");e("PlayerDetailModel");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},taskItem:{default:null,type:cc.Prefab}},start:function(){a.sendRequest("System","TaskDaily"),n.AddCustomEvent(r.MyNode,"TaskDailyResult",this.onTaskDailyResult,this),n.AddCustomEvent(r.MyNode,"GetTaskRewardResult",this.onGetTaskRewardResult,this)},closeClick:function(){console.log("close click"),n.RemoveCustomEvent(r.MyNode,"TaskDailyResult",this.onTaskDailyResult,this),n.RemoveCustomEvent(r.MyNode,"GetTaskRewardResult",this.onGetTaskRewardResult,this),this.node.destroy(),cc.vv.audioMgr.playSFX("SpecOk")},leftClick:function(){cc.vv.audioMgr.playSFX("SpecOk")},rightClick:function(){cc.vv.audioMgr.playSFX("SpecOk")},onTaskDailyResult:function(e){var t=e.getUserData();console.log(t);for(var o=t.data.list.everyday,a=0;a<o.length;a++){var n=o[a],r=cc.instantiate(this.taskItem);r.parent=this.content;var i=r.getComponent(l),s=n.complete+"/"+n.target;i.init(n,n.desc,n.award_desc,s)}},onGetTaskRewardResult:function(e){var t=e.getUserData();console.log(t);var o=t.data.award,a=[];if(o.coins){var n={arg1:"ledou",arg2:o.coins};a.push(n)}if(o.coupon){n={arg1:"lequan",arg2:o.coupon};a.push(n)}0<a.length&&i.showAnimGetProp(a)}}),cc._RF.pop()},{EventHelper:"EventHelper",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager",taskItemControl:"taskItemControl"}],taskItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"bbe82HivaFIsojxh19Nd3Sr","taskItemControl");var a=e("GameNetMgr"),n=e("PlayerDetailModel"),r=e("config");cc.Class({extends:cc.Component,properties:{nodeGet:{default:null,type:cc.Node},nodeComplete:{default:null,type:cc.Node},nodeProgrss:{default:null,type:cc.Node},nodeGoto:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labProgress:{default:null,type:cc.Label},btnNode_goto:{default:null,type:cc.Button,opentype:"share"}},onLoad:function(){this.nodeGet.active=!1,this.nodeComplete.active=!1,this.nodeProgrss.active=!1,this.nodeGoto.active=!1,this.state=0,this.id=0},init:function(e,t,o,a){this.state=e.state,this.labTitle.string=t,this.labContent.string=o,this.id=e.id,this.goto=e.goto,"0"==this.state?(this.nodeProgrss.active=!0,this.labProgress.string=a,2==this.goto&&(this.nodeGoto.active=!0)):"1"==this.state?this.nodeGet.active=!0:"2"==this.state&&(this.nodeComplete.active=!0)},getClick:function(){if("1"==this.state){console.log("点击了任务领取按钮 this.id:"+this.id),a.sendRequest("System","GetTaskReward",this.id),this.nodeGet.active=!1,this.nodeProgrss.active=!1,this.nodeComplete.active=!0;var e=n.getTaskUnReward();n.setTaskUnReward(e-1)}cc.vv.audioMgr.playSFX("SpecOk")},gotoClick:function(){console.log("this.goto:"+this.goto);var e=r.getRandom(1),t=r.shareTxt.task[e];console.log(">>>shareTxt:",t);var o=r.getShareImgPath("task");console.log(">>>shareImg:",o),this.goto&&"0"==this.state&&(1==this.goto?console.log("前往普通场"):2==this.goto&&(console.log("前往分享"),wx.shareAppMessage({title:t,imageUrl:o,query:"key="+n.uid,success:function(e){console.log("task---转发成功!!!"),console.log(e),a.sendRequest("System","ShareWxRes",7)},fail:function(e){console.log("task---转发失败!!!")}})))},onWantGotoRoom:function(){}}),cc._RF.pop()},{GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config"}],topBarControl:[function(e,t,o){"use strict";cc._RF.push(t,"505a7cMGzRIa4SP1t5a1uM0","topBarControl");var n=e("config"),a=e("EventHelper"),r=e("PlayerDetailModel"),i=e("dialogManager");cc.Class({extends:cc.Component,properties:{headImg:{default:null,type:cc.Sprite},playerName:{default:null,type:cc.Label},playerLevel:{default:null,type:cc.Label},playerLedou:{default:null,type:cc.Label},playerLeQuan:{default:null,type:cc.Label}},start:function(){this.setHeadUrl();var e=r.getNickName();this.setNickName(n.parseString(e,5)),this.setLevel(r.getTitle()),this.setLeDou(r.getCoin()),this.setLuQuan(r.getCoupon()),a.AddCustomEvent(n.MyNode,"RefreshDataResult",this.onRefreshDataResult,this),a.AddCustomEvent(n.MyNode,"RepeatLogin",this.onRepeatLogin,this)},onDestroy:function(){console.log(" topBar Destroy")},onRepeatLogin:function(e){console.log("您的账号已经在其他地方登陆！");var t=this,o=e.getUserData();console.log(o),i.showCommonDialog("提示","您的账号已经在其他地方登陆！",function(){t.isShow=!1,cc.vv.audioMgr.stopMusic(),cc.director.loadScene("LoadingScene")})},onRefreshDataResult:function(e){console.log("刷新用户信息数据1111------");var t=e.getUserData();console.log(t);var o=t;if(o.data&&o.data.coins&&(r.setCoin(o.data.coins),this.setLeDou(r.getCoin()),n.leDouShareSucss)){n.leDouShareSucss=!1;var a=[];a.push({arg1:"ledou",arg2:1e3}),i.showAnimGetProp(a)}o.data&&o.data.coupon&&(r.setCoupon(o.data.coupon),this.setLuQuan(r.getCoupon())),o.data&&o.data.lottery&&r.setLottery(o.data.lottery),o.data&&o.data.mail_unread&&r.setMailUnread(o.data.mail_unread),o.data&&o.data.weichatgame_task_unaward&&r.setTaskUnReward(o.data.weichatgame_task_unaward),o.data&&o.data.weichatgame_invite_unaward&&r.setShareUnReward(o.data.weichatgame_invite_unaward),o.data&&o.data.checkin_undo&&r.setCheckinUndo(o.data.checkin_undo),o.data&&o.data.task1_unaward&&r.setTask1Unaward(o.data.task1_unaward),o.data&&o.data.task2_unaward&&r.setTask2Unaward(o.data.task2_unaward),o.data&&o.data.charge_rate&&r.setChargeRate(o.data.charge_rate),o.data&&o.data.propDress&&r.setPropDress(o.data.propDress),o.data&&o.data.propItems&&r.setPropItems(o.data.propItems)},setHeadUrl:function(){var o=this,e=n.wxInfo.avatarUrl;if(""==e){var t="p_head_woman";return 1==r.getGender()&&(t="p_head_man"),void cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.headImg.getComponent(cc.Sprite).spriteFrame=t})}e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},setNickName:function(e){this.playerName.string=e},setLevel:function(e){this.playerLevel.string=e},setLeDou:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLedou.string=e+"万"):this.playerLedou.string=""+e},setLuQuan:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLeQuan.string=e+"万"):this.playerLeQuan.string=""+e},headClick:function(){i.showPlayerInfo("hall"),cc.vv.audioMgr.playSFX("SpecOk")}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],watingStarControl:[function(e,t,o){"use strict";cc._RF.push(t,"8bdcevf/XxFAKDbPvMW3ocZ","watingStarControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},timeCount:30},start:function(){this.schedule(function(){if(0<this.timeCount){this.timeCount-=1;var e="";this.timeCount<=0&&(this.timeCount=30);var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1),this.show(30)},show:function(e){this.timeCount=e,this.timeTxt.string=""+e},close:function(){this.node&&this.node.destroy()},showNode:function(){console.log("wating-----showNode"),this.timeCount<=1&&this.show(30),this.node.active=!0},hideNode:function(){console.log("wating-----hideNode"),this.timeCount=0,this.node.active=!1}}),cc._RF.pop()},{}],zhadanControl:[function(e,t,o){"use strict";cc._RF.push(t,"69731J2gyxBnK+eXdduJZBa","zhadanControl"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this,t=cc.callFunc(function(){e.node.destroy()}),o=cc.delayTime(1);this.node.runAction(cc.sequence(o,t))},close:function(){this.node.destroy()}}),cc._RF.pop()},{}]},{},["CancelDelegateController","CardUtil","ClockControl","GameTable","HallCanvasControl","HallLayerControl","LazarilloCardUtil","Player","PlayerControl","PokerControl","PokerData","PopCardUtil","RoomLayerControl","animPropControl","blinkAlarmControl","cardTypeControl","chutianControl","doubleControl","expressionControl","feijiControl","huodedaojuControl","huojianControl","loadingControl","watingStarControl","zhadanControl","config","AuthorizeControl","BagControl","BagItemControl","JpqGetControl","LazarilloCardListControl","LazarilloPokerSelectedControl","ShareGetControl","aboutControl","chatBoxControl","chatControl","chatItemControl","commonControl","dialogManager","emailControl","emailItemControl","exchangeControl","exchangeRecordControl","fankuiControl","gameResultControl","jpqNodeControl","playerInfoControl","resoultInfoItemControl","setControl","shareControl","shopControl","taskControl","taskItemControl","AppStart","ByteArray","EventHelper","Events","GameNet","GameNetMgr","HTTP","PlayerDetailModel","Protocol","md5","helper","TableShareGetControl","TaskCompleteShareControl","opratCallLordControl","opratDoubleControl","opratOutCardControl","opratShowCardControl","AudioMgr","topBarControl"]);