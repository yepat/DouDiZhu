require=function r(i,l,s){function c(t,e){if(!l[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=l[t]={exports:{}};i[t][0].call(a.exports,function(e){return c(i[t][1][e]||e)},a,a.exports,r,i,l,s)}return l[t].exports}for(var d="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({AppStart:[function(t,e,o){"use strict";cc._RF.push(e,"b138eOALeJJxJ+Gm8GgMV+l","AppStart");var i=t("config"),r=(t("ByteArray"),t("Protocol")),n=t("EventHelper"),l=t("PlayerDetailModel"),s=t("dialogManager");cc.Class({extends:cc.Component,properties:{labLoading:{default:null,type:cc.Label}},onLoad:function(){cc.vv={},cc.vv.http=t("HTTP"),cc.vv.net=t("GameNet"),this.getServerInfo();var e=new cc.Node("myNode");n.addPersistRootNode(e),this.isShow=!1},getServerInfo:function(){var e={env:"prod",ver:"1.0.0",channel:"weichatgame",udid:"udid",pver:"1.0.0",pchannel:"weichatgame",presver:"1.0.0"},t=this,o=null,n=!1,a=function(){console.log("正在连接服务器..."),t.labLoading.string="正在连接服务器...",o=cc.vv.http.sendRequest("",e,function(e){console.log("连接成功"),t.labLoading.string="连接成功...",n=!(o=null),i.GlobalRouterUpdate(e),console.log("host:"+i.GlobalRouter.host+":"+i.GlobalRouter.port),t.connectGameServer()},i.GlobalRouter.director),setTimeout(r,5e3)},r=function(){n||(o?(o.abort(),console.log("连接失败，即将重试..."),t.labLoading.string="连接失败，即将重试...",setTimeout(function(){a()},5e3)):a())};r()},connectGameServer:function(){var t=this;cc.vv.net.connect(i.GlobalRouter.host,i.GlobalRouter.port,function(e){t.sendRegist()});setInterval(function(){cc.vv.net.isPinging?t.sendHeartBeat():t.isShow||(t.isShow=!0,s.showCommonDialog("提示","与服务器断开连接！",function(){t.isShow=!1,cc.director.loadScene("LoadingScene")}))}.bind(this),1e4),n.AddCustomEvent(i.MyNode,"Regist",t.onRegist,t),n.AddCustomEvent(i.MyNode,"HeartBeat",t.onHeartBeat,t),n.AddCustomEvent(i.MyNode,"LoginOK",t.onLoginOK,t)},onRegist:function(e){console.log("Regist---");var t=e.getUserData();i.temppassword=t.data.data.password,this.sendLogin()},onHeartBeat:function(e){},onLoginOK:function(e){console.log("LoginOK---"),console.log(e.getUserData());var t=e.getUserData();this.setPlayerDetailModel(t)},sendHeartBeat:function(){var e={};e.t=r.Request.HeartBeat.Alive,cc.vv.net.send("HeartBeat",r.Command.HeartBeat,e)},sendRegist:function(){var e={};e.t=r.Request.Login.Regist,e.d="23c686a260c586ee03ea5fb2b8252770",e.u="50ee8041a7fd8baa6348252ea114432bb3be23bd",e.v="2.1.1",e.c="sjweichat",e.e="defaults",e.type="guest",cc.vv.net.send("Regist",r.Command.Login,e)},sendLogin:function(){var e={};e.t=r.Request.Login.Guest,e.d="23c686a260c586ee03ea5fb2b8252770",e.p=i.temppassword,e.c="sjweichat",e.v="2.1.1",e.tv=1,e.e="defaults",e.wn="",e.wurl="",cc.vv.net.send("Login",r.Command.Login,e)},setPlayerDetailModel:function(e){var t=e.data.room;if(console.log(t),e.code==r.Response.Login.OK){var o=e.data.isDev;o&&"number"==typeof o||(o=0);for(var n=0;n<t.length;n++)if(t[n].rooms)for(var a=0;a<t[n].rooms.length;a++)t[n].rooms[a].modelId=t[n].modelId;i.playGameId=e.data.playGameId,i.playGameMsg=e.data.playGameMsg,l.nickname=e.data.nick,l.uid=parseInt(e.data.uid),l.coin=parseInt(e.data.coins),l.gold=parseInt(e.data.gold),l.gender=parseInt(e.data.sex),l.word=e.data.word,l.coolnum=e.data.cool_num,l.level=parseInt(e.data.level),l.matches=parseInt(e.data.gameData.matches),l.win=parseInt(e.data.gameData.win),l.checkCode=e.data.check_code,l.propDress=e.data.propDress,l.score=parseInt(e.data.score),l.verfile=parseInt(e.data.verfile),l.vertips=parseInt(e.data.vertips),l.mailUnread=parseInt(e.data.mail_unread),l.coupon=parseInt(e.data.coupon),l.age=parseInt(e.data.age),l.room=t,l.contact=e.data.contact,l.contacts=e.data.contacts,l.wechat=e.data.wechat,l.lottery=parseInt(e.data.lottery),l.checkinUndo=parseInt(e.data.checkin_undo),l.task1Unaward=parseInt(e.data.task1_unaward),l.task2Unaward=parseInt(e.data.task2_unaward),l.chargeRate=parseInt(e.data.charge_rate),l.propItems=e.data.propItems,l.rewardList=e.data.n_reward_list,l.wechatImg=e.data.img,l.title=e.data.title,l.isDev=o,console.log("进入游戏大厅..."),this.labLoading.string="进入游戏大厅...",cc.director.loadScene("HallScene")}else console.log("登陆游戏失败！"),this.labLoading.string="登陆游戏失败！",s.showCommonDialog("提示","登陆游戏失败！",function(){cc.director.loadScene("LoadingScene")})}}),cc._RF.pop()},{ByteArray:"ByteArray",EventHelper:"EventHelper",GameNet:"GameNet",HTTP:"HTTP",PlayerDetailModel:"PlayerDetailModel",Protocol:"Protocol",config:"config",dialogManager:"dialogManager"}],BagControl:[function(e,t,o){"use strict";cc._RF.push(t,"f4f03DMqX1BfqbKBfny1VUn","BagControl"),cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite}},start:function(){this.btnRight_1.enabled=!1},closeClick:function(){console.log("close click"),this.node.destroy()},leftClick:function(){console.log("left click"),this.btnLeft_1.enabled=!0,this.btnRight_1.enabled=!1},rightClick:function(){console.log("right click"),this.btnLeft_1.enabled=!1,this.btnRight_1.enabled=!0}}),cc._RF.pop()},{}],ByteArray:[function(e,t,o){"use strict";cc._RF.push(t,"2ea8aD4dpZIJoQjo0J0vRIF","ByteArray");e("config");var s={PACKET_HEADER_LENGTH:16,encodeUtf8:function(e){for(var t=encodeURIComponent(e),o=[],n=0;n<t.length;n++){var a=t.charAt(n);if("%"===a){var r=t.charAt(n+1)+t.charAt(n+2),i=parseInt(r,16);o.push(i),n+=2}else o.push(a.charCodeAt(0))}return o},decodeUtf8:function(e){for(var t="",o=0;o<e.length;o++)t+="%"+e[o].toString(16);return decodeURIComponent(t)},getHead:function(e,t){for(var o=[e,t,1,2],n=[],a=0;a<o.length;a++)for(var r=s.complementByte(o[a]),i=0;i<r.length;i++)n.push(r[i]);return n},complementByte:function(e){for(var t=e.toString(2),o="",n=0;n<32-t.length;n++)o+="0";var a=o+t,r=[];for(n=0;n<32;n+=8){var i=a.substring(n,n+8);r.push(parseInt(i,2))}return r},getView:function(e,t){var o=JSON.stringify(e),n=s.encodeUtf8(o),a=new ArrayBuffer(n.length+s.PACKET_HEADER_LENGTH),r=new DataView(a);r.setUint32(0,n.length+s.PACKET_HEADER_LENGTH);for(var i=s.getHead(n.length+s.PACKET_HEADER_LENGTH,t),l=0;l<i.length;l++)r.setUint8(l,i[l]);for(l=0;l<n.length;l++)r.setUint8(l+s.PACKET_HEADER_LENGTH,n[l]);return r}};t.exports=s,cc._RF.pop()},{config:"config"}],CancelDelegateController:[function(e,t,o){"use strict";cc._RF.push(t,"917adx22mBOi7OyW3Ekl6tk","CancelDelegateController"),cc.Class({extends:cc.Component,properties:{},start:function(){},show:function(e){this.click=e},close:function(){this.node.destroy()},btnClick:function(){console.log("取消托管"),this.click&&this.click(),this.node.destroy()}}),cc._RF.pop()},{}],CardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"bcf07TAfuVFjJw5QqEtX1yc","CardUtil");var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=e("config"),b=e("PopCardUtil"),T={cardGrade:{3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14,2:15,g:16,G:17},StringToNumber:function(e){return"string"==typeof e?parseInt(e):e},gradeDown:function(e,t){return t.showTxt-e.showTxt},gradeUp:function(e,t){return e.showTxt-t.showTxt},serverCardsToClient:function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];t.push(T.convertCardToClient(n))}return t.sort(T.gradeDown),t},convertCardToClient:function(e){var t=0,o=0,n={};if("00"==e)t=16,o=R.ghostCardType.smallG;else if("01"==e)t=17,o=R.ghostCardType.bigG;else{var a=e.substring(0,1),r=e.substring(1);"4"==a?o=R.pokerCardType.spade:"3"==a?o=R.pokerCardType.hearts:"2"==a?o=R.pokerCardType.blackberry:"1"==a&&(o=R.pokerCardType.redslice),t="1"==r?14:"2"==r?15:"a"==r?10:"b"==r?11:"c"==r?12:"d"==r?13:parseInt(r)}return n.showTxt=t,n.showType=o,n},clientCardsToServer:function(e){for(var t=[],o=0;o<e.length;o++)t.push(T.convertCardToServer(e[o]));return t},convertCardToServer:function(e){var t=e.showTxt,o=e.showType,n="";o==R.pokerCardType.spade?n="4":o==R.pokerCardType.hearts?n="3":o==R.pokerCardType.blackberry?n="2":o==R.pokerCardType.redslice&&(n="1");var a=n+(14==t?"1":15==t?"2":10==t?"a":11==t?"b":12==t?"c":13==t?"d":""+t);return 16==t?a="00":17==t&&(a="01"),a},getMyTopCards:function(e,t){for(var o=[],n=e.length-1;0<n;n--){var a=e[n].getComponent(t);a.cardData.isTopped&&o.push(a.cardValue)}return o},AutoChooseLiftUpCard:function(e,t,o){console.log("tishiFunc!!");var n=0,a=0;if(console.log(void 0===o?"undefined":c(o)),o){"number"==typeof o?(console.log("这是个数字"),n=1):n=o.length,console.log("maxLenght:"+n);for(var r=e.length-1;0<=r;r--){var i=e[r].getComponent(t),l=parseInt(i.cardValue),s=parseInt(o[a]);1==n&&(s=o),console.log("cardvalue:"+s+" pktxt:"+l),a<n&&s==l&&(console.log("num:"+a),a++,i.setChoosed(!0))}if(a<o.length)for(r=e.length-1;0<=r;r--){(i=e[r].getComponent(t)).setChoosed(!1)}else for(r=e.length-1;0<=r;r--){(i=e[r].getComponent(t)).cardMove()}}else console.log("没有符合牌型！")},is_rank_consective_inc:function(e){var t;if((t=e.length)<2)return!0;for(var o=0;o<t-1;o++)if(e[o][0]+1!=e[o+1][0])return!1;return!0},extend:function(e,t){if(!e||!t)return console.log("table can not be nil"),!1;for(var o=0;o<t.length;o++)t[o]&&e.push(t[o])},get_topCard_type:function(e){"number"==typeof e&&(console.log("这是个数字"),e=[e]);var t=b.getSameCards(e);b.setSameVulueCardCount(t);var o=e.length,n=[];if(n.type=0,n.rank=0,n.repeatCount=0,1==o){var a=b.getSingle();return n.type=R.CardType.Single,n.rank=e[0],n.repeatCount=1,console.log("单只"),n}if(2==o){if(1==(i=b.getPair()).count)return n.type=R.CardType.Pair,n.rank=e[0],n.repeatCount=1,console.log("对子"),n;if(16==e[0]&&17==e[1])return n.type=R.CardType.DoubleKing,n.rank=e[0],n.repeatCount=1,console.log("王炸"),n}else if(3==o){if(0<(r=b.getThree()).count)return n.type=R.CardType.ThreeOfKind,n.rank=r.cards[0][0],n.repeatCount=1,console.log("三不带"),n}else if(4==o){var r=b.getThree();if(0<(l=b.getFour()).count)return n.type=R.CardType.Bomb,n.rank=l.cards[0][0],n.repeatCount=1,console.log("炸弹"),n;if(0<r.count)return n.type=R.CardType.ThreeOfKindPlusOne,n.rank=r.cards[0][0],n.repeatCount=1,console.log("三带一"),n}else{a=b.getSingle();var i=b.getPair(),l=(r=b.getThree(),b.getFour()),s=a.count,c=i.count,d=r.count,u=l.count,h=b.SingleCards,p=b.PairCards,g=b.ThreeCards,m=b.FourCards,f=T.is_rank_consective_inc(h),C=T.is_rank_consective_inc(p),y=T.is_rank_consective_inc(g),_=T.cardGrade[2];if(1==u&&0==d){if(2==s&&0==c)return n.type=R.CardType.FourPlusOne,n.rank=m[0][0],n.repeatCount=1,console.log("四带二单"),n;if(0==s&&1==c)return n.type=R.CardType.FourPlusOne,n.rank=m[0][0],n.repeatCount=1,console.log("四带一对"),n;if(0==s&&2==c)return n.type=R.CardType.FourPlusTwo,n.rank=m[0][0],n.repeatCount=1,console.log("四带两对"),n}if(1==d&&0==s&&1==c&&0==u)return n.type=R.CardType.ThreeOfKindPlusPair,n.rank=g[0][0],n.repeatCount=1,console.log("三带一对"),n;if(1<d&&0==s&&0==c&&0==u&&y&&g[d-1][0]<_)return n.type=R.CardType.StraightThree,n.rank=g[0][0],n.repeatCount=d,console.log("飞机不带"),n;if(2<c&&0==s&&0==d&&0==u&&C&&p[c-1][0]<_)return n.type=R.CardType.StraightDouble,n.rank=p[0][0],n.repeatCount=c,console.log("连对"),n;if(4<s&&0==c&&0==d&&0==u&&f&&h[s-1][0]<_)return n.type=R.CardType.Straight,n.rank=h[0][0],n.repeatCount=s,console.log("顺子"),n;var v=[];if(0<d)if(s==d&&0==c&&0==u){if(y&&g[d-1][0]<_)return n.type=R.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带单"),n}else if(0==s&&c==d&&0==u){if(y&&g[d-1][0]<_)return n.type=R.CardType.StraightThreePlusPair,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带双"),n}else if(s+2*c==d&&0==u){if(y&&g[d-1][0]<_)return n.type=R.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带单"),n}else{if(d+u!=2*c+s+u)return c+2*u==d&&0==s&&y&&g[d-1][0]<_?(n.type=R.CardType.StraightThreePlusPair,n.rank=g[0][0],n.repeatCount=d,console.log("飞机带双2")):3<d&&(n.type=-1,console.log("特殊牌型")),n;console.log("带炸弹的飞机（4=3+1）");var k=y;0<u?(T.extend(v,g),T.extend(v,m),v.sort(R.arrayUp),k=T.is_rank_consective_inc(v)):v=g;var S=v.length;if(k&&v[S-1][0]<_)return n.type=R.CardType.StraightThreePlusSingle,n.rank=g[0][0],n.repeatCount=S,console.log("飞机带单2"),n}}return n},getCardsFromTopCards:function(e,t){e=e;(t=t).sort(R.arrayUp);var o,n=e.length,a=t.length;o=b.getSameCards(e);var r=[];if(2==a){if(t[0]!=t[1]){if(t[0]+1==t[1]){if(t[1]>=T.cardGrade[2])return r=t;f=t[1];r=t;for(c=1;c<=3;c++)o[f+c]&&f+c<T.cardGrade[2]&&r.push(o[f+c][0]);return r.length<5&&(r=[]),r}return r=[]}var i=o[f=t[0]].length;if(console.log("key:"+f+" kCount:"+i),4==i)return console.log("炸弹----------"),r=o[f];if(3==i&&"2"!=f){console.log("可能有飞机");var l=[],s=0;l[s]=o[f];for(var c=1;c<n&&(o[f+c]&&3==o[f+c].length&&f+c!="2");c++)l[++s]=o[f+c],console.log("key+i:"+(f+c));for(var c=1;c<n&&(o[f-c]&&3==o[f-c].length&&f+c!="2");c++)l[++s]=o[f-c],console.log("key+i:"+(f-c));if(1<l.length)for(c=0;c<l.length;c++)for(var d=0;d<l[c].length;d++)console.log("temp:"+l[c][d]),r.push(l[c][d]);return r.sort(R.arrayUp),r}}else if(3==a){console.log("连队判定");var u;if(2<(u=b.getSameCards(t)).length){var h=[];for(var p in u)h.push(p);var g=parseInt(h[0]),m=parseInt(h[1]);if(g+1==m&&m<T.cardGrade[2]){var f=g;for(var p in o)if(p==f){var C=o[p];if(console.log("d:"+C.length+"  k:"+p),!(2<=C.length))break;for(c=0;c<2;c++)r.push(C[c]);f++}return r.length<6&&(r=[]),r}}}return r},get_cards_larger:function(e,t){var o=[],n=b.getSameCards(t),a=e.type;if(a==R.CardType.Single?o=T.find_single_card(e,n,t):a==R.CardType.Pair?o=T.find_pair_card(e,n,t):a==R.CardType.ThreeOfKind?o=T.find_three_card(e,n,t):a==R.CardType.Bomb?o=T.find_bomb_card(e,n,t):a==R.CardType.ThreeOfKindPlusOne?o=T.find_three_with_one_card(e,n,t):a==R.CardType.ThreeOfKindPlusPair?o=T.find_three_with_two_card(e,n,t):a==R.CardType.FourPlusOne?o=T.find_four_with_two_single_card(e,n,t):a==R.CardType.FourPlusTwo?o=T.find_four_with_two_pair_card(e,n,t):a==R.CardType.Straight?o=T.find_straight(e,n,t):a==R.CardType.StraightDouble?o=T.find_pair_straight(e,n,t):a==R.CardType.StraightThree?o=T.find_three_straight(e,n,t):a==R.CardType.StraightThreePlusSingle?o=T.find_three_straight_with_single_card(e,n,t):a==R.CardType.StraightThreePlusPair&&(o=T.find_three_straight_with_pair_card(e,n,t)),a!=R.CardType.Bomb&&a!=R.CardType.DoubleKing)for(var r=T.find_bomb_all(n),i=0;i<r.length;i++)o.push(r[i]);return o},find_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getSingle(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(s=a.cards[i])&&n.push(s)}var l=[];for(var i in t){var s=t[i];l.push(i)}if(n.length<=0)for(var i in l){r<(s=parseInt(l[i]))&&n.push(s)}return n},find_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getPair(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var l=a.cards[i];r<l[0]&&n.push(l)}var s=[];if(n.length<=0){var c=b.getThree(),d=b.getFour();if(0<c.count)for(var i in c.cards){if(r<(h=c.cards[i])[0]){var u=h.slice(0,2);s.push(u)}}if(0<d.count)for(var i in d.cards){var h;if(r<(h=d.cards[i])[0]){u=h.slice(0,2);s.push(u)}}return s}return n},find_three_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var l=a.cards[i];r<l[0]&&n.push(l)}return n},find_bomb_all:function(e){var t=[];b.setSameVulueCardCount(e);var o=b.getFour();for(var n in o.cards){var a=o.cards[n];t.push(a)}if(e[16]&&e[17]){console.log("有王炸");t.push([16,17])}else console.log("没有王炸");return t},find_bomb_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){var l=a.cards[i];r<l[0]&&n.push(l)}if(t[16]&&t[17]){console.log("有王炸");n.push([16,17])}else console.log("没有王炸");return n},find_three_with_one_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(u=a.cards[i])[0]&&n.push(u)}var l=b.getSingle(),s=b.getPair(),c=[],d=0;if(0<l.count)d=parseInt(l.cards[0]),console.log("onecard1:"+d);else if(0<s.count)d=parseInt(s.cards[0][0]),console.log("onecard2:"+d);else for(var i in a.cards){var u=a.cards[i];c.push(u[0])}for(var i in n){u=n[i];if(console.log("v:"+u+"  k:"+i+" allone:"+c[i]),0==d)if(i<c.length-1)if(u[0]!=c[i])d=c[i];else d=c[parseInt(i)+1];else d=c[0];u[u.length]=d,u.sort(R.arrayUp)}return n},find_three_with_two_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getThree(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(d=a.cards[i])[0]&&n.push(d)}var l=[],s=b.getPair(),c=[];if(0<s.count)c=s.cards[0];else for(var i in a.cards){var d=a.cards[i];l.push(d[0])}var u=c.length;for(var i in n){d=n[i];if(0==u){if(i<l.length-1)if(d[0]!=l[i])u=l[i];else u=l[parseInt(i)+1];else u=l[0];for(var h=0;h<2;h++)d.push(parseInt(u));u=0}else for(h=0;h<c.length;h++)d.push(parseInt(c[h]));console.log("v2:"+d),d.sort(R.arrayUp)}return n},find_four_with_two_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(h=a.cards[i])[0]&&n.push(h)}var l=[],s=b.getSingle(),c=b.getPair(),d=b.getThree();if(1<s.count)for(var u=0;u<2;u++)l.push(parseInt(s.cards[u]));else if(0<c.count)for(u=0;u<2;u++)l.push(parseInt(c.cards[0]));else if(0<d.count)for(u=0;u<2;u++)l.push(parseInt(d.cards[0]));for(var i in n){var h=n[i];for(u=0;u<l.length;u++)h.push(parseInt(l[u]));console.log("v2:"+h),h.sort(R.arrayUp)}return n},find_four_with_two_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=b.getFour(),r=parseInt(e.rank);if(0<a.count)for(var i in a.cards){r<(h=a.cards[i])[0]&&n.push(h)}var l=[],s=b.getPair(),c=b.getThree();if(1<s.count)for(var d=0;d<2;d++)for(var u=0;u<2;u++)l.push(parseInt(s.cards[d]));else if(1==s.count&&0<c.count){for(d=0;d<2;d++)l.push(parseInt(s.cards[0]));for(d=0;d<2;d++)l.push(parseInt(c.cards[0]))}else if(1<c.count)for(d=0;d<2;d++)for(u=0;u<2;u++)l.push(parseInt(c.cards[d]));for(var i in n){var h=n[i];for(d=0;d<l.length;d++)h.push(parseInt(l[d]));console.log("v2:"+h),h.sort(R.arrayUp)}return n},find_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;b.getSingle();console.log("rank:"+a+" repeatCount:"+r);for(var i=[],l=[],s=a,c=1;c<20;c++)t[s+c]&&s+c<T.cardGrade[2]?i.push(t[s+c][0]):(i.length>=r&&l.push(i),i=[]);if(console.log(l),0==l.length)return n;if(console.log("length:"+l[0].length),l[0].length>r){var d=l[0].length-r,u=[];for(c=0;c<=d;c++)l[0].length>=r+c&&(u=R.arraySub(c,r+c,l[0]),n.push(u))}else n=l;return console.log(n),n},find_pair_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getPair(),l=b.getThree(),s=b.getFour(),c=[],d=0;d<i.count;d++)c.push(i.cards[d][0]);for(d=0;d<l.count;d++)c.push(l.cards[d][0]);for(d=0;d<s.count;d++)c.push(s.cards[d][0]);c.sort(R.arrayUp);var u=[],h=[],p=0;for(d=0;d<c.length;d++)if(c[d]<T.cardGrade[2]&&c[d]>a){if(console.log("i:"+d),c[d]+1!=c[d+1]){p=c[d+1],u.length>=r&&h.push(u),u=[];continue}console.log("i2:"+d),p+1==c[d+1]&&u.push(p),0==d&&u.push(c[d]),u.push(c[d+1])}for(d=0;d<h.length;d++)if(h[d].length>=r)for(var g=h[d].length-r,m=[],f=0;f<=g;f++)h[d].length>=r+f&&(m=R.arraySub2(f,r+f,h[d]),n.push(m));return console.log(n),n},find_three_straight:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),l=b.getFour(),s=[],c=0;c<i.count;c++)s.push(i.cards[c][0]);for(c=0;c<l.count;c++)s.push(l.cards[c][0]);s.sort(R.arrayUp),console.log(s);var d=[],u=[],h=0;for(c=0;c<s.length;c++)if(s[c]<T.cardGrade[2]&&s[c]>a){if(console.log("i:"+c),s[c]+1!=s[c+1]){h=s[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==s[c+1]&&d.push(h),0==c&&d.push(s[c]),d.push(s[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=R.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n},find_three_straight_with_single_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),l=b.getFour(),s=[],c=0;c<i.count;c++)s.push(i.cards[c][0]);for(c=0;c<l.count;c++)s.push(l.cards[c][0]);s.sort(R.arrayUp),console.log(s);var d=[],u=[],h=0;for(c=0;c<s.length;c++)if(s[c]<T.cardGrade[2]&&s[c]>a){if(console.log("i:"+c),s[c]+1!=s[c+1]){h=s[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==s[c+1]&&d.push(h),0==c&&d.push(s[c]),d.push(s[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=R.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n},find_three_straight_with_pair_card:function(e,t,o){var n=[];b.setSameVulueCardCount(t);var a=parseInt(e.rank),r=e.repeatCount;console.log("rank:"+a+" repeatCount:"+r);for(var i=b.getThree(),l=b.getFour(),s=[],c=0;c<i.count;c++)s.push(i.cards[c][0]);for(c=0;c<l.count;c++)s.push(l.cards[c][0]);s.sort(R.arrayUp),console.log(s);var d=[],u=[],h=0;for(c=0;c<s.length;c++)if(s[c]<T.cardGrade[2]&&s[c]>a){if(console.log("i:"+c),s[c]+1!=s[c+1]){h=s[c+1],d.length>=r&&u.push(d),d=[];continue}console.log("i2:"+c),h+1==s[c+1]&&d.push(h),0==c&&d.push(s[c]),d.push(s[c+1])}console.log(u);for(c=0;c<u.length;c++)if(u[c].length>=r)for(var p=u[c].length-r,g=[],m=0;m<=p;m++)u[c].length>=r+m&&(g=R.arraySub3(m,r+m,u[c]),n.push(g));return console.log(n),n}};t.exports=T,cc._RF.pop()},{PopCardUtil:"PopCardUtil",config:"config"}],ClockControl:[function(e,t,o){"use strict";cc._RF.push(t,"74c75z4+AFA2p0Z2kyQJ1wv","ClockControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:30},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.active=!1);var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.node.active=!0,this.timeCount=e,this.timeTxt.string=""+e},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))}}),cc._RF.pop()},{}],EventHelper:[function(e,t,o){"use strict";cc._RF.push(t,"5f640z64OJCO7qfrQDJom3k","EventHelper");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("config"),r={AddCustomEvent:function(e,t,o,n){"object"==(void 0===e?"undefined":a(e))?e.on(t,o,n):console.log("__node节点不存在")},DispatchCustomEvent:function(e,t,o){if("object"==(void 0===e?"undefined":a(e))){var n=new cc.Event.EventCustom(t,!0);n.setUserData(o),e.dispatchEvent(n)}else console.log("__node节点不存在")},RemoveCustomEvent:function(e,t,o,n){"object"==(void 0===e?"undefined":a(e))?e.off(t,o,n):console.log("__node节点不存在")},addPersistRootNode:function(e){cc.game.addPersistRootNode(e),n.MyNode=e},removePersistRootNode:function(e){cc.game.removePersistRootNode(e)}};t.exports=r,cc._RF.pop()},{config:"config"}],Events:[function(e,t,o){"use strict";var n;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}cc._RF.push(t,"f75a5WV9zFIIZD2d9+2E/ny","Events");var r={};r.Network=(a(n={GameStateChanged:"GameStateChanged",StatusChange:"network_status_change",LoginServerResult:"network_loginserver_result",LoginRoomResult:"network_loginroom_result",JoinQueueResult:"network_joinqueue_result",GameReady:"network_gameready",EditProfile:"network_editprofile",DispatchCard:"network_dispatchcard",CallLordTurn:"network_calllord_turn",CallLordResult:"network_calllord_result",GrabLordTurn:"network_grablord_turn",GrabLordResult:"network_grablord_result",ConfirmedLord:"network_confirmed_lord",SendCardTurn:"network_sendcard_turn",PlayerSendCard:"network_player_sendcard",PlayerNotSendCard:"network_player_notsendcard",PlayerShowCard:"network_player_showcard",PlayerReady:"network_player_ready",GameOver:"network_gameover",GameRequestReady:"network_game_requestready",TalkContent:"talk_content",SayToTableInfo:"say_to_table_info",TableRateUpdate:"network_tablerate_update",ExchangeGoldToCoin:"exchange_gold_to_coin",RechargeOk:"recharge_ok",PlayerDelegated:"network_player_delegated",PlayerCancelDelegate:"network_player_canceldelegate",SendCoinsFree:"send_coins_free",TableUserExit:"table_user_exit",PlayerInvalidSendCard:"network_sendcard_invalid",Notice:"notice",ContinueGame:"continue_game",LoginContestSignUpResult:"login_contest_signup_result",ContestSignUpResult:"contest_signup_result",CancelContestSignUpResult:"cancel_contest_signup_result",GiveUpContestResult:"give_up_contest_result",ContestStart:"contest_start",ContestOut:"contest_out",ContestEnd:"contest_end",ContestFormalEnd:"contest_formal_end",SendContestReward:"send_contest_reward",SendContestWeekReward:"send_contest_week_reward",InvalidGameModel:"invalid_game_model",ChangeSkinResult:"change_skin_result",BuySkinResult:"buy_skin_result",BuySkinResultAtHall:"buy_goodsAtHall_result",LuckyDrawViewResult:"lucky_draw_view_result",LuckyDrawResult:"lucky_draw_result",LuckyDrawRecordResult:"lucky_draw_record_result",LoginRewardViewResult:"login_reward_view_result",LoginRewardResult:"login_reward_result",GameDayRankResult:"game_day_rank_result",GameThisWeekRankResult:"game_this_week_rank_result",GameLastWeekRankResult:"game_last_week_rank_result",ActivityBarResult:"activity_bar_result",GiftBagResult:"gift_bag_result",ShowActivity:"show_activity",MailResult:"mail_result",ActivityResult:"activity_result",AnnouncementResult:"announcement_result",GetFileResult:"get_file_result",GetTipsResult:"get_tips_result",RichRankResult:"rich_rank_result",EveryDayRankResult:"every_day_rank_result",EveryWeekRankResult:"every_week_rank_result",ModifyAgeResult:"modify_age_result",GetNewMailResult:"get_new_mail_result",ReadMailResult:"read_mail_result",GetMailAttachmentResult:"get_mail_attachment_result",DelMailResult:"del_mail_result",GetNewActivityResult:"get_new_activity_result",GetNewAnnouncementResult:"get_new_announcement_result",OpenAdvertisingResult:"open_advertising_result",ConsumeResult:"consume_result",GetPersonalItems:"get_personal_items",GetPublicItems:"get_public_items",GetPropsGift:"get_props_gift",PlunderGiftResult:"plunder_gift_result",OpenRechargeTip:"open_recharge_tip",OpenReliefTip:"open_relief_tip",ShopItem:"shop_item",ExchangeItems:"exchange_items",RefreshDataResult:"refresh_data_result",ExchangeItemConfirm:"exchange_item_confirm",PokerTask:"poker_task",TaskDailyResult:"task_daily_result",TaskGrowthResult:"task_growth_result",GetTaskRewardResult:"get_task_reward_result",PropItems:"prop_items",BuyPropsResult:"buy_props_result",ShopBuyGoldResult:"shop_buy_gold_result",NoviceGiftResult:"novice_gift_result",BackpackResult:"backpack_result",MonthNoticeResult:"month_notice_result",GetSalaryResult:"get_salary_result",GetLoginReward:"GetLoginReward",Complaint:"Complaint",RepeatLogin:"repeat_login",MonthUseUp:"month_use_up",SendLzCard:"send_lz_card",BuySingleItemsResult:"buy_single_items_result",LuckyDrawListResult:"lucky_draw_list_result",LuckyDrawNewResult:"lucky_draw_new_result",ExitGameTextResult:"exit_game_text_result",SlotMachineGetInfo:"slotMachine_getInfo",SlotMachineGameResult:"slotMachine_gameResult",GetMenuPromptResult:"get_menu_prompt_result",GetGameGiftListResult:"get_game_lift_list_result",GetRewardListResult:"get_reward_list_result"},"GetGameGiftListResult","get_game_lift_list_result"),a(n,"CanDoubleResult","can_double_result"),a(n,"BuyGoodsResult","buyGoods_result"),a(n,"GetGameFieldResult","getGameField_result"),a(n,"GetFieldDetailResult","getFieldDetail_result"),a(n,"GetMyFieldResult","getMyField_result"),a(n,"SignupResult","Signup_Result"),a(n,"UnSignupResult","UnSignup_Result"),a(n,"GetMatchItemsResult","GetMatchItems_Result"),a(n,"GameMatchStart","gamematch_start"),a(n,"MatchEliminateResult","MatchEliminate_Result"),a(n,"EnterHallScence","EnterHallScenece"),a(n,"MatchOrderChangedResult","MatchOrderChangedResult"),a(n,"MatchStartSoonResult","MatchStartSoonResult"),a(n,"MatchEndBagResult","MatchEndBagResult"),a(n,"FirstgetlequanResult","FirstgetlequanResult"),a(n,"RedpacketprocessResult","RedpacketprocessResult"),a(n,"EntergamerestnumResult","EntergamerestnumResult"),a(n,"RefreshPlayerData","RefreshPlayerData"),a(n,"GetPlayerMatchesInfo","GetPlayerMatchesInfo"),a(n,"Analysis_log","Analysis_log"),a(n,"EmoticonData","emoticon_data"),a(n,"PokerAnalysis","PokerAnalysis"),n),t.exports=r,cc._RF.pop()},{}],GameNetMgr:[function(e,t,o){"use strict";cc._RF.push(t,"72ee4iEEmpHqLHnKeAEFN6H","GameNetMgr");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("Protocol");cc.Class({extends:cc.Component,statics:{opPlayerSeatId:"",sendRequest:function(e,t,o){"Game"==e&&("loginRoom"==t?this.sendLoginRoom(o):"startGame"==t?this.sendStartGame(o):"callLord"==t?this.sendCallLord(o):"grabLord"==t?this.sendGrabLord(o):"showCard"==t?this.sendShowCard(o):"giveupSendCard"==t?this.sendGiveupSendCard(o):"sendCard"==t?this.sendSendCard(o):"requestDelegate"==t?this.sendRequestDelegate(o):"cancelDelegate"==t?this.sendCancelDelegate(o):"addRatio"==t?this.sendAddRatio(o):"exitRoom"==t&&this.sendExitRoom())},sendLoginRoom:function(e){var t={};t.t=a.Request.Game.Init,t.roomId=parseInt(e.roomId),t.isContinue=parseInt(e.isContinue),t.modelId=e.modelId,cc.vv.net.send("loginRoom",a.Command.Game,t)},sendStartGame:function(e){var t={};t.t=a.Request.Game.Go,e&&(t.showcard=!0),this.opPlayerSeatId="-1",cc.vv.net.send("startGame",a.Command.Game,t)},sendCallLord:function(e){var t={},o=e;t.t=a.Request.Game.CallLord,t.doLord=o,cc.vv.net.send("callLord",a.Command.Game,t)},sendGrabLord:function(e){var t={},o=e;t.t=a.Request.Game.GrabLord,t.grabLord=o,cc.vv.net.send("grabLord",a.Command.Game,t)},sendShowCard:function(e){2<e||(e=2);var t={};t.t=a.Request.Game.ShowCard,t.showRate=e,cc.vv.net.send("showCard",a.Command.Game,t)},sendGiveupSendCard:function(){var e={};e.t=a.Request.Game.NotFollow,cc.vv.net.send("giveupSendCard",a.Command.Game,e)},sendSendCard:function(e){var t={};t.t=a.Request.Game.SendCard,"object"==n(e[0])?(t.sendCards=e[0],t.jokto=e[1]):t.sendCards=e,cc.vv.net.send("sendCard",a.Command.Game,t)},sendRequestDelegate:function(){var e={};e.t=a.Request.Game.RequestDelegate,cc.vv.net.send("requestDelegate",a.Command.Game,e)},sendCancelDelegate:function(){var e={};e.t=a.Request.Game.CancelDelegate,cc.vv.net.send("cancelDelegate",a.Command.Game,e)},sendAddRatio:function(){var e={};e.t=a.Request.Game.AddRatio,cc.vv.net.send("addRatio",a.Command.Game,e)},sendExitRoom:function(){var e={};e.t=a.Request.Game.ExitRoom,cc.vv.net.send("exitRoom",a.Command.Game,e)}}});cc._RF.pop()},{Protocol:"Protocol"}],GameNet:[function(e,t,o){"use strict";cc._RF.push(t,"15c8fdeug5LtJuDTQtrqwqd","GameNet");var a=e("ByteArray"),s=e("config"),c=e("EventHelper"),d=e("Protocol"),u=e("Events");cc.Class({extends:cc.Component,statics:{ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(e,t){},connect:function(e,t,o){var n=this;n.callback=o,this.ip=e+":"+t,this.sio=new WebSocket("wss://"+this.ip),this.sio.binaryType="arraybuffer",this.sio.onopen=function(e){console.log("Connection open "),n.isPinging=!0,n.callback()},this.sio.onmessage=function(e){var t=e.data,o=JSON.parse(t);n.receivedMsg(o,-1)},this.sio.onclose=function(e){console.log("Connection closed."),n.isPinging=!1},this.sio.onerror=function(e){console.log("Connection onerror."+e.data),n.isPinging=!1}},send:function(e,t,o){console.log("send:"+e);var n=a.getView(o,t);this.sio&&this.sio.send(n)},close:function(){this.sio&&this.sio.close()},receivedMsg:function(e,t){t=e.cmd,console.log("cmd:"+t+" code:"+e.code),t==d.Command.HeartBeat&&e.code==d.Response.HeartBeat.Alive&&c.DispatchCustomEvent(s.MyNode,"HeartBeat",e),t==d.Command.Login&&(e.code==d.Response.Login.Regist?c.DispatchCustomEvent(s.MyNode,"Regist",e):e.code==d.Response.Login.OK&&c.DispatchCustomEvent(s.MyNode,"LoginOK",e)),t==d.Command.Game&&(console.log(e),e.code==d.Response.Game.NoLogin?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.InitOk?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.CoinsNoMatchRoom?this.handleLoginRoomResult(e,e.code):e.code==d.Response.Game.Queued?(console.log("进入队列"),c.DispatchCustomEvent(s.MyNode,"Queued",e)):e.code==d.Response.Game.GameReady?(console.log("游戏准备好了"),c.DispatchCustomEvent(s.MyNode,"GameReady",e)):e.code==d.Response.Game.TableTimesUpdate?(console.log("桌子的倍数发生改变"),c.DispatchCustomEvent(s.MyNode,"TableTimesUpdate",e)):e.code==d.Response.Game.SendCard?(console.log("发牌, 包括各用户的牌信息"),c.DispatchCustomEvent(s.MyNode,"SendCard",e)):e.code==d.Response.Game.RefreshPlayerData?(console.log("刷新用户金币"),c.DispatchCustomEvent(s.MyNode,"RefreshPlayerData",e)):e.code==d.Response.Game.TurnCallLord?(console.log("轮到谁叫地主"),c.DispatchCustomEvent(s.MyNode,"TurnCallLord",e)):e.code==d.Response.Game.CallLord?(console.log("玩家叫地主"),c.DispatchCustomEvent(s.MyNode,"CallLord",e)):e.code==d.Response.Game.TurnGrabLord?(console.log("轮到谁抢地主"),c.DispatchCustomEvent(s.MyNode,"TurnGrabLord",e)):e.code==d.Response.Game.GrabLord?(console.log("玩家抢地主"),c.DispatchCustomEvent(s.MyNode,"GrabLord",e)):e.code==d.Response.Game.CallLordOver?(console.log("叫地主结束"),c.DispatchCustomEvent(s.MyNode,"CallLordOver",e)):e.code==d.Response.Game.CanDoubleResult?(console.log("通知是否可以加倍"),c.DispatchCustomEvent(s.MyNode,"CanDoubleResult",e)):e.code==d.Response.Game.TurnSendCard?(console.log("轮到谁出牌"),c.DispatchCustomEvent(s.MyNode,"TurnSendCard",e)):e.code==d.Response.Game.PlayerDelegated?(console.log("用户托管"),c.DispatchCustomEvent(s.MyNode,"PlayerDelegated",e)):e.code==d.Response.Game.PlayerSendCard?(console.log("用户出牌"),c.DispatchCustomEvent(s.MyNode,"PlayerSendCard",e)):e.code==d.Response.Game.PlayerNotSend?(console.log("用户不出牌"),c.DispatchCustomEvent(s.MyNode,"PlayerNotSend",e)):e.code==d.Response.Game.PlayerShowCard?console.log("用户明牌"):e.code==d.Response.Game.GameComplete?(console.log("本局结束"),c.DispatchCustomEvent(s.MyNode,"GameComplete",e)):e.code==d.Response.Game.TableUserExit?(console.log("有用户退出 通知桌上的玩家重新进入队列"),c.DispatchCustomEvent(s.MyNode,"TableUserExit",e)):e.code==d.Response.Game.InvalidCardNum&&(console.log("出的牌不够大 [非法出牌]"),c.DispatchCustomEvent(s.MyNode,"InvalidCardNum",e)))},handleLoginRoomResult:function(e,t){var o=!0,n=!1,a=!1,r=null,i=null;if(t==d.Response.Game.NoLogin)return o=!1,void console.log("未登录");t==d.Response.Game.InitOk?(console.log("进入房间成功"),1==e.data.isGaming&&(console.log("进入未完成牌局"),o=!(a=!0),s.RoomId=e.data.roomId)):t==d.Response.Game.CoinsNoMatchRoom&&(console.log("进入房间失败"),n=!(o=!1),r=e.data.msg,i=e.data.newRoomId);var l={};l.name=u.Network.LoginRoomResult,l.ok=o,l.payload=e,l.noCoin=n,l.inGaming=a,l.msg=r,l.newRoomId=i,console.log(">>>>>>>>>>Events.Network.LoginRoomResult"),c.DispatchCustomEvent(s.MyNode,u.Network.LoginRoomResult,l)}}});cc._RF.pop()},{ByteArray:"ByteArray",EventHelper:"EventHelper",Events:"Events",Protocol:"Protocol",config:"config"}],GameTable:[function(h,e,t){"use strict";cc._RF.push(e,"1393cipeeNFZbpX9aJxYpTG","GameTable");h("PokerData");var C=h("PokerControl"),y=h("config"),p=h("CardUtil"),a=(h("PopCardUtil"),h("opratOutCardControl")),r=h("dialogManager"),i=h("PlayerDetailModel"),l=h("Player"),o=h("EventHelper"),g=h("GameNetMgr");h("Events");cc.Class({extends:cc.Component,properties:{pokerCard:{default:null,type:cc.Prefab},pokerLayerLeft:{default:null,type:cc.Node},pokerLayerRight:{default:null,type:cc.Node},pokerLayerMy:{default:null,type:cc.Node},chupaiBtn:{default:null,type:cc.Node},buchuBtn:{default:null,type:cc.Node},canvas:cc.Node,opratOutCard:{default:null,type:cc.Prefab},leftPlayer:{default:null,type:cc.Node},rightPlayer:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this,t=cc.director.getWinSize().width,o=cc.director.getScene();this.sceneWidth=t,this.scene=o,this.mySeatId=0,this.preSendCards=[],this.preSeatId=-1,this.gameState=0,this.loadSeatId=0,this.nicknames=[],e.touchBeganX=0,e.leftX=0,e.rightX=0,e.upY=0,e.downY=0,e.isTouchbegan=!1;var n=i,a={};a.uid=n.getUid(),a.nickname=n.getNickName(),a.gender=toString(n.getGender()),a.coin=n.getCoin(),a.gold=n.getGold(),a.lequan=n.getCoupon(),a.propDress=n.getPropDress(),a.wechatImg="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132",a.title=n.getTitle(),a.emoticon={},a.emoticonItems={},this.myOpratShow=null,this.CancelDelegate=null,this.myPokerData=[],this.myPokerNode=[],this.dispatchCard=[];var r=new l(a);e.playerme_=r,e.initMyPlayerNode(),e.playerme_.initBaseInfo(),this.leftDispatchCard=[],this.leftPokerData=[],this.leftPokerNode=[],this.left_player=new l,this.initLeftPlayerNode(),this.rightDispatchCard=[],this.rightPokerData=[],this.rightPokerNode=[],this.right_player=new l,this.initRightPlayerNode(),this.registerEvent(),this.leftPlayer.active=!1,this.rightPlayer.active=!1,g.sendRequest("Game","startGame"),this.registerEventListener(),this.initTable3Card()},initTable3Card:function(){this.table3Card=[];for(var e=0;e<3;e++){var t="Canvas/top_bar1/dipaibg/poker"+e,o=cc.find(t);this.table3Card.push(o),o.active=!1}this.node_tableTimes=cc.find("Canvas/bottom_bar3/beishu/lab_bei").getComponent(cc.Label)},setTable3Card:function(e){for(var t=0;t<3;t++){this.table3Card[t].active=!0,this.table3Card[t].getComponent(C).showPoker(p.convertCardToClient(e[t]))}},initMyPlayerNode:function(){var e=cc.find("Canvas/my_player/head1/name").getComponent(cc.Label),t=cc.find("Canvas/my_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/my_player/lequan/lab_lequan").getComponent(cc.Label),n=cc.find("Canvas/my_player/head1/p_dz_icon").getComponent(cc.Sprite),a=cc.find("Canvas/my_player/my_tip/p_tip_jiaodizhu").getComponent(cc.Sprite),r=cc.find("Canvas/my_player/head1/p_head/p_head_1").getComponent(cc.Sprite),i={};i.node_name=e,i.node_LeDou=t,i.node_LeQuan=o,i.node_cardsNum=null,i.node_Landlord=n,i.node_delegate=null,i.node_hint=a,i.node_clockDwonTime=null,i.node_wechatImg=r,i.pokerCard=this.pokerCard,i.node_alarm=null,n.enabled=!1,i.node_hint.enabled=!1,this.playerme_.initNodes(i)},initLeftPlayerNode:function(){var e=cc.find("Canvas/left_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/left_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/left_player/p_card_1/cardNum").getComponent(cc.Label),n=cc.find("Canvas/left_player/head/p_dz_icon").getComponent(cc.Sprite),a=cc.find("Canvas/left_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/left_player/left_tip/p_tip_yaobuqi").getComponent(cc.Sprite),i=cc.find("Canvas/left_player/left_clock/clockDown"),l=cc.find("Canvas/left_player/head/p_head/p_head_1").getComponent(cc.Sprite),s=cc.find("Canvas/left_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=n,c.node_delegate=a,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=l,c.pokerCard=this.pokerCard,c.node_alarm=s,n.enabled=!1,a.enabled=!1,r.enabled=!1,i.active=!1,s.active=!1,this.left_player.initNodes(c)},initRightPlayerNode:function(){var e=cc.find("Canvas/right_player/head/name").getComponent(cc.Label),t=cc.find("Canvas/right_player/ledou/lab_ledou").getComponent(cc.Label),o=cc.find("Canvas/right_player/p_card_1/cardNum").getComponent(cc.Label),n=cc.find("Canvas/right_player/head/p_dz_icon").getComponent(cc.Sprite),a=cc.find("Canvas/right_player/head/p_delegate").getComponent(cc.Sprite),r=cc.find("Canvas/right_player/right_tip/p_tip_qiangdizhu").getComponent(cc.Sprite),i=cc.find("Canvas/right_player/right_clock/clockDown"),l=cc.find("Canvas/right_player/head/p_head/p_head_1").getComponent(cc.Sprite),s=cc.find("Canvas/right_player/alarm"),c={};c.node_name=e,c.node_LeDou=t,c.node_LeQuan=null,c.node_cardsNum=o,c.node_Landlord=n,c.node_delegate=a,c.node_hint=r,c.node_clockDwonTime=i,c.node_wechatImg=l,c.pokerCard=this.pokerCard,c.node_alarm=s,n.enabled=!1,a.enabled=!1,r.enabled=!1,i.active=!1,s.active=!1,this.right_player.initNodes(c)},clearTable:function(){if(this.playerme_.clear(),this.left_player.clear(),this.right_player.clear(),this.playerme_.clearTableCard(this.dispatchCard),this.left_player.clearTableCard(this.leftDispatchCard),this.right_player.clearTableCard(this.rightDispatchCard),0<this.myPokerNode.length){for(var e=0;e<this.myPokerNode.length;e++)this.myPokerNode[e].getComponent(C).node.removeFromParent();this.myPokerNode=[]}this.myPokerData=[],this.leftPlayer.active=!1,this.rightPlayer.active=!1,this.preSendCards=[],this.preSeatId=-1,console.log("//清理拍桌");for(e=0;e<this.table3Card.length;e++)this.table3Card[e].active=!1;this.CancelDelegate&&(console.log("//清理拍桌 11111"),this.CancelDelegate.close(),this.CancelDelegate=null)},registerEvent:function(){var s=this;this.canvas.on(cc.Node.EventType.TOUCH_START,function(e){if(s.myPokerNode.length<1)return!1;var t=e.getLocation();if(s.touchBeganX=t.x,s.leftX=0,s.rightX=1e4,s.upY=1e4,s.downY=0,s.isTouchbegan=!0,s.setSelectCardByTouch(s.myPokerNode,t.x,t.y,s.isTouchbegan),s.isTouchbegan){var o=s.myPokerNode[0].getPositionX(),n=s.myPokerNode[s.myPokerNode.length-1].getPositionX(),a=s.myPokerNode[0].getPositionY(),r=s.myPokerNode[0].getContentSize(),i=r.width,l=r.height;s.leftX=o-i/2-10,s.rightX=n+i/2+10,s.upY=a+l/2+40,s.downY=a-l/2,console.log("self.leftX:"+s.leftX+"  self.rightX:"+s.rightX+" self.downY:"+s.downY+"  self.upY:"+s.upY),s.isTouchbegan&&(t.y>s.upY||t.y<s.downY||t.x<s.leftX||t.x>s.rightX)&&s.moveAllCardDown(s.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_END,function(e){if(!(s.myPokerNode.length<1)){e.getLocation();s.moveCard(s.myPokerNode)}},this.node),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!(s.myPokerNode.length<1)){var t=e.getLocation();40<Math.abs(s.touchBeganX-t.x)&&(s.isTouchbegan=!1,s.setSelectCardByTouch(s.myPokerNode,t.x,t.y,s.isTouchbegan))}},this.node)},unregisterEvent:function(){this.canvas.targetOff(this.node),console.log("off")},setSelectCardByTouch:function(e,t,o,n){var a=this.touchBeganX,r=t;this.isTouchbegan=n,this.touchBeganX>t&&(a=t,r=this.touchBeganX),r-a<5&&(r=a);for(var i=0;i<e.length;i++){var l=e[i],s=l.getPositionY(),c=l.getContentSize(),d=l.getPositionX(),u=c.width,h=c.height,p=d-u/2+y.seatPos.center.disBetween,g=d-u/2,m=s-h/2,f=s+h/2;i==e.length-1&&(p=d+u/2),m<=o&&o<=f&&(a<=g&&g<=r||a<=p&&p<=r||g<=a&&a<=p||g<=r&&r<=p)&&l.getComponent(C).setChoosed(!0)}},moveCard:function(e){for(var t=0;t<e.length;t++){e[t].getComponent(C).cardMove()}},moveAllCardDown:function(e){console.log("moveAllCardDown");for(var t=0;t<e.length;t++){e[t].getComponent(C).cardMoveDown()}},onShow:function(){console.log("onShow"),this.onMyOutCard()},onHide:function(){console.log("onHide");for(var e=this.myPokerNode,t=this.myPokerData,o=p.getMyTopCards(e,C),n=[],a=t.length-1;-1<a;a--)n.push(t[a].showTxt),console.log("xx"+t[a].showTxt);var r=p.getCardsFromTopCards(n,o);r.length<1||(this.moveAllCardDown(e),p.AutoChooseLiftUpCard(e,C,r))},onMyOutCard:function(){var c=this,e=(this.dispatchCard,this.sceneWidth,cc.director.getScene()),d=this.myPokerNode,u=this.myPokerData,h=0,t=function(){if(console.log("点击了出牌"),c.dispatchCard&&0<c.dispatchCard.length){console.log("dispatchCard.length:"+c.dispatchCard.length);for(var e=0;e<c.dispatchCard.length;e++)c.dispatchCard[e].getComponent(C).node.removeFromParent();c.dispatchCard=[]}var t=[],o=[];for(e=u.length-1;-1<e;e--)if(u[e].isTopped){var n=p.StringToNumber(u[e].showTxt);t.push(n);var a={showTxt:n,showType:u[e].showType};o.push(a)}if(!(1<=t.length))return console.log("没有牌提起"),0;var r=p.get_topCard_type(t);if(console.log(r),0==r.type)return console.log("提起的牌不合法"),-1;var i=p.clientCardsToServer(o);g.sendRequest("Game","sendCard",i)};if(20==c.playerme_.getCardCount()||c.mySeatId==c.preSeatId)c.showCallLord(y.SendCardTimeout,null,t,y.opratType.mustOutCard);else{var o=cc.instantiate(this.opratOutCard);o.parent=e;var n=o.getComponent(a);n.show(y.SendCardTimeout,function(){c.moveAllCardDown(d),g.sendRequest("Game","giveupSendCard"),c.myOpratShow&&(c.myOpratShow.close(),c.myOpratShow=null)},function(){var e=[];if(c.preSendCards&&0<c.preSendCards.length){var t=p.serverCardsToClient(c.preSendCards);console.log(t);for(var o=0;o<t.length;o++)e.push(t[o].showTxt)}e.sort(y.arrayUp);var n=p.get_topCard_type(e),a=[];console.log(n);for(o=u.length-1;-1<o;o--){var r=p.StringToNumber(u[o].showTxt);a.push(r)}var i=p.get_cards_larger(n,a);if(0!=i.length){e=i[h],h<i.length-1?h++:h=0,this.node.stopAllActions(),c.moveAllCardDown(d);var l=cc.callFunc(function(){p.AutoChooseLiftUpCard(d,C,e)}),s=cc.delayTime(.25);this.node.runAction(cc.sequence(s,l))}else console.log("没有符合的牌型可供提示")},t),c.myOpratShow||(c.myOpratShow=n)}},mySendCards:function(e){var t=this;if(e){var o=p.serverCardsToClient(e);o.sort(p.gradeUp),t.dispatchCard=t.playerme_.getSendCard(t.dispatchCard,o,t.myPokerNode,t.myPokerData)}t.playerme_.playCard(t.dispatchCard),t.playerme_.neatenPoker(t.myPokerNode,y.seatPos.center,t.sceneWidth),t.playerme_.getLandlord()&&0<t.myPokerNode.length&&t.myPokerNode[t.myPokerNode.length-1].getComponent(C).setCardDiZhu(!0),t.playerme_.setCardCount(t.myPokerNode.length)},leftSendCards:function(e,t,o){var n=this,a=this.sceneWidth;e&&(t||(t=p.serverCardsToClient(e)).sort(p.gradeUp),o?(n.leftDispatchCard=n.left_player.getSendCard(n.leftDispatchCard,t,n.leftPokerNode,n.leftPokerData),n.left_player.playCardLeft(n.leftDispatchCard,320,650),n.left_player.neatenLeftPoker(n.leftPokerNode,y.seatPos.left,a/2,230)):(n.leftDispatchCard=n.left_player.darkCardSend(n.leftDispatchCard,t,n.pokerLayerLeft,2,a),n.left_player.playCardLeft(n.leftDispatchCard,320,650)))},rightSendCards:function(e,t,o){var n=this,a=this.sceneWidth;e&&(t||e&&(t=p.serverCardsToClient(e)).sort(p.gradeUp),o?(n.rightDispatchCard=n.right_player.getSendCard(n.rightDispatchCard,t,n.rightPokerNode,n.rightPokerData),n.right_player.playCardRight(n.rightDispatchCard,620,650),n.right_player.neatenRightPoker(n.rightPokerNode,y.seatPos.right,a/2,a/2+140)):(n.rightDispatchCard=n.right_player.darkCardSend(n.rightDispatchCard,t,n.pokerLayerRight,0,a),n.right_player.playCardRight(n.rightDispatchCard,620,650)))},btnBackClick:function(){var e=this;if(console.log("btnBackClick"),e.gameState==y.gameState.ST_GAME_START){r.showCommonDialog("温馨提示","现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！",function(){e.removeEventListener(),g.sendRequest("Game","exitRoom"),e.preloadNextScene()})}else e.removeEventListener(),e.preloadNextScene()},btnDelegateClick:function(){console.log("btnDelegateClick");var a=this,r=function(){g.sendRequest("Game","cancelDelegate"),a.CancelDelegate=null,a.playerme_.setDelegated(!1)};a.CancelDelegate||a.gameState!=y.gameState.ST_GAME_START||cc.loader.loadRes("prefab/CancelDelegate",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o);var n=o.getComponent(h("CancelDelegateController"));n.show(r),a.CancelDelegate=n}})},btnSetClick:function(){console.log("btnSetClick"),r.showSetDialog()},btnJiPaiQiClick:function(){console.log("btnJiPaiQiClick")},btnChatClick:function(){console.log("btnChatClick")},addEventListener:function(){var i=this;i.watingStart=null,o.AddCustomEvent(y.MyNode,"Queued",function(e){console.log("进入队列---"),i.gameState=y.gameState.ST_GAME_PREPARE,cc.loader.loadRes("animatiom/watingStartGame",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o),i.watingStart=o.getComponent(h("watingStarControl"))}})},i),o.AddCustomEvent(y.MyNode,"GameReady",function(e){console.log("游戏准备好了---"),i.gameState=y.gameState.ST_GAME_START,i.watingStart.close();var t=e.getUserData();i.initPlayerInfo(t)},i),o.AddCustomEvent(y.MyNode,"TableTimesUpdate",function(e){console.log("桌子的倍数发生改变---");var t=e.getUserData().data.rate;i.node_tableTimes.string=""+t},i),o.AddCustomEvent(y.MyNode,"SendCard",function(e){if(console.log("发牌, 包括各用户的牌信息---"),i.gameState=y.gameState.ST_GAME_START,0<i.myPokerNode.length){for(var t=0;t<i.myPokerNode.length;t++)i.myPokerNode[t].getComponent(C).node.removeFromParent();i.myPokerNode=[]}i.myPokerData=[];var o=e.getUserData();if(i.myPokerData=p.serverCardsToClient(o.data.myCard),i.playerme_.initMyCards(i.myPokerData,i.myPokerNode,i.scene,i.sceneWidth),0==o.data.showCard[i.mySeatId]){r.showOpratShowCard(function(e){g.sendRequest("Game","showCard",e)})}},i),o.AddCustomEvent(y.MyNode,"RefreshPlayerData",function(e){console.log("刷新用户金币---")},i),o.AddCustomEvent(y.MyNode,"TurnCallLord",function(e){console.log("轮到谁叫地主---");var t=e.getUserData(),o=y.getPlayerSeatNum(i.mySeatId,t.data.callId);if(1==o){i.showCallLord(y.CallLordTimeout,function(){g.sendRequest("Game","callLord",1),i.myOpratShow&&(i.myOpratShow.close(),i.myOpratShow=null)},function(){g.sendRequest("Game","callLord",2),i.myOpratShow&&(i.myOpratShow.close(),i.myOpratShow=null)},y.opratType.callLoad),i.playerme_.hideHint()}else 0==o?(i.right_player.showClock(y.CallLordTimeout),i.right_player.hideHint()):2==o&&(i.left_player.showClock(y.CallLordTimeout),i.left_player.hideHint())},i),o.AddCustomEvent(y.MyNode,"CallLord",function(e){console.log("玩家叫地主---");var t=e.getUserData(),o=t.data.beLordId,n=t.data.beLordInfo,a=y.getPlayerSeatNum(i.mySeatId,o);1==a?1==n?i.playerme_.showHint(y.hintType.callLoad):i.playerme_.showHint(y.hintType.callLoadNo):0==a?(i.right_player.hideClock(),1==n?i.right_player.showHint(y.hintType.callLoad):i.right_player.showHint(y.hintType.callLoadNo)):2==a&&(i.left_player.hideClock(),1==n?i.left_player.showHint(y.hintType.callLoad):i.left_player.showHint(y.hintType.callLoadNo))},i),o.AddCustomEvent(y.MyNode,"TurnGrabLord",function(e){console.log("轮到谁抢地主---");var t=e.getUserData().data.callId,o=y.getPlayerSeatNum(i.mySeatId,t);if(1==o){i.showCallLord(y.CallLordTimeout,function(){g.sendRequest("Game","grabLord",1)},function(){g.sendRequest("Game","grabLord",2)},y.opratType.grabLoad),i.playerme_.hideHint()}else 0==o?(i.right_player.showClock(y.CallLordTimeout),i.right_player.hideHint()):2==o&&(i.left_player.showClock(y.CallLordTimeout),i.left_player.hideHint())},i),o.AddCustomEvent(y.MyNode,"GrabLord",function(e){console.log("玩家抢地主---");var t=e.getUserData(),o=t.data.grabLordId,n=t.data.grabLordInfo,a=y.getPlayerSeatNum(i.mySeatId,o);1==a?1==n?i.playerme_.showHint(y.hintType.grabLoad):i.playerme_.showHint(y.hintType.grabLoadNo):0==a?(i.right_player.hideClock(),1==n?i.right_player.showHint(y.hintType.grabLoad):i.right_player.showHint(y.hintType.grabLoadNo)):2==a&&(i.left_player.hideClock(),1==n?i.left_player.showHint(y.hintType.grabLoad):i.left_player.showHint(y.hintType.grabLoadNo))},i),o.AddCustomEvent(y.MyNode,"CallLordOver",function(e){console.log("叫地主结束---"),i.playerme_.hideHint(),i.left_player.hideHint(),i.right_player.hideHint();var t=e.getUserData(),o=t.data.lordId,n=t.data.lordCard;t.data.lordBonus;i.setTable3Card(n),i.loadSeatId=o;var a=y.getPlayerSeatNum(i.mySeatId,o);if(1==a){if(t.data.myCard&&20==t.data.myCard.length){if(0<i.myPokerNode.length){for(var r=0;r<i.myPokerNode.length;r++)i.myPokerNode[r].getComponent(C).node.removeFromParent();i.myPokerNode=[]}i.myPokerData=[],i.myPokerData=p.serverCardsToClient(t.data.myCard),i.myPokerNode=i.playerme_.initMyCards(i.myPokerData,i.myPokerNode,i.scene,i.sceneWidth),i.playerme_.setCardCount(20),i.playerme_.setLandlord(!0)}}else 0==a?(i.right_player.setCardCount(20),i.right_player.setLandlord(!0)):2==a&&(i.left_player.setCardCount(20),i.left_player.setLandlord(!0))},i),o.AddCustomEvent(y.MyNode,"CanDoubleResult",function(e){console.log("通知是否可以加倍---");var t=e.getUserData().data.can_double;if(t&&1==t){r.showOpratDouble(function(){g.sendRequest("Game","addRatio")})}},i),o.AddCustomEvent(y.MyNode,"TurnSendCard",function(e){console.log("轮到谁出牌---");var t=e.getUserData().data.callId,o=y.getPlayerSeatNum(i.mySeatId,t);1==o?(i.onMyOutCard(),i.playerme_.hideHint(),i.playerme_.clearTableCard(i.dispatchCard)):0==o?(i.right_player.showClock(y.SendCardTimeout),i.right_player.hideHint(),i.right_player.clearTableCard(i.rightDispatchCard)):2==o&&(i.left_player.showClock(y.SendCardTimeout),i.left_player.hideHint(),i.left_player.clearTableCard(i.leftDispatchCard),i.myOpratShow&&(i.myOpratShow.close(),i.myOpratShow=null))},i),o.AddCustomEvent(y.MyNode,"PlayerDelegated",function(e){console.log("用户托管---");var t=e.getUserData(),o=t.data.trustId,n=(t.data.giveup,y.getPlayerSeatNum(i.mySeatId,o));1==n&&(i.playerme_.getDelegated()||(i.btnDelegateClick(),i.playerme_.setDelegated(!0)))},i),o.AddCustomEvent(y.MyNode,"PlayerSendCard",function(e){console.log("用户出牌---");var t=e.getUserData(),o=t.data.callId,n=y.getPlayerSeatNum(i.mySeatId,o);if(1==n)i.mySendCards(t.data.sendCards),i.myOpratShow&&(i.myOpratShow.close(),i.myOpratShow=null);else if(0==n){i.rightSendCards(t.data.sendCards,null,!1);var a=t.data.sendCards.length,r=i.right_player.getCardCount();i.right_player.setCardCount(r-a),i.right_player.hideClock()}else if(2==n){i.leftSendCards(t.data.sendCards,null,!1);a=t.data.sendCards.length,r=i.left_player.getCardCount();i.left_player.setCardCount(r-a),i.left_player.hideClock()}i.preSendCards=t.data.sendCards,i.preSeatId=o},i),o.AddCustomEvent(y.MyNode,"PlayerNotSend",function(e){console.log("用户不出牌---");var t=e.getUserData().data.callId,o=y.getPlayerSeatNum(i.mySeatId,t);1==o?(i.playerme_.showHint(y.hintType.dont),i.myOpratShow&&(i.myOpratShow.close(),i.myOpratShow=null)):0==o?(i.right_player.showHint(y.hintType.dont),i.right_player.hideClock()):2==o&&(i.left_player.showHint(y.hintType.dont),i.left_player.hideClock())},i),o.AddCustomEvent(y.MyNode,"PlayerShowCard",function(e){console.log("用户明牌---");e.getUserData()},i),o.AddCustomEvent(y.MyNode,"GameComplete",function(e){console.log("本局结束---"),i.gameState=y.gameState.ST_GAME_BALANCE;var t=e.getUserData();i.showGameResult(t)},i),o.AddCustomEvent(y.MyNode,"TableUserExit",function(e){console.log("有用户退出 通知桌上的玩家重新进入队列---");e.getUserData();i.clearTable()},i),o.AddCustomEvent(y.MyNode,"InvalidCardNum",function(e){console.log("出的牌不够大 [非法出牌]---");e.getUserData();i.myOpratShow&&i.myOpratShow.chupaiClick(-1)},i)},registerEventListener:function(){var e=this;o.AddCustomEvent(y.MyNode,"Queued",e.onQueued,e),o.AddCustomEvent(y.MyNode,"GameReady",e.onGameReady,e),o.AddCustomEvent(y.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.AddCustomEvent(y.MyNode,"SendCard",e.onSendCard,e),o.AddCustomEvent(y.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.AddCustomEvent(y.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.AddCustomEvent(y.MyNode,"CallLord",e.onCallLord,e),o.AddCustomEvent(y.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.AddCustomEvent(y.MyNode,"GrabLord",e.onGrabLord,e),o.AddCustomEvent(y.MyNode,"CallLordOver",e.onCallLordOver,e),o.AddCustomEvent(y.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.AddCustomEvent(y.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.AddCustomEvent(y.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.AddCustomEvent(y.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.AddCustomEvent(y.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.AddCustomEvent(y.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.AddCustomEvent(y.MyNode,"GameComplete",e.onGameComplete,e),o.AddCustomEvent(y.MyNode,"TableUserExit",e.onTableUserExit,e),o.AddCustomEvent(y.MyNode,"InvalidCardNum",e.onInvalidCardNum,e)},removeEventListener:function(){var e=this;o.RemoveCustomEvent(y.MyNode,"Queued",e.onQueued,e),o.RemoveCustomEvent(y.MyNode,"GameReady",e.onGameReady,e),o.RemoveCustomEvent(y.MyNode,"TableTimesUpdate",e.onTableTimesUpdate,e),o.RemoveCustomEvent(y.MyNode,"SendCard",e.onSendCard,e),o.RemoveCustomEvent(y.MyNode,"RefreshPlayerData",e.onRefreshPlayerData,e),o.RemoveCustomEvent(y.MyNode,"TurnCallLord",e.onTurnCallLord,e),o.RemoveCustomEvent(y.MyNode,"CallLord",e.onCallLord,e),o.RemoveCustomEvent(y.MyNode,"TurnGrabLord",e.onTurnGrabLord,e),o.RemoveCustomEvent(y.MyNode,"GrabLord",e.onGrabLord,e),o.RemoveCustomEvent(y.MyNode,"CallLordOver",e.onCallLordOver,e),o.RemoveCustomEvent(y.MyNode,"CanDoubleResult",e.onCanDoubleResult,e),o.RemoveCustomEvent(y.MyNode,"TurnSendCard",e.onTurnSendCard,e),o.RemoveCustomEvent(y.MyNode,"PlayerDelegated",e.onPlayerDelegated,e),o.RemoveCustomEvent(y.MyNode,"PlayerSendCard",e.onPlayerSendCard,e),o.RemoveCustomEvent(y.MyNode,"PlayerNotSend",e.onPlayerNotSend,e),o.RemoveCustomEvent(y.MyNode,"PlayerShowCard",e.onPlayerShowCard,e),o.RemoveCustomEvent(y.MyNode,"GameComplete",e.onGameComplete,e),o.RemoveCustomEvent(y.MyNode,"TableUserExit",e.onTableUserExit,e),o.RemoveCustomEvent(y.MyNode,"InvalidCardNum",e.onInvalidCardNum,e)},initPlayerInfo:function(e){var t=this;e.data.time?(y.CallLordTimeout=e.data.time.lord,y.GrabLordTimeout=e.data.time.lord,y.SendCardTimeout=e.data.time.send,y.CheckCardTimeout=e.data.time.giveup,y.AddRatioTime=e.data.time.double):(y.CallLordTimeout=15,y.GrabLordTimeout=15,y.SendCardTimeout=30,y.CheckCardTimeout=10,y.AddRatioTime=5);var o=e.data.isNewGame;if(this.nicknames=[],o){var n=e.data.seatId;t.mySeatId=n,t.playerme_.setMySeatId(n),t.playerme_.setMySeatNum(1);var a={0:e.data[0],1:e.data[1],2:e.data[2]};for(var r in a){var i=a[r],l=i.seatId;if(this.nicknames.push(i.nick),l==n)t.playerme_.setMySeatId(i.seatId),t.playerme_.setRoomId(i.roomId),t.playerme_.setTableId(i.tableId),t.playerme_.setSignature(i.word),t.playerme_.setBuff(i.buff);else{var s=1;0==n?1==l?s=2:2==l&&(s=0):1==n?0==l?s=0:2==l&&(s=2):2==n&&(0==l?s=2:1==l&&(s=0));var c={};c.uid=parseInt(i.uid),c.nickname=i.nick,c.gender=i.sex,c.coin=parseInt(i.coin),c.gold=parseInt(i.gold),c.propDress=i.propDress,c.myseat=i.seatId,c.roomid=i.roomId,c.tableid=i.tableId,c.signature=i.word,c.buff=i.buff,c.wechatImg=i.img,c.title=i.title,c.emoticon={},c.emoticonItems={},2==s?(t.left_player.initInfo(c),t.left_player.initBaseInfo(),t.left_player.setMySeatNum(s),t.leftPlayer.active=!0):0==s&&(t.right_player.initInfo(c),t.right_player.initBaseInfo(),t.right_player.setMySeatNum(s),t.rightPlayer.active=!0)}}}},showCallLord:function(a,r,i,l){var s=this;cc.loader.loadRes("prefab/opratCallLord",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o);var n=o.getComponent(h("opratCallLordControl"));n.show(a,r,i,l),3!=l||s.myOpratShow||(s.myOpratShow=n)}})},showGameResult:function(e){var n=this,a=[],t=e.data,r=function(){g.sendRequest("Game","startGame",!0)},i=function(){g.sendRequest("Game","startGame",!1)},o="prefab/gameResultWin";1==e.data.isWinner[""+n.mySeatId]||(o="prefab/gameResultLose"),n.playerme_.setCoin(t.coins[n.mySeatId]);for(var l=t.rate,s=(t.rateMax,t.baseCoins),c=0;c<3;c++){var d=t.total[""+c];d=0<d?"+"+d:"- "+Math.abs(d);var u={isdizhu:n.loadSeatId==c,nickname:n.nicknames[c],difen:s,beishu:l,ledou:d};a.push(u)}cc.loader.loadRes(o,function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o),o.getComponent(h("gameResultControl")).show(a,r,i,n.mySeatId)}})},onQueued:function(e){var n=this;console.log("进入队列---"),n.gameState=y.gameState.ST_GAME_PREPARE,cc.loader.loadRes("animatiom/watingStartGame",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o),n.watingStart=o.getComponent(h("watingStarControl"))}})},onGameReady:function(e){var t=this;console.log("游戏准备好了---"),t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint(),t.gameState=y.gameState.ST_GAME_START,t.watingStart&&(t.watingStart.close(),t.watingStart=null);var o=e.getUserData();t.initPlayerInfo(o)},onTableTimesUpdate:function(e){console.log("桌子的倍数发生改变---");var t=e.getUserData().data.rate;this.node_tableTimes.string=""+t},onSendCard:function(e){var t=this;if(console.log("发牌, 包括各用户的牌信息---"),t.gameState=y.gameState.ST_GAME_START,0<t.myPokerNode.length){for(var o=0;o<t.myPokerNode.length;o++)t.myPokerNode[o].getComponent(C).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[];var n=e.getUserData();if(t.myPokerData=p.serverCardsToClient(n.data.myCard),t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),0==n.data.showCard[t.mySeatId]){r.showOpratShowCard(function(e){g.sendRequest("Game","showCard",e)})}},onRefreshPlayerData:function(e){console.log("刷新用户金币---")},onTurnCallLord:function(e){var t=this;console.log("轮到谁叫地主---");var o=e.getUserData(),n=y.getPlayerSeatNum(t.mySeatId,o.data.callId);if(1==n){t.showCallLord(y.CallLordTimeout,function(){g.sendRequest("Game","callLord",1),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)},function(){g.sendRequest("Game","callLord",2),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)},y.opratType.callLoad),t.playerme_.hideHint()}else 0==n?(t.right_player.showClock(y.CallLordTimeout),t.right_player.hideHint()):2==n&&(t.left_player.showClock(y.CallLordTimeout),t.left_player.hideHint())},onCallLord:function(e){var t=this;console.log("玩家叫地主---");var o=e.getUserData(),n=o.data.beLordId,a=o.data.beLordInfo,r=y.getPlayerSeatNum(t.mySeatId,n);1==r?1==a?t.playerme_.showHint(y.hintType.callLoad):t.playerme_.showHint(y.hintType.callLoadNo):0==r?(t.right_player.hideClock(),1==a?t.right_player.showHint(y.hintType.callLoad):t.right_player.showHint(y.hintType.callLoadNo)):2==r&&(t.left_player.hideClock(),1==a?t.left_player.showHint(y.hintType.callLoad):t.left_player.showHint(y.hintType.callLoadNo))},onTurnGrabLord:function(e){var t=this;console.log("轮到谁抢地主---");var o=e.getUserData().data.callId,n=y.getPlayerSeatNum(t.mySeatId,o);if(1==n){t.showCallLord(y.CallLordTimeout,function(){g.sendRequest("Game","grabLord",1)},function(){g.sendRequest("Game","grabLord",2)},y.opratType.grabLoad),t.playerme_.hideHint()}else 0==n?(t.right_player.showClock(y.CallLordTimeout),t.right_player.hideHint()):2==n&&(t.left_player.showClock(y.CallLordTimeout),t.left_player.hideHint())},onGrabLord:function(e){var t=this;console.log("玩家抢地主---");var o=e.getUserData(),n=o.data.grabLordId,a=o.data.grabLordInfo,r=y.getPlayerSeatNum(t.mySeatId,n);1==r?1==a?t.playerme_.showHint(y.hintType.grabLoad):t.playerme_.showHint(y.hintType.grabLoadNo):0==r?(t.right_player.hideClock(),1==a?t.right_player.showHint(y.hintType.grabLoad):t.right_player.showHint(y.hintType.grabLoadNo)):2==r&&(t.left_player.hideClock(),1==a?t.left_player.showHint(y.hintType.grabLoad):t.left_player.showHint(y.hintType.grabLoadNo))},onCallLordOver:function(e){var t=this;console.log("叫地主结束---"),t.playerme_.hideHint(),t.left_player.hideHint(),t.right_player.hideHint();var o=e.getUserData(),n=o.data.lordId,a=o.data.lordCard;o.data.lordBonus;t.setTable3Card(a),t.loadSeatId=n;var r=y.getPlayerSeatNum(t.mySeatId,n);if(1==r){if(o.data.myCard&&20==o.data.myCard.length){if(0<t.myPokerNode.length){for(var i=0;i<t.myPokerNode.length;i++)t.myPokerNode[i].getComponent(C).node.removeFromParent();t.myPokerNode=[]}t.myPokerData=[],t.myPokerData=p.serverCardsToClient(o.data.myCard),t.myPokerNode=t.playerme_.initMyCards(t.myPokerData,t.myPokerNode,t.scene,t.sceneWidth),t.playerme_.setCardCount(20),t.playerme_.setLandlord(!0)}}else 0==r?(t.right_player.setCardCount(20),t.right_player.setLandlord(!0)):2==r&&(t.left_player.setCardCount(20),t.left_player.setLandlord(!0))},onCanDoubleResult:function(e){console.log("通知是否可以加倍---");var t=e.getUserData().data.can_double;if(t&&1==t){r.showOpratDouble(function(){g.sendRequest("Game","addRatio")})}},onTurnSendCard:function(e){var t=this;console.log("轮到谁出牌---");var o=e.getUserData().data.callId,n=y.getPlayerSeatNum(t.mySeatId,o);1==n?(t.onMyOutCard(),t.playerme_.hideHint(),t.playerme_.clearTableCard(t.dispatchCard)):0==n?(t.right_player.showClock(y.SendCardTimeout),t.right_player.hideHint(),t.right_player.clearTableCard(t.rightDispatchCard)):2==n&&(t.left_player.showClock(y.SendCardTimeout),t.left_player.hideHint(),t.left_player.clearTableCard(t.leftDispatchCard),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null))},onPlayerDelegated:function(e){console.log("用户托管---");var t=e.getUserData(),o=t.data.trustId,n=(t.data.giveup,y.getPlayerSeatNum(this.mySeatId,o));1==n&&(this.playerme_.getDelegated()||(this.btnDelegateClick(),this.playerme_.setDelegated(!0)))},onPlayerSendCard:function(e){var t=this;console.log("用户出牌---");var o=e.getUserData(),n=o.data.callId,a=y.getPlayerSeatNum(t.mySeatId,n);if(1==a)t.mySendCards(o.data.sendCards),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null);else if(0==a){t.rightSendCards(o.data.sendCards,null,!1);var r=o.data.sendCards.length,i=t.right_player.getCardCount();t.right_player.setCardCount(i-r),t.right_player.hideClock()}else if(2==a){t.leftSendCards(o.data.sendCards,null,!1);r=o.data.sendCards.length,i=t.left_player.getCardCount();t.left_player.setCardCount(i-r),t.left_player.hideClock()}t.preSendCards=o.data.sendCards,t.preSeatId=n},onPlayerNotSend:function(e){var t=this;console.log("用户不出牌---");var o=e.getUserData().data.callId,n=y.getPlayerSeatNum(t.mySeatId,o);1==n?(t.playerme_.showHint(y.hintType.dont),t.myOpratShow&&(t.myOpratShow.close(),t.myOpratShow=null)):0==n?(t.right_player.showHint(y.hintType.dont),t.right_player.hideClock()):2==n&&(t.left_player.showHint(y.hintType.dont),t.left_player.hideClock())},onPlayerShowCard:function(e){console.log("用户明牌---")},onGameComplete:function(e){console.log("本局结束---"),this.gameState=y.gameState.ST_GAME_BALANCE;var t=e.getUserData();this.showGameResult(t)},onTableUserExit:function(e){console.log("有用户退出 通知桌上的玩家重新进入队列---");e.getUserData();this.clearTable()},onInvalidCardNum:function(e){console.log("出的牌不够大 [非法出牌]---");e.getUserData();this.myOpratShow&&this.myOpratShow.chupaiClick(-1)},preloadNextScene:function(){cc.director.preloadScene("HallScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("HallScene")})}}),cc._RF.pop()},{CancelDelegateController:"CancelDelegateController",CardUtil:"CardUtil",EventHelper:"EventHelper",Events:"Events",GameNetMgr:"GameNetMgr",Player:"Player",PlayerDetailModel:"PlayerDetailModel",PokerControl:"PokerControl",PokerData:"PokerData",PopCardUtil:"PopCardUtil",config:"config",dialogManager:"dialogManager",gameResultControl:"gameResultControl",opratCallLordControl:"opratCallLordControl",opratOutCardControl:"opratOutCardControl",watingStarControl:"watingStarControl"}],HTTP:[function(e,t,o){"use strict";cc._RF.push(t,"edffdUfs8ZMY4eGLNYRnj/H","HTTP");var n="http://39.108.156.104:9000",s=cc.Class({extends:cc.Component,statics:{sessionId:0,userId:0,master_url:n,url:n,sendRequest:function(e,t,o,n){var a=cc.loader.getXMLHttpRequest();a.timeout=5e3;var r="?";for(var i in t)"?"!=r&&(r+="&"),r+=i+"="+t[i];null==n&&(n=s.url);var l=n+e+encodeURI(r);return console.log("RequestURL:"+l),a.open("POST",l,!0),cc.sys.isNative&&a.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState&&200<=a.status&&a.status<300){console.log("http res("+a.responseText.length+"):"+a.responseText);try{var e=JSON.parse(a.responseText);null!==o&&o(e)}catch(e){console.log("err:"+e)}finally{cc.vv&&cc.vv.wc}}},cc.vv&&cc.vv.wc,a.send(),a}}});cc._RF.pop()},{}],HallCanvasControl:[function(e,t,o){"use strict";cc._RF.push(t,"7b0e5TdvIVGPocizZ83oGuj","HallCanvasControl");var n=e("config"),a=e("dialogManager");cc.Class({extends:cc.Component,properties:{hallLayer:{default:null,type:cc.Node},roomLayer:{default:null,type:cc.Node}},start:function(){this.hallLayer.active=!0,this.roomLayer.active=!1},btnRoom1Click:function(){console.log("欢乐场"),this.hallLayer.active=!1,this.roomLayer.active=!0,n.curRoomModelId=n.ModelId.normal},btnRoom2Click:function(){console.log("赖子场"),a.showCommonDialog("温馨提示","赖子场暂未开放！",null,null)},roomBackHall:function(){console.log("反回大厅"),this.hallLayer.active=!0,this.roomLayer.active=!1}}),cc._RF.pop()},{config:"config",dialogManager:"dialogManager"}],HallLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"ca1bfsOJVRIfZ+JaI0gWh+N","HallLayerControl");e("config"),e("EventHelper");var n=e("PlayerDetailModel"),a=e("dialogManager");cc.Class({extends:cc.Component,properties:{headImg:{default:null,type:cc.Sprite},playerName:{default:null,type:cc.Label},playerLevel:{default:null,type:cc.Label},playerLedou:{default:null,type:cc.Label},playerLeQuan:{default:null,type:cc.Label}},start:function(){var e=this;e.setHeadUrl(""),e.setNickName(n.getNickName()),e.setLevel(n.getTitle()),e.setLeDou(n.getCoin()),e.setLuQuan(n.getCoupon())},setHeadUrl:function(e){var o=this,t="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132";t+="?aa=aa.jpg",cc.loader.load(t,function(e,t){o.headImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},setNickName:function(e){this.playerName.string=e},setLevel:function(e){this.playerLevel.string=e},setLeDou:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLedou.string=e+"万"):this.playerLedou.string=""+e},setLuQuan:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLeQuan.string=e+"万"):this.playerLeQuan.string=""+e},btnSetClick:function(){console.log("btnSetClick"),a.showSetDialog()},btnTaskClick:function(){console.log("btnTaskClick"),a.showTaskDialog()},btnEmailClick:function(){console.log("btnEmailClick"),a.showEmailDialog()},btnBagClick:function(){console.log("btnBagClick"),a.showBagDialog()},btnShopClick:function(){console.log("btnShopClick")},btnShareClick:function(){console.log("btnShareClick")}}),cc._RF.pop()},{EventHelper:"EventHelper",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],PlayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"3c4f20tXR5PuI0NTCNoAn1B","PlayerControl"),cc.Class({extends:cc.Component,properties:{playerMy:{default:null,type:cc.Node},headMyImg:{default:null,type:cc.Sprite},headMyName:{default:null,type:cc.Label},headMyCoin:{default:null,type:cc.Label},headMyLeQuan:{default:null,type:cc.Label},playerLeft:{default:null,type:cc.Node},headLeftImg:{default:null,type:cc.Sprite},headLeftName:{default:null,type:cc.Label},headLeftCoin:{default:null,type:cc.Label},playerRight:{default:null,type:cc.Node},headRightImg:{default:null,type:cc.Sprite},headRightName:{default:null,type:cc.Label},headRightCoin:{default:null,type:cc.Label}},start:function(){this.initMyInfo(),this.initLeftPlayerInfo(),this.initRightPlayerInfo()},initMyInfo:function(){var o=this,e="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132";e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headMyImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headMyName.string=this.parseString("我自己啊啊啊啊"),this.headMyCoin.string=this.parseNumber("1000000000"),this.headMyLeQuan.string=this.parseNumber("500000")},initLeftPlayerInfo:function(){var o=this,e="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132";e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headLeftImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headLeftName.string=this.parseString("美好的回忆233"),this.headLeftCoin.string=this.parseNumber("1000000")},initRightPlayerInfo:function(){var o=this,e="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132";e+="?aa=aa.jpg",cc.loader.load(e,function(e,t){o.headRightImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),this.headRightName.string=this.parseString("新手1366567222"),this.headRightCoin.string=this.parseNumber("1000000")},parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e){var t=e.substring(0,4);return t+="...",console.log(">>string:"+e),t}}),cc._RF.pop()},{}],PlayerDetailModel:[function(e,t,o){"use strict";cc._RF.push(t,"32ba6NTG9dP6IOtyXm8iqMU","PlayerDetailModel");e("config");var n={nickname:"",uid:0,coin:0,gold:0,gender:1,word:"",coolnum:"",level:0,matches:0,win:0,checkCode:"",propDress:{},score:0,verfile:0,vertips:0,mailUnread:0,coupon:0,age:0,room:{},contact:"",contacts:"",wechat:"",lottery:0,checkinUndo:0,task1Unaward:0,task2Unaward:0,chargeRate:0,propItems:{},rewardList:{},isDev:0,wechatImg:"",title:"",getNickName:function(){return n.nickname},setNickName:function(e){n.nickname=e},getUid:function(){return n.uid},setUid:function(e){n.uid=e},getCoin:function(){return n.coin},setCoin:function(e){n.coin=e},getGold:function(){return n.gold},setGold:function(e){n.gold=e},getGender:function(){return n.gender},setGender:function(e){n.gender=e},getSign:function(){return n.word},setSign:function(e){n.word=e},getCoolNum:function(){return n.coolnum},setCoolNum:function(e){n.coolnum=e},getLevel:function(){return n.level},setLevel:function(e){n.level=e},getMatches:function(){return n.matches},setMatches:function(e){n.matches=e},getWin:function(){return n.win},setWin:function(e){n.win=e},getCheckCode:function(){return n.checkCode},setCheckCode:function(e){n.checkCode=e},getPropDress:function(){return n.propDress},setPropDress:function(e){n.propDress=e},getScore:function(){return n.score},setScore:function(e){n.score=e},getVerfile:function(){return n.verfile},setVerfile:function(e){n.verfile=e},getVertips:function(){return n.vertips},setVertips:function(e){n.vertips=e},getMailUnread:function(){return n.mailUnread},setMailUnread:function(e){n.mailUnread=e},getCoupon:function(){return n.coupon},setCoupon:function(e){n.coupon=e},getAge:function(){return n.age},setAge:function(e){n.age=e},getRoom:function(){return n.room},setRoom:function(e){n.room=e},getRoomByModel:function(e){for(var t in n.room){var o=n.room[t];if(e==o.modelId)return o.rooms}return{}},getContact:function(){return n.contact},setContact:function(e){n.contact=e},getContacts:function(){return n.contacts},setContacts:function(e){n.contacts=e},getWechat:function(){return n.wechat}};n.getWechat=function(e){n.wechat=e},n.getLottery=function(){return n.lottery},n.setLottery=function(e){n.lottery=e},n.getCheckinUndo=function(){return n.checkinUndo},n.setCheckinUndo=function(e){n.checkinUndo=e},n.getTask1Unaward=function(){return n.task1Unaward},n.setTask1Unaward=function(e){n.task1Unaward=e},n.getTask2Unaward=function(){return n.task2Unaward},n.setTask2Unaward=function(e){n.task2Unaward=e},n.getChargeRate=function(){return n.chargeRate},n.setChargeRate=function(e){n.chargeRate=e},n.getPropItems=function(){return n.propItems},n.setPropItems=function(e){n.propItems=e},n.getIsDev=function(){return n.isDev},n.setIsDev=function(e){n.isDev=e},n.getRewardList=function(){return n.rewardList},n.setRewardList=function(e){n.rewardList=e},n.getWechatImg=function(){return n.wechatImg},n.setWechatImg=function(e){n.wechatImg=e},n.getTitle=function(){return n.title},n.setTitle=function(e){n.title=e},t.exports=n,cc._RF.pop()},{config:"config"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"838d3g3hXVK0JPu0+2AvJx0","Player");var c=e("PokerControl"),s=e("config"),d=e("CardUtil"),n=(e("PopCardUtil"),e("ClockControl"));cc.Class({ctor:function(e){e&&(this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.lequan=e.lequan,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems,this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.cardCount=0,this.isDelegated=!1,this.jokerValue=-1,this.openHandCards=!1,this.currentCards={},this.curSendedCards={},this.cards={},this.smallcards={},this.noteCards={},this.lordCard={},this.currentCardType=0,this.noteCards="",this.joktoCards={},this.jokerCardsValue={},this.node_name=null,this.node_LeDou=null,this.node_LeQuan=null,this.node_cardsNum=null,this.node_Landlord=null,this.node_delegate=null,this.node_hint=null,this.node_clockDwonTime=null,this.node_wechatImg=null,this.pokerCard=null,this.node_alarm=null)},initInfo:function(e){this.uid=e.uid,this.nickname=e.nickname,this.gender=e.gender,this.coin=e.coin,this.gold=e.gold,this.propDress=e.propDress,this.seatId=e.myseat,this.roomid=e.roomid,this.tableid=e.tableid,this.signature=e.signature,this.buff=e.buff,this.wechatImg=e.wechatImg,this.title=e.title,this.emoticon=e.emoticon,this.emoticonItems=e.emoticonItems},initNodes:function(e){this.node_name=e.node_name,this.node_LeDou=e.node_LeDou,this.node_LeQuan=e.node_LeQuan,this.node_cardsNum=e.node_cardsNum,this.node_Landlord=e.node_Landlord,this.node_delegate=e.node_delegate,this.node_hint=e.node_hint,this.node_clockDwonTime=e.node_clockDwonTime,this.node_wechatImg=e.node_wechatImg,this.pokerCard=e.pokerCard,this.node_alarm=e.node_alarm},initBaseInfo:function(){console.log("初始化玩家基础信息"),this.setnickname(this.nickname),this.setCoin(this.coin),this.setLeQuan(this.lequan),this.setWechatImg(this.wechatImg),this.setCardCount(17)},clear:function(){this.cardCount=0,this.currentCardType=0,this.jokerValue=-1,this.preSelectedCardIdx=-1,this.curSendedCards={},this.currentCards={},this.cards={},this.smallcards={},this.lordCard={},this.joktoCards={},this.jokerCardsValue={},this.sendCardPos={},this.noteCards={},this.state=-1,this.seatNumber=0,this.isLandlord=!1,this.isDelegated=!1,this.openHandCards=!1,this.node_Landlord&&(this.node_Landlord.enabled=!1),this.node_delegate&&(this.node_delegate.enabled=!1),this.node_hint&&(this.node_hint.enabled=!1),this.node_clockDwonTime&&(this.node_clockDwonTime.active=!1),this.node_alarm&&(this.node_alarm.active=!1)},setOpenHandCards:function(e){this.openHandCards=e},getOpenHandCards:function(){return this.openHandCards},setDelegated:function(e){(this.isDelegated=e)&&this.node_delegate?this.node_delegate.enabled=!0:this.node_delegate&&(this.node_delegate.enabled=!1)},getDelegated:function(){return this.isDelegated},setLandlord:function(e){(this.isLandlord=e)&&this.node_Landlord&&(this.node_Landlord.enabled=!0)},getLandlord:function(){return this.isLandlord},setRoomId:function(e){this.roomid=e},getRoomId:function(){return this.roomid},setTableId:function(e){this.tableid=e},getTableId:function(){return this.tableid},setSignature:function(e){this.signature=e},getSignature:function(){return this.signature},setBuff:function(e){this.buff=e},getBuff:function(){return this.buff},setnickname:function(e){this.nickname=e,this.node_name&&(this.node_name.string=s.parseString(e))},getNickname:function(){return this.nickname},getWechatImg:function(){return this.wechatImg},setWechatImg:function(e){var o=this;if((e=""+(this.wechatImg=e)).length<2)cc.loader.loadRes("defult_head",cc.SpriteFrame,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=t});else{var t=e+"?aa=aa.jpg";this.node_wechatImg&&cc.loader.load(t,function(e,t){o.node_wechatImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}},getTitle:function(){return this.title},setTitle:function(e){this.title=e},setCoin:function(e){this.coin=e,this.node_LeDou&&(this.node_LeDou.string=""+s.parseNumber(e))},setLeQuan:function(e){this.lequan=e,this.node_LeQuan&&(this.node_LeQuan.string=""+s.parseNumber(e))},getLeQuan:function(){return this.lequan},setWinCoin:function(e){this.winCoin=e},getWinCoin:function(){return this.winCoin},getIsWinner:function(){return this.isWinner},setIsWinner:function(e){this.isWinner=e},getCoin:function(){return this.coin},setGold:function(e){this.gold=e},getGold:function(){return this.gold},setCoinNode:function(e){this.node_Coin=e},setFlagNode:function(e){this.node_Flag=e},setCardCount:function(e){this.cardCount=e,this.node_cardsNum&&(this.node_cardsNum.string=""+e)},getCardCount:function(){return this.cardCount},setJockerVlue:function(e){this.jokerValue=e},refreshIdentity:function(){},getGender:function(){return this.gender},getMySeatId:function(){return this.seatId},setMySeatId:function(e){this.seatId=e},setMySeatNum:function(e){this.seatNumber=e},getMySeatNum:function(){return this.seatNumber},setJoktoCards:function(e){this.joktoCards=e},getJoktoCards:function(){return this.joktoCards},setJokerCardsValue:function(e){this.jokerCardsValue=e},setPokerCard:function(e){this.pokerCard=e},initMyCards:function(e,t,o,n,a){for(var r=0;r<e.length;r++){var i=cc.instantiate(this.pokerCard);i.parent=o,i.scale=0==a?s.seatPos.right.pokerScale:2==a?s.seatPos.left.pokerScale:s.seatPos.center.pokerScale;var l=i.getComponent(c);e[r].canTouch=!0,l.showPoker(e[r]),t.push(i),0==a?this.neatenRightPoker(t,s.seatPos.right,n/2,n/2+140):2==a?this.neatenLeftPoker(t,s.seatPos.left,n/2,230):this.neatenPoker(t,s.seatPos.center,n)}return this.isLandlord&&t[t.length-1].getComponent(c).setCardDiZhu(!0),t},neatenPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=n||(o-r)/2;for(var i=0;i<e.length;i++)e[i].setPosition(n+i*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,t.positionY),e[i].getComponent(c).setMoveDown()}},clearTableCard:function(e){if(e&&0<e.length){for(var t=0;t<e.length;t++)e[t].getComponent(c).node.removeFromParent();e=[]}},getSendCard:function(e,t,o,n){if(e&&0<e.length){for(var a=0;a<e.length;a++)e[a].getComponent(c).node.removeFromParent();e=[]}var r=0;for(a=n.length-1;-1<a;a--){var i=d.StringToNumber(n[a].showTxt);if(r<t.length&&t[r].showTxt==i){console.log("cards:"+t[r].showTxt);var l=o[a];e.unshift(l),n.splice(a,1),o.splice(a,1),r++}}return e},playCard:function(e){if(!(e.length<1))for(var t=40*(e.length-1)+.57*e[0].getComponent(c).node.width,o=(cc.director.getWinSize().width-t)/2,n=0;n<e.length;n++){var a=o+40*n+(e[n].scale=.57)*e[0].getComponent(c).node.width*.5,r=cc.moveTo(.2,a,500);r.easing(cc.easeIn(2));var i=e[n].getComponent(c);i.node.runAction(r),this.isLandlord&&n==e.length-1&&i.setCardDiZhu(!0)}},playerLeftShowCard:function(e,t,o,n){this.initMyCards(e,t,o,n,2)},neatenLeftPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=n||(o-r)/2;var i=t.positionY;a&&(i=a);var l=e.length;if(l<=10)for(var s=0;s<e.length;s++)e[s].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);else{for(s=0;s<10;s++)e[s].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);for(s=0;s<l-10;s++)e[s+10].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i-55)}}},playCardLeft:function(e,t,o){if(!(e.length<1)){e.length,e[0].getComponent(c).node.width,cc.director.getWinSize().width;for(var n=0;n<e.length;n++){var a=t+27*n+(e[n].scale=.38)*e[0].getComponent(c).node.width*.5,r=e[n].getComponent(c);r.node.runAction(cc.moveTo(.2,a,o)),this.isLandlord&&n==e.length-1&&r.setCardDiZhu(!0)}}},playerRightShowCard:function(e,t,o,n){this.initMyCards(e,t,o,n,0)},neatenRightPoker:function(e,t,o,n,a){if(!(e.length<1)){var r=(e.length-1)*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale;o=o||cc.director.getWinSize().width,n=n||(o-r)/2,n+=10*t.disBetween;var i=t.positionY;a&&(i=a);var l=e.length;if(l<=10){n+=(10-l)*t.disBetween;for(var s=0;s<e.length;s++)e[s].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i)}else{for(s=0;s<10;s++)e[s].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i);for(s=0;s<l-10;s++)e[s+10].setPosition(n+s*t.disBetween+e[0].getComponent(c).node.width*t.pokerScale*.5,i-55)}}},playCardRight:function(e,t,o){if(!(e.length<1)){e.length,e[0].getComponent(c).node.width;t=cc.director.getWinSize().width/2+590-27*e.length;for(var n=0;n<e.length;n++){var a=t+27*n+(e[n].scale=.38)*e[0].getComponent(c).node.width*.5,r=e[n].getComponent(c);r.node.runAction(cc.moveTo(.2,a,o)),this.isLandlord&&n==e.length-1&&r.setCardDiZhu(!0)}}},darkCardSend:function(e,t,o,n,a){if(0<e.length){for(var r=0;r<e.length;r++)e[r].getComponent(c).node.removeFromParent();e=[]}t.sort(d.gradeDown);var i=t;for(r=0;r<i.length;r++){var l=cc.instantiate(this.pokerCard);l.parent=o,0==n?l.scale=s.seatPos.right.pokerScale:2==n&&(l.scale=s.seatPos.left.pokerScale),l.getComponent(c).showPoker(i[r]),e.push(l),0==n?this.neatenRightPoker(e,s.seatPos.right,a/2,a/2+140+200,750):2==n&&this.neatenLeftPoker(e,s.seatPos.left,a/2,30,750)}return this.isLandlord&&e[e.length-1].getComponent(c).setCardDiZhu(!0),e},showClock:function(e){this.node_clockDwonTime.getComponent(n).show(e)},hideClock:function(){this.node_clockDwonTime.active=!1},showHint:function(e){var o=this;o.node_hint.enabled=!0;var t="showTips/p_tip_chuno";e==s.hintType.callLoad?t="showTips/p_tip_jiaodizhu":e==s.hintType.callLoadNo?t="showTips/p_tip_jiaodizhuno":e==s.hintType.grabLoad?t="showTips/p_tip_qiangdizhu":e==s.hintType.grabLoadNo?t="showTips/p_tip_qiangdizhuno":e==s.hintType.dont&&(t="showTips/p_tip_chuno"),cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){o.node_hint.getComponent(cc.Sprite).spriteFrame=t})},hideHint:function(){this.node_hint.enabled=!1}});cc._RF.pop()},{CardUtil:"CardUtil",ClockControl:"ClockControl",PokerControl:"PokerControl",PopCardUtil:"PopCardUtil",config:"config"}],PokerControl:[function(e,t,o){"use strict";cc._RF.push(t,"00f79gpHs9Jd7BBB5drfbt3","PokerControl");var r=e("config");e("CardUtil");cc.Class({extends:cc.Component,properties:{pokerNum:{default:null,type:cc.Sprite},pokerType:{default:null,type:cc.Sprite},pokerType2:{default:null,type:cc.Sprite},pokerBg:{default:null,type:cc.Sprite},pokerLight:{default:null,type:cc.Sprite},pokerDiZhu:{default:null,type:cc.Sprite},canTouch:!1,isTouched:!1,cardData:{default:null},isTopped:!1},showPoker:function(e){var o=this,t=(o.cardData=e).showType;o.canTouch=e.canTouch,o.cardValue=e.showTxt;var n="cards/poke_"+o.cardValue;16!=o.cardValue&&17!=o.cardValue&&(cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.pokerNum.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("cards/blank_card",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})),console.log(e.showTxt+":"+o.cardValue),o.pokerDiZhu.enabled=!1,o.pokerLight.enabled=!1,o.pokerType.enabled=!0;var a="cards/heitao";t==r.pokerCardType.spade?(a="cards/heitao",o.pokerNum.node.color=new cc.Color(27,27,27)):t==r.pokerCardType.hearts?(a="cards/hongxin",o.pokerNum.node.color=new cc.Color(246,58,27)):t==r.pokerCardType.redslice?(a="cards/hongfang",o.pokerNum.node.color=new cc.Color(246,58,27)):t==r.pokerCardType.blackberry?(a="cards/heimei",o.pokerNum.node.color=new cc.Color(27,27,27)):t==r.ghostCardType.bigG?(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_red",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})):t==r.ghostCardType.smallG&&(o.pokerType.enabled=!1,o.pokerType2.enabled=!1,o.pokerNum.enabled=!1,cc.loader.loadRes("cards/joker_black",cc.SpriteFrame,function(e,t){o.pokerBg.getComponent(cc.Sprite).spriteFrame=t})),cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){o.pokerType.getComponent(cc.Sprite).spriteFrame=t,o.pokerType2.getComponent(cc.Sprite).spriteFrame=t})},setPokerLight:function(e){this.pokerLight.enabled=e},setChoosed:function(e){this.cardData.isChoosed=e,this.pokerLight.enabled=e},cardMove:function(){if(this.cardData.isChoosed&&this.cardData.isTopped)(e=cc.moveBy(.2,0,-30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1;else if(this.cardData.isChoosed&&!this.cardData.isTopped){var e;(e=cc.moveBy(.2,0,30)).easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!0,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},cardMoveDown:function(){if(this.cardData.isTopped){var e=cc.moveBy(.2,0,-30);e.easing(cc.easeIn(3)),this.node.runAction(e),this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}},setCardDiZhu:function(e){this.pokerDiZhu.enabled=e},setMoveDown:function(){this.cardData.isTopped=!1,this.cardData.isChoosed=!1,this.pokerLight.enabled=!1}}),cc._RF.pop()},{CardUtil:"CardUtil",config:"config"}],PokerData:[function(e,t,o){"use strict";cc._RF.push(t,"2200e8z40ZFt4GkVby0nQUb","PokerData");var n=e("config"),i=e("helper"),l=e("CardUtil"),s={cardNo:["A",2,3,4,5,6,7,8,9,10,"J","Q","K","G","g"],showData:[],setPokerData:function(){for(var e=0;e<s.cardNo.length;e++)if(e<s.cardNo.length-2)for(var t in n.pokerCardType){var o={showTxt:s.cardNo[e],showType:n.pokerCardType[t]};s.showData.push(o)}else if(13==e){o={showTxt:s.cardNo[e],showType:n.ghostCardType.bigG};s.showData.push(o)}else if(14==e){o={showTxt:s.cardNo[e],showType:n.ghostCardType.smallG};s.showData.push(o)}},getPokerData:function(){return s.showData},bodyPokerData:[],partCards:function(){for(var e=i.copyObj(s.showData),t=0;t<2;t++){for(var o=[],n=0;n<17;n++){var a=Math.floor(Math.random()*e.length),r=e[a];o.push(r),e.splice(a,1)}s.bodyPokerData.push(o)}s.bodyPokerData.push(e);for(n=0;n<s.bodyPokerData.length;n++)s.bodyPokerData[n].sort(l.gradeDown)},getPartCardsData:function(){return s.bodyPokerData},load:function(){s.setPokerData(),s.partCards()}};t.exports=s,cc._RF.pop()},{CardUtil:"CardUtil",config:"config",helper:"helper"}],PopCardUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a85e4oibOFF+Ip+aqcwZSHY","PopCardUtil");e("config");var u={StringToNumber:function(e){return"J"==e?11:"Q"==e?12:"K"==e?13:"A"==e?14:"2"==e?15:"g"==e?16:"G"==e?17:"string"==typeof e?parseInt(e):e},getSameCards:function(e){for(var t=[],o=0;o<e.length;o++)t[o]=u.StringToNumber(e[o]);console.log("sourcelength:"+t.length);var n=[],a=[],r="",i=t[0];for(o=0;o<t.length;o++)t[o]==i?(a.push(t[o]),o==t.length-1&&(r=""+i,console.log("kk3:"+r+" length:"+a.length),n[r]=a)):(r=""+i,console.log("kk1:"+r+" length:"+a.length),n[r]=a,a=[],i=t[o],a.push(i),o==t.length-1&&(r=""+i,console.log("kk2:"+r+" length:"+a.length),n[r]=a));return n},SingleNum:0,PairNum:0,ThreeNum:0,FourNum:0,SingleCards:[],PairCards:[],ThreeCards:[],FourCards:[],setSameVulueCardCount:function(e){var t=0,o=0,n=0,a=0,r=[],i=[],l=[],s=[];for(var c in e){var d=e[c];console.log(">>length:"+d.length+"  k:"+c),1==d.length?(t++,r.push(d)):2==d.length?(o++,i.push(d)):3==d.length?(n++,l.push(d)):4==d.length&&(a++,s.push(d))}u.SingleNum=t,u.PairNum=o,u.ThreeNum=n,u.FourNum=a,u.SingleCards=r,u.PairCards=i,u.ThreeCards=l,u.FourCards=s},getSingle:function(){var e=[];return e.cards=u.SingleCards,e.count=u.SingleNum,e},getPair:function(){var e=[];return e.cards=u.PairCards,e.count=u.PairNum,e},getThree:function(){var e=[];return e.cards=u.ThreeCards,e.count=u.ThreeNum,e},getFour:function(){var e=[];return e.cards=u.FourCards,e.count=u.FourNum,e}};t.exports=u,cc._RF.pop()},{config:"config"}],Protocol:[function(e,t,o){"use strict";cc._RF.push(t,"15f8e1UHT9ILpWi7f0jBZGL","Protocol");var n={Command:{HeartBeat:0,Login:1,Text:2,Broadcast:3,System:4,Game:5,Props:6,FruitMachine:7,NiuNiu:8,GameCommand:9,Analysis:10},CommandRevert:{0:"HeartBeat",1:"Login",2:"Text",3:"Broadcast",4:"System",5:"Game",6:"Props",7:"FruitMachine",8:"NiuNiu",9:"GameCommand",10:"Analysis"},Request:{HeartBeat:{Alive:0},Login:{Guest:0,Mail:1,Weibo:2,Facebook:3,Account:4,Logout:5,Regist:6},System:{Enter:0,Leave:1,Info:2,Profile:3,ChangeAvatar:4,ChangeNick:5,GetFile:105,GetTips:107,GetNewMail:111,GetNewActivity:129,GetNewAnnouncement:131,ModifyAge:207,Mail:211,ReadMail:213,GetMailAttachment:215,DelMail:217,Consume:231,Activity:401,OpenAdvertising:403,Announcement:431,RichRank:611,EveryDayRank:621,EveryWeekRank:631,RefreshData:109,ShopItem:301,ExchangeItems:321,ExchangeItemConfirm:323,TaskDaily:501,TaskGrowth:503,GetTaskReward:509,BuyProps:331,ShopBuyGold:311,HallReport:901,Backpack:221,MonthNotice:223,GetSalary:225,SlotGetInfo:425,SlotStartRun:427,GetMenuPrompt:233,GetGiftList:169,GetRewardList:235,GetShopItems:303,EnterHall:701},Game:{Init:0,Ready:1,Go:2,CallLord:5,GrabLord:6,ShowCard:7,SendCard:8,NotFollow:10,BalanceOk:11,ExitRoom:13,ChangeTable:14,RequestDelegate:15,CancelDelegate:16,EditNick:20,EditSex:21,EditSignature:22,SayToTable:31,ExchangeGoldToCoin:41,LoginContestSignUp:101,ContestSignUp:103,CancelContestSignUp:105,GiveUpContest:109,ChangeSkin:123,BuySkin:125,LuckyDrawView:131,LuckyDraw:133,LuckyDrawRecord:135,LoginRewardView:137,LoginReward:139,GameDayRank:141,GameThisWeekRank:143,GameLastWeekRank:145,ActivityBar:147,RefreshContestData:127,GiftBag:149,ContestFramesComplete:111,OpenRechargeTip:151,OpenReliefTip:155,LuckyDrawList:157,LuckyDrawNew:159,ExitGameText:161,AddRatio:17,GetGameFieldInfo:201,GetFieldDetailInfo:203,GetMyFieldInfo:205,SignupField:207,UnSignupField:209,GetMatchItems:217,ExchangeMatchItem:219,SureKnockout:221,VipPrivilege:223,GetPlayerMatchesInfo:225,GetLoginReward:227,Complaint:231,Emoticon:235,PokerAnalysis:100},Props:{PlunderGift:107,PropItems:109,BuySingleItems:111}},Response:{HeartBeat:{Alive:0},Login:{Regist:6,OK:10,NoDevice:11,ErrorDevice:12,NotReg:13,NoNum:14,LoginFailed:15},Broadcast:{Notice:301,ShowActivity:306},System:{GetFileResult:106,GetTipsResult:108,GetNewMailResult:112,GetNewActivityResult:130,GetNewAnnouncementResult:132,ModifyAgeResult:208,MailResult:212,ReadMailResult:214,GetMailAttachmentResult:216,DelMailResult:218,ConsumeResult:232,ActivityResult:402,OpenAdvertisingResult:404,AnnouncementResult:432,RichRankResult:612,EveryDayRankResult:622,EveryWeekRankResult:632,RefreshDataResult:110,ShopItemResult:302,ExchangeItemsResult:322,ExchangeItemConfirmResult:324,TaskDailyResult:502,TaskGrowthResult:504,GetTaskRewardResult:510,BuyPropsResult:332,ShopBuyGoldResult:312,NoviceGiftResult:334,BackpackResult:222,MonthNoticeResult:224,GetSalaryResult:226,RepeatLogin:902,MonthUseUp:228,SlotInfo:426,SlotResult:428,GetMenuPromptResult:234,GetGiftListResult:170,PushGameGift:168,GetRewardListResult:236,GameCommTips:166,ShopItemsResult:304,HallGiftResult:164,GameTips:120},Game:{NoLogin:1e3,Queued:1001,SendLzCard:1002,PlayerReady:1003,GameReady:1004,SendCard:1005,CallLord:1006,CallLordOver:1007,TurnCallLord:1008,TurnSendCard:1009,ContinueGame:1010,TurnGrabLord:1011,InvalidCardSender:1012,InvalidCardNum:1013,GameComplete:1014,InitOk:1015,GrabLord:1016,PlayerSendCard:1017,PlayerNotSend:1018,PlayerShowCard:1019,InvalidCardType:1020,TableTimesUpdate:1021,RequestReady:1023,CoinsNoMatchRoom:1027,PlayerDelegated:1028,PlayerCancelDelegate:1029,UpdateSuccess:2e3,UpdateFailed:2001,UpdateUnknownErr:2002,SayToTableInfo:3e3,ExchangeGoldToCoinOK:4e3,ExchangeGoldToCoinERROR:4001,RechargeOk:4002,SendCoinsFree:1024,TableUserExit:1025,LoginContestSignUpResult:102,ContestSignUpResult:104,CancelContestSignUpResult:106,ContestStart:108,GiveUpContestResult:110,ContestOut:112,ContestEnd:114,ContestFormalEnd:116,SendContestReward:118,SendContestWeekReward:120,InvalidGameModel:122,ChangeSkinResult:124,BuySkinResult:126,LuckyDrawViewResult:132,LuckyDrawResult:134,LuckyDrawRecordResult:136,LoginRewardViewResult:138,LoginRewardResult:140,GameDayRankResult:142,GameThisWeekRankResult:144,GameLastWeekRankResult:146,ActivityBarResult:148,GiftBagResult:150,OpenRechargeTipResult:152,OpenReliefTipResult:156,PokerTask:1022,LuckyDrawListResult:158,LuckyDrawNewResult:160,ExitGameTextResult:162,CanDoubleResult:1030,GetGameFieldInfoResult:202,GetFieldDetailInfoResult:204,GetMyFieldInfoResult:206,SignupFieldResult:208,UnSignupFieldResult:210,GetMatchItemsResult:218,MatchStartResult:212,MatchEliminateResult:214,MatchResult:216,MatchOrderChanged:220,MatchStartSoon:222,MatchEndBag:223,Firstgetlequan:224,Redpacketprocess:225,Entergamerestnum:227,RefreshPlayerData:430,GetPlayerMatchesInfo:226,Complaint:232,EmoticonData:236,PokerAnalysis:100},Props:{GetPersonalItems:102,GetPublicItems:104,GetPropsGift:106,PlunderGiftResult:108,PropItems:110,BuySingleItemsResult:112}}};t.exports=n,cc._RF.pop()},{}],RoomLayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"094768yJc5Ff7oZBOq48GCP","RoomLayerControl");var u=e("config"),n=e("EventHelper"),h=e("PlayerDetailModel"),l=e("GameNetMgr"),a=e("Events"),s=e("dialogManager");cc.Class({extends:cc.Component,properties:{headImg:{default:null,type:cc.Sprite},playerName:{default:null,type:cc.Label},playerLevel:{default:null,type:cc.Label},playerLedou:{default:null,type:cc.Label},playerLeQuan:{default:null,type:cc.Label},room1:{default:null,type:cc.Node},room2:{default:null,type:cc.Node},room3:{default:null,type:cc.Node},room4:{default:null,type:cc.Node}},start:function(){this.setHeadUrl(""),this.setNickName(h.getNickName()),this.setLevel(h.getTitle()),this.setLeDou(h.getCoin()),this.setLuQuan(h.getCoupon()),this.roomModelId_=u.curRoomModelId,this.initRoomInfo(),n.AddCustomEvent(u.MyNode,a.Network.LoginRoomResult,this.onLoginRoomResult,this)},onLoginRoomResult:function(e){console.log("登陆房间回掉---");var t=e.getUserData();this.handleLoginRoomResult(t)},initRoomInfo:function(){console.log(">>>initRoomInfo");for(var e=[],t=0;t<4;t++){var o="p_room_"+(t+1),n="Canvas/happyroom/rooms/"+o+"/lab_peopleNum",a="Canvas/happyroom/rooms/"+o+"/lab_coins",r={peopleNum:cc.find(n).getComponent(cc.Label),coins:cc.find(a).getComponent(cc.Label)};e.push(r)}var i=[],l=h.getRoom();for(var s in l){var c=l[s];c.modelId==u.curRoomModelId&&(i=c.rooms)}this.roomType_=i,console.log(i);for(t=0;t<i.length;t++){e[t].peopleNum.string=""+this.pepleNumAdd(i[t].onlineNum);var d=i[t].enter.replace("乐豆","");e[t].coins.string=d}},setHeadUrl:function(e){var o=this,t="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132";t+="?aa=aa.jpg",cc.loader.load(t,function(e,t){o.headImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})},setNickName:function(e){this.playerName.string=e},setLevel:function(e){this.playerLevel.string=e},setLeDou:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLedou.string=e+"万"):this.playerLedou.string=""+e},setLuQuan:function(e){1e7<=e?(e=Math.floor(e/1e4),this.playerLeQuan.string=e+"万"):this.playerLeQuan.string=""+e},room1Click:function(){console.log("room1Click"),this.selectedIdx_=0,this.roomMinScore=this.roomType_[0].enterLimit,this.trialInfo=this.roomType_[0].trial,this.gotoRoom(this.roomType_[0].roomId)},room2Click:function(){console.log("room2Click"),this.selectedIdx_=1,this.roomMinScore=this.roomType_[1].enterLimit,this.trialInfo=this.roomType_[1].trial,this.gotoRoom(this.roomType_[1].roomId)},room3Click:function(){console.log("room3Click"),this.selectedIdx_=2,this.roomMinScore=this.roomType_[2].enterLimit,this.trialInfo=this.roomType_[2].trial,this.gotoRoom(this.roomType_[2].roomId)},room4Click:function(){console.log("room4Click"),this.selectedIdx_=3,this.roomMinScore=this.roomType_[3].enterLimit,this.trialInfo=this.roomType_[3].trial,this.gotoRoom(this.roomType_[3].roomId)},quickStartClick:function(){console.log("quickStartClick"),this.onWantGotoRoom()},pepleNumAdd:function(e){var t=e;"string"==typeof e&&(t=parseInt(e));return t<=60?t+60:60<t&&t<=200?t+200:200<t&&t<=500?t+1e3:t+3e3},gotoRoom:function(e){var t=h.getCoin(),o={};o.roomId=e,o.isContinue=0,console.log("coins:"+t),e==u.RoomConfig[1].roomId||e==u.RoomConfig[7].roomId?(t>=this.roomMinScore?(this.roomModelId_==u.ModelId.lazarillo&&(o.modelId=u.ModelId.lazarillo),l.sendRequest("Game","loginRoom",o)):console.log("弹出救济框"),console.log("新手场")):t>=this.roomMinScore?(this.roomModelId_==u.ModelId.lazarillo&&(o.modelId=u.ModelId.lazarillo),l.sendRequest("Game","loginRoom",o)):console.log("弹出充值框")},handleLoginRoomResult:function(e){var t=this;h.setCoin(e.payload.data.coins);var o=e.payload;if(t.isGotoLazarillo_=!1,e.ok){var n={};if(n.baseCoins=o.data.baseCoins,n.rate=o.data.rate,n.limitCoins=o.data.limitCoins,n.rake=o.data.rake,n.roomId=o.data.roomId,n.rateMax=o.data.rateMax,n.enterLimit=o.data.enterLimit,n.emoticon=o.data.emoticon,n.emoticon_items=o.data.emoticon_items,n.advert=o.data.advert,o.data.modelId&&(n.modelId=o.data.modelId),n.buys=o.data.buys,n.givecoins=null,o.data.isContinue&&1==parseInt(o.data.isContinue)&&(n.isContinueGaming=!0),1002==n.roomId||1003==n.roomId||n.roomId,parseInt(o.data.modelId)==u.ModelId.contest)return void console("比赛场");var a=o.data.sendCoins,r=o.data.sendCoinsTimes,i=o.data.sendCoinsTimesToday;o.data.isSend;a&&0<a&&(n.givecoins={sended:a,totalTimes:r,curTimes:i},console.log("刷新用户乐豆乐券")),parseInt(o.data.modelId)==u.ModelId.lazarillo?console.log("进入癞子场"):(console.log("进入普通场"),t.preloadNextScene())}else e.noCoin?1==parseInt(e.payload.data.isSmall)?(console.log("乐豆不够去商城充值"),s.showCommonDialog("温馨提示","乐豆不够前往商城充值",function(){console.log("打开商城")})):(console.log("亲,豆子太多啦,系统为您推送到合适的房间！"),s.showCommonDialog("温馨提示","亲,豆子太多啦,系统为您推送到合适的房间！",function(){console.log("去合适场次"),t.onWantGotoRoom()}),parseInt(o.data.modelId)==u.ModelId.lazarillo&&(t.isGotoLazarillo_=!0)):e.inGaming&&(o.data.modelId&&parseInt(o.data.modelId)!=u.ModelId.normal?o.data.modelId&&parseInt(o.data.modelId)!=u.ModelId.lazarillo?(console.log("您正在竞技场牌局中，请返回继续！"),s.showCommonDialog("温馨提示","您正在竞技场牌局中，请返回继续！",function(){console.log("短线重连比赛场")})):(console.log("您还在其他癞子场中对局哟，现在进去看看吧！"),s.showCommonDialog("温馨提示","您还在其他癞子场中对局哟，现在进去看看吧！",function(){console.log("短线重连赖子场")})):(console.log("您还在其他房间中对局哟，现在进去看看吧！"),s.showCommonDialog("温馨提示","您还在其他房间中对局哟，现在进去看看吧！",function(){console.log("短线重连普通场")})))},onWantGotoRoom:function(){if(this.roomModelId_!=u.ModelId.contest){var e=h,t=e.getRoomByModel(this.roomModelId_),o=e.getCoin();if(console.log(t),this.roomModelId_==u.ModelId.lazarillo){for(var n=-1,a=0;a<t.length;a++){if((i=t[a]).modelId==u.ModelId.lazarillo&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){n=i.roomId;break}}if(n<=0)for(a=t.length-1;0<=a;a--){if((i=t[a]).modelId==u.ModelId.lazarillo&&o>=parseInt(i.enterLimit)){n=i.roomId;break}}if(0<n)return(r={}).roomId=n,r.isContinue=0,r.modelId=u.ModelId.lazarillo,console.log("钱多能去的最高赖子场---------------:"+i.roomId),void l.sendRequest("Game","loginRoom",r)}else{var r;for(n=-1,a=0;a<t.length;a++){if((i=t[a]).modelId==u.ModelId.normal&&o>=parseInt(i.enterLimit)&&o<=parseInt(i.enterLimit_)){n=i.roomId;break}}if(n<=0)for(a=t.length-1;0<=a;a--){var i;if((i=t[a]).modelId==u.ModelId.normal&&o>=parseInt(i.enterLimit)){n=i.roomId;break}}if(console.log("普通场 roomId:"+n),0<n)return(r={}).roomId=n,r.isContinue=0,console.log("钱多能去的最高普通场---------------:"+i.roomId),void l.sendRequest("Game","loginRoom",r)}o>=this.roomType_[0].enterLimit||console.log("弹出救济框")}},preloadNextScene:function(){cc.director.preloadScene("GameScene",function(){cc.log("Next scene preloaded"),cc.director.loadScene("GameScene")})}}),cc._RF.pop()},{EventHelper:"EventHelper",Events:"Events",GameNetMgr:"GameNetMgr",PlayerDetailModel:"PlayerDetailModel",config:"config",dialogManager:"dialogManager"}],blinkAlarmControl:[function(e,t,o){"use strict";cc._RF.push(t,"1104axk1NtBda0XlAkGGWdL","blinkAlarmControl"),cc.Class({extends:cc.Component,properties:{blinkNode:{default:null,type:cc.Sprite}},start:function(){var e=cc.blink(1,3),t=cc.repeatForever(e);this.blinkNode.node.runAction(t)},show:function(e){},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],commonControl:[function(e,t,o){"use strict";cc._RF.push(t,"b2e3ekBAMRH14LrzU4SYSoz","commonControl"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},content:{default:null,type:cc.Label},btn_cancel:{default:null,type:cc.Node},btn_enter:{default:null,type:cc.Node}},start:function(){},show:function(e){var t=e.arg1,o=e.arg2,n=e.arg3,a=e.arg4;this.title.string=t,this.content.string=o,a||(this.btn_cancel.active=!1,this.btn_enter.x=0),this.enterClick=n,this.cancelClick=a},closeClick:function(){console.log("close click"),this.node.destroy()},btnCancelClick:function(){console.log("btn1 click"),this.cancelClick&&this.cancelClick(),this.node.destroy()},btnEnterClick:function(){console.log("btn2 click"),this.enterClick&&this.enterClick(),this.node.destroy()}}),cc._RF.pop()},{}],config:[function(e,t,o){"use strict";cc._RF.push(t,"51232MuRg1Etoh6eMoOYPIJ","config");var n={MyNode:null,temppassword:"",playGameId:0,playGameMsg:"",RoomId:0,curRoomModelId:0,ModelId:{normal:0,contest:3,lazarillo:2},CallLordTimeout:15,GrabLordTimeout:15,SendCardTimeout:25,CheckCardTimeout:25,AddRatioTime:3.5,hintType:{callLoad:1,callLoadNo:2,grabLoad:3,grabLoadNo:4,dont:5},opratType:{callLoad:1,grabLoad:2,mustOutCard:3},pokerCardType:{spade:4,hearts:3,redslice:1,blackberry:2},ghostCardType:{bigG:"bigG",smallG:"smallG"},arrayDown:function(e,t){return t-e},arrayUp:function(e,t){return e-t},arraySub:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]);return n},arraySub2:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]),n.push(o[a]);return n},arraySub3:function(e,t,o){for(var n=[],a=e;a<t;a++)n.push(o[a]),n.push(o[a]),n.push(o[a]);return n},seatPos:{center:{pokerScale:1,disBetween:77,positionY:250},left:{pokerScale:.38,disBetween:27,positionY:860},right:{pokerScale:.38,disBetween:27,positionY:860}},CardType:{Single:1,Pair:2,ThreeOfKind:3,ThreeOfKindPlusOne:4,ThreeOfKindPlusPair:5,Straight:6,StraightDouble:7,StraightThree:8,StraightThreePlusSingle:9,StraightThreePlusPair:10,SoftBomb:87,Bomb:88,LazarilloBomb:89,DoubleKing:99,FourPlusOne:11,FourPlusTwo:12},gameState:{ST_GAME_PREPARE:0,ST_GAME_READY:1,ST_GAME_WAIT_START:2,ST_GAME_START:3,ST_GAME_BALANCE:4,ST_GAME_WAIT_NEXTROUND:5,ST_GAME_MYTURN:6,ST_GAME_WAIT_OTHERS:7,ST_GAME_OVER:8,ST_GAME_SHOWDETAILS:9,ST_GAME_CURMATCHOVER:10},GlobalRouter:{director:"https://ddzprotocal.51864.com/clientConfig/host.php",statistics:"http://applog.51864.com/index.php",host:null,port:null,versionUrl:null,downloadUrl:null,filepath:null,resversion:null,silenceVerUrl:null,silenceFileUrl:null,configtable:null},GlobalRouterUpdate:function(e){n.GlobalRouter.host=e.data.host,n.GlobalRouter.port=e.data.port,n.GlobalRouter.versionUrl=e.data.update.versionUrl,n.GlobalRouter.downloadUrl=e.data.update.downloadUrl,n.GlobalRouter.resversion=e.data.update.resversion},RoomConfig:{1:{name:"新手场",umengEvent:"novice_room",pot:5,min:1e3,max:8e4,texture:"room_1.png",roomId:1e3,roomNameTexture:"p_novice_bar.png"},2:{name:"初级场",umengEvent:"primary_room",pot:10,min:2e3,max:2e5,texture:"room_2.png",roomId:1001,roomNameTexture:"p_primary_bar.png"},3:{name:"中级场",umengEvent:"intermediate_room",pot:10,min:2e3,max:2e5,texture:"room_3.png",roomId:1002,roomNameTexture:"p_intermediate_bar.png"},4:{name:"高级场",umengEvent:"senior_room",pot:10,min:2e3,max:2e5,texture:"room_4.png",roomId:1003,roomNameTexture:"p_senior_bar.png"},5:{name:"竞技场",umengEvent:"contest_room",pot:10,min:5e3,max:5e4,texture:"room_JJC.png",roomId:1004,roomNameTexture:"p_primary_arena_bar.png"},6:{name:"无限场",umengEvent:"advanced_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1006,roomNameTexture:"p_advanced_bar.png"},7:{name:"新手场",umengEvent:"l_novice_room",pot:50,min:1e4,max:1e6,texture:"room_1.png",roomId:1007,roomNameTexture:"p_novice_bar.png"},8:{name:"初级场",umengEvent:"l_primary_room",pot:50,min:1e4,max:1e6,texture:"room_2.png",roomId:1008,roomNameTexture:"p_primary_bar.png"},9:{name:"中级场",umengEvent:"l_intermediate_room",pot:50,min:1e4,max:1e6,texture:"room_3.png",roomId:1009,roomNameTexture:"p_intermediate_bar.png"},10:{name:"高级场",umengEvent:"l_senior_room",pot:50,min:1e4,max:1e6,texture:"room_4.png",roomId:1010,roomNameTexture:"p_senior_bar.png"},11:{name:"无限场",umengEvent:"l_noRate_room",pot:50,min:1e4,max:1e6,texture:"room_5.png",roomId:1011,roomNameTexture:"p_senior_bar.png"}},parseNumber:function(e){return"string"==typeof e&&(e=parseInt(e)),1e8<=e?(e=Math.floor(e/1e8),e+="亿"):1e6<=e?(e=Math.floor(e/1e4),e+="万"):e=""+e,e},parseString:function(e){var t=e.substring(0,4);return t+="..."},getPlayerSeatNum:function(e,t){var o=1;return 0==e?1==t?o=2:2==t&&(o=0):1==e?0==t?o=0:2==t&&(o=2):2==e&&(0==t?o=2:1==t&&(o=0)),o}};t.exports=n,cc._RF.pop()},{}],dialogManager:[function(e,t,o){"use strict";cc._RF.push(t,"4b867ajR6hL6KpFRRVm3Qvl","dialogManager");var r=e("commonControl"),n=e("CancelDelegateController"),a=e("opratShowCardControl"),i=e("opratDoubleControl");cc.Class({extends:cc.Component,statics:{showDialog:function(e,n,a){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);return cc.director.getScene().addChild(o),n?(o.getComponent(n).show(a),o.getComponent(n)):void 0}console.log(e)})},showCommonDialog:function(e,t,o,n){var a={};a.arg1=e,a.arg2=t,a.arg3=o,a.arg4=n,this.showDialog("prefab/commonDialog",r,a)},showBagDialog:function(){this.showDialog("prefab/bagDialog")},showEmailDialog:function(){this.showDialog("prefab/emailDialog")},showExchangeDialog:function(){this.showDialog("prefab/exchangeDialog")},showFanKuiDialog:function(){this.showDialog("prefab/fankuiDialog")},showGameResultDialog:function(e){e?this.showDialog("prefab/gameResultWin"):this.showDialog("prefab/gameResultLose")},showSetDialog:function(){this.showDialog("prefab/setDialog")},showTaskDialog:function(){this.showDialog("prefab/taskDialog")},showJpqNode:function(){this.showDialog("prefab/jpqNode")},showOpratCallLord:function(){this.showDialog("prefab/opratCallLord")},showOpratOutCard:function(){this.showDialog("prefab/opratOutCard")},showOpratDouble:function(e){this.showDialog("prefab/opratDouble",i,e)},showOpratShowCard:function(e){this.showDialog("prefab/opratShowCard",a,e)},showCancelDelegate:function(e){this.showDialog("prefab/CancelDelegate",n,e)}}});cc._RF.pop()},{CancelDelegateController:"CancelDelegateController",commonControl:"commonControl",opratDoubleControl:"opratDoubleControl",opratShowCardControl:"opratShowCardControl"}],emailControl:[function(e,t,o){"use strict";cc._RF.push(t,"59af9SWmdhEaaOvGCS7ZmBO","emailControl");var n=e("emailItemControl");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},emailItem:{default:null,type:cc.Prefab}},start:function(){this.btnRight_1.enabled=!1;for(var e=[1,1,1,1,2,2,2,2,2,2],t=0;t<e.length;t++){var o=cc.instantiate(this.emailItem);o.parent=this.content,o.getComponent(n).init(e[t],t,"标题"+t,"内容111。。。","2018-05-28 08:36")}this.content.height=130*e.length},closeClick:function(){console.log("close click"),this.node.destroy()},leftClick:function(){console.log("left click"),this.btnLeft_1.enabled=!0,this.btnRight_1.enabled=!1},rightClick:function(){console.log("right click"),this.btnLeft_1.enabled=!1,this.btnRight_1.enabled=!0}}),cc._RF.pop()},{emailItemControl:"emailItemControl"}],emailItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"a70ae9sWxROLoEclQxr/OAA","emailItemControl"),cc.Class({extends:cc.Component,properties:{read:{default:null,type:cc.Node},unRead:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labTime:{default:null,type:cc.Label}},onLoad:function(){this.read.active=!1,this.unRead.active=!1,this.state=0,this.id=0},init:function(e,t,o,n,a){this.state=e,this.id=t,this.labTitle.string=o,this.labContent.string=n,this.labTime.string=a,1==e?this.unRead.active=!0:2==e&&(this.read.active=!0)},getClick:function(){console.log("点击了邮件"+this.id)}}),cc._RF.pop()},{}],exchangeControl:[function(e,t,o){"use strict";cc._RF.push(t,"78080u08PZNb6W8rE8TrOth","exchangeControl"),cc.Class({extends:cc.Component,properties:{lequanNum:{default:null,type:cc.Label}},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()},recordClick:function(){console.log("record click")}}),cc._RF.pop()},{}],exchangeRecordControl:[function(e,t,o){"use strict";cc._RF.push(t,"80f25rAokFAa4ngb857PFia","exchangeRecordControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],fankuiControl:[function(e,t,o){"use strict";cc._RF.push(t,"1a81b2s2IlExZ02fjc4CfR3","fankuiControl"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],gameResultControl:[function(e,t,o){"use strict";cc._RF.push(t,"d79724yjfxDdbgN/3Ee9zWb","gameResultControl");var i=e("resoultInfoItemControl");cc.Class({extends:cc.Component,properties:{guang:{default:null,type:cc.Sprite},resoultInfoItem:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node}},start:function(){var e=cc.rotateBy(8,360),t=cc.repeatForever(e);this.guang.node.runAction(t)},show:function(e,t,o,n){this.click1=t,this.click2=o;for(var a=0;a<3;a++){var r=cc.instantiate(this.resoultInfoItem);r.parent=this.content,r.getComponent(i).init(e[a].isdizhu,e[a].nickname,e[a].difen,e[a].beishu,e[a].ledou,n==a)}},btn1Click:function(){console.log("btn1Click"),this.click1&&this.click1(),this.node&&this.node.destroy()},btn2Click:function(){console.log("btn2Click"),this.click2&&this.click2(),this.node&&this.node.destroy()}}),cc._RF.pop()},{resoultInfoItemControl:"resoultInfoItemControl"}],helper:[function(e,t,o){"use strict";cc._RF.push(t,"71dbfNSQKRBXoIb0R49gpQl","helper");var n={copyObj:function(e){var t=Object.prototype.toString;if("[object Array]"==t.call(e)){var o=[];for(var n in e)o.push(e[n]);return o}if("[object Object]"==t.call(e)){o={};for(var n in e)o[n]=e[n];return o}return e}};t.exports=n,cc._RF.pop()},{}],loadingControl:[function(e,t,o){"use strict";cc._RF.push(t,"c3e81EziVFOC6wdlw2myYgS","loadingControl"),cc.Class({extends:cc.Component,properties:{loading:{default:null,type:cc.Sprite}},start:function(){var e=cc.rotateBy(3,360),t=cc.repeatForever(e);this.loading.node.runAction(t)},show:function(e){},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],opratCallLordControl:[function(e,t,o){"use strict";cc._RF.push(t,"f7e34gIEi5GOL4xY36+I5ES","opratCallLordControl");var i=e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},btnNode1:{default:null,type:cc.Node},btnNode2:{default:null,type:cc.Node},btnSp1:{default:null,type:cc.Sprite},btnSp2:{default:null,type:cc.Sprite},clock:{default:null,type:cc.Node},timeCount:30},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,n){this.timeCount=e,this.btn1Func=t,this.btn2Func=o;var a=this;this.type=n;var r="";e<10&&(r=""),this.timeTxt.string=r+e,n==i.opratType.callLoad||(n==i.opratType.grabLoad?(cc.loader.loadRes("operation_btn/p_qiangyes",cc.SpriteFrame,function(e,t){a.btnSp1.getComponent(cc.Sprite).spriteFrame=t}),cc.loader.loadRes("operation_btn/p_qiangno",cc.SpriteFrame,function(e,t){a.btnSp2.getComponent(cc.Sprite).spriteFrame=t})):n==i.opratType.mustOutCard&&(this.btnNode1.x=0,this.btnNode1.active=!1,cc.loader.loadRes("operation_btn/p_cardout",cc.SpriteFrame,function(e,t){a.btnSp2.getComponent(cc.Sprite).spriteFrame=t})))},close:function(){this.node&&this.node.destroy()},btn1Click:function(){console.log("btn1Click"),this.btn1Func&&this.btn1Func(),this.node.destroy()},btn2Click:function(){console.log("btn2Click"),this.btn2Func&&this.btn2Func(),this.type==i.opratType.mustOutCard||this.node.destroy()},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))}}),cc._RF.pop()},{config:"config"}],opratDoubleControl:[function(e,t,o){"use strict";cc._RF.push(t,"c56d3EULtVHAqVq6xWd2VvQ","opratDoubleControl");e("config");cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},clock:{default:null,type:cc.Node},timeCount:3},onLoad:function(){this.timeCount=3,this.timeTxt.string=""+this.timeCount},start:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e){this.click=e},close:function(){this.node&&this.node.destroy()},btnClick1:function(){console.log("点击了加倍按钮"),this.click&&this.click(),this.node.destroy()},btnClick2:function(){console.log("点击了不加倍按钮"),this.node.destroy()},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))}}),cc._RF.pop()},{config:"config"}],opratOutCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"11981lKVm5PCYFV3U8YkCcn","opratOutCardControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},buchuBtn:{default:null,type:cc.Node},tishiBtn:{default:null,type:cc.Node},chupaiBtn:{default:null,type:cc.Node},clock:{default:null,type:cc.Node},tishi:{default:null,type:cc.Sprite},timeCount:30},onLoad:function(){this.clockX=this.clock.getPositionX(),this.clockY=this.clock.getPositionY(),this.tishi.enabled=!1,this.schedule(function(){if(0<this.timeCount){this.timeCount-=1,this.timeCount<=5&&this.shakeClock();var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1)},show:function(e,t,o,n){this.timeCount=e,this.buchuFunc=t,this.tishiFunc=o,this.chupaiFunc=n;this.timeTxt.string=""+e},close:function(){this.node&&this.node.destroy()},buchuClick:function(){console.log("不出"),this.buchuFunc&&this.buchuFunc(),this.node.destroy()},tishiClick:function(){console.log("提示"),this.tishiFunc&&this.tishiFunc()},chupaiClick:function(e){console.log("出牌");var t=0;this.chupaiFunc&&(t=this.chupaiFunc()),this.tishi.enabled=!1,e&&(t=e),0==t?this.showTips("showTips/p_tips_noSeletcedCrad"):-1==t&&this.showTips("showTips/p_tips_seletcedCardTypeError")},shakeClock:function(){var e=cc.moveTo(.05,this.clockX,this.clockY-2),t=cc.moveTo(.05,this.clockX,this.clockY+2),o=cc.moveTo(.05,this.clockX,this.clockY-2),n=cc.moveTo(.05,this.clockX,this.clockY+2),a=cc.moveTo(.05,this.clockX,this.clockY-2),r=cc.moveTo(.05,this.clockX,this.clockY+2),i=cc.moveTo(.05,this.clockX,this.clockY);this.clock.runAction(cc.sequence(e,t,o,n,a,r,i))},showTips:function(e){this.tishi.node.stopAllActions();var o=this;this.tishi.enabled=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.tishi.getComponent(cc.Sprite).spriteFrame=t});var t=cc.delayTime(2),n=cc.callFunc(function(){o.tishi.enabled=!1});this.tishi.node.runAction(cc.sequence(t,n))}}),cc._RF.pop()},{}],opratShowCardControl:[function(e,t,o){"use strict";cc._RF.push(t,"32b68GmBLZM66Mox1ff/d6j","opratShowCardControl");e("config");cc.Class({extends:cc.Component,properties:{spNum:{default:null,type:cc.Sprite}},start:function(){},show:function(e){this.click=e;var o=this;this.time=5,this.spTxt="operation_btn/p_add",this.schedule(function(){if(2<this.time){this.time-=1;var e=this.spTxt+this.time;cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.spNum.getComponent(cc.Sprite).spriteFrame=t})}else this.node.destroy()},1,this.time,0)},close:function(){this.node&&this.node.destroy()},btnClick:function(){console.log("点击了明牌按钮"),this.click&&this.click(this.time),this.node.destroy()}}),cc._RF.pop()},{config:"config"}],resoultInfoItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"befceraMjdEGZQ+n9tC5pA+","resoultInfoItemControl");e("emailItemControl");cc.Class({extends:cc.Component,properties:{pDizhu:{default:null,type:cc.Sprite},labNickName:{default:null,type:cc.Label},labDifen:{default:null,type:cc.Label},labBeishu:{default:null,type:cc.Label},labLedou:{default:null,type:cc.Label}},onLoad:function(){this.pDizhu.node.active=!1},init:function(e,t,o,n,a,r){e&&(this.pDizhu.node.active=!0),r||(this.labNickName.node.color=new cc.Color(255,255,255),this.labDifen.node.color=new cc.Color(255,255,255),this.labBeishu.node.color=new cc.Color(255,255,255),this.labLedou.node.color=new cc.Color(255,255,255)),this.labNickName.string=t,this.labDifen.string=""+o,this.labBeishu.string=""+n,this.labLedou.string=""+a}}),cc._RF.pop()},{emailItemControl:"emailItemControl"}],setControl:[function(e,t,o){"use strict";cc._RF.push(t,"d16ccLCjY5O86/MTBSCS0tQ","setControl"),cc.Class({extends:cc.Component,properties:{imgMusic:{default:null,type:cc.Node},imgEffect:{default:null,type:cc.Node},musicSet:!1,effectSet:!1},start:function(){},musicClick:function(){var o=this;console.log("music click");var e="img_dialog/btn_off";this.musicSet?(this.musicSet=!1,e="img_dialog/btn_off"):(this.musicSet=!0,e="img_dialog/btn_on"),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgMusic.getComponent(cc.Sprite).spriteFrame=t})},effectClick:function(){var o=this;console.log("effect click");var e="img_dialog/btn_off";this.effectSet?(this.effectSet=!1,e="img_dialog/btn_off"):(this.effectSet=!0,e="img_dialog/btn_on"),cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){o.imgEffect.getComponent(cc.Sprite).spriteFrame=t})},fankuiClick:function(){console.log("fankui click"),cc.loader.loadRes("prefab/fankuiDialog",function(e,t){if(e)console.log(e);else{var o=cc.instantiate(t);cc.director.getScene().addChild(o)}})},aboutClick:function(){console.log("about click")},closeClick:function(){console.log("close click"),this.node.destroy()}}),cc._RF.pop()},{}],taskControl:[function(e,t,o){"use strict";cc._RF.push(t,"48cba0x+mdEuZiLRl/DVjiH","taskControl");var n=e("taskItemControl");cc.Class({extends:cc.Component,properties:{btnLeft_1:{default:null,type:cc.Sprite},btnLeft_2:{default:null,type:cc.Sprite},btnRight_1:{default:null,type:cc.Sprite},btnRight_2:{default:null,type:cc.Sprite},content:{default:null,type:cc.Node},taskItem:{default:null,type:cc.Prefab}},start:function(){this.btnRight_1.enabled=!1;for(var e=[1,1,1,1,2,2,3,3,3,3],t=0;t<e.length;t++){var o=cc.instantiate(this.taskItem);o.parent=this.content,o.getComponent(n).init(e[t],"标题","内容。。。。。。","1/10")}this.content.height=130*e.length},closeClick:function(){console.log("close click"),this.node.destroy()},leftClick:function(){console.log("left click"),this.btnLeft_1.enabled=!0,this.btnRight_1.enabled=!1},rightClick:function(){console.log("right click"),this.btnLeft_1.enabled=!1,this.btnRight_1.enabled=!0}}),cc._RF.pop()},{taskItemControl:"taskItemControl"}],taskItemControl:[function(e,t,o){"use strict";cc._RF.push(t,"bbe82HivaFIsojxh19Nd3Sr","taskItemControl"),cc.Class({extends:cc.Component,properties:{nodeGet:{default:null,type:cc.Node},nodeComplete:{default:null,type:cc.Node},nodeProgrss:{default:null,type:cc.Node},labTitle:{default:null,type:cc.Label},labContent:{default:null,type:cc.Label},labProgress:{default:null,type:cc.Label}},onLoad:function(){this.nodeGet.active=!1,this.nodeComplete.active=!1,this.nodeProgrss.active=!1,this.state=0,this.id=0},init:function(e,t,o,n){this.state=e,this.labTitle.string=t,this.labContent.string=o,1==e?(this.nodeProgrss.active=!0,this.labProgress.string=n):2==e?this.nodeGet.active=!0:3==e&&(this.nodeComplete.active=!0)},getClick:function(){2==this.state&&console.log("点击了任务领取按钮")}}),cc._RF.pop()},{}],watingStarControl:[function(e,t,o){"use strict";cc._RF.push(t,"8bdcevf/XxFAKDbPvMW3ocZ","watingStarControl"),cc.Class({extends:cc.Component,properties:{timeTxt:{default:null,type:cc.Label},timeCount:30},start:function(){this.schedule(function(){if(0<this.timeCount){this.timeCount-=1;var e="";this.timeCount<=0&&(this.timeCount=0,this.node.destroy());var t=Math.ceil(this.timeCount);t<10&&(e=""),this.timeTxt.string=e+t}},1),this.show(30)},show:function(e){this.timeCount=e,this.timeTxt.string=""+e},close:function(){this.node&&this.node.destroy()}}),cc._RF.pop()},{}]},{},["CancelDelegateController","CardUtil","ClockControl","GameTable","HallCanvasControl","HallLayerControl","Player","PlayerControl","PokerControl","PokerData","PopCardUtil","RoomLayerControl","blinkAlarmControl","loadingControl","watingStarControl","config","BagControl","commonControl","dialogManager","emailControl","emailItemControl","exchangeControl","exchangeRecordControl","fankuiControl","gameResultControl","resoultInfoItemControl","setControl","taskControl","taskItemControl","AppStart","ByteArray","EventHelper","Events","GameNet","GameNetMgr","HTTP","PlayerDetailModel","Protocol","helper","opratCallLordControl","opratDoubleControl","opratOutCardControl","opratShowCardControl"]);