{"version":3,"sources":["PopCardUtil.js"],"names":["config","require","PopCardUtil","StringToNumber","str","num","parseInt","getSameCards","cards","source","i","length","console","log","sameValues","tampValues","k","tempValue","push","SingleNum","PairNum","ThreeNum","FourNum","SingleCards","PairCards","ThreeCards","FourCards","setSameVulueCardCount","d","getSingle","count","getPair","getThree","getFour","module","exports"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA;;AAEA,IAAIC,cAAc,EAAlB;;AAGA;AACAA,YAAYC,cAAZ,GAA6B,UAASC,GAAT,EAAa;AACtC,QAAIC,MAAM,CAAV;AACA,QAAGD,OAAO,GAAV,EAAc;AACVC,cAAM,EAAN;AACH,KAFD,MAEM,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAEA,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAEA,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAEA,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAEA,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAEA,IAAGD,OAAO,GAAV,EAAc;AAChBC,cAAM,EAAN;AACH,KAFK,MAED;AACD,YAAG,OAAOD,GAAP,IAAa,QAAhB,EAAyB;AACrBC,kBAAMC,SAASF,GAAT,CAAN;AACH,SAFD,MAEK;AACDC,kBAAMD,GAAN;AACH;AACJ;AACD,WAAOC,GAAP;AACH,CAxBD;;AA0BA;AACAH,YAAYK,YAAZ,GAA2B,UAASC,KAAT,EAAe;AACtC,QAAIC,SAAS,EAAb;AACA,SAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEF,MAAMG,MAApB,EAA2BD,GAA3B,EAA+B;AAC3BD,eAAOC,CAAP,IAAUR,YAAYC,cAAZ,CAA2BK,MAAME,CAAN,CAA3B,CAAV;AACH;AACDE,YAAQC,GAAR,CAAY,kBAAgBJ,OAAOE,MAAnC;;AAEA,QAAIG,aAAa,EAAjB;AACA,QAAIC,aAAa,EAAjB;AACA,QAAIC,IAAI,EAAR;AACA,QAAIC,YAAYR,OAAO,CAAP,CAAhB;AACA;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,OAAOE,MAA3B,EAAmCD,GAAnC,EAAwC;AACpC,YAAID,OAAOC,CAAP,KAAaO,SAAjB,EAA4B;AACxBF,uBAAWG,IAAX,CAAgBT,OAAOC,CAAP,CAAhB;AACA,gBAAGA,KAAGD,OAAOE,MAAP,GAAc,CAApB,EAAsB;AAClB;AACAK,oBAAI,KAAGC,SAAP;AACAL,wBAAQC,GAAR,CAAY,SAAOG,CAAP,GAAS,UAAT,GAAoBD,WAAWJ,MAA3C;AACAG,2BAAWE,CAAX,IAAgBD,UAAhB;AACH;AACJ,SARD,MAQK;AACD;AACAC,gBAAI,KAAGC,SAAP;AACAL,oBAAQC,GAAR,CAAY,SAAOG,CAAP,GAAS,UAAT,GAAoBD,WAAWJ,MAA3C;;AAEAG,uBAAWE,CAAX,IAAgBD,UAAhB;AACAA,yBAAa,EAAb;AACAE,wBAAYR,OAAOC,CAAP,CAAZ;AACAK,uBAAWG,IAAX,CAAgBD,SAAhB;;AAEA,gBAAGP,KAAGD,OAAOE,MAAP,GAAc,CAApB,EAAsB;AAClBK,oBAAI,KAAGC,SAAP;AACAL,wBAAQC,GAAR,CAAY,SAAOG,CAAP,GAAS,UAAT,GAAoBD,WAAWJ,MAA3C;AACAG,2BAAWE,CAAX,IAAgBD,UAAhB;AACH;AACJ;AACJ;AACD,WAAOD,UAAP;AACH,CAvCD;;AAyCAZ,YAAYiB,SAAZ,GAAwB,CAAxB;AACAjB,YAAYkB,OAAZ,GAAsB,CAAtB;AACAlB,YAAYmB,QAAZ,GAAuB,CAAvB;AACAnB,YAAYoB,OAAZ,GAAsB,CAAtB;;AAEApB,YAAYqB,WAAZ,GAA0B,EAA1B;AACArB,YAAYsB,SAAZ,GAAwB,EAAxB;AACAtB,YAAYuB,UAAZ,GAAyB,EAAzB;AACAvB,YAAYwB,SAAZ,GAAwB,EAAxB;;AAEAxB,YAAYyB,qBAAZ,GAAoC,UAASnB,KAAT,EAAe;AAC/C,QAAIW,YAAY,CAAhB;AACA,QAAIC,UAAU,CAAd;AACA,QAAIC,WAAW,CAAf;AACA,QAAIC,UAAU,CAAd;;AAEA,QAAIC,cAAa,EAAjB;AACA,QAAIC,YAAW,EAAf;AACA,QAAIC,aAAY,EAAhB;AACA,QAAIC,YAAW,EAAf;;AAEA,SAAI,IAAIV,CAAR,IAAaR,KAAb,EAAmB;AACf,YAAIoB,IAAIpB,MAAMQ,CAAN,CAAR;AACAJ,gBAAQC,GAAR,CAAY,cAAYe,EAAEjB,MAAd,GAAqB,MAArB,GAA4BK,CAAxC;AACA,YAAGY,EAAEjB,MAAF,IAAY,CAAf,EAAiB;AACbQ;AACAI,wBAAYL,IAAZ,CAAiBU,CAAjB;AACH,SAHD,MAGM,IAAGA,EAAEjB,MAAF,IAAY,CAAf,EAAiB;AACnBS;AACAI,sBAAUN,IAAV,CAAeU,CAAf;AACH,SAHK,MAGA,IAAGA,EAAEjB,MAAF,IAAY,CAAf,EAAiB;AACnBU;AACAI,uBAAWP,IAAX,CAAgBU,CAAhB;AACH,SAHK,MAGA,IAAGA,EAAEjB,MAAF,IAAY,CAAf,EAAiB;AACnBW;AACAI,sBAAUR,IAAV,CAAeU,CAAf;AACH;AACJ;AACD1B,gBAAYiB,SAAZ,GAAwBA,SAAxB;AACAjB,gBAAYkB,OAAZ,GAAsBA,OAAtB;AACAlB,gBAAYmB,QAAZ,GAAuBA,QAAvB;AACAnB,gBAAYoB,OAAZ,GAAsBA,OAAtB;;AAEApB,gBAAYqB,WAAZ,GAA0BA,WAA1B;AACArB,gBAAYsB,SAAZ,GAAwBA,SAAxB;AACAtB,gBAAYuB,UAAZ,GAAyBA,UAAzB;AACAvB,gBAAYwB,SAAZ,GAAwBA,SAAxB;;AAEA;AACA;AACA;AACA;AACH,CA1CD;AA2CAxB,YAAY2B,SAAZ,GAAwB,YAAU;AAC9B,QAAIN,cAAc,EAAlB;AACAA,gBAAYf,KAAZ,GAAoBN,YAAYqB,WAAhC;AACAA,gBAAYO,KAAZ,GAAoB5B,YAAYiB,SAAhC;AACA;AACA;AACA,WAAOI,WAAP;AACH,CAPD;AAQArB,YAAY6B,OAAZ,GAAsB,YAAU;AAC5B,QAAIP,YAAY,EAAhB;AACAA,cAAUhB,KAAV,GAAkBN,YAAYsB,SAA9B;AACAA,cAAUM,KAAV,GAAkB5B,YAAYkB,OAA9B;AACA;AACA;AACA,WAAOI,SAAP;AACH,CAPD;AAQAtB,YAAY8B,QAAZ,GAAuB,YAAU;AAC7B,QAAIP,aAAa,EAAjB;AACAA,eAAWjB,KAAX,GAAmBN,YAAYuB,UAA/B;AACAA,eAAWK,KAAX,GAAmB5B,YAAYmB,QAA/B;AACA;AACA;AACA,WAAOI,UAAP;AACH,CAPD;AAQAvB,YAAY+B,OAAZ,GAAsB,YAAU;AAC5B,QAAIP,YAAY,EAAhB;AACAA,cAAUlB,KAAV,GAAkBN,YAAYwB,SAA9B;AACAA,cAAUI,KAAV,GAAkB5B,YAAYoB,OAA9B;AACA;AACA;AACA,WAAOI,SAAP;AACH,CAPD;;AASAQ,OAAOC,OAAP,GAAiBjC,WAAjB","file":"PopCardUtil.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\r\nvar config = require(\"config\");\r\n// var CardUtil = require(\"CardUtil\")\r\n\r\nvar PopCardUtil = {};\r\n\r\n\r\n//牌直转换（文本转数值）\r\nPopCardUtil.StringToNumber = function(str){\r\n    var num = 0;\r\n    if(str == \"J\"){\r\n        num = 11;\r\n    }else if(str == \"Q\"){\r\n        num = 12;\r\n    }else if(str == \"K\"){\r\n        num = 13;\r\n    }else if(str == \"A\"){\r\n        num = 14;\r\n    }else if(str == \"2\"){\r\n        num = 15;\r\n    }else if(str == \"g\"){\r\n        num = 16;\r\n    }else if(str == \"G\"){\r\n        num = 17;\r\n    }else{\r\n        if(typeof(str)==\"string\"){\r\n            num = parseInt(str);\r\n        }else{\r\n            num = str;\r\n        }  \r\n    }\r\n    return num;\r\n}\r\n\r\n//找出相同的牌 放进一个数组\r\nPopCardUtil.getSameCards = function(cards){\r\n    var source = [];\r\n    for(var i=0;i<cards.length;i++){\r\n        source[i]=PopCardUtil.StringToNumber(cards[i]);\r\n    }\r\n    console.log(\"sourcelength:\"+source.length);\r\n\r\n    var sameValues = []; \r\n    var tampValues = [];\r\n    var k = \"\";\r\n    var tempValue = source[0];\r\n    // var flag = false;\r\n    for (var i = 0; i < source.length; i++) {  \r\n        if (source[i] == tempValue) {\r\n            tampValues.push(source[i]);\r\n            if(i==source.length-1){\r\n                // sameValues.push(tampValues);\r\n                k = \"\"+tempValue;\r\n                console.log(\"kk3:\"+k+\" length:\"+tampValues.length);\r\n                sameValues[k] = tampValues;\r\n            }\r\n        }else{ \r\n            // sameValues.push(tampValues);\r\n            k = \"\"+tempValue;\r\n            console.log(\"kk1:\"+k+\" length:\"+tampValues.length);\r\n\r\n            sameValues[k] = tampValues;\r\n            tampValues = []; \r\n            tempValue = source[i];\r\n            tampValues.push(tempValue); \r\n\r\n            if(i==source.length-1){\r\n                k = \"\"+tempValue;\r\n                console.log(\"kk2:\"+k+\" length:\"+tampValues.length);\r\n                sameValues[k] = tampValues;\r\n            }\r\n        }\r\n    }\r\n    return sameValues;\r\n}\r\n\r\nPopCardUtil.SingleNum = 0;\r\nPopCardUtil.PairNum = 0;\r\nPopCardUtil.ThreeNum = 0;\r\nPopCardUtil.FourNum = 0;\r\n\r\nPopCardUtil.SingleCards = [];\r\nPopCardUtil.PairCards = [];\r\nPopCardUtil.ThreeCards = [];\r\nPopCardUtil.FourCards = [];\r\n\r\nPopCardUtil.setSameVulueCardCount = function(cards){\r\n    var SingleNum = 0;\r\n    var PairNum = 0;\r\n    var ThreeNum = 0;\r\n    var FourNum = 0;\r\n\r\n    var SingleCards =[];\r\n    var PairCards =[];\r\n    var ThreeCards =[];\r\n    var FourCards =[];\r\n\r\n    for(var k in cards){\r\n        var d = cards[k];\r\n        console.log(\">>length:\"+d.length+\"  k:\"+k);\r\n        if(d.length == 1){\r\n            SingleNum++;\r\n            SingleCards.push(d);\r\n        }else if(d.length == 2){\r\n            PairNum++;\r\n            PairCards.push(d);\r\n        }else if(d.length == 3){\r\n            ThreeNum++;\r\n            ThreeCards.push(d);\r\n        }else if(d.length == 4){\r\n            FourNum++;\r\n            FourCards.push(d);\r\n        }\r\n    }\r\n    PopCardUtil.SingleNum = SingleNum;\r\n    PopCardUtil.PairNum = PairNum;\r\n    PopCardUtil.ThreeNum = ThreeNum;\r\n    PopCardUtil.FourNum = FourNum;\r\n\r\n    PopCardUtil.SingleCards = SingleCards;\r\n    PopCardUtil.PairCards = PairCards;\r\n    PopCardUtil.ThreeCards = ThreeCards;\r\n    PopCardUtil.FourCards = FourCards;\r\n\r\n    // console.log(\"SingleNum:\"+SingleNum);\r\n    // console.log(\"PairNum:\"+PairNum);\r\n    // console.log(\"ThreeNum:\"+ThreeNum);\r\n    // console.log(\"FourNum:\"+FourNum);\r\n}\r\nPopCardUtil.getSingle = function(){\r\n    var SingleCards = [];\r\n    SingleCards.cards = PopCardUtil.SingleCards;\r\n    SingleCards.count = PopCardUtil.SingleNum;\r\n    // return PopCardUtil.SingleNum;\r\n    // console.log(SingleCards);\r\n    return SingleCards;\r\n}\r\nPopCardUtil.getPair = function(){\r\n    var PairCards = [];\r\n    PairCards.cards = PopCardUtil.PairCards;\r\n    PairCards.count = PopCardUtil.PairNum;\r\n    // return PopCardUtil.PairNum;\r\n    // console.log(PairCards);\r\n    return PairCards;\r\n}\r\nPopCardUtil.getThree = function(){\r\n    var ThreeCards = [];\r\n    ThreeCards.cards = PopCardUtil.ThreeCards;\r\n    ThreeCards.count = PopCardUtil.ThreeNum;\r\n    // return PopCardUtil.ThreeNum;\r\n    // console.log(ThreeCards);\r\n    return ThreeCards;\r\n}\r\nPopCardUtil.getFour = function(){\r\n    var FourCards = [];\r\n    FourCards.cards = PopCardUtil.FourCards;\r\n    FourCards.count = PopCardUtil.FourNum;\r\n    // return PopCardUtil.FourNum;\r\n    // console.log(FourCards);\r\n    return FourCards;\r\n}\r\n\r\nmodule.exports = PopCardUtil;\r\n"]}