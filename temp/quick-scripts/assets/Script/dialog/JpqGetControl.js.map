{"version":3,"sources":["JpqGetControl.js"],"names":["GameNetMgr","require","PlayerDetailModel","config","cc","Class","extends","Component","properties","title","default","type","Label","content","btn_cancel","Node","btn_enter","opentype","start","show","args","arg1","arg2","enterClick","arg3","cancelClick","arg4","string","active","x","closeClick","console","log","node","destroy","vv","audioMgr","playSFX","btnCancelClick","btnEnterClick","index","getRandom","shareTxt","shareImg","getShareImgPath","wx","shareAppMessage","imageUrl","query","uid","success","res","sendRequest","fail"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;AACA,IAAIC,oBAAoBD,QAAQ,mBAAR,CAAxB;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAQ;AACJC,qBAAU,IADN;AAEJC,kBAAOP,GAAGQ;AAFN,SADA;AAKRC,iBAAU;AACNH,qBAAU,IADJ;AAENC,kBAAOP,GAAGQ;AAFJ,SALF;AASRE,oBAAa;AACTJ,qBAAU,IADD;AAETC,kBAAOP,GAAGW;AAFD,SATL;AAaRC,mBAAY;AACRN,qBAAU,IADF;AAERC,kBAAOP,GAAGW,IAFF;AAGRE,sBAAW;AAHH;AAbJ,KAHP;AAsBLC,SAtBK,mBAsBI;AACL;AACA;AACA;AACA;AACH,KA3BI;AA4BLC,QA5BK,gBA4BAC,IA5BA,EA4BK;AACN,YAAIX,QAAQW,KAAKC,IAAjB;AACA,YAAIR,UAAUO,KAAKE,IAAnB;AACA,YAAIC,aAAaH,KAAKI,IAAtB;AACA,YAAIC,cAAcL,KAAKM,IAAvB;;AAEA,aAAKjB,KAAL,CAAWkB,MAAX,GAAoBlB,KAApB;AACA,aAAKI,OAAL,CAAac,MAAb,GAAsBd,OAAtB;AACA,YAAGY,WAAH,EAAe,CACd,CADD,MACK;AACD,iBAAKX,UAAL,CAAgBc,MAAhB,GAAyB,KAAzB;AACA,iBAAKZ,SAAL,CAAea,CAAf,GAAmB,CAAnB;AACH;AACD,aAAKN,UAAL,GAAkBA,UAAlB;AACA,aAAKE,WAAL,GAAmBA,WAAnB;AAEH,KA5CI;AA6CLK,cA7CK,wBA6CO;AACRC,gBAAQC,GAAR,CAAY,aAAZ;AACA,aAAKC,IAAL,CAAUC,OAAV;AACA9B,WAAG+B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH,KAjDI;AAkDLC,kBAlDK,4BAkDW;AACZP,gBAAQC,GAAR,CAAY,YAAZ;AACA,YAAG,KAAKP,WAAR,EAAoB;AAChB,iBAAKA,WAAL;AACH;AACD,aAAKQ,IAAL,CAAUC,OAAV;AACA9B,WAAG+B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH,KAzDI;AA0DLE,iBA1DK,2BA0DU;AACXR,gBAAQC,GAAR,CAAY,YAAZ;;AAEA,YAAIQ,QAAQrC,OAAOsC,SAAP,CAAiB,CAAjB,CAAZ;AACA,YAAIC,WAAWvC,OAAOuC,QAAP,CAAgB,SAAhB,EAA2BF,KAA3B,CAAf;AACAT,gBAAQC,GAAR,CAAY,cAAZ,EAA2BU,QAA3B;;AAEA,YAAIC,WAAWxC,OAAOyC,eAAP,CAAuB,SAAvB,CAAf;AACAb,gBAAQC,GAAR,CAAY,cAAZ,EAA2BW,QAA3B;;AAEA;AACA;;AAEI;AACIE,WAAGC,eAAH,CAAmB;AACfrC,mBAAOiC,QADQ;AAEfK,sBAAUJ,QAFK;AAGfK,mBAAQ,SAAO9C,kBAAkB+C,GAHlB;AAIfC,mBAJe,mBAIPC,GAJO,EAIH;AACRpB,wBAAQC,GAAR,CAAY,YAAZ;AACAD,wBAAQC,GAAR,CAAYmB,GAAZ;AACAnD,2BAAWoD,WAAX,CAAuB,QAAvB,EAAgC,YAAhC,EAA6C,CAA7C;AACH,aARc;AASfC,gBATe,gBASVF,GATU,EASN;AACLpB,wBAAQC,GAAR,CAAY,YAAZ;AACH;AAXc,SAAnB;AAaJ;AACJ;AACA,aAAKC,IAAL,CAAUC,OAAV;AACA9B,WAAG+B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH;AAzFI,CAAT","file":"JpqGetControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["var GameNetMgr = require(\"GameNetMgr\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar config = require(\"config\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title : {\n            default : null,\n            type : cc.Label\n        },\n        content : {\n            default : null,\n            type : cc.Label\n        },\n        btn_cancel : {\n            default : null,\n            type : cc.Node\n        },\n        btn_enter : {\n            default : null,\n            type : cc.Node,\n            opentype : \"share\"\n        }\n    },\n    start () {   \n        // var enter = function(){\n        //     console.log(\"确认按钮\");\n        // }\n        // this.show(\"xx\",\"但想啊想啊啊想啊\",enter,null);\n    },   \n    show(args){\n        var title = args.arg1;\n        var content = args.arg2;\n        var enterClick = args.arg3;\n        var cancelClick = args.arg4;\n\n        this.title.string = title;\n        this.content.string = content;\n        if(cancelClick){\n        }else{\n            this.btn_cancel.active = false;\n            this.btn_enter.x = 0;\n        }\n        this.enterClick = enterClick;\n        this.cancelClick = cancelClick;\n\n    },\n    closeClick(){\n        console.log(\"close click\");\n        this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnCancelClick(){\n        console.log(\"btn1 click\");\n        if(this.cancelClick){\n            this.cancelClick();\n        }\n        this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnEnterClick(){\n        console.log(\"btn2 click\");\n\n        var index = config.getRandom(1);\n        var shareTxt = config.shareTxt[\"jipaiqi\"][index];\n        console.log(\">>>shareTxt:\",shareTxt);\n\n        var shareImg = config.getShareImgPath(\"jipaiqi\");\n        console.log(\">>>shareImg:\",shareImg);\n    \n        // if(this.enterClick){\n        //     this.enterClick();\n\n            // cc.loader.loadRes(\"shareImg\",function(err,data){\n                wx.shareAppMessage({\n                    title: shareTxt,\n                    imageUrl: shareImg,\n                    query : \"key=\"+PlayerDetailModel.uid,\n                    success(res){\n                        console.log(\"---转发成功!!!\");\n                        console.log(res);\n                        GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",4);\n                    },\n                    fail(res){\n                        console.log(\"---转发失败!!!\")\n                    } \n                })\n            // });\n        // }\n        this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    }\n});\n"]}