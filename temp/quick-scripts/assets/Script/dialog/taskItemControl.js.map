{"version":3,"sources":["taskItemControl.js"],"names":["GameNetMgr","require","PlayerDetailModel","cc","Class","extends","Component","properties","nodeGet","default","type","Node","nodeComplete","nodeProgrss","labTitle","Label","labContent","labProgress","onLoad","active","state","id","init","info","title","content","progress","string","goto","getClick","console","log","sendRequest","num","getTaskUnReward","setTaskUnReward","vv","audioMgr","playSFX","gotoClick","onWantGotoRoom"],"mappings":"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","file":"taskItemControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["var GameNetMgr = require(\"GameNetMgr\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodeGet : {\n            default : null,\n            type : cc.Node\n        },\n        nodeComplete : {\n            default : null,\n            type : cc.Node\n        },\n        nodeProgrss : {\n            default : null,\n            type : cc.Node\n        },\n        labTitle : {\n            default : null,\n            type : cc.Label\n        },\n        labContent : {\n            default : null,\n            type : cc.Label\n        },\n        labProgress : {\n            default : null,\n            type : cc.Label\n        },\n\n    },\n    onLoad () {\n         this.nodeGet.active = false;\n         this.nodeComplete.active = false;\n         this.nodeProgrss.active = false;\n         this.state = 0;\n         this.id = 0;\n    },\n    \n    init(info,title,content,progress){\n        this.state = info.state; //\"state\":状态 0未完成 1未领取 2已领取 \n        this.labTitle.string = title;\n        this.labContent.string = content;\n        this.id = info.id;\n        this.goto = info.goto;\n        if(this.state == \"0\"){ //进行中\n            this.nodeProgrss.active = true;\n            this.labProgress.string = progress;\n        }else if(this.state == \"1\"){//领取\n            this.nodeGet.active = true;\n        }else if(this.state == \"2\"){//完成\n            this.nodeComplete.active = true;\n        }\n    },\n    getClick(){\n        if(this.state == \"1\"){\n            console.log(\"点击了任务领取按钮 this.id:\"+this.id);\n            GameNetMgr.sendRequest(\"System\", \"GetTaskReward\", this.id);//任务id\n            this.nodeGet.active = false;\n            this.nodeProgrss.active = false;\n            this.nodeComplete.active = true;\n\n            var num = PlayerDetailModel.getTaskUnReward();\n            PlayerDetailModel.setTaskUnReward(num-1);\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    gotoClick(){\n        console.log(\"this.goto:\"+this.goto);\n        if(this.goto&&this.state == \"0\"){ //1房间  2邀请好友\n            if(this.goto == 1){\n                console.log(\"前往普通场\");\n                // this.onWantGotoRoom();\n            }else if(this.goto == 2){\n                console.log(\"前往分享\");\n            }\n        }\n    },\n    onWantGotoRoom(){//去适合的场次\n        // HallCanvasControl.gotoRoom1();\n    },\n});\n"]}