{"version":3,"sources":["opratDoubleControl.js"],"names":["config","require","cc","Class","extends","Component","properties","timeTxt","default","type","Label","clock","Node","timeCount","onLoad","string","start","clockX","getPositionX","clockY","getPositionY","schedule","shakeClock","pre","node","destroy","t","Math","ceil","show","args","click1","arg1","click2","arg2","close","btnClick1","console","log","btnClick2","mt1","moveTo","mt2","mt3","mt4","mt5","mt6","mt7","runAction","sequence"],"mappings":"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","file":"opratDoubleControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["var config = require(\"config\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // progressBar : {\n        //     default : null,\n        //     type : cc.ProgressBar\n        // },\n        timeTxt : {\n            default : null,\n            type : cc.Label\n        },\n        clock : {\n            default : null,\n            type : cc.Node,\n        },\n        timeCount:3,\n    },\n    onLoad () {\n        this.timeCount = 3;\n        this.timeTxt.string = \"\" + this.timeCount;\n    },\n    start () {\n        // this.show(10,null);\n\n        // this.timeCount = config.AddRatioTime;\n        // this.timeTxt.string = \"\" + this.timeCount;\n\n        this.clockX = this.clock.getPositionX();\n        this.clockY = this.clock.getPositionY();\n\n        this.schedule(function() {\n            if(this.timeCount > 0){\n                this.timeCount -= 1;\n                if(this.timeCount <= 5){\n                    // cc.vv.audioMgr.playSFX(\"timeup_alarm.mp3\");\n                    this.shakeClock();\n                }\n                var pre = \"\";\n                if(this.timeCount <= 0){\n                    this.timeCount = 0;\n                    this.node.destroy();\n                }\n                var t = Math.ceil(this.timeCount);\n                if(t < 10){\n                    pre = \"\";\n                }\n                this.timeTxt.string = pre + t; \n            }   \n        }, 1);\n\n    },\n    show(args){\n        // this.time = time*10;\n        this.click1 =  args.arg1;\n        this.click2 =  args.arg2;\n        // this.pross = 1.0;\n        // this.dt = 1/this.time;\n        // this.schedule(function() {\n        //     if(this.pross > 0){\n        //         this.pross -= this.dt;\n        //         // this.progressBar.getComponent(cc.ProgressBar).progress = this.pross;\n        //     }else{\n        //         // this.progressBar.getComponent(cc.ProgressBar).progress = 0;\n        //         this.node.destroy();\n        //     }  \n        // },0.1, this.time, 0.01);\n    },\n    close(){\n        if(this.node){\n            this.node.destroy();\n        }\n    },\n    btnClick1(){\n        console.log(\"点击了加倍按钮\");\n        if(this.click1){\n            this.click1();\n        }\n        this.node.destroy();\n    },\n    btnClick2(){\n        console.log(\"点击了不加倍按钮\");\n        if(this.click2){\n            this.click2();\n        }\n        this.node.destroy();\n    },\n    shakeClock(){\n        var mt1 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt2 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt3 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt4 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt5 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt6 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt7 = cc.moveTo(0.05,this.clockX,this.clockY);\n        this.clock.runAction(cc.sequence(mt1,mt2,mt3,mt4,mt5,mt6,mt7));\n    }\n});\n"]}