{"version":3,"sources":["GameTable.js"],"names":["PokerControl","require","config","CardUtil","opratOutCardControl","dialogManager","PlayerDetailModel","Player","EventHelper","GameNetMgr","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","pokerLayerLeft","Node","pokerLayerRight","pokerLayerMy","chupaiBtn","buchuBtn","canvas","opratOutCard","leftPlayer","rightPlayer","onLoad","self","game","on","EVENT_HIDE","console","log","stopOnMassage","clearTable","EVENT_SHOW","sendRequest","vv","audioMgr","resumeAll","playBGM","start","sceneWidth","director","getWinSize","width","scene","getScene","mySeatId","preSendCards","preSeatId","gameState","loadSeatId","nicknames","animShake","myHandCards","touchBeganX","leftX","rightX","upY","downY","isTouchbegan","wechatImgUrl","wxInfo","avatarUrl","detailModel","params","uid","getUid","nickname","getNickName","gender","getGender","coin","getCoin","gold","getGold","lequan","getCoupon","propDress","getPropDress","wechatImg","title","getTitle","emoticon","emoticonItems","myOpratShow","CancelDelegate","ChatDialog","jpqNode","myPokerData","myPokerNode","dispatchCard","player","playerme_","initMyPlayerNode","initBaseInfo","leftDispatchCard","leftPokerData","leftPokerNode","left_player","initLeftPlayerNode","rightDispatchCard","rightPokerData","rightPokerNode","right_player","initRightPlayerNode","registerTouchEvent","active","table3Card","IsContinueGaming","registerEventListener","initTable3Card","node_diPai","find","node_pCardBg","node_tableTimes","getComponent","Label","setTable3Card","severCards","i","cardNode","instantiate","parent","scale","poker","showPoker","convertCardToClient","push","clearTable3Card","length","node","removeFromParent","setNodeRate","times","nodeRate","enabled","loader","loadRes","SpriteFrame","err","spriteFrame","Sprite","node_name","node_LeDou","node_LeQuan","node_Landlord","node_hint","node_wechatImg","nodes","node_cardsNum","node_delegate","node_clockDwonTime","node_alarm","initNodes","node_taskbg","node_taskName","string","lab_roomId","tableInfo","tableName","roomId","leftChatBoxNode","leftChatBoxLabel","rightChatBoxNode","rightChatBoxLabel","clear","clearTableCard","close","EventType","TOUCH_START","event","p","getLocation","x","setSelectCardByTouch","y","x1","getPositionX","x2","py","getPositionY","psize","getContentSize","pwidth","pheight","height","disBetween","moveAllCardDown","TOUCH_END","moveCard","TOUCH_MOVE","Math","abs","unregisterEvent","targetOff","istouchbegan","touchStart","touchEnd","pokerNode","posY","size","posX","seatPos","center","right","left","buttom","up","setChoosed","cardMove","cardMoveDown","onShow","onMyOutCard","onHide","topcards","getMyTopCards","mycards","showTxt","autocards","getCardsFromTopCards","AutoChooseLiftUpCard","time","buchuFunc","tishiNum","tishiFunc","cards","pokerdata","serverCardsToClient","sort","arrayUp","cardstype","get_topCard_type","myCards","cardValue","StringToNumber","tishicards","get_cards_larger","stopAllActions","callFunc","delay","delayTime","runAction","sequence","chupaiFunc","topCards","topCardData","isTopped","cardType","showType","pokerDataItem","popCardsType","args","clientCardsToServer","curTime","SendCardTimeout","getCardCount","showCallLord","opratType","mustOutCard","opOutCard","opOutCardControl","show","mySendCards","cardData","gradeUp","getSendCard","playCard","neatenPoker","getLandlord","setCardDiZhu","getOpenHandCards","setCardShow","setCardCount","leftSendCards","isShowCard","playCardLeft","neatenLeftPoker","darkCardSend","rightSendCards","playCardRight","neatenRightPoker","btnBackClick","ST_GAME_BALANCE","ST_GAME_PREPARE","click","removeEventListener","preloadNextScene","showCommonDialog","playSFX","btnDelegateClick","getDelegated","ST_GAME_CallLordOver","setDelegated","showCancelDelegate","prefab","newNode","addChild","prefabControl","btnSetClick","showSetDialog","btnJiPaiQiClick","getIsActive","showNode","showJPQ","btnChatClick","showMyChat","content","showLeftChat","showRightChat","AddCustomEvent","MyNode","onQueued","onGameReady","onTableTimesUpdate","onSendCard","onRefreshPlayerData","onTurnCallLord","onCallLord","onTurnGrabLord","onGrabLord","onCallLordOver","onCanDoubleResult","onTurnSendCard","onPlayerDelegated","onPlayerCancelDelegate","onPlayerSendCard","onPlayerNotSend","onPlayerShowCard","onGameComplete","onTableUserExit","onInvalidCardNum","onSayToTableInfo","onReconnectionData","onPokerTask","onOpenRechargeTipResult","onRefreshDataResult","onRepeatLogin","RemoveCustomEvent","initPlayerInfo","response","data","CallLordTimeout","GrabLordTimeout","CheckCardTimeout","AddRatioTime","newGame","setMySeatId","setMySeatNum","peers","k","v","curSeatId","setRoomId","setTableId","setSignature","setBuff","seatNum","getPlayerSeatNum","parm","parseInt","myseat","roomid","tableid","signature","buff","initInfo","btn1Func","btn2Func","showGameResult","infos","click1","enterLimit","click2","url","setCoin","coins","rate","rateMax","baseCoins","socre","total","infoItem","isdizhu","difen","beishu","ledou","nextScene","watingStart","hideHint","ST_GAME_START","getUserData","rateId","ST_GAME_OutCard","showAnimDouble","ST_GAME_Double","playCardsEffect","ST_GAME_SendCard","myCard","initMyCards","myShowCard","showCard","showOpratShowCard","ST_GAME_CallLord","callId","callLoad","showClock","seatId","status","showHint","hintType","callLoadNo","hideClock","grabLoad","grabLoadNo","lordId","noteCards","setJpqData","setLandlord","lordShowCard","playerRightShowCard","playerLeftShowCard","_cards","getNodeCards","candouble","can_double","waitingDouble","showOpratDouble","getShowHintType","preCards","card","sub","giveup","setCurrentCards","outCardsNum","cardNum","curSendCards","CardType","StraightThree","StraightThreePlusSingle","StraightThreePlusPair","showAnimFeiJi","DoubleKing","showAnimHuoJian","animShakeNode","Bomb","showAnimZhaDan","Straight","StraightDouble","dont","showCardInfo","setOpenHandCards","spring","boorSpring","showAnimChunTian","ST_GAME_WAIT_NEXTROUND","chupaiClick","word","playSay","players","lastCall","lastCards","lordCard","task","table_task","name","lottery","tip","coupon","w","act","turnSeat","turnSeatNum","info","trust","nick","img","cardCount","continueInfo","preSeatNum","trial_count","index","isShow","loadScene","payload","setCoupon","setLeQuan","setLottery","mail_unread","setMailUnread","weichatgame_task_unaward","setTaskUnReward","weichatgame_invite_unaward","setShareUnReward","checkin_undo","setCheckinUndo","task1_unaward","setTask1Unaward","task2_unaward","setTask2Unaward","charge_rate","setChargeRate","setPropDress","propItems","setPropItems","preloadScene","move1","moveTo","move2","move3","move4","move5","move6","move7","move8","move9"],"mappings":";;;;;;AACA,IAAIA,eAAeC,QAAQ,cAAR,CAAnB;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,WAAWF,QAAQ,UAAR,CAAf;AACA,IAAIG,sBAAsBH,QAAQ,qBAAR,CAA1B;AACA,IAAII,gBAAgBJ,QAAQ,eAAR,CAApB;AACA,IAAIK,oBAAoBL,QAAQ,mBAAR,CAAxB;AACA,IAAIM,SAASN,QAAQ,QAAR,CAAb;AACA,IAAIO,cAAcP,QAAQ,aAAR,CAAlB;AACA,IAAIQ,aAAaR,QAAQ,YAAR,CAAjB;;AAEAS,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAY;AACRC,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF,SADJ;;AAMRC,wBAAe;AACXH,qBAAU,IADC;AAEXC,kBAAOP,GAAGU;AAFC,SANP;AAURC,yBAAgB;AACZL,qBAAU,IADE;AAEZC,kBAAOP,GAAGU;AAFE,SAVR;AAcRE,sBAAa;AACTN,qBAAU,IADD;AAETC,kBAAOP,GAAGU;AAFD,SAdL;;AAmBRG,mBAAY;AACRP,qBAAU,IADF;AAERC,kBAAOP,GAAGU;AAFF,SAnBJ;;AAwBRI,kBAAW;AACPR,qBAAU,IADH;AAEPC,kBAAOP,GAAGU;AAFH,SAxBH;AA4BRK,gBAAOf,GAAGU,IA5BF;AA6BRM,sBAAa;AACTV,qBAAU,IADD;AAETC,kBAAOP,GAAGQ;AAFD,SA7BL;AAiCRS,oBAAW;AACPX,qBAAU,IADH;AAEPC,kBAAOP,GAAGU;AAFH,SAjCH;AAqCRQ,qBAAY;AACRZ,qBAAU,IADF;AAERC,kBAAOP,GAAGU;AAFF;AArCJ,KAHP;AA6CL;AACAS,UA9CK,oBA8CK;AACN,YAAIC,OAAO,IAAX;AACApB,WAAGqB,IAAH,CAAQC,EAAR,CAAWtB,GAAGqB,IAAH,CAAQE,UAAnB,EAA+B,YAAU;AACrCC,oBAAQC,GAAR,CAAY,QAAZ;AACAjC,mBAAOkC,aAAP,GAAuB,IAAvB;AACAN,iBAAKO,UAAL;AACH,SAJD,EAIE,IAJF;AAKA3B,WAAGqB,IAAH,CAAQC,EAAR,CAAWtB,GAAGqB,IAAH,CAAQO,UAAnB,EAA+B,YAAU;AACrCJ,oBAAQC,GAAR,CAAY,QAAZ;AACA1B,uBAAW8B,WAAX,CAAuB,MAAvB,EAA+B,cAA/B;AACA7B,eAAG8B,EAAH,CAAMC,QAAN,CAAeC,SAAf;AACH,SAJD,EAIE,IAJF;;AAMAhC,WAAG8B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,gBAAvB;AACH,KA5DI;AA6DLC,SA7DK,mBA6DI;AACL,YAAId,OAAO,IAAX;AACA,YAAIe,aAAanC,GAAGoC,QAAH,CAAYC,UAAZ,GAAyBC,KAA1C;AACA,YAAIC,QAAQvC,GAAGoC,QAAH,CAAYI,QAAZ,EAAZ;;AAEA,aAAKL,UAAL,GAAkBA,UAAlB;AACA,aAAKI,KAAL,GAAaA,KAAb;AACA,aAAKE,QAAL,GAAgB,CAAhB;;AAEA,aAAKC,YAAL,GAAoB,EAApB,CATK,CASkB;AACvB,aAAKC,SAAL,GAAiB,CAAC,CAAlB,CAVK,CAUe;;AAEpB,aAAKC,SAAL,GAAiB,CAAjB,CAZK,CAYc;;AAEnB,aAAKC,UAAL,GAAkB,CAAlB,CAdK,CAcgB;AACrB,aAAKC,SAAL,GAAiB,EAAjB,CAfK,CAegB;AACrB,aAAKC,SAAL,GAAiB,KAAjB,CAhBK,CAgBmB;AACxB,aAAKC,WAAL,GAAmB,EAAnB,CAjBK,CAiBmB;;AAExB5B,aAAK6B,WAAL,GAAmB,CAAnB;AACA7B,aAAK8B,KAAL,GAAa,CAAb;AACA9B,aAAK+B,MAAL,GAAc,CAAd;AACA/B,aAAKgC,GAAL,GAAW,CAAX;AACAhC,aAAKiC,KAAL,GAAa,CAAb;AACAjC,aAAKkC,YAAL,GAAoB,KAApB;;AAEA,YAAIC,eAAa/D,OAAOgE,MAAP,CAAcC,SAA/B;AACA;AACA,YAAIC,cAAc9D,iBAAlB;AACA,YAAI+D,SAAS,EAAb;AACAA,eAAOC,GAAP,GAAaF,YAAYG,MAAZ,EAAb;AACAF,eAAOG,QAAP,GAAkBJ,YAAYK,WAAZ,EAAlB;AACAJ,eAAOK,MAAP,GAAgBN,YAAYO,SAAZ,EAAhB,CAhCK,CAgCoC;AACzCN,eAAOO,IAAP,GAAcR,YAAYS,OAAZ,EAAd;AACAR,eAAOS,IAAP,GAAcV,YAAYW,OAAZ,EAAd;AACAV,eAAOW,MAAP,GAAgBZ,YAAYa,SAAZ,EAAhB;AACAZ,eAAOa,SAAP,GAAmBd,YAAYe,YAAZ,EAAnB;AACAd,eAAOe,SAAP,GAAmBnB,YAAnB,CArCK,CAqC2B;AAChCI,eAAOgB,KAAP,GAAejB,YAAYkB,QAAZ,EAAf;AACAjB,eAAOkB,QAAP,GAAkB,EAAlB;AACAlB,eAAOmB,aAAP,GAAuB,EAAvB;;AAEA,aAAKC,WAAL,GAAmB,IAAnB,CA1CK,CA0CoB;AACzB,aAAKC,cAAL,GAAsB,IAAtB;AACA,aAAKC,UAAL,GAAkB,IAAlB;AACA,aAAKC,OAAL,GAAe,IAAf;;AAGA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA,YAAIC,SAAS,IAAIzF,MAAJ,CAAW8D,MAAX,CAAb;AACAvC,aAAKmE,SAAL,GAAiBD,MAAjB;AACAlE,aAAKoE,gBAAL;AACApE,aAAKmE,SAAL,CAAeE,YAAf;;AAGA;AACA;AACA;;AAEA;AACA,aAAKC,gBAAL,GAAwB,EAAxB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,WAAL,GAAmB,IAAIhG,MAAJ,EAAnB;AACA,aAAKiG,kBAAL;;AAEA;AACA;AACA;;;AAGA;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAKC,YAAL,GAAoB,IAAIrG,MAAJ,EAApB;AACA,aAAKsG,mBAAL;AACA;AACA;;AAEA;AACA,aAAKC,kBAAL;;AAEA,aAAKnF,UAAL,CAAgBoF,MAAhB,GAAyB,KAAzB;AACA,aAAKnF,WAAL,CAAiBmF,MAAjB,GAA0B,KAA1B;AACA,aAAKC,UAAL,GAAkB,EAAlB;;AAEA,YAAG9G,OAAO+G,gBAAP,IAA2B,CAA9B,EAAgC;AAC5B;AACAxG,uBAAW8B,WAAX,CAAuB,MAAvB,EAA+B,cAA/B;AACArC,mBAAO+G,gBAAP,GAA0B,CAA1B;AACH,SAJD,MAIK;AACDxG,uBAAW8B,WAAX,CAAuB,MAAvB,EAA+B,WAA/B;AACH;AACD,aAAK2E,qBAAL;AACA,aAAKC,cAAL;AACH,KA/JI;;AAgKL;AACAA,kBAjKK,4BAiKW;AACZ,aAAKC,UAAL,GAAkB1G,GAAG2G,IAAH,CAAQ,uBAAR,CAAlB;AACA,aAAKC,YAAL,GAAoB5G,GAAG2G,IAAH,CAAQ,2BAAR,CAApB;AACA,aAAKE,eAAL,GAAuB7G,GAAG2G,IAAH,CAAQ,mCAAR,EAA6CG,YAA7C,CAA0D9G,GAAG+G,KAA7D,CAAvB;AACA,aAAKH,YAAL,CAAkBP,MAAlB,GAA2B,KAA3B;AACH,KAtKI;AAuKLW,iBAvKK,yBAuKSC,UAvKT,EAuKoB;AACrB,aAAKL,YAAL,CAAkBP,MAAlB,GAA2B,IAA3B;AACA,aAAI,IAAIa,IAAE,CAAV,EAAYA,IAAE,CAAd,EAAgBA,GAAhB,EAAoB;AAChB,gBAAIC,WAAWnH,GAAGoH,WAAH,CAAe,KAAK/G,SAApB,CAAf;AACA8G,qBAASE,MAAT,GAAkB,KAAKX,UAAvB;AACAS,qBAASG,KAAT,GAAiB,IAAjB;AACA,gBAAIC,QAAQJ,SAASL,YAAT,CAAsBxH,YAAtB,CAAZ;AACAiI,kBAAMC,SAAN,CAAgB/H,SAASgI,mBAAT,CAA6BR,WAAWC,CAAX,CAA7B,CAAhB;AACA,iBAAKZ,UAAL,CAAgBoB,IAAhB,CAAqBP,QAArB;AACH;AACJ,KAjLI;AAkLLQ,mBAlLK,6BAkLY;AACb,aAAKf,YAAL,CAAkBP,MAAlB,GAA2B,KAA3B;AACA,YAAG,KAAKC,UAAL,CAAgBsB,MAAhB,GAAyB,CAA5B,EAA8B;AAAE;AAC5B,iBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI,KAAKZ,UAAL,CAAgBsB,MAAnC,EAA2CV,GAA3C,EAA+C;AAC3C,qBAAKZ,UAAL,CAAgBY,CAAhB,EAAmBJ,YAAnB,CAAgCxH,YAAhC,EAA8CuI,IAA9C,CAAmDC,gBAAnD;AACH;AACD,iBAAKxB,UAAL,GAAkB,EAAlB;AACH;AACJ,KA1LI;AA2LLyB,eA3LK,uBA2LOC,KA3LP,EA2La;AACdxG,gBAAQC,GAAR,CAAYuG,KAAZ;AACA,YAAGA,SAAOA,SAAO,CAAjB,EAAmB,CAClB,CADD,MACK;AACD;AACH;AACD,YAAI5G,OAAO,IAAX;AACAA,aAAK6G,QAAL,CAAcC,OAAd,GAAwB,IAAxB;AACA,YAAGF,SAAS,CAAZ,EAAc;AACVhI,eAAGmI,MAAH,CAAUC,OAAV,CAAkB,SAAlB,EAA4BpI,GAAGqI,WAA/B,EAA2C,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAChEnH,qBAAK6G,QAAL,CAAcnB,YAAd,CAA2B9G,GAAGwI,MAA9B,EAAsCD,WAAtC,GAAoDA,WAApD;AACH,aAFD;AAGH;AACJ,KAxMI;AAyML/C,oBAzMK,8BAyMa;AACd,YAAIpE,OAAO,IAAX;AACA,YAAIqH,YAAazI,GAAG2G,IAAH,CAAQ,6BAAR,EAAuCG,YAAvC,CAAoD9G,GAAG+G,KAAvD,CAAjB;AACA,YAAI2B,aAAc1I,GAAG2G,IAAH,CAAQ,kCAAR,EAA4CG,YAA5C,CAAyD9G,GAAG+G,KAA5D,CAAlB;AACA,YAAI4B,cAAe3I,GAAG2G,IAAH,CAAQ,oCAAR,EAA8CG,YAA9C,CAA2D9G,GAAG+G,KAA9D,CAAnB;AACA,YAAI6B,gBAAiB5I,GAAG2G,IAAH,CAAQ,kCAAR,EAA4CG,YAA5C,CAAyD9G,GAAGwI,MAA5D,CAArB;AACA,YAAIK,YAAa7I,GAAG2G,IAAH,CAAQ,+BAAR,EAAyCG,YAAzC,CAAsD9G,GAAGwI,MAAzD,CAAjB;AACA,YAAIM,iBAAkB9I,GAAG2G,IAAH,CAAQ,wCAAR,EAAkDG,YAAlD,CAA+D9G,GAAGwI,MAAlE,CAAtB;;AAGA,YAAIO,QAAQ,EAAZ;AACAA,cAAMN,SAAN,GAAkBA,SAAlB,CAXc,CAWc;AAC5BM,cAAML,UAAN,GAAmBA,UAAnB,CAZc,CAYgB;AAC9BK,cAAMJ,WAAN,GAAoBA,WAApB,CAbc,CAakB;AAChCI,cAAMC,aAAN,GAAsB,IAAtB,CAdc,CAca;AAC3BD,cAAMH,aAAN,GAAsBA,aAAtB,CAfc,CAesB;AACpCG,cAAME,aAAN,GAAsB,IAAtB,CAhBc,CAgBa;AAC3BF,cAAMF,SAAN,GAAkBA,SAAlB,CAjBc,CAiBc;AAC5BE,cAAMG,kBAAN,GAA2B,IAA3B,CAlBc,CAkBkB;AAChCH,cAAMD,cAAN,GAAuBA,cAAvB,CAnBc,CAmBwB;AACtCC,cAAM1I,SAAN,GAAkB,KAAKA,SAAvB,CApBc,CAoBmB;AACjC0I,cAAMI,UAAN,GAAmB,IAAnB,CArBc,CAqBU;;AAExBP,sBAAcV,OAAd,GAAwB,KAAxB;AACAa,cAAMF,SAAN,CAAgBX,OAAhB,GAA0B,KAA1B;AACA9G,aAAKmE,SAAL,CAAe6D,SAAf,CAAyBL,KAAzB;;AAEA;AACA3H,aAAKiI,WAAL,GAAmBrJ,GAAG2G,IAAH,CAAQ,iBAAR,EAA2BG,YAA3B,CAAwC9G,GAAGwI,MAA3C,CAAnB;AACApH,aAAKkI,aAAL,GAAqBtJ,GAAG2G,IAAH,CAAQ,0BAAR,EAAoCG,YAApC,CAAiD9G,GAAG+G,KAApD,CAArB;AACA3F,aAAKiI,WAAL,CAAiBnB,OAAjB,GAA2B,KAA3B;AACA9G,aAAKkI,aAAL,CAAmBC,MAAnB,GAA4B,EAA5B;;AAEAnI,aAAKoI,UAAL,GAAkBxJ,GAAG2G,IAAH,CAAQ,gCAAR,EAA0CG,YAA1C,CAAuD9G,GAAG+G,KAA1D,CAAlB;AACA,YAAGvH,OAAOiK,SAAV,EAAoB;AAChBrI,iBAAKoI,UAAL,CAAgBD,MAAhB,GAAyB/J,OAAOkK,SAAP,CAAiBlK,OAAOiK,SAAP,CAAiBE,MAAlC,CAAzB;AACH;AACDvI,aAAKwI,eAAL,GAAuB5J,GAAG2G,IAAH,CAAQ,oBAAR,CAAvB;AACAvF,aAAKyI,gBAAL,GAAwB7J,GAAG2G,IAAH,CAAQ,gCAAR,EAA0CG,YAA1C,CAAuD9G,GAAG+G,KAA1D,CAAxB;AACA3F,aAAK0I,gBAAL,GAAwB9J,GAAG2G,IAAH,CAAQ,qBAAR,CAAxB;AACAvF,aAAK2I,iBAAL,GAAyB/J,GAAG2G,IAAH,CAAQ,iCAAR,EAA2CG,YAA3C,CAAwD9G,GAAG+G,KAA3D,CAAzB;AACA3F,aAAKwI,eAAL,CAAqBvD,MAArB,GAA8B,KAA9B;AACAjF,aAAK0I,gBAAL,CAAsBzD,MAAtB,GAA+B,KAA/B;;AAGA;AACAjF,aAAK6G,QAAL,GAAgBjI,GAAG2G,IAAH,CAAQ,wBAAR,EAAkCG,YAAlC,CAA+C9G,GAAGwI,MAAlD,CAAhB;AACApH,aAAK6G,QAAL,CAAcC,OAAd,GAAwB,KAAxB;AAEH,KA1PI;AA2PLpC,sBA3PK,gCA2Pe;AAChB,YAAI1E,OAAO,IAAX;AACA,YAAIqH,YAAazI,GAAG2G,IAAH,CAAQ,8BAAR,EAAwCG,YAAxC,CAAqD9G,GAAG+G,KAAxD,CAAjB;AACA,YAAI2B,aAAc1I,GAAG2G,IAAH,CAAQ,oCAAR,EAA8CG,YAA9C,CAA2D9G,GAAG+G,KAA9D,CAAlB;AACA,YAAIiC,gBAAgBhJ,GAAG2G,IAAH,CAAQ,qCAAR,EAA+CG,YAA/C,CAA4D9G,GAAG+G,KAA/D,CAApB;AACA,YAAI6B,gBAAiB5I,GAAG2G,IAAH,CAAQ,mCAAR,EAA6CG,YAA7C,CAA0D9G,GAAGwI,MAA7D,CAArB;AACA,YAAIS,gBAAiBjJ,GAAG2G,IAAH,CAAQ,oCAAR,EAA8CG,YAA9C,CAA2D9G,GAAGwI,MAA9D,CAArB;AACA,YAAIK,YAAa7I,GAAG2G,IAAH,CAAQ,2CAAR,EAAqDG,YAArD,CAAkE9G,GAAGwI,MAArE,CAAjB;AACA,YAAIU,qBAAqBlJ,GAAG2G,IAAH,CAAQ,yCAAR,CAAzB,CARgB,CAQ4D;AAC5E,YAAImC,iBAAkB9I,GAAG2G,IAAH,CAAQ,yCAAR,EAAmDG,YAAnD,CAAgE9G,GAAGwI,MAAnE,CAAtB;AACA,YAAIW,aAAcnJ,GAAG2G,IAAH,CAAQ,0BAAR,CAAlB;;AAEA,YAAIoC,QAAQ,EAAZ;AACAA,cAAMN,SAAN,GAAkBA,SAAlB,CAbgB,CAaY;AAC5BM,cAAML,UAAN,GAAmBA,UAAnB,CAdgB,CAcc;AAC9BK,cAAMJ,WAAN,GAAoB,IAApB,CAfgB,CAeS;AACzBI,cAAMC,aAAN,GAAsBA,aAAtB,CAhBgB,CAgBoB;AACpCD,cAAMH,aAAN,GAAsBA,aAAtB,CAjBgB,CAiBoB;AACpCG,cAAME,aAAN,GAAsBA,aAAtB,CAlBgB,CAkBoB;AACpCF,cAAMF,SAAN,GAAkBA,SAAlB,CAnBgB,CAmBY;AAC5BE,cAAMG,kBAAN,GAA2BA,kBAA3B,CApBgB,CAoB8B;AAC9CH,cAAMD,cAAN,GAAuBA,cAAvB,CArBgB,CAqBsB;AACtCC,cAAM1I,SAAN,GAAkB,KAAKA,SAAvB,CAtBgB,CAsBiB;AACjC0I,cAAMI,UAAN,GAAmBA,UAAnB,CAvBgB,CAuBc;;AAE9BP,sBAAcV,OAAd,GAAwB,KAAxB;AACAe,sBAAcf,OAAd,GAAwB,KAAxB;AACAW,kBAAUX,OAAV,GAAoB,KAApB;AACAgB,2BAAmB7C,MAAnB,GAA4B,KAA5B;AACA8C,mBAAW9C,MAAX,GAAoB,KAApB;;AAEAjF,aAAKyE,WAAL,CAAiBuD,SAAjB,CAA2BL,KAA3B;AACH,KA3RI;AA4RL5C,uBA5RK,iCA4RgB;AACjB,YAAI/E,OAAO,IAAX;AACA,YAAIqH,YAAazI,GAAG2G,IAAH,CAAQ,+BAAR,EAAyCG,YAAzC,CAAsD9G,GAAG+G,KAAzD,CAAjB;AACA,YAAI2B,aAAc1I,GAAG2G,IAAH,CAAQ,qCAAR,EAA+CG,YAA/C,CAA4D9G,GAAG+G,KAA/D,CAAlB;AACA,YAAIiC,gBAAgBhJ,GAAG2G,IAAH,CAAQ,sCAAR,EAAgDG,YAAhD,CAA6D9G,GAAG+G,KAAhE,CAApB;AACA,YAAI6B,gBAAiB5I,GAAG2G,IAAH,CAAQ,oCAAR,EAA8CG,YAA9C,CAA2D9G,GAAGwI,MAA9D,CAArB;AACA,YAAIS,gBAAiBjJ,GAAG2G,IAAH,CAAQ,qCAAR,EAA+CG,YAA/C,CAA4D9G,GAAGwI,MAA/D,CAArB;AACA,YAAIK,YAAa7I,GAAG2G,IAAH,CAAQ,gDAAR,EAA0DG,YAA1D,CAAuE9G,GAAGwI,MAA1E,CAAjB;AACA,YAAIU,qBAAqBlJ,GAAG2G,IAAH,CAAQ,2CAAR,CAAzB,CARiB,CAQ6D;AAC9E,YAAImC,iBAAkB9I,GAAG2G,IAAH,CAAQ,0CAAR,EAAoDG,YAApD,CAAiE9G,GAAGwI,MAApE,CAAtB;AACA,YAAIW,aAAcnJ,GAAG2G,IAAH,CAAQ,2BAAR,CAAlB;;AAEA,YAAIoC,QAAQ,EAAZ;AACAA,cAAMN,SAAN,GAAkBA,SAAlB,CAbiB,CAaW;AAC5BM,cAAML,UAAN,GAAmBA,UAAnB,CAdiB,CAca;AAC9BK,cAAMJ,WAAN,GAAoB,IAApB,CAfiB,CAeQ;AACzBI,cAAMC,aAAN,GAAsBA,aAAtB,CAhBiB,CAgBmB;AACpCD,cAAMH,aAAN,GAAsBA,aAAtB,CAjBiB,CAiBmB;AACpCG,cAAME,aAAN,GAAsBA,aAAtB,CAlBiB,CAkBmB;AACpCF,cAAMF,SAAN,GAAkBA,SAAlB,CAnBiB,CAmBW;AAC5BE,cAAMG,kBAAN,GAA2BA,kBAA3B,CApBiB,CAoB6B;AAC9CH,cAAMD,cAAN,GAAuBA,cAAvB,CArBiB,CAqBqB;AACtCC,cAAM1I,SAAN,GAAkB,KAAKA,SAAvB,CAtBiB,CAsBgB;AACjC0I,cAAMI,UAAN,GAAmBA,UAAnB,CAvBiB,CAuBa;;AAE9BP,sBAAcV,OAAd,GAAwB,KAAxB;AACAe,sBAAcf,OAAd,GAAwB,KAAxB;AACAW,kBAAUX,OAAV,GAAoB,KAApB;AACAgB,2BAAmB7C,MAAnB,GAA4B,KAA5B;AACA8C,mBAAW9C,MAAX,GAAoB,KAApB;;AAEAjF,aAAK8E,YAAL,CAAkBkD,SAAlB,CAA4BL,KAA5B;AACH,KA5TI;AA6TLpH,cA7TK,wBA6TO;AAAC;AACT,aAAK4D,SAAL,CAAeyE,KAAf;AACA,aAAKnE,WAAL,CAAiBmE,KAAjB;AACA,aAAK9D,YAAL,CAAkB8D,KAAlB;;AAEA,aAAKrC,eAAL;;AAEA,aAAKpC,SAAL,CAAe0E,cAAf,CAA8B,KAAK5E,YAAnC;AACA,aAAKQ,WAAL,CAAiBoE,cAAjB,CAAgC,KAAKvE,gBAArC;AACA,aAAKQ,YAAL,CAAkB+D,cAAlB,CAAiC,KAAKlE,iBAAtC;;AAEA,YAAG,KAAKX,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EAA+B;AAAE;AAC7B,iBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI,KAAK9B,WAAL,CAAiBwC,MAApC,EAA4CV,GAA5C,EAAgD;AAC5C,qBAAK9B,WAAL,CAAiB8B,CAAjB,EAAoBJ,YAApB,CAAiCxH,YAAjC,EAA+CuI,IAA/C,CAAoDC,gBAApD;AACH;AACD,iBAAK1C,WAAL,GAAmB,EAAnB;AACH;AACD,aAAKD,WAAL,GAAmB,EAAnB;;AAEA,YAAG,KAAKS,aAAL,CAAmBgC,MAAnB,GAA4B,CAA/B,EAAiC;AAAE;AAC/B,iBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI,KAAKtB,aAAL,CAAmBgC,MAAtC,EAA8CV,GAA9C,EAAkD;AAC9C,qBAAKtB,aAAL,CAAmBsB,CAAnB,EAAsBJ,YAAtB,CAAmCxH,YAAnC,EAAiDuI,IAAjD,CAAsDC,gBAAtD;AACH;AACD,iBAAKlC,aAAL,GAAqB,EAArB;AACH;AACD,aAAKD,aAAL,GAAqB,EAArB;;AAEA,YAAG,KAAKM,cAAL,CAAoB2B,MAApB,GAA6B,CAAhC,EAAkC;AAAE;AAChC,iBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI,KAAKjB,cAAL,CAAoB2B,MAAvC,EAA+CV,GAA/C,EAAmD;AAC/C,qBAAKjB,cAAL,CAAoBiB,CAApB,EAAuBJ,YAAvB,CAAoCxH,YAApC,EAAkDuI,IAAlD,CAAuDC,gBAAvD;AACH;AACD,iBAAK7B,cAAL,GAAsB,EAAtB;AACH;AACD,aAAKD,cAAL,GAAsB,EAAtB;;AAEA,aAAK/E,UAAL,CAAgBoF,MAAhB,GAAyB,KAAzB;AACA,aAAKnF,WAAL,CAAiBmF,MAAjB,GAA0B,KAA1B;AACA,aAAKgD,WAAL,CAAiBnB,OAAjB,GAA2B,KAA3B;AACA,aAAKoB,aAAL,CAAmBC,MAAnB,GAA4B,EAA5B;;AAEA,aAAKtB,QAAL,CAAcC,OAAd,GAAwB,KAAxB;;AAEA,aAAKxF,YAAL,GAAoB,EAApB,CA1CQ,CA0Ce;AACvB,aAAKC,SAAL,GAAiB,CAAC,CAAlB,CA3CQ,CA2CY;;AAEpBnB,gBAAQC,GAAR,CAAY,QAAZ;;AAEA,YAAG,KAAKuD,cAAR,EAAuB;AACnBxD,oBAAQC,GAAR,CAAY,cAAZ;AACA,iBAAKuD,cAAL,CAAoBkF,KAApB;AACA,iBAAKlF,cAAL,GAAsB,IAAtB;AACH;;AAED,YAAG,KAAKE,OAAR,EAAgB;AACZ1D,oBAAQC,GAAR,CAAY,aAAZ;AACA,iBAAKyD,OAAL,CAAagF,KAAb;AACA,iBAAKhF,OAAL,GAAe,IAAf;AACH;AACJ,KAvXI;;AAwXL;AACAkB,sBAzXK,gCAyXe;AAChB,YAAIhF,OAAO,IAAX;AACA,aAAKL,MAAL,CAAYO,EAAZ,CAAetB,GAAGU,IAAH,CAAQyJ,SAAR,CAAkBC,WAAjC,EAA8C,UAASC,KAAT,EAAe;AACzD;AACA,gBAAGjJ,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EACA,OAAO,KAAP;AACA,gBAAI0C,IAAID,MAAME,WAAN,EAAR;AACA;AACAnJ,iBAAK6B,WAAL,GAAmBqH,EAAEE,CAArB;AACApJ,iBAAK8B,KAAL,GAAa,CAAb;AACA9B,iBAAK+B,MAAL,GAAc,KAAd;AACA/B,iBAAKgC,GAAL,GAAW,KAAX;AACAhC,iBAAKiC,KAAL,GAAa,CAAb;AACAjC,iBAAKkC,YAAL,GAAoB,IAApB;AACAlC,iBAAKqJ,oBAAL,CAA0BrJ,KAAKgE,WAA/B,EAA2CkF,EAAEE,CAA7C,EAA+CF,EAAEI,CAAjD,EAAmDtJ,KAAKkC,YAAxD;;AAEA,gBAAIlC,KAAKkC,YAAT,EAAsB;AAClB,oBAAIqH,KAAKvJ,KAAKgE,WAAL,CAAiB,CAAjB,EAAoBwF,YAApB,EAAT;AACA,oBAAIC,KAAKzJ,KAAKgE,WAAL,CAAiBhE,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAAzC,EAA4CgD,YAA5C,EAAT;AACA,oBAAIE,KAAK1J,KAAKgE,WAAL,CAAiB,CAAjB,EAAoB2F,YAApB,EAAT;AACA,oBAAIC,QAAQ5J,KAAKgE,WAAL,CAAiB,CAAjB,EAAoB6F,cAApB,EAAZ;AACA,oBAAIC,SAASF,MAAM1I,KAAnB;AACA,oBAAI6I,UAAUH,MAAMI,MAApB;;AAEA,oBAAIC,aAAa,EAAjB;;AAEAjK,qBAAK8B,KAAL,GAAayH,KAAGO,SAAO,CAAV,GAAYG,UAAzB;AACAjK,qBAAK+B,MAAL,GAAc0H,KAAGK,SAAO,CAAV,GAAYG,UAA1B;AACAjK,qBAAKgC,GAAL,GAAW0H,KAAGK,UAAQ,CAAX,GAAa,EAAxB;AACA/J,qBAAKiC,KAAL,GAAayH,KAAGK,UAAQ,CAAxB;;AAEA;AACA,oBAAI/J,KAAKkC,YAAL,KAAsBgH,EAAEI,CAAF,GAAMtJ,KAAKgC,GAAX,IAAkBkH,EAAEI,CAAF,GAAMtJ,KAAKiC,KAA7B,IAAsCiH,EAAEE,CAAF,GAAMpJ,KAAK8B,KAAjD,IAA0DoH,EAAEE,CAAF,GAAMpJ,KAAK+B,MAA3F,CAAJ,EAAuG;AACnG/B,yBAAKkK,eAAL,CAAqBlK,KAAKgE,WAA1B;AACH;AACJ;AACJ,SAlCD,EAkCG,KAAKyC,IAlCR;AAmCA,aAAK9G,MAAL,CAAYO,EAAZ,CAAetB,GAAGU,IAAH,CAAQyJ,SAAR,CAAkBoB,SAAjC,EAA2C,UAASlB,KAAT,EAAe;AACtD;AACA,gBAAGjJ,KAAK6D,UAAR,EAAmB;AACf7D,qBAAK6D,UAAL,CAAgBiF,KAAhB;AACA9I,qBAAK6D,UAAL,GAAkB,IAAlB;AACH;AACD,gBAAG7D,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EACA;AACA,gBAAI0C,IAAID,MAAME,WAAN,EAAR;AACAnJ,iBAAKoK,QAAL,CAAcpK,KAAKgE,WAAnB;AACH,SAVD,EAUG,KAAKyC,IAVR;AAWA,aAAK9G,MAAL,CAAYO,EAAZ,CAAetB,GAAGU,IAAH,CAAQyJ,SAAR,CAAkBsB,UAAjC,EAA4C,UAASpB,KAAT,EAAe;AACvD,gBAAGjJ,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EACA;AACA,gBAAI0C,IAAID,MAAME,WAAN,EAAR;AACA,gBAAImB,KAAKC,GAAL,CAASvK,KAAK6B,WAAL,GAAmBqH,EAAEE,CAA9B,IAAmC,EAAvC,EAA0C;AACtCpJ,qBAAKkC,YAAL,GAAoB,KAApB;AACAlC,qBAAKqJ,oBAAL,CAA0BrJ,KAAKgE,WAA/B,EAA2CkF,EAAEE,CAA7C,EAA+CF,EAAEI,CAAjD,EAAmDtJ,KAAKkC,YAAxD;AACH;AACJ,SARD,EAQG,KAAKuE,IARR;AASH,KAlbI;;AAmbL;AACA+D,mBApbK,6BAobY;AACb,aAAK7K,MAAL,CAAY8K,SAAZ,CAAsB,KAAKhE,IAA3B;AACArG,gBAAQC,GAAR,CAAY,KAAZ;AACH,KAvbI;AAwbLgJ,wBAxbK,gCAwbgBrF,WAxbhB,EAwb4BoF,CAxb5B,EAwb8BE,CAxb9B,EAwbgCoB,YAxbhC,EAwb6C;AAC9C,YAAIC,aAAa,KAAK9I,WAAtB;AACA,YAAI+I,WAAWxB,CAAf;AACA,aAAKlH,YAAL,GAAoBwI,YAApB;;AAEA,YAAI,KAAK7I,WAAL,GAAmBuH,CAAvB,EAAyB;AACrBuB,yBAAavB,CAAb;AACAwB,uBAAW,KAAK/I,WAAhB;AACH;AACD;AACA,YAAI+I,WAAWD,UAAX,GAAsB,CAA1B,EAA4B;AACxBC,uBAAWD,UAAX;AACH;;AAED,aAAI,IAAI7E,IAAI,CAAZ,EAAcA,IAAI9B,YAAYwC,MAA9B,EAAqCV,GAArC,EAAyC;AACrC,gBAAI+E,YAAY7G,YAAY8B,CAAZ,CAAhB;AACA,gBAAIgF,OAAOD,UAAUlB,YAAV,EAAX;AACA,gBAAIoB,OAAOF,UAAUhB,cAAV,EAAX;AACA,gBAAImB,OAAOH,UAAUrB,YAAV,EAAX,CAJqC,CAIA;;AAErC,gBAAItI,QAAQ6J,KAAK7J,KAAjB;AACA,gBAAI8I,SAASe,KAAKf,MAAlB;;AAEA,gBAAIC,aAAa7L,OAAO6M,OAAP,CAAeC,MAAf,CAAsBjB,UAAvC;;AAEA,gBAAIkB,QAAQH,OAAO9J,QAAM,CAAb,GAAe+I,UAA3B;AACA,gBAAImB,OAAQJ,OAAO9J,QAAM,CAAzB;AACA,gBAAImK,SAASP,OAAOd,SAAO,CAA3B;AACA,gBAAIsB,KAAKR,OAAOd,SAAO,CAAvB;AACA;AACA,gBAAGlE,KAAK9B,YAAYwC,MAAZ,GAAmB,CAA3B,EAA6B;AACzB2E,wBAAQH,OAAK9J,QAAM,CAAnB;AACH;AACD,gBAAKoI,KAAK+B,MAAL,IAAe/B,KAAKgC,EAApB,KACCF,QAAOT,UAAP,IAAqBS,QAAQR,QAA9B,IAA4CO,SAAQR,UAAR,IAAsBQ,SAASP,QAA3E,IACAD,cAAaS,IAAb,IAAqBT,cAAcQ,KADnC,IAC8CP,YAAWQ,IAAX,IAAmBR,YAAYO,KAF7E,CAAL,EAE0F;AAClFN,0BAAUnF,YAAV,CAAuBxH,YAAvB,EAAqCqN,UAArC,CAAgD,IAAhD;AACH,aAJL,MAIS,CACR;AACJ;AACJ,KAheI;AAieLnB,YAjeK,oBAieIpG,WAjeJ,EAiegB;AACjB,aAAI,IAAI8B,IAAI,CAAZ,EAAcA,IAAI9B,YAAYwC,MAA9B,EAAqCV,GAArC,EAAyC;AACrC,gBAAI+E,YAAY7G,YAAY8B,CAAZ,CAAhB;AACA+E,sBAAUnF,YAAV,CAAuBxH,YAAvB,EAAqCsN,QAArC;AACH;AACJ,KAteI;AAueLtB,mBAveK,2BAueWlG,WAveX,EAueuB;AACxB5D,gBAAQC,GAAR,CAAY,iBAAZ;AACA,aAAI,IAAIyF,IAAI,CAAZ,EAAcA,IAAI9B,YAAYwC,MAA9B,EAAqCV,GAArC,EAAyC;AACrC,gBAAI+E,YAAY7G,YAAY8B,CAAZ,CAAhB;AACA+E,sBAAUnF,YAAV,CAAuBxH,YAAvB,EAAqCuN,YAArC;AACH;AACJ,KA7eI;AA8eLC,UA9eK,oBA8eG;AACJtL,gBAAQC,GAAR,CAAY,QAAZ;AACA,aAAKsL,WAAL;AACH,KAjfI;AAkfLC,UAlfK,oBAkfG;AACJxL,gBAAQC,GAAR,CAAY,QAAZ;AACA;AACA,YAAI2D,cAAc,KAAKA,WAAvB;AACA,YAAID,cAAc,KAAKA,WAAvB;AACA,YAAI8H,WAAWxN,SAASyN,aAAT,CAAuB9H,WAAvB,EAAmC9F,YAAnC,CAAf;;AAEA,YAAI6N,UAAU,EAAd;AACA,aAAI,IAAIjG,IAAI/B,YAAYyC,MAAZ,GAAqB,CAAjC,EAAoCV,IAAI,CAAC,CAAzC,EAA2CA,GAA3C,EAA+C;AAC3CiG,oBAAQzF,IAAR,CAAavC,YAAY+B,CAAZ,EAAekG,OAA5B;AACA5L,oBAAQC,GAAR,CAAY,OAAK0D,YAAY+B,CAAZ,EAAekG,OAAhC;AACH;;AAED,YAAIC,YAAY5N,SAAS6N,oBAAT,CAA8BH,OAA9B,EAAsCF,QAAtC,CAAhB;AACA,YAAGI,UAAUzF,MAAV,GAAmB,CAAtB,EAAwB,CACvB,CADD,MACK;AACD,iBAAK0D,eAAL,CAAqBlG,WAArB,EADC,CACiC;AAClC3F,qBAAS8N,oBAAT,CAA8BnI,WAA9B,EAA0C9F,YAA1C,EAAuD+N,SAAvD;AACH;AACJ,KArgBI;;AAsgBL;AACAN,eAvgBK,uBAugBOS,IAvgBP,EAugBY;AACb,YAAIpM,OAAO,IAAX;AACA;AACA;AACA,YAAImB,QAAQvC,GAAGoC,QAAH,CAAYI,QAAZ,EAAZ;AACA,YAAI4C,cAAc,KAAKA,WAAvB;AACA,YAAID,cAAc,KAAKA,WAAvB;;AAEA,YAAIsI,YAAY,SAAZA,SAAY,GAAU;AACtBrM,iBAAKkK,eAAL,CAAqBlG,WAArB;AACArF,uBAAW8B,WAAX,CAAuB,MAAvB,EAA8B,gBAA9B;AACA,gBAAGT,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACJ,SAPD;AAQA,YAAI2I,WAAW,CAAf;AACA,YAAIC,YAAY,SAAZA,SAAY,GAAU;AACtB,gBAAIC,QAAQ,EAAZ,CADsB,CACP;AACf,gBAAGxM,KAAKsB,YAAL,IAAmBtB,KAAKsB,YAAL,CAAkBkF,MAAlB,GAAyB,CAA/C,EAAiD;AAC7C,oBAAIiG,YAAYpO,SAASqO,mBAAT,CAA6B1M,KAAKsB,YAAlC,CAAhB;AACAlB,wBAAQC,GAAR,CAAYoM,SAAZ;AACA,qBAAI,IAAI3G,IAAG,CAAX,EAAaA,IAAE2G,UAAUjG,MAAzB,EAAgCV,GAAhC,EAAoC;AAChC0G,0BAAMlG,IAAN,CAAWmG,UAAU3G,CAAV,EAAakG,OAAxB;AACH;AACJ;AACDQ,kBAAMG,IAAN,CAAWvO,OAAOwO,OAAlB;;AAEA;;AAEA,gBAAIC,YAAYxO,SAASyO,gBAAT,CAA0BN,KAA1B,CAAhB;AACA,gBAAIO,UAAU,EAAd;AACA3M,oBAAQC,GAAR,CAAYwM,SAAZ;AACA,iBAAI,IAAI/G,IAAI/B,YAAYyC,MAAZ,GAAqB,CAAjC,EAAoCV,IAAI,CAAC,CAAzC,EAA2CA,GAA3C,EAA+C;AAC3C,oBAAIkH,YAAY3O,SAAS4O,cAAT,CAAwBlJ,YAAY+B,CAAZ,EAAekG,OAAvC,CAAhB;AACAe,wBAAQzG,IAAR,CAAa0G,SAAb;AACH;;AAED,gBAAIE,aAAa7O,SAAS8O,gBAAT,CAA0BN,SAA1B,EAAoCE,OAApC,CAAjB;AACA,gBAAGG,WAAW1G,MAAX,IAAqB,CAAxB,EAA0B;AACtBpG,wBAAQC,GAAR,CAAY,aAAZ;AACA,oBAAGL,KAAK2D,WAAR,EAAoB;AAChB;AACA0I;AACH;AACD;AACH;AACDG,oBAAQU,WAAWZ,QAAX,CAAR;AACA,gBAAGA,WAASY,WAAW1G,MAAX,GAAkB,CAA9B,EAAgC;AAC5B8F;AACH,aAFD,MAEK;AACDA,2BAAW,CAAX;AACH;;AAED,iBAAK7F,IAAL,CAAU2G,cAAV;AACApN,iBAAKkK,eAAL,CAAqBlG,WAArB;AACA,gBAAIqJ,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjChP,yBAAS8N,oBAAT,CAA8BnI,WAA9B,EAA0C9F,YAA1C,EAAuDsO,KAAvD;AACH,aAFc,CAAf;AAGA,gBAAIc,QAAQ1O,GAAG2O,SAAH,CAAa,GAAb,CAAZ;AACA,iBAAK9G,IAAL,CAAU+G,SAAV,CAAoB5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAApB;;AAEA,mBAAO,GAAP;AACH,SA9CD;AA+CA,YAAIK,aAAa,SAAbA,UAAa,GAAU;AACvBtN,oBAAQC,GAAR,CAAY,OAAZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAGL,KAAKiE,YAAL,IAAmBjE,KAAKiE,YAAL,CAAkBuC,MAAlB,GAA2B,CAAjD,EAAmD;AAC/CpG,wBAAQC,GAAR,CAAY,yBAAuBL,KAAKiE,YAAL,CAAkBuC,MAArD;AACA,qBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKiE,YAAL,CAAkBuC,MAArC,EAA6CV,GAA7C,EAAiD;AAC7C9F,yBAAKiE,YAAL,CAAkB6B,CAAlB,EAAqBJ,YAArB,CAAkCxH,YAAlC,EAAgDuI,IAAhD,CAAqDC,gBAArD;AACH;AACD1G,qBAAKiE,YAAL,GAAoB,EAApB;AACH;AACD,gBAAI0J,WAAW,EAAf;AACA,gBAAIC,cAAc,EAAlB;AACA;AACA,iBAAI,IAAI9H,IAAI/B,YAAYyC,MAAZ,GAAqB,CAAjC,EAAoCV,IAAI,CAAC,CAAzC,EAA2CA,GAA3C,EAA+C;AAC3C,oBAAG/B,YAAY+B,CAAZ,EAAe+H,QAAlB,EAA2B;AACvB,wBAAIb,YAAY3O,SAAS4O,cAAT,CAAwBlJ,YAAY+B,CAAZ,EAAekG,OAAvC,CAAhB;AACA2B,6BAASrH,IAAT,CAAc0G,SAAd;AACA,wBAAIc,WAAW/J,YAAY+B,CAAZ,EAAeiI,QAA9B;AACA,wBAAIC,gBAAgB;AAChBhC,iCAAUgB,SADM;AAEhBe,kCAAWD;AAFK,qBAApB;AAIAF,gCAAYtH,IAAZ,CAAiB0H,aAAjB;AACH;AACJ;;AAED,gBAAGL,SAASnH,MAAT,IAAiB,CAApB,EAAsB;AAClB,oBAAIyH,eAAe5P,SAASyO,gBAAT,CAA0Ba,QAA1B,CAAnB;AACA;AACA,oBAAGM,aAAa9O,IAAb,IAAqB,CAAxB,EAA0B;AACtBiB,4BAAQC,GAAR,CAAY,SAAZ;AACA,2BAAO,CAAC,CAAR;AACH;AACJ,aAPD,MAOK;AACDD,wBAAQC,GAAR,CAAY,OAAZ;AACA,uBAAO,CAAP;AACH;;AAED,gBAAI6N,OAAO7P,SAAS8P,mBAAT,CAA6BP,WAA7B,CAAX;AACA;AACAjP,uBAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyCyN,IAAzC;AACH,SA7CD;;AA+CA,YAAIE,UAAUhQ,OAAOiQ,eAArB;AACA,YAAGjC,IAAH,EAAQ;AACJgC,sBAAUhC,IAAV;AACH;;AAGDpM,aAAKqM,SAAL,GAAiBA,SAAjB;AACArM,aAAKuM,SAAL,GAAiBA,SAAjB;AACAvM,aAAK0N,UAAL,GAAkBA,UAAlB;;AAEA,YAAG1N,KAAKmE,SAAL,CAAemK,YAAf,MAA+B,EAA/B,IAAqCtO,KAAKqB,QAAL,IAAiBrB,KAAKuB,SAA9D,EAAwE;AACpEvB,iBAAKuO,YAAL,CAAkBH,OAAlB,EAA0B,IAA1B,EAA+BV,UAA/B,EAA0CtP,OAAOoQ,SAAP,CAAiBC,WAA3D;AACH,SAFD,MAEK;AACD,gBAAIC,YAAY9P,GAAGoH,WAAH,CAAe,KAAKpG,YAApB,CAAhB;AACA8O,sBAAUzI,MAAV,GAAmB9E,KAAnB;AACA,gBAAIwN,mBAAmBD,UAAUhJ,YAAV,CAAuBpH,mBAAvB,CAAvB;AACAqQ,6BAAiBC,IAAjB,CAAsBR,OAAtB,EAA8B/B,SAA9B,EAAwCE,SAAxC,EAAkDmB,UAAlD;;AAEA,gBAAG,CAAC1N,KAAK2D,WAAT,EAAqB;AACjB3D,qBAAK2D,WAAL,GAAmBgL,gBAAnB;AACH;AACJ;AACJ,KA5oBI;AA6oBLE,eA7oBK,uBA6oBOhJ,UA7oBP,EA6oBkB;AAAC;AACpB,YAAI7F,OAAO,IAAX;;AAEA,YAAG6F,UAAH,EAAc;AAAC;AACX,gBAAIiJ,WAAWzQ,SAASqO,mBAAT,CAA6B7G,UAA7B,CAAf;AACAiJ,qBAASnC,IAAT,CAActO,SAAS0Q,OAAvB,EAFU,CAEsB;AAChC/O,iBAAKiE,YAAL,GAAoBjE,KAAKmE,SAAL,CAAe6K,WAAf,CAA2BhP,KAAKiE,YAAhC,EAA6C6K,QAA7C,EAAsD9O,KAAKgE,WAA3D,EAAuEhE,KAAK+D,WAA5E,CAApB;AACH,SAJD,MAIK,CASJ;AARG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGJ;AACA/D,aAAKmE,SAAL,CAAe8K,QAAf,CAAwBjP,KAAKiE,YAA7B;AACAjE,aAAKmE,SAAL,CAAe+K,WAAf,CAA2BlP,KAAKgE,WAAhC,EAA4C5F,OAAO6M,OAAP,CAAeC,MAA3D,EAAkElL,KAAKe,UAAvE;AACA;AACA,YAAGf,KAAKmE,SAAL,CAAegL,WAAf,MAA8BnP,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAAzD,EAA2D;AACvDxG,iBAAKgE,WAAL,CAAiBhE,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAAzC,EAA4Cd,YAA5C,CAAyDxH,YAAzD,EAAuEkR,YAAvE,CAAoF,IAApF;AACH;AACD,YAAGpP,KAAKmE,SAAL,CAAekL,gBAAf,MAAmCrP,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAA9D,EAAgE;AAC5DxG,iBAAKgE,WAAL,CAAiBhE,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAAzC,EAA4Cd,YAA5C,CAAyDxH,YAAzD,EAAuEoR,WAAvE,CAAmF,IAAnF;AACH;AACDtP,aAAKmE,SAAL,CAAeoL,YAAf,CAA4BvP,KAAKgE,WAAL,CAAiBwC,MAA7C;AACH,KA1qBI;AA2qBLgJ,iBA3qBK,yBA2qBS3J,UA3qBT,EA2qBoBiJ,QA3qBpB,EA2qB6BW,UA3qB7B,EA2qBwC;AACzC,YAAIzP,OAAO,IAAX;AACA,YAAIe,aAAa,KAAKA,UAAtB;;AAEA,YAAG,CAAC8E,UAAJ,EAAe;AACX;AACH;;AAED,YAAGiJ,QAAH,EAAY,CACX,CADD,MACK;AACDA,uBAAWzQ,SAASqO,mBAAT,CAA6B7G,UAA7B,CAAX;AACA;AACH;;AAED;AACA,YAAG4J,UAAH,EAAc;AACVX,qBAASnC,IAAT,CAActO,SAAS0Q,OAAvB,EADU,CACsB;AAChC/O,iBAAKsE,gBAAL,GAAwBtE,KAAKyE,WAAL,CAAiBuK,WAAjB,CAA6BhP,KAAKsE,gBAAlC,EAAmDwK,QAAnD,EAA4D9O,KAAKwE,aAAjE,EAA+ExE,KAAKuE,aAApF,CAAxB;AACAvE,iBAAKyE,WAAL,CAAiBiL,YAAjB,CAA8B1P,KAAKsE,gBAAnC,EAAoD,GAApD,EAAwD,GAAxD;AACAtE,iBAAKyE,WAAL,CAAiBkL,eAAjB,CAAiC3P,KAAKwE,aAAtC,EAAoDpG,OAAO6M,OAAP,CAAeG,IAAnE,EAAwErK,aAAW,CAAnF,EAAsF,GAAtF;AACH,SALD,MAKK;AACD;AACAf,iBAAKsE,gBAAL,GAAwBtE,KAAKyE,WAAL,CAAiBmL,YAAjB,CAA8B5P,KAAKsE,gBAAnC,EAAoDwK,QAApD,EAA6D9O,KAAKX,cAAlE,EAAiF,CAAjF,EAAmF0B,UAAnF,CAAxB;AACAf,iBAAKyE,WAAL,CAAiBiL,YAAjB,CAA8B1P,KAAKsE,gBAAnC,EAAoD,GAApD,EAAwD,GAAxD;AACH;AACJ,KApsBI;AAqsBLuL,kBArsBK,0BAqsBUhK,UArsBV,EAqsBqBiJ,QArsBrB,EAqsB8BW,UArsB9B,EAqsByC;AAC1C,YAAIzP,OAAO,IAAX;AACA,YAAIe,aAAa,KAAKA,UAAtB;AACA,YAAG,CAAC8E,UAAJ,EAAe;AACX;AACH;AACD,YAAGiJ,QAAH,EAAY,CACX,CADD,MACK;AACD,gBAAGjJ,UAAH,EAAc;AACViJ,2BAAWzQ,SAASqO,mBAAT,CAA6B7G,UAA7B,CAAX;AACA;AACH;AACJ;;AAED,YAAG4J,UAAH,EAAc;AACV;AACAX,qBAASnC,IAAT,CAActO,SAAS0Q,OAAvB,EAFU,CAEsB;AAChC/O,iBAAK2E,iBAAL,GAAyB3E,KAAK8E,YAAL,CAAkBkK,WAAlB,CAA8BhP,KAAK2E,iBAAnC,EAAqDmK,QAArD,EAA8D9O,KAAK6E,cAAnE,EAAkF7E,KAAK4E,cAAvF,CAAzB;AACA5E,iBAAK8E,YAAL,CAAkBgL,aAAlB,CAAgC9P,KAAK2E,iBAArC,EAAuD,GAAvD,EAA2D,GAA3D;AACA3E,iBAAK8E,YAAL,CAAkBiL,gBAAlB,CAAmC/P,KAAK6E,cAAxC,EAAuDzG,OAAO6M,OAAP,CAAeE,KAAtE,EAA4EpK,aAAW,CAAvF,EAA0FA,aAAW,CAAX,GAAe,GAAzG;AACH,SAND,MAMK;AACD;AACAf,iBAAK2E,iBAAL,GAAyB3E,KAAK8E,YAAL,CAAkB8K,YAAlB,CAA+B5P,KAAK2E,iBAApC,EAAsDmK,QAAtD,EAA+D9O,KAAKT,eAApE,EAAoF,CAApF,EAAsFwB,UAAtF,CAAzB;AACAf,iBAAK8E,YAAL,CAAkBgL,aAAlB,CAAgC9P,KAAK2E,iBAArC,EAAuD,GAAvD,EAA2D,GAA3D;AACH;AACJ,KA9tBI;;AA+tBL;AACAqL,gBAhuBK,0BAguBS;AACV,YAAIhQ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,cAAZ;AACA,YAAGL,KAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiByO,eAAlC,IAAmDjQ,KAAKwB,SAAL,GAAepD,OAAOoD,SAAP,CAAiB0O,eAAtF,EAAsG;AAClG,gBAAIC,QAAQ,SAARA,KAAQ,GAAU;AAClB;AACAxR,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,iBAA9B,EAAgD,IAAhD;AACAT,qBAAKoQ,mBAAL;AACApQ,qBAAKqQ,gBAAL;AACH,aALD;AAMA9R,0BAAc+R,gBAAd,CAA+B,MAA/B,EAAsC,6BAAtC,EAAoEH,KAApE;AACH,SARD,MAQK;AACD,gBAAGnQ,KAAKwB,SAAL,IAAgBpD,OAAOoD,SAAP,CAAiB0O,eAApC,EAAoD;AAChDvR,2BAAW8B,WAAX,CAAuB,MAAvB,EAA+B,UAA/B;AACH;AACDT,iBAAKoQ,mBAAL;AACApQ,iBAAKqQ,gBAAL;AACH;AACDzR,WAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,KAnvBI;AAovBLC,oBApvBK,8BAovBa;AACdpQ,gBAAQC,GAAR,CAAY,kBAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAGA,KAAKmE,SAAL,CAAesM,YAAf,EAAH,EAAiC;AAC7BrQ,oBAAQC,GAAR,CAAY,SAAZ;AACH,SAFD,MAEK;AACD,gBAAGL,KAAKwB,SAAL,IAAkBpD,OAAOoD,SAAP,CAAiBkP,oBAAtC,EAA2D;AACvD/R,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,iBAA9B,EAAgD,IAAhD;AACAT,qBAAKmE,SAAL,CAAewM,YAAf,CAA4B,IAA5B;AACA3Q,qBAAK4Q,kBAAL;AACH;AACJ;AACDhS,WAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,KAjwBI;AAkwBLK,sBAlwBK,gCAkwBe;AAChB,YAAI5Q,OAAO,IAAX;AACA,YAAGA,KAAK4D,cAAR,EAAuB;AACnB;AACH;AACD,YAAIuM,QAAQ,SAARA,KAAQ,GAAU;AAClBxR,uBAAW8B,WAAX,CAAuB,MAAvB,EAA8B,gBAA9B;AACAT,iBAAK4D,cAAL,GAAsB,IAAtB;AACA5D,iBAAKmE,SAAL,CAAewM,YAAf,CAA4B,KAA5B;AACA/R,eAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,SALD;AAMA3R,WAAGmI,MAAH,CAAUC,OAAV,CAAkB,uBAAlB,EAA2C,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AAC9D;AACA,gBAAI3J,GAAJ,EAAS;AACL9G,wBAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,gBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,eAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC,EAAwC,EAAxC;AACA,gBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,0BAAR,CAArB,CAAnB;AACA6S,0BAAcpC,IAAd,CAAmBuB,KAAnB;AACAnQ,iBAAK4D,cAAL,GAAsBoN,aAAtB;AACH,SAXD;AAYH,KAzxBI;AA0xBLC,eA1xBK,yBA0xBQ;AACT7Q,gBAAQC,GAAR,CAAY,aAAZ;AACA9B,sBAAc2S,aAAd;AACAtS,WAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,KA9xBI;AA+xBLY,mBA/xBK,6BA+xBY;AACb/Q,gBAAQC,GAAR,CAAY,iBAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAGA,KAAK8D,OAAR,EAAgB;AACZ,gBAAG9D,KAAK8D,OAAL,CAAasN,WAAb,EAAH,EAA8B;AAC1BpR,qBAAK8D,OAAL,CAAauN,QAAb,CAAsB,KAAtB;AACH,aAFD,MAEK;AACDrR,qBAAK8D,OAAL,CAAauN,QAAb,CAAsB,IAAtB;AACH;AACJ;AACDzS,WAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,KA1yBI;AA2yBLe,WA3yBK,mBA2yBGvF,OA3yBH,EA2yBW;AACZ,YAAI/L,OAAO,IAAX;AACA,YAAGA,KAAK8D,OAAR,EAAgB;AACZ;AACA;AACA9D,iBAAK8D,OAAL,CAAa8K,IAAb,CAAkB7C,OAAlB;AACA;AACH;AACDnN,WAAGmI,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoC,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AACvD,gBAAI3J,GAAJ,EAAS;AACL9G,wBAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,gBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,eAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC,EAAwC,CAAxC;AACA,gBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,gBAAR,CAArB,CAAnB;AACA6B,iBAAK8D,OAAL,GAAekN,aAAf;AACAhR,iBAAK8D,OAAL,CAAa8K,IAAb,CAAkB7C,OAAlB;AACH,SAVD;AAWH,KA9zBI;AA+zBLwF,gBA/zBK,0BA+zBS;AACVnR,gBAAQC,GAAR,CAAY,cAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAGA,KAAK6D,UAAR,EAAmB;AACf7D,iBAAK6D,UAAL,CAAgBiF,KAAhB;AACA9I,iBAAK6D,UAAL,GAAkB,IAAlB;AACH,SAHD,MAGK;AACD,gBAAIsM,QAAQ,SAARA,KAAQ,GAAU;AAClBnQ,qBAAK6D,UAAL,GAAkB,IAAlB;AACH,aAFD;AAGAjF,eAAGmI,MAAH,CAAUC,OAAV,CAAkB,mBAAlB,EAAuC,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AAC1D,oBAAI3J,GAAJ,EAAS;AACL9G,4BAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,oBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,mBAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC,EAAwC,IAAxC;AACA,oBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,aAAR,CAArB,CAAnB;AACA6S,8BAAcpC,IAAd,CAAmBuB,KAAnB;AACAnQ,qBAAK6D,UAAL,GAAkBmN,aAAlB;AACH,aAVD;AAWH;AACDpS,WAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,QAAvB;AACH,KAt1BI;AAu1BLiB,cAv1BK,sBAu1BMC,OAv1BN,EAu1Bc;AACf,YAAIzR,OAAO,IAAX;AACApB,WAAGmI,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoC,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AACvD,gBAAI3J,GAAJ,EAAS;AACL9G,wBAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,gBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,eAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC,EAAwC,IAAxC;AACA,gBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,gBAAR,CAArB,CAAnB;AACA6S,0BAAcpC,IAAd,CAAmB6C,OAAnB;AACH,SATD;AAUH,KAn2BI;AAo2BLC,gBAp2BK,wBAo2BQD,OAp2BR,EAo2BgB;AACjB,YAAIzR,OAAO,IAAX;AACAA,aAAKwI,eAAL,CAAqBvD,MAArB,GAA8B,IAA9B;AACAjF,aAAKyI,gBAAL,CAAsBN,MAAtB,GAA+BsJ,OAA/B;AACA,aAAKpS,cAAL,CAAoB+N,cAApB;AACA,YAAIC,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjCrN,iBAAKwI,eAAL,CAAqBvD,MAArB,GAA8B,KAA9B;AACH,SAFc,CAAf;AAGA,YAAIqI,QAAQ1O,GAAG2O,SAAH,CAAa,CAAb,CAAZ;AACA,aAAKlO,cAAL,CAAoBmO,SAApB,CAA8B5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAA9B;AACH,KA92BI;AA+2BLsE,iBA/2BK,yBA+2BSF,OA/2BT,EA+2BiB;AAClB,YAAIzR,OAAO,IAAX;AACAA,aAAK0I,gBAAL,CAAsBzD,MAAtB,GAA+B,IAA/B;AACAjF,aAAK2I,iBAAL,CAAuBR,MAAvB,GAAgCsJ,OAAhC;AACA,aAAKlS,eAAL,CAAqB6N,cAArB;AACA,YAAIC,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjCrN,iBAAK0I,gBAAL,CAAsBzD,MAAtB,GAA+B,KAA/B;AACH,SAFc,CAAf;AAGA,YAAIqI,QAAQ1O,GAAG2O,SAAH,CAAa,CAAb,CAAZ;AACA,aAAKhO,eAAL,CAAqBiO,SAArB,CAA+B5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAA/B;AACH,KAz3BI;AA03BLjI,yBA13BK,mCA03BkB;AACnB,YAAIpF,OAAO,IAAX;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,QAAzC,EAAkD7R,KAAK8R,QAAvD,EAAgE9R,IAAhE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,WAAzC,EAAqD7R,KAAK+R,WAA1D,EAAsE/R,IAAtE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,kBAAzC,EAA4D7R,KAAKgS,kBAAjE,EAAoFhS,IAApF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,UAAzC,EAAoD7R,KAAKiS,UAAzD,EAAoEjS,IAApE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,mBAAzC,EAA6D7R,KAAKkS,mBAAlE,EAAsFlS,IAAtF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,cAAzC,EAAwD7R,KAAKmS,cAA7D,EAA4EnS,IAA5E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,UAAzC,EAAoD7R,KAAKoS,UAAzD,EAAoEpS,IAApE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,cAAzC,EAAwD7R,KAAKqS,cAA7D,EAA4ErS,IAA5E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,UAAzC,EAAoD7R,KAAKsS,UAAzD,EAAoEtS,IAApE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,cAAzC,EAAwD7R,KAAKuS,cAA7D,EAA4EvS,IAA5E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,iBAAzC,EAA2D7R,KAAKwS,iBAAhE,EAAkFxS,IAAlF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,cAAzC,EAAwD7R,KAAKyS,cAA7D,EAA4EzS,IAA5E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,iBAAzC,EAA2D7R,KAAK0S,iBAAhE,EAAkF1S,IAAlF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,sBAAzC,EAAgE7R,KAAK2S,sBAArE,EAA4F3S,IAA5F;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,gBAAzC,EAA0D7R,KAAK4S,gBAA/D,EAAgF5S,IAAhF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,eAAzC,EAAyD7R,KAAK6S,eAA9D,EAA8E7S,IAA9E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,gBAAzC,EAA0D7R,KAAK8S,gBAA/D,EAAgF9S,IAAhF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,cAAzC,EAAwD7R,KAAK+S,cAA7D,EAA4E/S,IAA5E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,eAAzC,EAAyD7R,KAAKgT,eAA9D,EAA8EhT,IAA9E;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,gBAAzC,EAA0D7R,KAAKiT,gBAA/D,EAAgFjT,IAAhF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,gBAAzC,EAA0D7R,KAAKkT,gBAA/D,EAAgFlT,IAAhF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,kBAAzC,EAA4D7R,KAAKmT,kBAAjE,EAAoFnT,IAApF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,WAAzC,EAAqD7R,KAAKoT,WAA1D,EAAsEpT,IAAtE;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,uBAAzC,EAAiE7R,KAAKqT,uBAAtE,EAA8FrT,IAA9F;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,mBAAzC,EAA6D7R,KAAKsT,mBAAlE,EAAsFtT,IAAtF;AACAtB,oBAAYkT,cAAZ,CAA2BxT,OAAOyT,MAAlC,EAAyC,aAAzC,EAAuD7R,KAAKuT,aAA5D,EAA0EvT,IAA1E;AACH,KAt5BI;AAu5BLoQ,uBAv5BK,iCAu5BgB;AACjB,YAAIpQ,OAAO,IAAX;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,QAA5C,EAAqD7R,KAAK8R,QAA1D,EAAmE9R,IAAnE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,WAA5C,EAAwD7R,KAAK+R,WAA7D,EAAyE/R,IAAzE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,kBAA5C,EAA+D7R,KAAKgS,kBAApE,EAAuFhS,IAAvF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,UAA5C,EAAuD7R,KAAKiS,UAA5D,EAAuEjS,IAAvE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,mBAA5C,EAAgE7R,KAAKkS,mBAArE,EAAyFlS,IAAzF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,cAA5C,EAA2D7R,KAAKmS,cAAhE,EAA+EnS,IAA/E;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,UAA5C,EAAuD7R,KAAKoS,UAA5D,EAAuEpS,IAAvE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,cAA5C,EAA2D7R,KAAKqS,cAAhE,EAA+ErS,IAA/E;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,UAA5C,EAAuD7R,KAAKsS,UAA5D,EAAuEtS,IAAvE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,cAA5C,EAA2D7R,KAAKuS,cAAhE,EAA+EvS,IAA/E;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,iBAA5C,EAA8D7R,KAAKwS,iBAAnE,EAAqFxS,IAArF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,cAA5C,EAA2D7R,KAAKyS,cAAhE,EAA+EzS,IAA/E;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,iBAA5C,EAA8D7R,KAAK0S,iBAAnE,EAAqF1S,IAArF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,sBAA5C,EAAmE7R,KAAK2S,sBAAxE,EAA+F3S,IAA/F;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,gBAA5C,EAA6D7R,KAAK4S,gBAAlE,EAAmF5S,IAAnF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,eAA5C,EAA4D7R,KAAK6S,eAAjE,EAAiF7S,IAAjF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,gBAA5C,EAA6D7R,KAAK8S,gBAAlE,EAAmF9S,IAAnF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,cAA5C,EAA2D7R,KAAK+S,cAAhE,EAA+E/S,IAA/E;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,eAA5C,EAA4D7R,KAAKgT,eAAjE,EAAiFhT,IAAjF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,gBAA5C,EAA6D7R,KAAKiT,gBAAlE,EAAmFjT,IAAnF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,gBAA5C,EAA6D7R,KAAKkT,gBAAlE,EAAmFlT,IAAnF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,kBAA5C,EAA+D7R,KAAKmT,kBAApE,EAAuFnT,IAAvF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,WAA5C,EAAwD7R,KAAKoT,WAA7D,EAAyEpT,IAAzE;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,uBAA5C,EAAoE7R,KAAKqT,uBAAzE,EAAiGrT,IAAjG;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,mBAA5C,EAAgE7R,KAAKsT,mBAArE,EAAyFtT,IAAzF;AACAtB,oBAAY8U,iBAAZ,CAA8BpV,OAAOyT,MAArC,EAA4C,aAA5C,EAA0D7R,KAAKuT,aAA/D,EAA6EvT,IAA7E;AACH,KAn7BI;;AAo7BL;AACAyT,kBAr7BK,0BAq7BUC,QAr7BV,EAq7BmB;AACpB,YAAI1T,OAAO,IAAX;AACA,YAAG0T,SAASC,IAAT,CAAc,MAAd,CAAH,EAAyB;AACrB;AACAvV,mBAAOwV,eAAP,GAAyBF,SAASC,IAAT,CAAc,MAAd,EAAsB,MAAtB,CAAzB;AACA;AACAvV,mBAAOyV,eAAP,GAAyBH,SAASC,IAAT,CAAc,MAAd,EAAsB,MAAtB,CAAzB;AACA;AACAvV,mBAAOiQ,eAAP,GAAyBqF,SAASC,IAAT,CAAc,MAAd,EAAsB,MAAtB,CAAzB;AACA;AACAvV,mBAAO0V,gBAAP,GAA0BJ,SAASC,IAAT,CAAc,MAAd,EAAsB,QAAtB,CAA1B;AACA;AACAvV,mBAAO2V,YAAP,GAAsBL,SAASC,IAAT,CAAc,MAAd,EAAsB,QAAtB,CAAtB;AACH,SAXD,MAWK;AACDvV,mBAAOwV,eAAP,GAAyB,EAAzB;AACA;AACAxV,mBAAOyV,eAAP,GAAyB,EAAzB;AACA;AACAzV,mBAAOiQ,eAAP,GAAyB,EAAzB;AACA;AACAjQ,mBAAO0V,gBAAP,GAA0B,EAA1B;AACA;AACA1V,mBAAO2V,YAAP,GAAsB,CAAtB;AACH;AACD,YAAIC,UAAUN,SAAS,MAAT,EAAiB,WAAjB,CAAd;AACA,aAAKhS,SAAL,GAAiB,EAAjB;AACA,YAAGsS,OAAH,EAAW;AACP,gBAAI3S,WAAWqS,SAAS,MAAT,EAAiB,QAAjB,CAAf;AACA1T,iBAAKqB,QAAL,GAAgBA,QAAhB;AACArB,iBAAKmE,SAAL,CAAe8P,WAAf,CAA2B5S,QAA3B;AACArB,iBAAKmE,SAAL,CAAe+P,YAAf,CAA4B,CAA5B;AACA,gBAAIC,QAAQ,EAAC,GAAET,SAAS,MAAT,EAAiB,GAAjB,CAAH,EAA0B,GAAEA,SAAS,MAAT,EAAiB,GAAjB,CAA5B,EAAmD,GAAEA,SAAS,MAAT,EAAiB,GAAjB,CAArD,EAAZ;AACA,iBAAI,IAAIU,CAAR,IAAaD,KAAb,EAAmB;AACf,oBAAIE,IAAIF,MAAMC,CAAN,CAAR;AACA,oBAAIE,YAAYD,EAAE,QAAF,CAAhB;;AAEA,qBAAK3S,SAAL,CAAe4E,IAAf,CAAoB+N,EAAE,MAAF,CAApB;;AAEA,oBAAGC,aAAajT,QAAhB,EAAyB;AACrBrB,yBAAKmE,SAAL,CAAe8P,WAAf,CAA2BI,EAAE,QAAF,CAA3B;AACArU,yBAAKmE,SAAL,CAAeoQ,SAAf,CAAyBF,EAAE,QAAF,CAAzB;AACArU,yBAAKmE,SAAL,CAAeqQ,UAAf,CAA0BH,EAAE,SAAF,CAA1B;AACArU,yBAAKmE,SAAL,CAAesQ,YAAf,CAA4BJ,EAAE,MAAF,CAA5B;AACArU,yBAAKmE,SAAL,CAAeuQ,OAAf,CAAuBL,EAAE,MAAF,CAAvB;AACH,iBAND,MAMK;AACD,wBAAIM,UAAU,CAAd;AACAA,8BAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCiT,SAAtC,CAAV;;AAEA,wBAAIO,OAAO,EAAX;AACAA,yBAAKrS,GAAL,GAAWsS,SAAST,EAAE,KAAF,CAAT,CAAX;AACAQ,yBAAKnS,QAAL,GAAgB2R,EAAE,MAAF,CAAhB;AACAQ,yBAAKjS,MAAL,GAAcyR,EAAE,KAAF,CAAd;AACAQ,yBAAK/R,IAAL,GAAYgS,SAAST,EAAE,MAAF,CAAT,CAAZ;AACAQ,yBAAK7R,IAAL,GAAY8R,SAAST,EAAE,MAAF,CAAT,CAAZ;AACAQ,yBAAKzR,SAAL,GAAiBiR,EAAE,WAAF,CAAjB;AACAQ,yBAAKE,MAAL,GAAcV,EAAE,QAAF,CAAd;AACAQ,yBAAKG,MAAL,GAAcX,EAAE,QAAF,CAAd;AACAQ,yBAAKI,OAAL,GAAeZ,EAAE,SAAF,CAAf;AACAQ,yBAAKK,SAAL,GAAiBb,EAAE,MAAF,CAAjB;AACAQ,yBAAKM,IAAL,GAAYd,EAAE,MAAF,CAAZ;AACAQ,yBAAKvR,SAAL,GAAiB+Q,EAAE,KAAF,CAAjB;AACAQ,yBAAKtR,KAAL,GAAa8Q,EAAE,OAAF,CAAb;AACAQ,yBAAKpR,QAAL,GAAgB,EAAhB;AACAoR,yBAAKnR,aAAL,GAAqB,EAArB;;AAEA,wBAAGiR,WAAW,CAAd,EAAgB;AAAC;AACb3U,6BAAKyE,WAAL,CAAiB2Q,QAAjB,CAA0BP,IAA1B;AACA7U,6BAAKyE,WAAL,CAAiBJ,YAAjB;AACArE,6BAAKyE,WAAL,CAAiByP,YAAjB,CAA8BS,OAA9B;AACA3U,6BAAKH,UAAL,CAAgBoF,MAAhB,GAAyB,IAAzB;AACH,qBALD,MAKM,IAAG0P,WAAW,CAAd,EAAgB;AAAC;AACnB3U,6BAAK8E,YAAL,CAAkBsQ,QAAlB,CAA2BP,IAA3B;AACA7U,6BAAK8E,YAAL,CAAkBT,YAAlB;AACArE,6BAAK8E,YAAL,CAAkBoP,YAAlB,CAA+BS,OAA/B;AACA3U,6BAAKF,WAAL,CAAiBmF,MAAjB,GAA0B,IAA1B;AACH;AACJ;AACJ;AACJ,SApDD,MAoDK;AACD7E,oBAAQC,GAAR,CAAY,sBAAZ;AACH;AACJ,KAtgCI;;AAugCL;AACAkO,gBAxgCK,wBAwgCQnC,IAxgCR,EAwgCaiJ,QAxgCb,EAwgCsBC,QAxgCtB,EAwgC+BnW,IAxgC/B,EAwgCoC;AACrC,YAAIa,OAAO,IAAX;AACApB,WAAGmI,MAAH,CAAUC,OAAV,CAAkB,sBAAlB,EAA0C,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AAC7D,gBAAI3J,GAAJ,EAAS;AACL9G,wBAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,gBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,eAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC;AACA,gBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,sBAAR,CAArB,CAAnB;AACA6S,0BAAcpC,IAAd,CAAmBxC,IAAnB,EAAwBiJ,QAAxB,EAAiCC,QAAjC,EAA0CnW,IAA1C;;AAEA,gBAAGA,QAAQ,CAAR,IAAa,CAACa,KAAK2D,WAAtB,EAAkC;AAC9B3D,qBAAK2D,WAAL,GAAmBqN,aAAnB;AACH;AACJ,SAbD;AAcH,KAxhCI;;AAyhCL;AACAuE,kBA1hCK,0BA0hCU7B,QA1hCV,EA0hCmB;AACpB,YAAI1T,OAAO,IAAX;AACA,YAAIwV,QAAQ,EAAZ;AACA,YAAI7B,OAAOD,SAASC,IAApB;;AAEA,YAAI8B,SAAS,SAATA,MAAS,GAAU;AAAC;AACpBzV,iBAAKO,UAAL;AACA,gBAAGP,KAAKmE,SAAL,CAAepB,OAAf,KAAyB3E,OAAOiK,SAAP,CAAiBqN,UAA7C,EAAwD;AACpDnX,8BAAc+R,gBAAd,CAA+B,MAA/B,EAAsC,YAAtC,EAAmD,YAAU;AACzDtQ,yBAAKqQ,gBAAL;AACH,iBAFD;AAGH,aAJD,MAIK;AACD1R,2BAAW8B,WAAX,CAAuB,MAAvB,EAA+B,WAA/B,EAA2C,IAA3C;AACH;AACJ,SATD;AAUA,YAAIkV,SAAS,SAATA,MAAS,GAAU;AACnB3V,iBAAKO,UAAL;AACA,gBAAGP,KAAKmE,SAAL,CAAepB,OAAf,KAAyB3E,OAAOiK,SAAP,CAAiBqN,UAA7C,EAAwD;AACpDnX,8BAAc+R,gBAAd,CAA+B,MAA/B,EAAsC,YAAtC,EAAmD,YAAU;AACzDtQ,yBAAKqQ,gBAAL;AACH,iBAFD;AAGH,aAJD,MAIK;AACD1R,2BAAW8B,WAAX,CAAuB,MAAvB,EAA+B,WAA/B,EAA2C,KAA3C;AACH;AACJ,SATD;AAUA,YAAImV,MAAM,sBAAV;;AAEA,YAAGlC,SAAS,MAAT,EAAiB,UAAjB,EAA6B,KAAG1T,KAAKqB,QAArC,KAAkD,CAArD,EAAuD;AACnDzC,eAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,aAAvB;AACH,SAFD,MAEK;AACDqF,kBAAM,uBAAN;AACAhX,eAAG8B,EAAH,CAAMC,QAAN,CAAe4P,OAAf,CAAuB,cAAvB;AACH;AACDvQ,aAAKmE,SAAL,CAAe0R,OAAf,CAAuBlC,KAAKmC,KAAL,CAAW9V,KAAKqB,QAAhB,CAAvB;;AAEA,YAAI0U,OAAOpC,KAAKoC,IAAhB;AACA,YAAIC,UAAUrC,KAAKqC,OAAnB;AACA,YAAIC,YAAYtC,KAAKsC,SAArB;;AAEA,aAAK,IAAInQ,IAAE,CAAX,EAAaA,IAAE,CAAf,EAAiBA,GAAjB,EAAqB;AACjB,gBAAIoQ,QAAQvC,KAAKwC,KAAL,CAAW,KAAGrQ,CAAd,CAAZ;AACA,gBAAIsQ,WAAW;AACXC,yBAAUrW,KAAKyB,UAAL,IAAiBqE,CADhB,EACkBpD,UAAW1C,KAAK0B,SAAL,CAAeoE,CAAf,CAD7B,EAC+CwQ,OAAQL,SADvD,EACiEM,QAASR,IAD1E,EAC+ES,OAAQN,KADvF,EAC6FpT,MAAK6Q,KAAKmC,KAAL,CAAWhQ,CAAX,CADlG,EACgHkQ,SAAUA;AAD1H,aAAf;AAGAR,kBAAMlP,IAAN,CAAW8P,QAAX;AACH;AACDxX,WAAGmI,MAAH,CAAUC,OAAV,CAAkB4O,GAAlB,EAAuB,UAAU1O,GAAV,EAAe2J,MAAf,EAAuB;AAC1C,gBAAI3J,GAAJ,EAAS;AACL9G,wBAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,gBAAIuP,YAAY,SAAZA,SAAY,GAAU;AACtBzW,qBAAKoQ,mBAAL;AACApQ,qBAAKqQ,gBAAL;AACH,aAHD;AAIA,gBAAIS,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,eAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC,EAAwC,GAAxC;AACA,gBAAIE,gBAAeF,QAAQpL,YAAR,CAAqBvH,QAAQ,mBAAR,CAArB,CAAnB;AACA6S,0BAAcpC,IAAd,CAAmB4G,KAAnB,EAAyBC,MAAzB,EAAgCE,MAAhC,EAAuC3V,KAAKqB,QAA5C,EAAqDoV,SAArD;AACH,SAbD;AAcH,KAtlCI;;AAulCL;AACA;AACA3E,YAzlCK,oBAylCI7I,KAzlCJ,EAylCU;AACX,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiB0O,eAAlC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAI7C,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AAClC,gBAAGrN,KAAKwB,SAAL,IAAkBpD,OAAOoD,SAAP,CAAiB0O,eAAtC,EAAsD;AACjDtR,mBAAGmI,MAAH,CAAUC,OAAV,CAAkB,2BAAlB,EAA+C,UAAUE,GAAV,EAAe2J,MAAf,EAAuB;AAClE;AACA,wBAAI3J,GAAJ,EAAS;AACL9G,gCAAQC,GAAR,CAAY6G,GAAZ;AACA;AACH;AACD,wBAAI4J,UAAUlS,GAAGoH,WAAH,CAAe6K,MAAf,CAAd;AACAjS,uBAAGoC,QAAH,CAAYI,QAAZ,GAAuB2P,QAAvB,CAAgCD,OAAhC;AACA9Q,yBAAK0W,WAAL,GAAmB5F,QAAQpL,YAAR,CAAqBvH,QAAQ,mBAAR,CAArB,CAAnB;AACH,iBATD;AAUJ;AACH,SAbc,CAAf;AAcA,YAAImP,QAAQ1O,GAAG2O,SAAH,CAAa,GAAb,CAAZ;AACA,aAAK9G,IAAL,CAAU+G,SAAV,CAAoB5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAApB;AACH,KAznCI;AA0nCL0E,eA1nCK,uBA0nCO9I,KA1nCP,EA0nCa;AACd,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,WAAZ;AACAL,aAAKmE,SAAL,CAAewS,QAAf;AACA3W,aAAKyE,WAAL,CAAiBkS,QAAjB;AACA3W,aAAK8E,YAAL,CAAkB6R,QAAlB;;AAEA3W,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBoV,aAAlC;;AAEA,YAAG5W,KAAK0W,WAAR,EAAoB;AAChB1W,iBAAK0W,WAAL,CAAiB5N,KAAjB;AACA9I,iBAAK0W,WAAL,GAAmB,IAAnB;AACH;AACD,YAAIhD,WAAWzK,MAAM4N,WAAN,EAAf;AACA7W,aAAKyT,cAAL,CAAoBC,QAApB;AACH,KAzoCI;AA0oCL1B,sBA1oCK,8BA0oCc/I,KA1oCd,EA0oCoB;AACrB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,cAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIjQ,QAAQ8M,SAAS,MAAT,EAAiB,MAAjB,CAAZ;AACA1T,aAAKyF,eAAL,CAAqB0C,MAArB,GAA8B,KAAKvB,KAAnC;AACA,YAAImP,OAAOrC,SAAS,MAAT,EAAiB,UAAjB,CAAX;;AAEA,YAAIoD,SAASpD,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCyV,MAAtC,CAAd;;AAEA1W,gBAAQC,GAAR,CAAY,aAAWsU,OAAvB;;AAEAvU,gBAAQC,GAAR,CAAY,oBAAkBL,KAAKwB,SAAnC;;AAEA,YAAIoB,SAAS,CAAb;;AAEA,YAAG5C,KAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBuV,eAArC,EAAqD;AACjD,gBAAGpC,WAAW,CAAd,EAAgB;AAAC;AACb/R,yBAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAT;AACA,oBAAGkT,OAAK,CAAL,IAAQA,QAAM,CAAjB,EAAmB;AACfxX,kCAAcyY,cAAd,CAA6BjB,IAA7B,EAAkCpB,OAAlC;AACH;AAEJ,aAND,MAMM,IAAGA,WAAW,CAAd,EAAgB;AAAC;AACnB/R,yBAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAT;AACA,oBAAGkT,OAAK,CAAL,IAAQA,QAAM,CAAjB,EAAmB;AACfxX,kCAAcyY,cAAd,CAA6BjB,IAA7B,EAAkCpB,OAAlC;AACH;AACJ,aALK,MAKA,IAAGA,WAAW,CAAd,EAAgB;AAAC;AACnB/R,yBAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAT;AACA,oBAAGkT,OAAK,CAAL,IAAQA,QAAM,CAAjB,EAAmB;AACfxX,kCAAcyY,cAAd,CAA6BjB,IAA7B,EAAkCpB,OAAlC;AACH;AACJ,aALK,MAKD;AACD,oBAAGoB,OAAK,CAAL,IAAQA,QAAM,CAAjB,EAAmB;AACfxX,kCAAcyY,cAAd,CAA6BjB,IAA7B,EAAkC,CAAlC;AACH;AACJ;;AAED,gBAAG/V,KAAKwB,SAAL,IAAkBpD,OAAOoD,SAAP,CAAiByV,cAAtC,EAAqD;AACjDrY,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,QAAtC;AACH;AAEJ,SA3BD,MA2BK;AACD,gBAAGmT,OAAK,CAAL,IAAQA,QAAM,CAAjB,EAAmB;AACfxX,8BAAcyY,cAAd,CAA6BjB,IAA7B,EAAkC,CAAlC;AACH;AACJ;AACJ,KA3rCI;AA4rCL9D,cA5rCK,sBA4rCMhJ,KA5rCN,EA4rCY;AACb,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,kBAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiB2V,gBAAlC;;AAEA,YAAGnX,KAAK0W,WAAR,EAAoB;AAChB1W,iBAAK0W,WAAL,CAAiB5N,KAAjB;AACA9I,iBAAK0W,WAAL,GAAmB,IAAnB;AACH;;AAED1W,aAAKmE,SAAL,CAAewS,QAAf;AACA3W,aAAKyE,WAAL,CAAiBkS,QAAjB;AACA3W,aAAK8E,YAAL,CAAkB6R,QAAlB;;AAEA,YAAG3W,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EAA+B;AAAE;AAC7B,iBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKgE,WAAL,CAAiBwC,MAApC,EAA4CV,GAA5C,EAAgD;AAC5C9F,qBAAKgE,WAAL,CAAiB8B,CAAjB,EAAoBJ,YAApB,CAAiCxH,YAAjC,EAA+CuI,IAA/C,CAAoDC,gBAApD;AACH;AACD1G,iBAAKgE,WAAL,GAAmB,EAAnB;AACH;AACDhE,aAAK+D,WAAL,GAAmB,EAAnB;;AAEA,YAAI2P,WAAWzK,MAAM4N,WAAN,EAAf;AACA7W,aAAK+D,WAAL,GAAmB1F,SAASqO,mBAAT,CAA6BgH,SAASC,IAAT,CAAcyD,MAA3C,CAAnB;AACApX,aAAKmE,SAAL,CAAekT,WAAf,CAA2BrX,KAAK+D,WAAhC,EAA4C/D,KAAKgE,WAAjD,EAA6DhE,KAAKmB,KAAlE,EAAwEnB,KAAKe,UAA7E;;AAEAf,aAAK4B,WAAL,GAAmB8R,SAASC,IAAT,CAAcyD,MAAjC;;AAEA,YAAIE,aAAa5D,SAASC,IAAT,CAAc4D,QAAd,CAAuBvX,KAAKqB,QAA5B,CAAjB;AACA,YAAGiW,cAAc,CAAjB,EAAmB;AACf;AACA,gBAAInH,QAAQ,SAARA,KAAQ,CAAS/D,IAAT,EAAc;AACtBzN,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC2L,IAAzC;AACH,aAFD;AAGA7N,0BAAciZ,iBAAd,CAAgCrH,KAAhC;AACH;AACJ,KAhuCI;AAiuCL+B,uBAjuCK,+BAiuCejJ,KAjuCf,EAiuCqB;AACtB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,WAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIlD,OAAOD,SAASC,IAApB;AACA,YAAGA,IAAH,EAAQ;AACJ,iBAAI,IAAI7N,IAAE,CAAV,EAAYA,IAAE6N,KAAKnN,MAAnB,EAA0BV,GAA1B,EAA8B;AAC1B,oBAAI6O,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCyE,CAAtC,CAAd;AACA,oBAAG6O,WAAW,CAAd,EAAgB;AAAC;AACb3U,yBAAKmE,SAAL,CAAe0R,OAAf,CAAuBlC,KAAK7N,CAAL,EAAQgQ,KAA/B;AACAtX,sCAAkBqX,OAAlB,CAA0BlC,KAAK7N,CAAL,EAAQgQ,KAAlC;AACH,iBAHD,MAGM,IAAGnB,WAAW,CAAd,EAAgB;AAAC;AACnB3U,yBAAK8E,YAAL,CAAkB+Q,OAAlB,CAA0BlC,KAAK7N,CAAL,EAAQgQ,KAAlC;AACH,iBAFK,MAEA,IAAGnB,WAAW,CAAd,EAAgB;AAAC;AACnB3U,yBAAKyE,WAAL,CAAiBoR,OAAjB,CAAyBlC,KAAK7N,CAAL,EAAQgQ,KAAjC;AACH;AACJ;AACJ;AACJ,KAnvCI;AAovCL3D,kBApvCK,0BAovCUlJ,KApvCV,EAovCgB;AACjB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,WAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBiW,gBAAlC;;AAEA,YAAGzX,KAAK0W,WAAR,EAAoB;AAChB1W,iBAAK0W,WAAL,CAAiB5N,KAAjB;AACA9I,iBAAK0W,WAAL,GAAmB,IAAnB;AACH;;AAED,YAAIhD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIlC,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCqS,SAASC,IAAT,CAAc+D,MAApD,CAAd;AACA,YAAG/C,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAIU,WAAW,SAAXA,QAAW,GAAU;AACrB1W,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACA,oBAAGT,KAAK2D,WAAR,EAAoB;AAChB3D,yBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,yBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACJ,aAND;AAOA,gBAAI2R,WAAW,SAAXA,QAAW,GAAU;AACrB3W,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACA,oBAAGT,KAAK2D,WAAR,EAAoB;AAChB3D,yBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,yBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACJ,aAND;AAOA3D,iBAAKuO,YAAL,CAAkBnQ,OAAOwV,eAAzB,EAAyCyB,QAAzC,EAAkDC,QAAlD,EAA2DlX,OAAOoQ,SAAP,CAAiBmJ,QAA5E;AACA3X,iBAAKmE,SAAL,CAAewS,QAAf;AACH,SAjBD,MAiBM,IAAGhC,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB8S,SAAlB,CAA4BxZ,OAAOwV,eAAnC;AACA5T,iBAAK8E,YAAL,CAAkB6R,QAAlB;AACH,SAHK,MAGA,IAAGhC,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBmT,SAAjB,CAA2BxZ,OAAOwV,eAAlC;AACA5T,iBAAKyE,WAAL,CAAiBkS,QAAjB;AACH;AACJ,KAxxCI;AAyxCLvE,cAzxCK,sBAyxCMnJ,KAzxCN,EAyxCY;AACb,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,UAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,UAAjB,CAAb;AACA,YAAIoE,SAASpE,SAAS,MAAT,EAAiB,YAAjB,CAAb,CALa,CAKiC;AAC9C,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAGlD,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAI/R,SAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBL,QAAxC;AACA/Y,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,WAAtC;AACH,aAHD,MAGK;AACD5C,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBC,UAAxC;AACArZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,QAAtC;AACH;AACJ,SATD,MASM,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkBoT,SAAlB;AACA,gBAAItV,SAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAK8E,YAAL,CAAkBiT,QAAlB,CAA2B3Z,OAAO4Z,QAAP,CAAgBL,QAA3C;AACA/Y,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,WAAtC;AACH,aAHD,MAGK;AACD5C,qBAAK8E,YAAL,CAAkBiT,QAAlB,CAA2B3Z,OAAO4Z,QAAP,CAAgBC,UAA3C;AACArZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,QAAtC;AACH;AACJ,SAVK,MAUA,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiByT,SAAjB;AACA,gBAAItV,SAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAKyE,WAAL,CAAiBsT,QAAjB,CAA0B3Z,OAAO4Z,QAAP,CAAgBL,QAA1C;AACA/Y,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,WAAtC;AACH,aAHD,MAGK;AACD5C,qBAAKyE,WAAL,CAAiBsT,QAAjB,CAA0B3Z,OAAO4Z,QAAP,CAAgBC,UAA1C;AACArZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,QAAtC;AACH;AACJ;AACJ,KA9zCI;AA+zCLyP,kBA/zCK,0BA+zCUpJ,KA/zCV,EA+zCgB;AACjB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,WAAZ;;AAEA,YAAGL,KAAK0W,WAAR,EAAoB;AAChB1W,iBAAK0W,WAAL,CAAiB5N,KAAjB;AACA9I,iBAAK0W,WAAL,GAAmB,IAAnB;AACH;;AAED,YAAIhD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIa,SAAShE,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCqW,MAAtC,CAAd;AACA,YAAG/C,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAIU,WAAW,SAAXA,QAAW,GAAU;AACrB1W,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,aAFD;AAGA,gBAAI6U,WAAW,SAAXA,QAAW,GAAU;AACrB3W,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,aAFD;AAGAT,iBAAKuO,YAAL,CAAkBnQ,OAAOwV,eAAzB,EAAyCyB,QAAzC,EAAkDC,QAAlD,EAA2DlX,OAAOoQ,SAAP,CAAiB2J,QAA5E;AACAnY,iBAAKmE,SAAL,CAAewS,QAAf;AACH,SATD,MASM,IAAGhC,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB8S,SAAlB,CAA4BxZ,OAAOwV,eAAnC;AACA5T,iBAAK8E,YAAL,CAAkB6R,QAAlB;AACH,SAHK,MAGA,IAAGhC,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBmT,SAAjB,CAA2BxZ,OAAOwV,eAAlC;AACA5T,iBAAKyE,WAAL,CAAiBkS,QAAjB;AACH;AACJ,KA31CI;AA41CLrE,cA51CK,sBA41CMrJ,KA51CN,EA41CY;AACb,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,UAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,YAAjB,CAAb;AACA,YAAIoE,SAASpE,SAAS,MAAT,EAAiB,cAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAGlD,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAI/R,SAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBG,QAAxC;AACAvZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,YAAtC;AACH,aAHD,MAGK;AACD5C,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBI,UAAxC;AACAxZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH;AACJ,SATD,MASM,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkBoT,SAAlB;AACA,gBAAItV,SAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAK8E,YAAL,CAAkBiT,QAAlB,CAA2B3Z,OAAO4Z,QAAP,CAAgBG,QAA3C;AACAvZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,YAAtC;AACH,aAHD,MAGK;AACD5C,qBAAK8E,YAAL,CAAkBiT,QAAlB,CAA2B3Z,OAAO4Z,QAAP,CAAgBI,UAA3C;AACAxZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH;AACJ,SAVK,MAUA,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiByT,SAAjB;AACA,gBAAItV,SAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAb;AACA,gBAAGiV,UAAU,CAAb,EAAe;AACX9X,qBAAKyE,WAAL,CAAiBsT,QAAjB,CAA0B3Z,OAAO4Z,QAAP,CAAgBG,QAA1C;AACAvZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,YAAtC;AACH,aAHD,MAGK;AACD5C,qBAAKyE,WAAL,CAAiBsT,QAAjB,CAA0B3Z,OAAO4Z,QAAP,CAAgBI,UAA1C;AACAxZ,mBAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH;AACJ;AACJ,KAj4CI;AAk4CL2P,kBAl4CK,0BAk4CUtJ,KAl4CV,EAk4CgB;AACjB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,UAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBkP,oBAAlC;AACA1Q,aAAKmE,SAAL,CAAewS,QAAf;AACA3W,aAAKyE,WAAL,CAAiBkS,QAAjB;AACA3W,aAAK8E,YAAL,CAAkB6R,QAAlB;;AAEA,YAAIjD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIwB,SAAS3E,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIlH,QAAQkH,SAAS,MAAT,EAAiB,UAAjB,CAAZ;AACA,YAAI9M,QAAQ8M,SAAS,MAAT,EAAiB,WAAjB,CAAZ;AACA1T,aAAK4F,aAAL,CAAmB4G,KAAnB;AACAxM,aAAK2G,WAAL,CAAiBC,KAAjB;;AAEA,YAAI0R,YAAY5E,SAASC,IAAT,CAAc2E,SAA9B;AACA9Z,0BAAkB+Z,UAAlB,CAA6BD,SAA7B;;AAEAtY,aAAKyB,UAAL,GAAkB4W,MAAlB,CAlBiB,CAkBS;;AAE1B,YAAI1D,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCgX,MAAtC,CAAd;AACA,YAAG1D,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAGjB,SAASC,IAAT,CAAcyD,MAAd,IAAsB1D,SAASC,IAAT,CAAcyD,MAAd,CAAqB5Q,MAArB,IAA+B,EAAxD,EAA2D;AAAE;AACzD,oBAAGxG,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EAA+B;AAAE;AAC7B,yBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKgE,WAAL,CAAiBwC,MAApC,EAA4CV,GAA5C,EAAgD;AAC5C9F,6BAAKgE,WAAL,CAAiB8B,CAAjB,EAAoBJ,YAApB,CAAiCxH,YAAjC,EAA+CuI,IAA/C,CAAoDC,gBAApD;AACH;AACD1G,yBAAKgE,WAAL,GAAmB,EAAnB;AACH;AACDhE,qBAAK+D,WAAL,GAAmB,EAAnB;;AAEA/D,qBAAKmE,SAAL,CAAeoL,YAAf,CAA4B,EAA5B;AACAvP,qBAAKmE,SAAL,CAAeqU,WAAf,CAA2B,IAA3B;AACAxY,qBAAK+D,WAAL,GAAmB1F,SAASqO,mBAAT,CAA6BgH,SAASC,IAAT,CAAcyD,MAA3C,CAAnB;AACApX,qBAAKgE,WAAL,GAAmBhE,KAAKmE,SAAL,CAAekT,WAAf,CAA2BrX,KAAK+D,WAAhC,EAA4C/D,KAAKgE,WAAjD,EAA6DhE,KAAKmB,KAAlE,EAAwEnB,KAAKe,UAA7E,CAAnB;AACH;AACDf,iBAAK4B,WAAL,GAAmB8R,SAASC,IAAT,CAAcyD,MAAjC;AACH,SAhBD,MAgBM,IAAGzC,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkByK,YAAlB,CAA+B,EAA/B;AACAvP,iBAAK8E,YAAL,CAAkB0T,WAAlB,CAA8B,IAA9B;AACA,gBAAG9E,SAASC,IAAT,CAAc8E,YAAd,IAA4B/E,SAASC,IAAT,CAAc8E,YAAd,CAA2BjS,MAA3B,IAAqC,EAApE,EAAuE;AACnE,oBAAGxG,KAAK6E,cAAL,CAAoB2B,MAApB,GAA6B,CAAhC,EAAkC;AAAE;AAChC,yBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAK6E,cAAL,CAAoB2B,MAAvC,EAA+CV,GAA/C,EAAmD;AAC/C9F,6BAAK6E,cAAL,CAAoBiB,CAApB,EAAuBJ,YAAvB,CAAoCxH,YAApC,EAAkDuI,IAAlD,CAAuDC,gBAAvD;AACH;AACD1G,yBAAK6E,cAAL,GAAsB,EAAtB;AACH;AACD7E,qBAAK4E,cAAL,GAAsB,EAAtB;AACA5E,qBAAK4E,cAAL,GAAsBvG,SAASqO,mBAAT,CAA6BgH,SAASC,IAAT,CAAc8E,YAA3C,CAAtB;AACAzY,qBAAK8E,YAAL,CAAkB4T,mBAAlB,CAAsC1Y,KAAK4E,cAA3C,EAA0D5E,KAAK6E,cAA/D,EAA8E7E,KAAKT,eAAnF,EAAmGS,KAAKe,UAAxG;AACH;AAEJ,SAfK,MAeA,IAAG4T,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiB8K,YAAjB,CAA8B,EAA9B;AACAvP,iBAAKyE,WAAL,CAAiB+T,WAAjB,CAA6B,IAA7B;AACA,gBAAG9E,SAASC,IAAT,CAAc8E,YAAd,IAA4B/E,SAASC,IAAT,CAAc8E,YAAd,CAA2BjS,MAA3B,IAAqC,EAApE,EAAuE;AACnE,oBAAGxG,KAAKwE,aAAL,CAAmBgC,MAAnB,GAA4B,CAA/B,EAAiC;AAAE;AAC/B,yBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKwE,aAAL,CAAmBgC,MAAtC,EAA8CV,GAA9C,EAAkD;AAC9C9F,6BAAKwE,aAAL,CAAmBsB,CAAnB,EAAsBJ,YAAtB,CAAmCxH,YAAnC,EAAiDuI,IAAjD,CAAsDC,gBAAtD;AACH;AACD1G,yBAAKwE,aAAL,GAAqB,EAArB;AACH;AACDxE,qBAAKuE,aAAL,GAAqB,EAArB;AACAvE,qBAAKuE,aAAL,GAAqBlG,SAASqO,mBAAT,CAA6BgH,SAASC,IAAT,CAAc8E,YAA3C,CAArB;AACAzY,qBAAKyE,WAAL,CAAiBkU,kBAAjB,CAAoC3Y,KAAKuE,aAAzC,EAAuDvE,KAAKwE,aAA5D,EAA0ExE,KAAKX,cAA/E,EAA8FW,KAAKe,UAAnG;AACH;AACJ;;AAEDf,aAAK4B,WAAL,GAAmBvD,SAAS8P,mBAAT,CAA6BnO,KAAK+D,WAAlC,CAAnB;AACA,YAAI6U,SAASva,SAASwa,YAAT,CAAsB7Y,KAAK4B,WAA3B,CAAb;AACA,YAAGgX,MAAH,EAAU;AACN5Y,iBAAKsR,OAAL,CAAasH,MAAb;AACH;AACJ,KA38CI;AA48CLpG,qBA58CK,6BA48CavJ,KA58Cb,EA48CmB;AACpB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,aAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIiC,YAAYpF,SAASC,IAAT,CAAcoF,UAA9B;;AAEA/Y,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiByV,cAAlC;;AAEA,YAAG6B,aAAWA,aAAa,CAA3B,EAA6B;AACzB,gBAAIzD,WAAW,SAAXA,QAAW,GAAU;AACrB;AACArV,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBgB,aAAxC;AACAra,2BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B;AACH,aAJD;AAKA,gBAAI6U,WAAW,SAAXA,QAAW,GAAU;AACrB;AACAtV,qBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBgB,aAAxC;AACH,aAHD;AAIAza,0BAAc0a,eAAd,CAA8B5D,QAA9B,EAAuCC,QAAvC;AACH;AACJ,KAh+CI;AAi+CL7C,kBAj+CK,0BAi+CUxJ,KAj+CV,EAi+CgB;AACjB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,UAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBuV,eAAlC;;AAEA,YAAG/W,KAAKmE,SAAL,CAAe+U,eAAf,MAAkC9a,OAAO4Z,QAAP,CAAgBgB,aAArD,EAAmE;AAC/DhZ,iBAAKmE,SAAL,CAAewS,QAAf;AACH;;AAED,YAAIjD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAGlD,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAG3U,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACD;AACA3D,iBAAKmE,SAAL,CAAewS,QAAf;AACA3W,iBAAKmE,SAAL,CAAe0E,cAAf,CAA8B7I,KAAKiE,YAAnC;;AAGA;AACA;;AAEA,gBAAIjE,KAAK4B,WAAL,CAAiB4E,MAAjB,IAA2B,CAA/B,EAAiC;AAAE;AAC/BpG,wBAAQC,GAAR,CAAY,QAAZ;AACA,oBAAGL,KAAKqB,QAAL,IAAiBrB,KAAKuB,SAAzB,EAAmC;AAC/B5C,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyCT,KAAK4B,WAA9C;AACA;AACH;;AAED,oBAAG5B,KAAKsB,YAAL,IAAmBtB,KAAKsB,YAAL,CAAkBkF,MAAlB,IAA4B,CAAlD,EAAoD;AAChD,wBAAI2S,WAAWnZ,KAAKsB,YAAL,CAAkB,CAAlB,CAAf;AACA,wBAAI8X,OAAOpZ,KAAK4B,WAAL,CAAiB,CAAjB,CAAX;AACA,wBAAIyX,MAAMhb,SAASgI,mBAAT,CAA6B+S,IAA7B,EAAmCpN,OAAnC,GAA6C3N,SAASgI,mBAAT,CAA6B8S,QAA7B,EAAuCnN,OAA9F;AACA5L,4BAAQC,GAAR,CAAY,WAASgZ,GAArB;AACA,wBAAGA,MAAI,CAAP,EAAS;AACL1a,mCAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyCT,KAAK4B,WAA9C;AACH,qBAFD,MAEK;AACDjD,mCAAW8B,WAAX,CAAuB,MAAvB,EAA8B,gBAA9B;AACH;AACJ,iBAVD,MAUK;AACD9B,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,gBAA9B;AACH;AACJ,aApBD,MAoBK;AACDT,qBAAK2L,WAAL;AACH;;AAED;AACH,SAtCD,MAsCM,IAAGgJ,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB8S,SAAlB,CAA4BxZ,OAAOiQ,eAAnC;AACArO,iBAAK8E,YAAL,CAAkB6R,QAAlB;AACA3W,iBAAK8E,YAAL,CAAkB+D,cAAlB,CAAiC7I,KAAK2E,iBAAtC;AACA,gBAAG3E,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACJ,SARK,MAQA,IAAGgR,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBmT,SAAjB,CAA2BxZ,OAAOiQ,eAAlC;AACArO,iBAAKyE,WAAL,CAAiBkS,QAAjB;AACA3W,iBAAKyE,WAAL,CAAiBoE,cAAjB,CAAgC7I,KAAKsE,gBAArC;;AAEA,gBAAGtE,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACJ;AACJ,KAriDI;AAsiDL+O,qBAtiDK,6BAsiDazJ,KAtiDb,EAsiDmB;AACpB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,SAAjB,CAAb;AACA,YAAI4F,SAAS5F,SAAS,MAAT,EAAiB,QAAjB,CAAb,CALoB,CAKqB;AACzC,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;;AAEAzX,gBAAQC,GAAR,CAAY,YAAUsU,OAAtB;AACA,YAAGA,WAAW,CAAd,EAAgB;AAAC;AACb,gBAAG,CAAC3U,KAAKmE,SAAL,CAAesM,YAAf,EAAJ,EAAkC;AAC9BzQ,qBAAK4Q,kBAAL;AACA5Q,qBAAKmE,SAAL,CAAewM,YAAf,CAA4B,IAA5B;AACH;AACJ,SALD,MAKM,IAAGgE,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB6L,YAAlB,CAA+B,IAA/B;AACH,SAFK,MAEA,IAAGgE,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBkM,YAAjB,CAA8B,IAA9B;AACH;AACJ,KAzjDI;AA0jDLgC,0BA1jDK,kCA0jDkB1J,KA1jDlB,EA0jDwB;AACzB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,WAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,SAAjB,CAAb;AACA;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;;AAEAzX,gBAAQC,GAAR,CAAY,cAAYsU,OAAxB;AACA,YAAGA,WAAW,CAAd,EAAgB,CAAC;AACb;AACA;AACA;AACA;AACA;AACH,SAND,MAMM,IAAGA,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB6L,YAAlB,CAA+B,KAA/B;AACH,SAFK,MAEA,IAAGgE,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBkM,YAAjB,CAA8B,KAA9B;AACH;AACJ,KA9kDI;AA+kDLiC,oBA/kDK,4BA+kDY3J,KA/kDZ,EA+kDkB;AACnB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBuV,eAAlC;;AAEA,YAAIrD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAIS,YAAY5E,SAASC,IAAT,CAAc2E,SAA9B;AACA9Z,0BAAkB+Z,UAAlB,CAA6BD,SAA7B;;AAEA,YAAI1V,SAAS,CAAb;;AAEA,YAAG+R,WAAW,CAAd,EAAgB;AAAC;AACb3U,iBAAKmE,SAAL,CAAeoV,eAAf,CAA+B7F,SAAS,MAAT,EAAiB,WAAjB,CAA/B;AACA1T,iBAAK6O,WAAL,CAAiB6E,SAAS,MAAT,EAAiB,WAAjB,CAAjB;AACA,gBAAI8F,cAAc9F,SAAS,MAAT,EAAiB,WAAjB,EAA8BlN,MAAhD;AACA,gBAAIiT,UAAWzZ,KAAKmE,SAAL,CAAemK,YAAf,EAAf;AACAtO,iBAAKmE,SAAL,CAAeoL,YAAf,CAA4BkK,UAAQD,WAApC;;AAEA,gBAAGxZ,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACDf,qBAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAT;AACH,SAZD,MAYM,IAAG8R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkByU,eAAlB,CAAkC7F,SAAS,MAAT,EAAiB,WAAjB,CAAlC;AACA1T,iBAAK6P,cAAL,CAAoB6D,SAAS,MAAT,EAAiB,WAAjB,CAApB,EAAkD,IAAlD,EAAuD1T,KAAK8E,YAAL,CAAkBuK,gBAAlB,EAAvD;AACA,gBAAImK,cAAc9F,SAAS,MAAT,EAAiB,WAAjB,EAA8BlN,MAAhD;AACA,gBAAIiT,UAAWzZ,KAAK8E,YAAL,CAAkBwJ,YAAlB,EAAf;AACAtO,iBAAK8E,YAAL,CAAkByK,YAAlB,CAA+BkK,UAAQD,WAAvC;AACAxZ,iBAAK8E,YAAL,CAAkBoT,SAAlB;AACAtV,qBAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAT;AACH,SARK,MAQA,IAAG8R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiB8U,eAAjB,CAAiC7F,SAAS,MAAT,EAAiB,WAAjB,CAAjC;AACA1T,iBAAKwP,aAAL,CAAmBkE,SAAS,MAAT,EAAiB,WAAjB,CAAnB,EAAiD,IAAjD,EAAsD1T,KAAKyE,WAAL,CAAiB4K,gBAAjB,EAAtD;AACA,gBAAImK,cAAc9F,SAAS,MAAT,EAAiB,WAAjB,EAA8BlN,MAAhD;AACA,gBAAIiT,UAAWzZ,KAAKyE,WAAL,CAAiB6J,YAAjB,EAAf;AACAtO,iBAAKyE,WAAL,CAAiB8K,YAAjB,CAA8BkK,UAAQD,WAAtC;AACAxZ,iBAAKyE,WAAL,CAAiByT,SAAjB;AACAtV,qBAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAT;AACH;AACD;AACA;;AAEA,YAAI6W,eAAehG,SAAS,MAAT,EAAiB,WAAjB,CAAnB,CA7CmB,CA6C8B;AACjD,YAAIY,YAAYuD,MAAhB,CA9CmB,CA8CI;AACvBzX,gBAAQC,GAAR,CAAYqT,SAAS,MAAT,EAAiB,WAAjB,CAAZ;AACA;AACA,YAAIlH,QAAQ,EAAZ;AACA,YAAGkN,gBAAcA,aAAalT,MAAb,GAAoB,CAArC,EAAuC;AACnC,gBAAIiG,YAAYpO,SAASqO,mBAAT,CAA6BgN,YAA7B,CAAhB;AACAtZ,oBAAQC,GAAR,CAAYoM,SAAZ;AACA,iBAAI,IAAI3G,IAAG,CAAX,EAAaA,IAAE2G,UAAUjG,MAAzB,EAAgCV,GAAhC,EAAoC;AAChC0G,sBAAMlG,IAAN,CAAWmG,UAAU3G,CAAV,EAAakG,OAAxB;AACH;AACDQ,kBAAMG,IAAN,CAAWvO,OAAOwO,OAAlB;AACA,gBAAIC,YAAYxO,SAASyO,gBAAT,CAA0BN,KAA1B,CAAhB;AACA,gBAAGK,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBC,aAAlC,IAAiD/M,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBE,uBAAnF,IACChN,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBG,qBADtC,EAC4D;AACxD;AACAvb,8BAAcwb,aAAd;AACH,aAJD,MAIM,IAAGlN,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBK,UAArC,EAAgD;AAClD;AACAzb,8BAAc0b,eAAd;AACAja,qBAAKka,aAAL;AACH,aAJK,MAIA,IAAGrN,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBQ,IAArC,EAA0C;AAC5C;AACA5b,8BAAc6b,cAAd;AACApa,qBAAKka,aAAL;AACH,aAJK,MAIA,IAAGrN,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBU,QAArC,EAA8C;AAChD;AACH,aAFK,MAEA,IAAGxN,UAAU1N,IAAV,IAAkBf,OAAOub,QAAP,CAAgBW,cAArC,EAAoD,CAEzD;AADG;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACI1b,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsCiK,UAAU1N,IAAhD,EAAqDua,YAArD;AACJ;AACH;;AAED1Z,aAAKsB,YAAL,GAAoBoS,SAAS,MAAT,EAAiB,WAAjB,CAApB,CA5FmB,CA4F+B;AAClD1T,aAAKuB,SAAL,GAAiBsW,MAAjB,CA7FmB,CA6FK;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA7X,aAAK4B,WAAL,GAAmBvD,SAAS8P,mBAAT,CAA6BnO,KAAK+D,WAAlC,CAAnB;AACA,YAAI6U,SAASva,SAASwa,YAAT,CAAsB7Y,KAAK4B,WAA3B,CAAb;AACA,YAAGgX,MAAH,EAAU;AACN5Y,iBAAKsR,OAAL,CAAasH,MAAb;AACH;AACJ,KA3rDI;AA4rDL/F,mBA5rDK,2BA4rDW5J,KA5rDX,EA4rDiB;AAClB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,UAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBuV,eAAlC;;AAEA,YAAIrD,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,QAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAGlD,WAAW,CAAd,EAAgB;AAAC;AACb;AACA3U,iBAAKmE,SAAL,CAAe4T,QAAf,CAAwB3Z,OAAO4Z,QAAP,CAAgBuC,IAAxC;AACA,gBAAGva,KAAK2D,WAAR,EAAoB;AAChB3D,qBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,qBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACD,gBAAIf,SAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,OAAtC;AACH,SATD,MASM,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB;AACA3U,iBAAK8E,YAAL,CAAkBiT,QAAlB,CAA2B3Z,OAAO4Z,QAAP,CAAgBuC,IAA3C;AACAva,iBAAK8E,YAAL,CAAkBoT,SAAlB;AACA,gBAAItV,SAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,OAAtC;AACH,SANK,MAMA,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB;AACA3U,iBAAKyE,WAAL,CAAiBsT,QAAjB,CAA0B3Z,OAAO4Z,QAAP,CAAgBuC,IAA1C;AACAva,iBAAKyE,WAAL,CAAiByT,SAAjB;AACA,gBAAItV,SAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,OAAtC;AACH;AACJ,KA1tDI;AA2tDLkQ,oBA3tDK,4BA2tDY7J,KA3tDZ,EA2tDkB;AACnB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,YAAjB,CAAb;AACA,YAAI8G,eAAe9G,SAAS,MAAT,EAAiB,cAAjB,CAAnB;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACAzX,gBAAQC,GAAR,CAAY,aAAWsU,OAAvB;AACA,YAAGA,WAAW,CAAd,EAAgB;AAAC;AACb3U,iBAAKmE,SAAL,CAAesW,gBAAf,CAAgC,IAAhC;AACA,gBAAGza,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAA3B,EAA6B;AACzBxG,qBAAKgE,WAAL,CAAiBhE,KAAKgE,WAAL,CAAiBwC,MAAjB,GAAwB,CAAzC,EAA4Cd,YAA5C,CAAyDxH,YAAzD,EAAuEoR,WAAvE,CAAmF,IAAnF;AACH;AACD,gBAAI1M,SAAS5C,KAAKmE,SAAL,CAAetB,SAAf,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH,SAPD,MAOM,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAK8E,YAAL,CAAkB2V,gBAAlB,CAAmC,IAAnC;AACAza,iBAAK4E,cAAL,GAAsBvG,SAASqO,mBAAT,CAA6B8N,YAA7B,CAAtB;AACAxa,iBAAK8E,YAAL,CAAkB4T,mBAAlB,CAAsC1Y,KAAK4E,cAA3C,EAA0D5E,KAAK6E,cAA/D,EAA8E7E,KAAKT,eAAnF,EAAmGS,KAAKe,UAAxG;AACA,gBAAI6B,SAAS5C,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH,SANK,MAMA,IAAG+R,WAAW,CAAd,EAAgB;AAAC;AACnB3U,iBAAKyE,WAAL,CAAiBgW,gBAAjB,CAAkC,IAAlC;AACAza,iBAAKuE,aAAL,GAAqBlG,SAASqO,mBAAT,CAA6B8N,YAA7B,CAArB;AACAxa,iBAAKyE,WAAL,CAAiBkU,kBAAjB,CAAoC3Y,KAAKuE,aAAzC,EAAuDvE,KAAKwE,aAA5D,EAA0ExE,KAAKX,cAA/E,EAA8FW,KAAKe,UAAnG;AACA,gBAAI6B,SAAS5C,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAb;AACAjE,eAAG8B,EAAH,CAAMC,QAAN,CAAeuW,eAAf,CAA+BtU,MAA/B,EAAsC,SAAtC;AACH;AACJ,KAvvDI;AAwvDLmQ,kBAxvDK,0BAwvDU9J,KAxvDV,EAwvDgB;AACjB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiByO,eAAlC;AACA,YAAIyD,WAAWzK,MAAM4N,WAAN,EAAf;AACA;;AAEAzW,gBAAQC,GAAR,CAAYqT,SAASC,IAArB;;AAEA,YAAGD,SAASC,IAAT,CAAc+G,MAAd,IAAwB,CAAxB,IAA6BhH,SAASC,IAAT,CAAcgH,UAAd,IAA4B,CAA5D,EAA8D;AAC1D;AACApc,0BAAcqc,gBAAd;AACH;;AAED,YAAIvN,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjCrN,iBAAKuV,cAAL,CAAoB7B,QAApB;AACA;AACH,SAHc,CAAf;AAIA,YAAIpG,QAAQ1O,GAAG2O,SAAH,CAAa,GAAb,CAAZ;AACA,aAAK9G,IAAL,CAAU+G,SAAV,CAAoB5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAApB;;AAEA,YAAG,KAAKzJ,cAAR,EAAuB;AACnBxD,oBAAQC,GAAR,CAAY,UAAZ;AACA,iBAAKuD,cAAL,CAAoBkF,KAApB;AACA,iBAAKlF,cAAL,GAAsB,IAAtB;AACH;;AAED;AACA,aAAI,IAAIkC,IAAI,CAAZ,EAAcA,IAAE,CAAhB,EAAkBA,GAAlB,EAAsB;AAClB,gBAAI6O,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCyE,CAAtC,CAAd;AACA,gBAAI0U,eAAe9G,SAASC,IAAT,CAAcnH,KAAd,CAAoB1G,CAApB,CAAnB;AACA,gBAAG6O,WAAW,CAAd,EAAgB,CAAC;AAChB,aADD,MACM,IAAGA,WAAW,CAAX,IAAgB,CAAC3U,KAAK8E,YAAL,CAAkBuK,gBAAlB,EAAjB,IAAuDmL,aAAahU,MAAb,GAAoB,CAA9E,EAAgF;AAAC;AACnF;AACAxG,qBAAK4E,cAAL,GAAsBvG,SAASqO,mBAAT,CAA6B8N,YAA7B,CAAtB;AACAxa,qBAAK8E,YAAL,CAAkB4T,mBAAlB,CAAsC1Y,KAAK4E,cAA3C,EAA0D5E,KAAK6E,cAA/D,EAA8E7E,KAAKT,eAAnF,EAAmGS,KAAKe,UAAxG;AACH,aAJK,MAIA,IAAG4T,WAAW,CAAX,IAAgB,CAAC3U,KAAKyE,WAAL,CAAiB4K,gBAAjB,EAAjB,IAAsDmL,aAAahU,MAAb,GAAoB,CAA7E,EAA+E;AAAC;AAClF;AACAxG,qBAAKuE,aAAL,GAAqBlG,SAASqO,mBAAT,CAA6B8N,YAA7B,CAArB;AACAxa,qBAAKyE,WAAL,CAAiBkU,kBAAjB,CAAoC3Y,KAAKuE,aAAzC,EAAuDvE,KAAKwE,aAA5D,EAA0ExE,KAAKX,cAA/E,EAA8FW,KAAKe,UAAnG;AACH;AAEJ;AAEJ,KApyDI;AAqyDLiS,mBAryDK,2BAqyDW/J,KAryDX,EAqyDiB;AAClB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,wBAAZ;AACAL,aAAKwB,SAAL,GAAiBpD,OAAOoD,SAAP,CAAiBqZ,sBAAlC;AACA;AACA;AACH,KA3yDI;AA4yDL5H,oBA5yDK,4BA4yDYhK,KA5yDZ,EA4yDkB;AACnB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,kBAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAG7W,KAAK2D,WAAR,EAAoB;AAChB3D,iBAAK2D,WAAL,CAAiBmX,WAAjB,CAA6B,CAAC,CAA9B;AACH;AACJ,KAnzDI;AAozDL5H,oBApzDK,4BAozDYjK,KApzDZ,EAozDkB;AACnB,YAAIjJ,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,SAAZ;AACA,YAAIqT,WAAWzK,MAAM4N,WAAN,EAAf;AACA,YAAIgB,SAASnE,SAAS,MAAT,EAAiB,OAAjB,CAAb;AACA,YAAIiB,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCwW,MAAtC,CAAd;AACA,YAAIkD,OAAOrH,SAAS,MAAT,EAAiB,MAAjB,CAAX;AACA,YAAGiB,WAAW,CAAd,EAAgB;AAAC;AACb,iBAAKnD,UAAL,CAAgBuJ,IAAhB;AACAnc,eAAG8B,EAAH,CAAMC,QAAN,CAAeqa,OAAf,CAAuBhb,KAAKmE,SAAL,CAAetB,SAAf,EAAvB,EAAkDkY,IAAlD;AACH,SAHD,MAGM,IAAGpG,WAAW,CAAd,EAAgB;AAAC;AACnB,iBAAKhD,aAAL,CAAmBoJ,IAAnB;AACAnc,eAAG8B,EAAH,CAAMC,QAAN,CAAeqa,OAAf,CAAuBhb,KAAK8E,YAAL,CAAkBjC,SAAlB,EAAvB,EAAqDkY,IAArD;AACH,SAHK,MAGA,IAAGpG,WAAW,CAAd,EAAgB;AAAC;AACnB,iBAAKjD,YAAL,CAAkBqJ,IAAlB;AACAnc,eAAG8B,EAAH,CAAMC,QAAN,CAAeqa,OAAf,CAAuBhb,KAAKyE,WAAL,CAAiB5B,SAAjB,EAAvB,EAAoDkY,IAApD;AACH;AACJ,KAr0DI;AAs0DL5H,sBAt0DK,8BAs0DclK,KAt0Dd,EAs0DoB;AACrB7I,gBAAQC,GAAR,CAAY,aAAZ;AACAjC,eAAOkC,aAAP,GAAuB,KAAvB;AACA,YAAIN,OAAO,IAAX;AACAA,aAAKO,UAAL;AACA,YAAImT,WAAWzK,MAAM4N,WAAN,EAAf;;AAEA,YAAIoE,UAAU,EAAd;AACAA,gBAAQC,QAAR,GAAmBxH,SAASC,IAAT,CAAcuH,QAAjC;AACAD,gBAAQE,SAAR,GAAoBzH,SAASC,IAAT,CAAcwH,SAAlC,CATqB,CASwB;AAC7CF,gBAAQ3C,SAAR,GAAoB5E,SAASC,IAAT,CAAc2E,SAAlC;AACA2C,gBAAQ5C,MAAR,GAAiB3E,SAASC,IAAT,CAAc0E,MAA/B;AACA4C,gBAAQ3C,SAAR,GAAoB5E,SAASC,IAAT,CAAcyH,QAAlC;AACAH,gBAAQI,IAAR,GAAe3H,SAASC,IAAT,CAAc0H,IAA7B;AACAJ,gBAAQlF,IAAR,GAAerC,SAASC,IAAT,CAAcoC,IAA7B;;AAEA,YAAGrC,SAASC,IAAT,CAAcoC,IAAjB,EAAsB;AAClB/V,iBAAKyF,eAAL,CAAqB0C,MAArB,GAA8B,KAAKuL,SAASC,IAAT,CAAcoC,IAAjD;AACH;;AAED;AACA/V,aAAKiI,WAAL,CAAiBnB,OAAjB,GAA2B,IAA3B;AACA,YAAIwU,aAAaL,QAAQI,IAAR,CAAaE,IAA9B;AACA,YAAIN,QAAQI,IAAR,CAAavF,KAAb,IAAoBmF,QAAQI,IAAR,CAAavF,KAAb,IAAoB,GAA5C,EAAgD;AAC5CwF,yBAAaA,aAAa,IAAb,GAAkBL,QAAQI,IAAR,CAAavF,KAA/B,GAAqC,IAAlD;AACH,SAFD,MAEM,IAAGmF,QAAQI,IAAR,CAAaG,OAAb,IAAsBP,QAAQI,IAAR,CAAaG,OAAb,IAAsB,GAA/C,EAAmD;AACrDF,yBAAaA,aAAa,IAAb,GAAkBL,QAAQI,IAAR,CAAaG,OAA/B,GAAuC,KAApD;AACH,SAFK,MAEA,IAAGP,QAAQI,IAAR,CAAaI,GAAhB,EAAoB;AACtBH,yBAAaA,aAAaL,QAAQI,IAAR,CAAaI,GAAvC;AACH,SAFK,MAED;AACDH,yBAAaA,aAAa,IAAb,GAAkBL,QAAQI,IAAR,CAAaK,MAA/B,GAAsC,IAAnD;AACH;AACD1b,aAAKkI,aAAL,CAAmBC,MAAnB,GAA4BmT,UAA5B;AACA,YAAIK,IAAI3b,KAAKkI,aAAL,CAAmBzB,IAAnB,CAAwBvF,KAAhC;AACAlB,aAAKiI,WAAL,CAAiBxB,IAAjB,CAAsBvF,KAAtB,GAA8Bya,IAAE,EAAhC;;AAEAV,gBAAQW,GAAR,GAAclI,SAASC,IAAT,CAAciI,GAA5B,CApCqB,CAoCW;AAChCX,gBAAQ7O,IAAR,GAAesH,SAASC,IAAT,CAAcvH,IAA7B,CArCqB,CAqCa;AAClC6O,gBAAQY,QAAR,GAAmBnI,SAASC,IAAT,CAAckI,QAAjC,CAtCqB,CAsCqB;AAC1C,YAAIC,cAAc1d,OAAOwW,gBAAP,CAAwBlB,SAASC,IAAT,CAActS,QAAtC,EAA+C4Z,QAAQY,QAAvD,CAAlB;;AAEA,YAAGZ,QAAQW,GAAR,IAAe,iBAAlB,EAAoC;AAAC;AACjCrd,0BAAc+R,gBAAd,CAA+B,MAA/B,EAAsC,UAAtC,EAAiD,YAAU;AACvDtQ,qBAAKqQ,gBAAL;AACH,aAFD;AAGH;;AAED,YAAGyL,eAAe,CAAlB,EAAoB;AAChB,gBAAGb,QAAQW,GAAR,IAAe,gBAAlB,EAAmC;AAAC;AAChC,oBAAIvG,WAAW,SAAXA,QAAW,GAAU;AACrB,wBAAGrV,KAAK2D,WAAR,EAAoB;AAChB3D,6BAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,6BAAK2D,WAAL,GAAmB,IAAnB;AACH;AACDhF,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,iBAND;AAOA,oBAAI6U,WAAW,SAAXA,QAAW,GAAU;AACrB,wBAAGtV,KAAK2D,WAAR,EAAoB;AAChB3D,6BAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,6BAAK2D,WAAL,GAAmB,IAAnB;AACH;AACDhF,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,iBAND;AAOAT,qBAAKuO,YAAL,CAAkB0M,QAAQ7O,IAA1B,EAA+BiJ,QAA/B,EAAwCC,QAAxC,EAAiDlX,OAAOoQ,SAAP,CAAiBmJ,QAAlE;AACA3X,qBAAKmE,SAAL,CAAewS,QAAf;AACH,aAjBD,MAiBM,IAAGsE,QAAQW,GAAR,IAAe,gBAAlB,EAAmC;AAAC;AACtC,oBAAIvG,WAAW,SAAXA,QAAW,GAAU;AACrB1W,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,iBAFD;AAGA,oBAAI6U,WAAW,SAAXA,QAAW,GAAU;AACrB3W,+BAAW8B,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,CAAzC;AACH,iBAFD;AAGAT,qBAAKuO,YAAL,CAAkB0M,QAAQ7O,IAA1B,EAA+BiJ,QAA/B,EAAwCC,QAAxC,EAAiDlX,OAAOoQ,SAAP,CAAiB2J,QAAlE;AACAnY,qBAAKmE,SAAL,CAAewS,QAAf;AACH,aATK,MASA,IAAGsE,QAAQW,GAAR,IAAe,gBAAf,IAAiCX,QAAQW,GAAR,IAAe,gBAAnD,EAAoE;AACtE,oBAAG5b,KAAK2D,WAAR,EAAoB;AAChB3D,yBAAK2D,WAAL,CAAiBmF,KAAjB;AACA9I,yBAAK2D,WAAL,GAAmB,IAAnB;AACH;AACD3D,qBAAK2L,WAAL,CAAiB,EAAjB,EALsE,CAKjD;AACrB3L,qBAAKmE,SAAL,CAAewS,QAAf;AACA3W,qBAAKmE,SAAL,CAAe0E,cAAf,CAA8B7I,KAAKiE,YAAnC;AACH;AACJ,SApCD,MAoCM,IAAG6X,eAAe,CAAlB,EAAoB;AAAC;AACvB9b,iBAAK8E,YAAL,CAAkB8S,SAAlB,CAA4BqD,QAAQ7O,IAApC;AACApM,iBAAK8E,YAAL,CAAkB6R,QAAlB;AACA3W,iBAAK8E,YAAL,CAAkB+D,cAAlB,CAAiC7I,KAAK2E,iBAAtC;AACH,SAJK,MAIA,IAAGmX,eAAe,CAAlB,EAAoB;AAAC;AACvB9b,iBAAKyE,WAAL,CAAiBmT,SAAjB,CAA2BqD,QAAQ7O,IAAnC;AACApM,iBAAKyE,WAAL,CAAiBkS,QAAjB;AACA3W,iBAAKyE,WAAL,CAAiBoE,cAAjB,CAAgC7I,KAAKsE,gBAArC;AACH;;AAED2W,gBAAQtH,IAAR,GAAe,EAAf;AACA,aAAI,IAAI7N,IAAI,CAAZ,EAAcA,IAAE,CAAhB,EAAkBA,GAAlB,EAAsB;AAClB,gBAAI5B,SAAS,EAAb;AACAA,mBAAOsI,KAAP,GAAekH,SAAS,MAAT,EAAiB,SAAO5N,CAAP,GAAS,OAA1B,CAAf;AACA5B,mBAAO6X,IAAP,GAAcrI,SAAS,MAAT,EAAiB,SAAO5N,CAAP,GAAS,MAA1B,CAAd;AACA5B,mBAAO0K,IAAP,GAAc8E,SAAS,MAAT,EAAiB,SAAO5N,CAAP,GAAS,MAA1B,CAAd;AACA5B,mBAAO8X,KAAP,GAAetI,SAAS,MAAT,EAAiB,SAAO5N,CAAP,GAAS,OAA1B,CAAf,CALkB,CAKgC;AAClDmV,oBAAQtH,IAAR,CAAarN,IAAb,CAAkBpC,MAAlB;AACAlE,iBAAK0B,SAAL,CAAeoE,CAAf,IAAoB5B,OAAO6X,IAAP,CAAYE,IAAhC;AACH;AACD7b,gBAAQC,GAAR,CAAY,gBAAZ;AACAD,gBAAQC,GAAR,CAAY4a,OAAZ;;AAEAjb,aAAKsB,YAAL,GAAoBoS,SAASC,IAAT,CAAcwH,SAAlC,CA1GqB,CA0GuB;AAC5Cnb,aAAKuB,SAAL,GAAiBmS,SAASC,IAAT,CAAcuH,QAA/B,CA3GqB,CA2GmB;;AAExClb,aAAKH,UAAL,CAAgBoF,MAAhB,GAAyB,IAAzB;AACAjF,aAAKF,WAAL,CAAiBmF,MAAjB,GAA0B,IAA1B;;AAEAjF,aAAKqB,QAAL,GAAgBqS,SAASC,IAAT,CAActS,QAA9B;AACA,YAAG4Z,QAAQ5C,MAAR,IAAgB,CAAnB,EAAqB;AACjBrY,iBAAKyB,UAAL,GAAkBwZ,QAAQ5C,MAA1B;AACArY,iBAAK4F,aAAL,CAAmB8N,SAASC,IAAT,CAAcyH,QAAjC;AACH;;AAED,aAAI,IAAItV,IAAE,CAAV,EAAYA,IAAE,CAAd,EAAgBA,GAAhB,EAAoB;AAChB,gBAAI6O,UAAUvW,OAAOwW,gBAAP,CAAwB5U,KAAKqB,QAA7B,EAAsCyE,CAAtC,CAAd;AACA,gBAAI0G,QAAQyO,QAAQtH,IAAR,CAAa7N,CAAb,EAAgB0G,KAA5B;AACA,gBAAIoC,OAAOqM,QAAQtH,IAAR,CAAa7N,CAAb,EAAgB8I,IAA3B;AACA,gBAAImN,OAAOd,QAAQtH,IAAR,CAAa7N,CAAb,EAAgBiW,IAA3B;AACA,gBAAIC,QAAQf,QAAQtH,IAAR,CAAa7N,CAAb,EAAgBkW,KAA5B;AACA,gBAAGrH,WAAW,CAAd,EAAgB;AAAC;AACb,oBAAG/F,QAAQ,CAAX,EAAa,CAAC;AACb,iBADD,MACK,CACJ;AACD,oBAAG5O,KAAKgE,WAAL,CAAiBwC,MAAjB,GAA0B,CAA7B,EAA+B;AAAE;AAC7B,yBAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKgE,WAAL,CAAiBwC,MAApC,EAA4CV,GAA5C,EAAgD;AAC5C9F,6BAAKgE,WAAL,CAAiB8B,CAAjB,EAAoBJ,YAApB,CAAiCxH,YAAjC,EAA+CuI,IAA/C,CAAoDC,gBAApD;AACH;AACD1G,yBAAKgE,WAAL,GAAmB,EAAnB;AACH;AACDhE,qBAAK+D,WAAL,GAAmB,EAAnB;AACA/D,qBAAKmE,SAAL,CAAeoL,YAAf,CAA4B/C,MAAMhG,MAAlC;AACAxG,qBAAKmE,SAAL,CAAesW,gBAAf,CAAgC7L,QAAM,CAAtC;AACA5O,qBAAKmE,SAAL,CAAeqU,WAAf,CAA2ByC,QAAQ5C,MAAR,IAAkBvS,CAA7C;AACA9F,qBAAK+D,WAAL,GAAmB1F,SAASqO,mBAAT,CAA6BF,KAA7B,CAAnB;AACAxM,qBAAKgE,WAAL,GAAmBhE,KAAKmE,SAAL,CAAekT,WAAf,CAA2BrX,KAAK+D,WAAhC,EAA4C/D,KAAKgE,WAAjD,EAA6DhE,KAAKmB,KAAlE,EAAwEnB,KAAKe,UAA7E,CAAnB;;AAEAf,qBAAK4B,WAAL,GAAmB4K,KAAnB;;AAEA,oBAAIqI,OAAO,EAAX;AACAA,qBAAKnS,QAAL,GAAgBqZ,KAAKE,IAArB;AACApH,qBAAK/R,IAAL,GAAYiZ,KAAKjG,KAAjB;AACAjB,qBAAK3R,MAAL,GAAc6Y,KAAKL,MAAnB;AACA7G,qBAAKvR,SAAL,GAAiByY,KAAKG,GAAtB;AACArH,qBAAKsH,SAAL,GAAiB3P,MAAMhG,MAAvB;AACAxG,qBAAKmE,SAAL,CAAeiY,YAAf,CAA4BvH,IAA5B;AACA,oBAAGmH,SAAS,CAAZ,EAAc;AACV5b,4BAAQC,GAAR,CAAY,WAAZ;AACAL,yBAAKmE,SAAL,CAAewM,YAAf,CAA4B,IAA5B;AACA,wBAAG3Q,KAAKmE,SAAL,CAAesM,YAAf,EAAH,EAAiC;AAC7BrQ,gCAAQC,GAAR,CAAY,eAAZ;AACAL,6BAAK4Q,kBAAL;AACA;AACH;AACJ;AACJ,aAnCD,MAmCM,IAAG+D,WAAW,CAAd,EAAgB;AAAC;AACnB,oBAAG/F,QAAQ,CAAX,EAAa;AAAC;AACV,wBAAG5O,KAAK6E,cAAL,CAAoB2B,MAApB,GAA6B,CAAhC,EAAkC;AAAE;AAChC,6BAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAK6E,cAAL,CAAoB2B,MAAvC,EAA+CV,GAA/C,EAAmD;AAC/C9F,iCAAK6E,cAAL,CAAoBiB,CAApB,EAAuBJ,YAAvB,CAAoCxH,YAApC,EAAkDuI,IAAlD,CAAuDC,gBAAvD;AACH;AACD1G,6BAAK6E,cAAL,GAAsB,EAAtB;AACH;AACD7E,yBAAK4E,cAAL,GAAsB,EAAtB;AACA5E,yBAAK4E,cAAL,GAAsBvG,SAASqO,mBAAT,CAA6BF,KAA7B,CAAtB;AACAxM,yBAAK8E,YAAL,CAAkB4T,mBAAlB,CAAsC1Y,KAAK4E,cAA3C,EAA0D5E,KAAK6E,cAA/D,EAA8E7E,KAAKT,eAAnF,EAAmGS,KAAKe,UAAxG;AACH,iBAVD,MAUK,CACJ;AACDf,qBAAK8E,YAAL,CAAkB2V,gBAAlB,CAAmC7L,QAAM,CAAzC;AACA5O,qBAAK8E,YAAL,CAAkB0T,WAAlB,CAA8ByC,QAAQ5C,MAAR,IAAkBvS,CAAhD;AACA,oBAAI+O,OAAO,EAAX;AACAA,qBAAKnS,QAAL,GAAgBqZ,KAAKE,IAArB;AACApH,qBAAK/R,IAAL,GAAYiZ,KAAKjG,KAAjB;AACAjB,qBAAK3R,MAAL,GAAc6Y,KAAKL,MAAnB;AACA7G,qBAAKvR,SAAL,GAAiByY,KAAKG,GAAtB;AACArH,qBAAKsH,SAAL,GAAiB3P,MAAMhG,MAAvB;AACAxG,qBAAK8E,YAAL,CAAkBsX,YAAlB,CAA+BvH,IAA/B;;AAEA,oBAAGmH,SAAS,CAAZ,EAAc;AACVhc,yBAAK8E,YAAL,CAAkB6L,YAAlB,CAA+B,IAA/B;AACH;AACJ,aA1BK,MA0BA,IAAGgE,WAAW,CAAd,EAAgB;AAAC;AACnB,oBAAG/F,QAAQ,CAAX,EAAa;AAAC;AACV,wBAAG5O,KAAKwE,aAAL,CAAmBgC,MAAnB,GAA4B,CAA/B,EAAiC;AAAE;AAC/B,6BAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI9F,KAAKwE,aAAL,CAAmBgC,MAAtC,EAA8CV,GAA9C,EAAkD;AAC9C9F,iCAAKwE,aAAL,CAAmBsB,CAAnB,EAAsBJ,YAAtB,CAAmCxH,YAAnC,EAAiDuI,IAAjD,CAAsDC,gBAAtD;AACH;AACD1G,6BAAKwE,aAAL,GAAqB,EAArB;AACH;AACDxE,yBAAKuE,aAAL,GAAqB,EAArB;AACAvE,yBAAKuE,aAAL,GAAqBlG,SAASqO,mBAAT,CAA6BF,KAA7B,CAArB;AACAxM,yBAAKyE,WAAL,CAAiBkU,kBAAjB,CAAoC3Y,KAAKuE,aAAzC,EAAuDvE,KAAKwE,aAA5D,EAA0ExE,KAAKX,cAA/E,EAA8FW,KAAKe,UAAnG;AACH,iBAVD,MAUK,CACJ;AACDf,qBAAKyE,WAAL,CAAiBgW,gBAAjB,CAAkC7L,QAAM,CAAxC;AACA5O,qBAAKyE,WAAL,CAAiB+T,WAAjB,CAA6ByC,QAAQ5C,MAAR,IAAkBvS,CAA/C;AACA,oBAAI+O,OAAO,EAAX;AACAA,qBAAKnS,QAAL,GAAgBqZ,KAAKE,IAArB;AACApH,qBAAK/R,IAAL,GAAYiZ,KAAKjG,KAAjB;AACAjB,qBAAK3R,MAAL,GAAc6Y,KAAKL,MAAnB;AACA7G,qBAAKvR,SAAL,GAAiByY,KAAKG,GAAtB;AACArH,qBAAKsH,SAAL,GAAiB3P,MAAMhG,MAAvB;AACAxG,qBAAKyE,WAAL,CAAiB2X,YAAjB,CAA8BvH,IAA9B;;AAEA,oBAAGmH,SAAS,CAAZ,EAAc;AACVhc,yBAAKyE,WAAL,CAAiBkM,YAAjB,CAA8B,IAA9B;AACH;AACJ;AACJ;AACD;AACA,YAAI0L,aAAaje,OAAOwW,gBAAP,CAAwBlB,SAASC,IAAT,CAActS,QAAtC,EAA+CrB,KAAKuB,SAApD,CAAjB;AACA,YAAG8a,cAAc,CAAjB,EAAmB;AAAC;AAChBrc,iBAAKmE,SAAL,CAAeoV,eAAf,CAA+BvZ,KAAKsB,YAApC;AACAtB,iBAAK6O,WAAL,CAAiB7O,KAAKsB,YAAtB;AACH,SAHD,MAGM,IAAG+a,cAAc,CAAjB,EAAmB;AAAC;AACtBrc,iBAAK8E,YAAL,CAAkByU,eAAlB,CAAkCvZ,KAAKsB,YAAvC;AACAtB,iBAAK6P,cAAL,CAAoB7P,KAAKsB,YAAzB,EAAsC,IAAtC,EAA2CtB,KAAK8E,YAAL,CAAkBuK,gBAAlB,EAA3C;AACH,SAHK,MAGA,IAAGgN,cAAc,CAAjB,EAAmB;AAAC;AACtBrc,iBAAKyE,WAAL,CAAiB8U,eAAjB,CAAiCvZ,KAAKsB,YAAtC;AACAtB,iBAAKwP,aAAL,CAAmBxP,KAAKsB,YAAxB,EAAqC,IAArC,EAA0CtB,KAAKyE,WAAL,CAAiB4K,gBAAjB,EAA1C;AACH;AACJ,KAviEI;AAwiEL+D,eAxiEK,uBAwiEOnK,KAxiEP,EAwiEa;AACd7I,gBAAQC,GAAR,CAAY,eAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAI0T,WAAWzK,MAAM4N,WAAN,EAAf;AACA7W,aAAKiI,WAAL,CAAiBnB,OAAjB,GAA2B,IAA3B;AACA,YAAIwU,aAAa5H,SAASC,IAAT,CAAc2H,UAA/B;AACA,YAAI5H,SAASC,IAAT,CAAcmC,KAAlB,EAAwB;AACpBwF,yBAAaA,aAAa,IAAb,GAAkB5H,SAASC,IAAT,CAAcmC,KAAhC,GAAsC,IAAnD;AACH,SAFD,MAEM,IAAGpC,SAASC,IAAT,CAAc6H,OAAjB,EAAyB;AAC3BF,yBAAaA,aAAa,IAAb,GAAkB5H,SAASC,IAAT,CAAc6H,OAAhC,GAAwC,KAArD;AACH,SAFK,MAEA,IAAG9H,SAASC,IAAT,CAAc8H,GAAjB,EAAqB;AACvBH,yBAAaA,aAAa5H,SAASC,IAAT,CAAc8H,GAAxC;AACH,SAFK,MAED;AACDH,yBAAaA,aAAa,IAAb,GAAkB5H,SAASC,IAAT,CAAc+H,MAAhC,GAAuC,IAApD;AACH;AACD1b,aAAKkI,aAAL,CAAmBC,MAAnB,GAA4BmT,UAA5B;AACA,YAAIK,IAAI3b,KAAKkI,aAAL,CAAmBzB,IAAnB,CAAwBvF,KAAhC;AACAlB,aAAKiI,WAAL,CAAiBxB,IAAjB,CAAsBvF,KAAtB,GAA8Bya,IAAE,EAAhC;AACH,KA1jEI;AA2jELtI,2BA3jEK,mCA2jEmBpK,KA3jEnB,EA2jEyB;AAC1B,YAAIjJ,OAAO,IAAX;AACA,YAAI0T,WAAWzK,MAAM4N,WAAN,EAAf;AACAzW,gBAAQC,GAAR,CAAYqT,QAAZ;AACA,YAAI4I,cAAc5I,SAASC,IAAT,CAAc2I,WAAhC;AACA,YAAI7K,UAAU,EAAd;;AAEA,YAAIpE,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjC,gBAAI8C,QAAQ,SAARA,KAAQ,GAAU;AAClB/P,wBAAQC,GAAR,CAAY,WAAZ;AACA,oBAAGic,cAAY,CAAf,EAAiB;AACb3d,+BAAW8B,WAAX,CAAuB,MAAvB,EAA+B,eAA/B,EAAgD,EAAhD;AACH,iBAFD,MAEK;AACDT,yBAAKqQ,gBAAL;AACH;AACJ,aAPD;AAQA,gBAAGiM,cAAY,CAAf,EAAiB;AACb,oBAAIC,QAAQD,cAAY,CAAxB;AACA7K,0BAAU,QAAM8K,KAAN,GAAY,aAAtB;AACAhe,8BAAc+R,gBAAd,CAA+B,KAA/B,EAAqCmB,OAArC,EAA6CtB,KAA7C;AACH,aAJD,MAIK;AACDsB,0BAAU,oBAAV;AACAlT,8BAAc+R,gBAAd,CAA+B,KAA/B,EAAqCmB,OAArC,EAA6C,YAAU;AACnDzR,yBAAKqQ,gBAAL;AACH,iBAFD;AAGH;AACJ,SAnBc,CAAf;AAoBA,YAAI/C,QAAQ1O,GAAG2O,SAAH,CAAa,GAAb,CAAZ,CA3B0B,CA2BI;AAC9B,aAAK9G,IAAL,CAAU+G,SAAV,CAAoB5O,GAAG6O,QAAH,CAAYH,KAAZ,EAAkBD,QAAlB,CAApB;AACH,KAxlEI;AAylELkG,iBAzlEK,yBAylEStK,KAzlET,EAylEe;AAChB7I,gBAAQC,GAAR,CAAY,gBAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAI2T,OAAO1K,MAAM4N,WAAN,EAAX;AACAzW,gBAAQC,GAAR,CAAYsT,IAAZ;AACApV,sBAAc+R,gBAAd,CAA+B,IAA/B,EAAoC,gBAApC,EAAqD,YAAU;AAC3DtQ,iBAAKwc,MAAL,GAAc,KAAd;AACA5d,eAAGoC,QAAH,CAAYyb,SAAZ,CAAsB,cAAtB;AACH,SAHD;AAIH,KAlmEI;AAmmELnJ,uBAnmEK,+BAmmEerK,KAnmEf,EAmmEqB;AACtB7I,gBAAQC,GAAR,CAAY,mBAAZ;AACA,YAAIL,OAAO,IAAX;AACA,YAAI2T,OAAO1K,MAAM4N,WAAN,EAAX;AACAzW,gBAAQC,GAAR,CAAYsT,IAAZ;;AAEA,YAAI+I,UAAU/I,IAAd;AACA;AACA;AACA,YAAI+I,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAamC,KAAjC,EAAuC;AACnCtX,8BAAkBqX,OAAlB,CAA0B6G,QAAQ/I,IAAR,CAAamC,KAAvC;AACA;AACA9V,iBAAKmE,SAAL,CAAe0R,OAAf,CAAuB6G,QAAQ/I,IAAR,CAAamC,KAApC;AACH;AACD;AACA,YAAI4G,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAa+H,MAAjC,EAAwC;AACpCld,8BAAkBme,SAAlB,CAA4BD,QAAQ/I,IAAR,CAAa+H,MAAzC;AACA;AACA1b,iBAAKmE,SAAL,CAAeyY,SAAf,CAAyBF,QAAQ/I,IAAR,CAAa+H,MAAtC;AACH;AACD;AACA,YAAIgB,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAa6H,OAAjC,EAAyC;AACrChd,8BAAkBqe,UAAlB,CAA6BH,QAAQ/I,IAAR,CAAa6H,OAA1C;AACH;AACD;AACA,YAAIkB,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAamJ,WAAjC,EAA6C;AACzCte,8BAAkBue,aAAlB,CAAgCL,QAAQ/I,IAAR,CAAamJ,WAA7C;AACH;AACD;AACA,YAAIJ,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAaqJ,wBAAjC,EAA0D;AACtDxe,8BAAkBye,eAAlB,CAAkCP,QAAQ/I,IAAR,CAAaqJ,wBAA/C;AACH;AACD;AACA,YAAIN,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAauJ,0BAAjC,EAA4D;AACxD1e,8BAAkB2e,gBAAlB,CAAmCT,QAAQ/I,IAAR,CAAauJ,0BAAhD;AACH;;AAGD;AACA,YAAIR,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAayJ,YAAjC,EAA8C;AAC1C5e,8BAAkB6e,cAAlB,CAAiCX,QAAQ/I,IAAR,CAAayJ,YAA9C;AACH;AACD;AACA,YAAIV,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAa2J,aAAjC,EAA+C;AAC3C9e,8BAAkB+e,eAAlB,CAAkCb,QAAQ/I,IAAR,CAAa2J,aAA/C;AACH;AACD;AACA,YAAIZ,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAa6J,aAAjC,EAA+C;AAC3Chf,8BAAkBif,eAAlB,CAAkCf,QAAQ/I,IAAR,CAAa6J,aAA/C;AACH;AACD;AACA,YAAId,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAa+J,WAAjC,EAA6C;AACzClf,8BAAkBmf,aAAlB,CAAgCjB,QAAQ/I,IAAR,CAAa+J,WAA7C;AACH;AACD;AACA,YAAIhB,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAavQ,SAAjC,EAA2C;AACvC5E,8BAAkBof,YAAlB,CAA+BlB,QAAQ/I,IAAR,CAAavQ,SAA5C;AACH;AACD;AACA,YAAIsZ,QAAQ/I,IAAR,IAAgB+I,QAAQ/I,IAAR,CAAakK,SAAjC,EAA2C;AACvCrf,8BAAkBsf,YAAlB,CAA+BpB,QAAQ/I,IAAR,CAAakK,SAA5C;AACH;AACD;AACH,KAlqEI;;AAmqET;AACIxN,oBApqEK,8BAoqEa;AACdzR,WAAGoC,QAAH,CAAY+c,YAAZ,CAAyB,WAAzB,EAAsC,YAAY;AAC9Cnf,eAAGyB,GAAH,CAAO,sBAAP;AACAzB,eAAGoC,QAAH,CAAYyb,SAAZ,CAAsB,WAAtB;AACH,SAHD;AAIH,KAzqEI;;AA0qEL;AACAvC,iBA3qEK,2BA2qEU;AACX,YAAIla,OAAO,IAAX;AACA,YAAG,KAAK2B,SAAR,EAAkB;AACd;AACH;AACD,aAAKA,SAAL,GAAiB,IAAjB;AACA,YAAIyH,IAAI,KAAKjI,KAAL,CAAWiI,CAAnB;AACA,YAAIE,IAAI,KAAKnI,KAAL,CAAWmI,CAAnB;AACA,YAAI0U,QAAQpf,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAI4U,QAAQtf,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAI6U,QAAQvf,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAI8U,QAAQxf,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAI+U,QAAQzf,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAIgV,QAAQ1f,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAIiV,QAAQ3f,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAIkV,QAAQ5f,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,IAAE,CAAlB,EAAqBE,IAAE,CAAvB,CAAZ;AACA,YAAImV,QAAQ7f,GAAGqf,MAAH,CAAU,IAAV,EAAgB7U,CAAhB,EAAmBE,CAAnB,CAAZ;AACA,YAAI+D,WAAWzO,GAAGyO,QAAH,CAAY,YAAU;AACjCrN,iBAAK2B,SAAL,GAAiB,KAAjB;AACH,SAFc,CAAf;AAGA,aAAKR,KAAL,CAAWqM,SAAX,CAAqB5O,GAAG6O,QAAH,CAAYuQ,KAAZ,EAAkBE,KAAlB,EAAwBC,KAAxB,EAA8BC,KAA9B,EAAoCC,KAApC,EAA0CC,KAA1C,EAAgDC,KAAhD,EAAsDC,KAAtD,EAA4DC,KAA5D,EAAkEpR,QAAlE,CAArB;AACH;AAhsEI,CAAT","file":"GameTable.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar opratOutCardControl = require(\"opratOutCardControl\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar Player = require(\"Player\");\nvar EventHelper = require(\"EventHelper\");\nvar GameNetMgr = require(\"GameNetMgr\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n\n        pokerLayerLeft:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerRight:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerMy:{\n            default : null,\n            type : cc.Node,\n        },\n\n        chupaiBtn : {\n            default : null,\n            type : cc.Node,\n        },\n\n        buchuBtn : {\n            default : null,\n            type : cc.Node\n        },\n        canvas:cc.Node, \n        opratOutCard:{\n            default : null,\n            type : cc.Prefab\n        },\n        leftPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        rightPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        var self = this;\n        cc.game.on(cc.game.EVENT_HIDE, function(){\n            console.log(\"游戏进入后台\");\n            config.stopOnMassage = true;\n            self.clearTable();\n        },this);\n        cc.game.on(cc.game.EVENT_SHOW, function(){\n            console.log(\"重新返回游戏\");\n            GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n            cc.vv.audioMgr.resumeAll();\n        },this);\n\n        cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n    },\n    start () {\n        var self = this;\n        var sceneWidth = cc.director.getWinSize().width;\n        var scene = cc.director.getScene();\n\n        this.sceneWidth = sceneWidth;\n        this.scene = scene;\n        this.mySeatId = 0;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n\n        this.gameState = 0;//游戏状态\n\n        this.loadSeatId = 0; //地主的id\n        this.nicknames = []; //所有玩家昵称\n        this.animShake = false; //屏幕是否在抖动\n        this.myHandCards = [];  //我的手牌\n    \n        self.touchBeganX = 0;\n        self.leftX = 0;\n        self.rightX = 0;\n        self.upY = 0;\n        self.downY = 0;\n        self.isTouchbegan = false;\n\n        var wechatImgUrl=config.wxInfo.avatarUrl;\n        //--创建自己的形象\n        var detailModel = PlayerDetailModel;\n        var params = {};\n        params.uid = detailModel.getUid();\n        params.nickname = detailModel.getNickName();\n        params.gender = detailModel.getGender(); //toString\n        params.coin = detailModel.getCoin();\n        params.gold = detailModel.getGold();\n        params.lequan = detailModel.getCoupon();\n        params.propDress = detailModel.getPropDress();\n        params.wechatImg = wechatImgUrl;//detailModel.getWechatImg();\n        params.title = detailModel.getTitle();\n        params.emoticon = {};\n        params.emoticonItems = {};\n\n        this.myOpratShow = null; //我自己的弹出操作洁面\n        this.CancelDelegate = null;\n        this.ChatDialog = null;\n        this.jpqNode = null;\n\n\n        this.myPokerData = [];\n        this.myPokerNode = [];\n        this.dispatchCard = [];\n        var player = new Player(params);\n        self.playerme_ = player;\n        self.initMyPlayerNode();\n        self.playerme_.initBaseInfo();\n\n\n        // var cards = [\"13\",\"25\",\"35\",\"45\",\"15\",\"26\",\"36\",\"46\",\"16\",\"29\",\"39\",\"49\",\"1a\",\"2a\",\"3a\",\"1b\",\"2b\",\"3b\",\"3c\",\"4d\"];\n        // this.myPokerData = CardUtil.serverCardsToClient(cards);\n        // self.playerme_.initMyCards(this.myPokerData,this.myPokerNode,this.scene,this.sceneWidth);\n       \n        //左边玩家形象\n        this.leftDispatchCard = [];\n        this.leftPokerData = [];\n        this.leftPokerNode = [];\n        this.left_player = new Player();\n        this.initLeftPlayerNode();\n        \n        // self.left_player.initBaseInfo();\n        // this.leftPokerData = this.myPokerData;\n        // this.left_player.playerLeftShowCard(this.leftPokerData,this.leftPokerNode,this.pokerLayerLeft,this.sceneWidth);\n\n\n        //右边玩家形象\n        this.rightDispatchCard = [];\n        this.rightPokerData = [];\n        this.rightPokerNode = [];\n        this.right_player = new Player();\n        this.initRightPlayerNode();\n        // self.right_player.initBaseInfo();\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n        \n        //注册触摸事件\n        this.registerTouchEvent();\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.table3Card = [];\n\n        if(config.IsContinueGaming == 1){\n            // console.log(\">>>>>>>>\");\n            GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n            config.IsContinueGaming = 0;\n        }else{\n            GameNetMgr.sendRequest(\"Game\", \"startGame\");\n        }\n        this.registerEventListener();\n        this.initTable3Card();\n    },\n    //初始化桌面3张底牌\n    initTable3Card(){\n        this.node_diPai = cc.find(\"Canvas/top_bar1/diPai\");\n        this.node_pCardBg = cc.find(\"Canvas/top_bar1/p_card_bg\");\n        this.node_tableTimes = cc.find(\"Canvas/bottom_bar3/beishu/lab_bei\").getComponent(cc.Label);\n        this.node_pCardBg.active = false;\n    },\n    setTable3Card(severCards){\n        this.node_pCardBg.active = true;\n        for(var i=0;i<3;i++){\n            var cardNode = cc.instantiate(this.pokerCard);\n            cardNode.parent = this.node_diPai;\n            cardNode.scale = 0.35;\n            var poker = cardNode.getComponent(PokerControl);\n            poker.showPoker(CardUtil.convertCardToClient(severCards[i]));\n            this.table3Card.push(cardNode);\n        }   \n    },\n    clearTable3Card(){\n        this.node_pCardBg.active = false;\n        if(this.table3Card.length > 0){ //先清理桌上的牌\n            for(var i = 0; i < this.table3Card.length; i++){\n                this.table3Card[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.table3Card = [];\n        }\n    },\n    setNodeRate(times){\n        console.log(times);\n        if(times&&times>=2){\n        }else{\n            return;\n        }\n        var self = this;\n        self.nodeRate.enabled = true;\n        if(times == 3){\n            cc.loader.loadRes(\"p_rate3\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }\n    },\n    initMyPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/my_player/head1/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/my_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_LeQuan =  cc.find(\"Canvas/my_player/lequan/lab_lequan\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/my_player/head1/p_dz_icon\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/my_tip/p_tip_jiaodizhu\").getComponent(cc.Sprite);\n        var node_wechatImg =  cc.find(\"Canvas/my_player/head1/p_head/p_head_1\").getComponent(cc.Sprite);\n        \n    \n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = node_LeQuan;//乐券\n        nodes.node_cardsNum = null;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = null;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = null;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = null;//警报装置\n\n        node_Landlord.enabled = false;\n        nodes.node_hint.enabled = false;\n        self.playerme_.initNodes(nodes);\n\n        //牌桌任务\n        self.node_taskbg = cc.find(\"Canvas/p_taskbg\").getComponent(cc.Sprite);\n        self.node_taskName = cc.find(\"Canvas/p_taskbg/taskName\").getComponent(cc.Label);\n        self.node_taskbg.enabled = false;\n        self.node_taskName.string = \"\";\n\n        self.lab_roomId = cc.find(\"Canvas/p_table_icon/lab_roomId\").getComponent(cc.Label);\n        if(config.tableInfo){\n            self.lab_roomId.string = config.tableName[config.tableInfo.roomId];\n        }   \n        self.leftChatBoxNode = cc.find(\"Canvas/leftchatBox\");\n        self.leftChatBoxLabel = cc.find(\"Canvas/leftchatBox/lab_content\").getComponent(cc.Label);\n        self.rightChatBoxNode = cc.find(\"Canvas/rightchatBox\");\n        self.rightChatBoxLabel = cc.find(\"Canvas/rightchatBox/lab_content\").getComponent(cc.Label);\n        self.leftChatBoxNode.active = false;\n        self.rightChatBoxNode.active = false;\n\n\n        //底牌倍数\n        self.nodeRate = cc.find(\"Canvas/top_bar1/p_rate\").getComponent(cc.Sprite);\n        self.nodeRate.enabled = false;\n\n    },\n    initLeftPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/left_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/left_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/left_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/left_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/left_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/left_player/left_tip/p_tip_yaobuqi\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/left_player/left_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/left_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/left_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.left_player.initNodes(nodes);\n    },\n    initRightPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/right_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/right_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/right_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/right_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/right_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/right_player/right_tip/p_tip_qiangdizhu\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/right_player/right_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/right_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/right_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.right_player.initNodes(nodes);\n    },\n    clearTable(){//清理拍桌\n        this.playerme_.clear();\n        this.left_player.clear();\n        this.right_player.clear();\n\n        this.clearTable3Card();\n\n        this.playerme_.clearTableCard(this.dispatchCard);\n        this.left_player.clearTableCard(this.leftDispatchCard);\n        this.right_player.clearTableCard(this.rightDispatchCard);\n\n        if(this.myPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.myPokerNode.length; i++){\n                this.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.myPokerNode = [];\n        }\n        this.myPokerData = [];\n\n        if(this.leftPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.leftPokerNode.length; i++){\n                this.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.leftPokerNode = [];\n        }\n        this.leftPokerData = [];\n\n        if(this.rightPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.rightPokerNode.length; i++){\n                this.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.rightPokerNode = [];\n        }\n        this.rightPokerData = [];\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.node_taskbg.enabled = false;\n        this.node_taskName.string = \"\";\n\n        this.nodeRate.enabled = false;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n\n        console.log(\"//清理拍桌\");\n\n        if(this.CancelDelegate){\n            console.log(\"//清理托管 11111\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        if(this.jpqNode){\n            console.log(\"//记牌器 11111\");\n            this.jpqNode.close();\n            this.jpqNode = null;\n        }\n    },\n    //注册触摸事件\n    registerTouchEvent(){\n        var self = this;\n        this.canvas.on(cc.Node.EventType.TOUCH_START, function(event){\n            // console.log(\"touchStart\");\n            if(self.myPokerNode.length < 1)\n            return false;\n            var p = event.getLocation();\n            // console.log(\">>x:\"+p.x+\">>y:\"+p.y);\n            self.touchBeganX = p.x;\n            self.leftX = 0;\n            self.rightX = 10000;\n            self.upY = 10000;\n            self.downY = 0;\n            self.isTouchbegan = true;\n            self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n\n            if (self.isTouchbegan){\n                var x1 = self.myPokerNode[0].getPositionX();\n                var x2 = self.myPokerNode[self.myPokerNode.length-1].getPositionX();\n                var py = self.myPokerNode[0].getPositionY();\n                var psize = self.myPokerNode[0].getContentSize();\n                var pwidth = psize.width;\n                var pheight = psize.height;\n\n                var disBetween = 10;\n    \n                self.leftX = x1-pwidth/2-disBetween;\n                self.rightX = x2+pwidth/2+disBetween;\n                self.upY = py+pheight/2+40;\n                self.downY = py-pheight/2;\n\n                // console.log(\"self.leftX:\"+self.leftX+\"  self.rightX:\"+self.rightX+\" self.downY:\"+self.downY+\"  self.upY:\"+ self.upY);\n                if (self.isTouchbegan && (p.y > self.upY || p.y < self.downY || p.x < self.leftX || p.x > self.rightX)){\n                    self.moveAllCardDown(self.myPokerNode);\n                }\n            }\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,function(event){\n            // console.log(\"touchEnd\");\n            if(self.ChatDialog){\n                self.ChatDialog.close();\n                self.ChatDialog = null;\n            }\n            if(self.myPokerNode.length < 1)\n            return;\n            var p = event.getLocation();\n            self.moveCard(self.myPokerNode);\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(event){\n            if(self.myPokerNode.length < 1)\n            return;\n            var p = event.getLocation();\n            if (Math.abs(self.touchBeganX - p.x) > 40){\n                self.isTouchbegan = false;\n                self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n            }\n        }, this.node);\n    },\n    //移除触摸事件\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    setSelectCardByTouch(myPokerNode,x,y,istouchbegan){\n        var touchStart = this.touchBeganX;\n        var touchEnd = x;\n        this.isTouchbegan = istouchbegan;\n\n        if (this.touchBeganX > x){\n            touchStart = x;\n            touchEnd = this.touchBeganX; \n        }\n        //如果起点跟终点距离小于5 则处理成起点等于终点\n        if (touchEnd - touchStart<5){\n            touchEnd = touchStart;\n        }\n\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var posY = pokerNode.getPositionY();\n            var size = pokerNode.getContentSize();\n            var posX = pokerNode.getPositionX(); //+ size.width/2;\n\n            var width = size.width;\n            var height = size.height;\n\n            var disBetween = config.seatPos.center.disBetween;\n\n            var right = posX - width/2+disBetween;\n            var left =  posX - width/2;\n            var buttom = posY - height/2;\n            var up = posY + height/2;\n            //最后一张整张牌都可以点击\n            if(i == myPokerNode.length-1){\n                right = posX+width/2; \n            }\n            if ( y >= buttom && y <= up &&\n                ((left>= touchStart && left <= touchEnd) || (right>= touchStart && right <= touchEnd) ||\n                (touchStart>= left && touchStart <= right) || (touchEnd>= left && touchEnd <= right))){\n                    pokerNode.getComponent(PokerControl).setChoosed(true);\n                }else{\n            }\n        }   \n    },\n    moveCard(myPokerNode){\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            pokerNode.getComponent(PokerControl).cardMove();\n        }\n    },\n    moveAllCardDown(myPokerNode){\n        console.log(\"moveAllCardDown\");\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            pokerNode.getComponent(PokerControl).cardMoveDown();\n        }\n    },\n    onShow(){\n        console.log(\"onShow\");\n        this.onMyOutCard();\n    },\n    onHide(){\n        console.log(\"onHide\");\n        //智能提牌测试\n        var myPokerNode = this.myPokerNode;\n        var myPokerData = this.myPokerData;\n        var topcards = CardUtil.getMyTopCards(myPokerNode,PokerControl);\n        \n        var mycards = [];\n        for(var i = myPokerData.length - 1; i > -1;i--){\n            mycards.push(myPokerData[i].showTxt);\n            console.log(\"xx\"+myPokerData[i].showTxt);\n        } \n\n        var autocards = CardUtil.getCardsFromTopCards(mycards,topcards);\n        if(autocards.length < 1){\n        }else{\n            this.moveAllCardDown(myPokerNode);//先放下在提起\n            CardUtil.AutoChooseLiftUpCard(myPokerNode,PokerControl,autocards);\n        } \n    },\n    //轮到自己出牌\n    onMyOutCard(time){\n        var self = this;\n        // var dispatchCard = this.dispatchCard;\n        // var sceneWidth = this.sceneWidth;\n        var scene = cc.director.getScene();\n        var myPokerNode = this.myPokerNode;\n        var myPokerData = this.myPokerData;\n\n        var buchuFunc = function(){\n            self.moveAllCardDown(myPokerNode);\n            GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n            if(self.myOpratShow){\n                self.myOpratShow.close();\n                self.myOpratShow = null;\n            }\n        }\n        var tishiNum = 0;\n        var tishiFunc = function(){\n            var cards = [];//\"3\",\"3\",\"3\",\"3\"\n            if(self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                console.log(pokerdata);\n                for(var i =0;i<pokerdata.length;i++){\n                    cards.push(pokerdata[i].showTxt);\n                }\n            }\n            cards.sort(config.arrayUp);\n\n            // console.log(cards);\n\n            var cardstype = CardUtil.get_topCard_type(cards);\n            var myCards = [];\n            console.log(cardstype);\n            for(var i = myPokerData.length - 1; i > -1;i--){\n                var cardValue = CardUtil.StringToNumber(myPokerData[i].showTxt);\n                myCards.push(cardValue); \n            }\n\n            var tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            if(tishicards.length == 0){\n                console.log(\"没有符合的牌型可供提示\");\n                if(self.myOpratShow){\n                    // self.myOpratShow.chupaiClick(-2);\n                    buchuFunc();\n                }\n                return;\n            }\n            cards = tishicards[tishiNum];\n            if(tishiNum<tishicards.length-1){\n                tishiNum++;\n            }else{\n                tishiNum = 0;\n            }\n\n            this.node.stopAllActions();\n            self.moveAllCardDown(myPokerNode);\n            var callFunc = cc.callFunc(function(){\n                CardUtil.AutoChooseLiftUpCard(myPokerNode,PokerControl,cards);\n            });\n            var delay = cc.delayTime(0.1);\n            this.node.runAction(cc.sequence(delay,callFunc));\n\n            return 100;\n        }\n        var chupaiFunc = function(){\n            console.log(\"点击了出牌\");\n            // if(self.myOpratShow){\n            //     self.myOpratShow.close();\n            //     self.myOpratShow = null;\n            // }\n            //牌桌上已经有了出牌，清除掉\n            if(self.dispatchCard&&self.dispatchCard.length > 0){\n                console.log(\"dispatchCard.length:\"+self.dispatchCard.length);\n                for(var i = 0; i < self.dispatchCard.length; i++){\n                    self.dispatchCard[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.dispatchCard = [];\n            }\n            var topCards = [];\n            var topCardData = [];\n            //获取提起的牌直\n            for(var i = myPokerData.length - 1; i > -1;i--){\n                if(myPokerData[i].isTopped){\n                    var cardValue = CardUtil.StringToNumber(myPokerData[i].showTxt);\n                    topCards.push(cardValue);\n                    var cardType = myPokerData[i].showType;\n                    var pokerDataItem = {\n                        showTxt : cardValue,\n                        showType : cardType\n                    }\n                    topCardData.push(pokerDataItem);\n                }\n            }\n\n            if(topCards.length>=1){\n                var popCardsType = CardUtil.get_topCard_type(topCards);\n                // console.log(popCardsType);\n                if(popCardsType.type == 0){\n                    console.log(\"提起的牌不合法\");\n                    return -1;\n                }    \n            }else{\n                console.log(\"没有牌提起\");\n                return 0;\n            }\n            \n            var args = CardUtil.clientCardsToServer(topCardData);\n            // console.log(args);\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",args);\n        }\n\n        var curTime = config.SendCardTimeout;\n        if(time){\n            curTime = time;\n        }\n\n\n        self.buchuFunc = buchuFunc;\n        self.tishiFunc = tishiFunc;\n        self.chupaiFunc = chupaiFunc;\n        \n        if(self.playerme_.getCardCount()==20 || self.mySeatId == self.preSeatId){\n            self.showCallLord(curTime,null,chupaiFunc,config.opratType.mustOutCard);\n        }else{\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            opOutCard.parent = scene;\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(curTime,buchuFunc,tishiFunc,chupaiFunc);\n\n            if(!self.myOpratShow){\n                self.myOpratShow = opOutCardControl;\n            } \n        }\n    },\n    mySendCards(severCards){//自己出牌\n        var self = this;\n\n        if(severCards){//(根据服务器返回的牌出牌)\n            var cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.dispatchCard = self.playerme_.getSendCard(self.dispatchCard,cardData,self.myPokerNode,self.myPokerData);\n        }else{\n            // for(var i = self.myPokerData.length - 1; i > -1;i--){//( 根据提出的牌出牌)\n            //         if(self.myPokerData[i].isTopped){ \n            //         var isChoosedPoker = self.myPokerNode[i];\n            //         self.dispatchCard.unshift(isChoosedPoker);\n            //         self.myPokerData.splice(i,1);\n            //         self.myPokerNode.splice(i,1);\n            //     }\n            // }\n        }\n\n        //出牌\n        self.playerme_.playCard(self.dispatchCard);\n        self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        //最后一张牌设置为地主牌\n        if(self.playerme_.getLandlord()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n        }\n        if(self.playerme_.getOpenHandCards()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n        }\n        self.playerme_.setCardCount(self.myPokerNode.length);\n    },\n    leftSendCards(severCards,cardData,isShowCard){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n\n        if(!severCards){\n            return;\n        }\n\n        if(cardData){\n        }else{\n            cardData = CardUtil.serverCardsToClient(severCards);\n            // cardData.sort(CardUtil.gradeUp);//这边生序拍下\n        }\n\n        //左边明牌出牌\n        if(isShowCard){\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.leftDispatchCard = self.left_player.getSendCard(self.leftDispatchCard,cardData,self.leftPokerNode,self.leftPokerData);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650);\n            self.left_player.neatenLeftPoker(self.leftPokerNode,config.seatPos.left,sceneWidth/2, 230);\n        }else{\n            //左边暗牌出牌\n            self.leftDispatchCard = self.left_player.darkCardSend(self.leftDispatchCard,cardData,self.pokerLayerLeft,2,sceneWidth);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650);\n        }  \n    },\n    rightSendCards(severCards,cardData,isShowCard){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n        if(!severCards){\n            return;\n        }\n        if(cardData){\n        }else{\n            if(severCards){\n                cardData = CardUtil.serverCardsToClient(severCards);\n                // cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            } \n        }\n\n        if(isShowCard){\n            //右边明牌出牌\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.rightDispatchCard = self.right_player.getSendCard(self.rightDispatchCard,cardData,self.rightPokerNode,self.rightPokerData);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650);\n            self.right_player.neatenRightPoker(self.rightPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n        }else{\n            //右边暗牌出牌\n            self.rightDispatchCard = self.right_player.darkCardSend(self.rightDispatchCard,cardData,self.pokerLayerRight,0,sceneWidth);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650);\n        }  \n    },\n    //返回按钮点击事件\n    btnBackClick(){\n        var self = this;\n        console.log(\"btnBackClick\");\n        if(self.gameState < config.gameState.ST_GAME_BALANCE&&self.gameState>config.gameState.ST_GAME_PREPARE){\n            var click = function(){ \n                // GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.removeEventListener();\n                self.preloadNextScene();\n            }\n            dialogManager.showCommonDialog(\"温馨提示\",\"现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！\",click);\n        }else{\n            if(self.gameState==config.gameState.ST_GAME_PREPARE){\n                GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n            }\n            self.removeEventListener();\n            self.preloadNextScene();\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnDelegateClick(){\n        console.log(\"btnDelegateClick\");\n        var self = this;\n        if(self.playerme_.getDelegated()){\n            console.log(\"托管中。。。。\");\n        }else{\n            if(self.gameState >= config.gameState.ST_GAME_CallLordOver){\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.playerme_.setDelegated(true);\n                self.showCancelDelegate();\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showCancelDelegate(){\n        var self = this;\n        if(self.CancelDelegate){\n            return;\n        }\n        var click = function(){\n            GameNetMgr.sendRequest(\"Game\",\"cancelDelegate\");\n            self.CancelDelegate = null;\n            self.playerme_.setDelegated(false);\n            cc.vv.audioMgr.playSFX(\"SpecOk\");\n        }\n        cc.loader.loadRes(\"prefab/CancelDelegate\", function (err, prefab) {\n            //匹配计数动画\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10);\n            var prefabControl= newNode.getComponent(require(\"CancelDelegateController\"));\n            prefabControl.show(click);\n            self.CancelDelegate = prefabControl; \n        });\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnJiPaiQiClick(){\n        console.log(\"btnJiPaiQiClick\");\n        var self = this;\n        if(self.jpqNode){\n            if(self.jpqNode.getIsActive()){\n                self.jpqNode.showNode(false);\n            }else{\n                self.jpqNode.showNode(true);\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showJPQ(mycards){\n        var self = this;\n        if(self.jpqNode){\n            // self.jpqNode.close();\n            // self.jpqNode = null;\n            self.jpqNode.show(mycards);\n            return;\n        }\n        cc.loader.loadRes(\"prefab/jpqNode\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9);\n            var prefabControl= newNode.getComponent(require(\"jpqNodeControl\"));\n            self.jpqNode = prefabControl; \n            self.jpqNode.show(mycards);\n        });\n    },\n    btnChatClick(){\n        console.log(\"btnChatClick\");\n        var self = this;\n        if(self.ChatDialog){\n            self.ChatDialog.close();\n            self.ChatDialog = null;\n        }else{\n            var click = function(){\n                self.ChatDialog = null;\n            }\n            cc.loader.loadRes(\"prefab/chatDialog\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,9999);\n                var prefabControl= newNode.getComponent(require(\"chatControl\"));\n                prefabControl.show(click);\n                self.ChatDialog = prefabControl; \n            });\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showMyChat(content){\n        var self = this;\n        cc.loader.loadRes(\"prefab/chatBox\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"chatBoxControl\"));\n            prefabControl.show(content);\n        });\n    },\n    showLeftChat(content){\n        var self = this;\n        self.leftChatBoxNode.active = true;\n        self.leftChatBoxLabel.string = content;\n        this.pokerLayerLeft.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.leftChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerLeft.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightChat(content){\n        var self = this;\n        self.rightChatBoxNode.active = true;\n        self.rightChatBoxLabel.string = content;\n        this.pokerLayerRight.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.rightChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerRight.runAction(cc.sequence(delay,callFunc)); \n    },\n    registerEventListener(){\n        var self = this;\n        EventHelper.AddCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n    },\n    removeEventListener(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n    },\n    //初始化玩家信息\n    initPlayerInfo(response){\n        var self = this;\n        if(response.data[\"time\"]){\n            //出牌等待时间\n            config.CallLordTimeout = response.data[\"time\"][\"lord\"];\n            //抢地主超时时间\n            config.GrabLordTimeout = response.data[\"time\"][\"lord\"];\n            //出牌倒计时时间\n            config.SendCardTimeout = response.data[\"time\"][\"send\"];\n            //过牌时间--要不起\n            config.CheckCardTimeout = response.data[\"time\"][\"giveup\"];\n            //加倍时间\n            config.AddRatioTime = response.data[\"time\"][\"double\"]; \n        }else{\n            config.CallLordTimeout = 15;\n            //抢地主超时时间\n            config.GrabLordTimeout = 15;\n            //出牌倒计时时间\n            config.SendCardTimeout = 30;\n            //过牌时间--要不起\n            config.CheckCardTimeout = 10;\n            //加倍时间\n            config.AddRatioTime = 5;\n        }\n        var newGame = response[\"data\"][\"isNewGame\"];\n        this.nicknames = [];\n        if(newGame){\n            var mySeatId = response[\"data\"][\"seatId\"];\n            self.mySeatId = mySeatId;\n            self.playerme_.setMySeatId(mySeatId);\n            self.playerme_.setMySeatNum(1);\n            var peers = {0:response[\"data\"][\"0\"], 1:response[\"data\"][\"1\"], 2:response[\"data\"][\"2\"]};\n            for(var k in peers){\n                var v = peers[k];\n                var curSeatId = v[\"seatId\"];\n\n                this.nicknames.push(v[\"nick\"]);\n\n                if(curSeatId == mySeatId){\n                    self.playerme_.setMySeatId(v[\"seatId\"]);\n                    self.playerme_.setRoomId(v[\"roomId\"]);\n                    self.playerme_.setTableId(v[\"tableId\"]);\n                    self.playerme_.setSignature(v[\"word\"]);\n                    self.playerme_.setBuff(v[\"buff\"]);\n                }else{\n                    var seatNum = 1;\n                    seatNum = config.getPlayerSeatNum(self.mySeatId,curSeatId);\n                    \n                    var parm = {};\n                    parm.uid = parseInt(v[\"uid\"]);\n                    parm.nickname = v[\"nick\"];\n                    parm.gender = v[\"sex\"];\n                    parm.coin = parseInt(v[\"coin\"]);\n                    parm.gold = parseInt(v[\"gold\"]);\n                    parm.propDress = v[\"propDress\"];\n                    parm.myseat = v[\"seatId\"];\n                    parm.roomid = v[\"roomId\"];\n                    parm.tableid = v[\"tableId\"];\n                    parm.signature = v[\"word\"];\n                    parm.buff = v[\"buff\"];\n                    parm.wechatImg = v[\"img\"];\n                    parm.title = v[\"title\"];\n                    parm.emoticon = {};\n                    parm.emoticonItems = {};\n\n                    if(seatNum == 2){//左边玩家\n                        self.left_player.initInfo(parm);\n                        self.left_player.initBaseInfo();\n                        self.left_player.setMySeatNum(seatNum);\n                        self.leftPlayer.active = true;   \n                    }else if(seatNum == 0){//右边玩家\n                        self.right_player.initInfo(parm);\n                        self.right_player.initBaseInfo();\n                        self.right_player.setMySeatNum(seatNum);\n                        self.rightPlayer.active = true;\n                    }\n                }\n            }\n        }else{\n            console.log(\"短线重连 进入游戏-----------\");\n        }\n    },\n    //叫地主，抢地主弹出框\n    showCallLord(time,btn1Func,btn2Func,type){\n        var self = this;\n        cc.loader.loadRes(\"prefab/opratCallLord\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"opratCallLordControl\"));\n            prefabControl.show(time,btn1Func,btn2Func,type);\n            \n            if(type == 3 && !self.myOpratShow){\n                self.myOpratShow = prefabControl; \n            }\n        });\n    },\n    //结算洁面\n    showGameResult(response){\n        var self = this;\n        var infos = [];\n        var data = response.data;\n\n        var click1 = function(){//名牌\n            self.clearTable();\n            if(self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                    self.preloadNextScene();\n                });\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",true);\n            }\n        }\n        var click2 = function(){\n            self.clearTable();\n            if(self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                    self.preloadNextScene();\n                });\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",false);\n            }\n        }\n        var url = \"prefab/gameResultWin\";\n\n        if(response[\"data\"][\"isWinner\"][\"\"+self.mySeatId] == 1){\n            cc.vv.audioMgr.playSFX(\"MusicEx_Win\");\n        }else{\n            url = \"prefab/gameResultLose\";\n            cc.vv.audioMgr.playSFX(\"MusicEx_Lose\");\n        }\n        self.playerme_.setCoin(data.coins[self.mySeatId]);\n   \n        var rate = data.rate;\n        var rateMax = data.rateMax;\n        var baseCoins = data.baseCoins;\n\n        for (var i=0;i<3;i++){\n            var socre = data.total[\"\"+i];\n            var infoItem = {\n                isdizhu : self.loadSeatId==i,nickname : self.nicknames[i],difen : baseCoins,beishu : rate,ledou : socre,coin:data.coins[i],rateMax : rateMax\n            }\n            infos.push(infoItem);\n        }\n        cc.loader.loadRes(url, function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var nextScene = function(){\n                self.removeEventListener();\n                self.preloadNextScene();\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,999);\n            var prefabControl= newNode.getComponent(require(\"gameResultControl\"));\n            prefabControl.show(infos,click1,click2,self.mySeatId,nextScene);\n        });\n    },\n    //监听服务器返回事件\n    ////////////\n    onQueued(event){\n        var self = this;\n        console.log(\"进入队列---\");\n        self.gameState = config.gameState.ST_GAME_PREPARE;\n\n        // cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n        //     //匹配计数动画\n        //     if (err) {\n        //         console.log(err);\n        //         return;\n        //     }\n        //     var newNode = cc.instantiate(prefab);\n        //     cc.director.getScene().addChild(newNode);\n        //     self.watingStart = newNode.getComponent(require(\"watingStarControl\"));\n        // });\n\n        var callFunc = cc.callFunc(function(){\n           if(self.gameState == config.gameState.ST_GAME_PREPARE){\n                cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n                    //匹配计数动画\n                    if (err) {\n                        console.log(err);\n                        return;\n                    }\n                    var newNode = cc.instantiate(prefab);\n                    cc.director.getScene().addChild(newNode);\n                    self.watingStart = newNode.getComponent(require(\"watingStarControl\"));\n                });\n           }\n        });\n        var delay = cc.delayTime(0.5);\n        this.node.runAction(cc.sequence(delay,callFunc));\n    },\n    onGameReady(event){\n        var self = this;\n        console.log(\"游戏准备好了---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        self.gameState = config.gameState.ST_GAME_START;\n\n        if(self.watingStart){\n            self.watingStart.close();\n            self.watingStart = null;\n        }\n        var response = event.getUserData();\n        self.initPlayerInfo(response);\n    },\n    onTableTimesUpdate(event){\n        var self = this;\n        console.log(\"桌子的倍数发生改变---\");\n        var response = event.getUserData();\n        var times = response[\"data\"][\"rate\"];\n        self.node_tableTimes.string = \"\" + times;\n        var rate = response[\"data\"][\"rate_num\"];\n        \n        var rateId = response[\"data\"][\"rateId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,rateId);\n\n        console.log(\"seatNum:\"+seatNum);\n\n        console.log(\"self.gameState:\"+self.gameState);\n\n        var gender = 1;\n\n        if(self.gameState < config.gameState.ST_GAME_OutCard){\n            if(seatNum == 1){//自己\n                gender = self.playerme_.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n                \n            }else if(seatNum == 0){//右边\n                gender = self.right_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n            }else if(seatNum == 2){//左边\n                gender = self.left_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n            }else{\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,1);\n                }\n            }\n\n            if(self.gameState == config.gameState.ST_GAME_Double){\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiabei\");\n            }\n                    \n        }else{\n            if(rate>1&&rate<=5){\n                dialogManager.showAnimDouble(rate,1);\n            }\n        }\n    },\n    onSendCard(event){\n        var self = this;\n        console.log(\"发牌, 包括各用户的牌信息---\");\n        self.gameState = config.gameState.ST_GAME_SendCard;\n\n        if(self.watingStart){\n            self.watingStart.close();\n            self.watingStart = null;\n        }\n\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        if(self.myPokerNode.length > 0){ //先清理桌上的牌\n            for(var i = 0; i < self.myPokerNode.length; i++){\n                self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            self.myPokerNode = [];\n        }\n        self.myPokerData = [];\n\n        var response = event.getUserData();\n        self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n        self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n\n        self.myHandCards = response.data.myCard;\n        \n        var myShowCard = response.data.showCard[self.mySeatId];\n        if(myShowCard == 0){\n            //明牌按钮现实\n            var click = function(time){\n                GameNetMgr.sendRequest(\"Game\",\"showCard\",time);\n            }\n            dialogManager.showOpratShowCard(click);\n        } \n    },\n    onRefreshPlayerData(event){\n        var self = this;\n        console.log(\"刷新用户金币---\");\n        var response = event.getUserData();\n        var data = response.data;\n        if(data){\n            for(var i=0;i<data.length;i++){\n                var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n                if(seatNum == 1){//自己\n                    self.playerme_.setCoin(data[i].coins);\n                    PlayerDetailModel.setCoin(data[i].coins)\n                }else if(seatNum == 0){//右边\n                    self.right_player.setCoin(data[i].coins);\n                }else if(seatNum == 2){//左边\n                    self.left_player.setCoin(data[i].coins);\n                }\n            }\n        }\n    },\n    onTurnCallLord(event){\n        var self = this;\n        console.log(\"轮到谁叫地主---\");\n        self.gameState = config.gameState.ST_GAME_CallLord;\n\n        if(self.watingStart){\n            self.watingStart.close();\n            self.watingStart = null;\n        }\n\n        var response = event.getUserData();\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,response.data.callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.callLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onCallLord(event){\n        var self = this;\n        console.log(\"玩家叫地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"beLordId\"];\n        var status = response[\"data\"][\"beLordInfo\"];  // 1叫 2不叫\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }\n    },\n    onTurnGrabLord(event){\n        var self = this;\n        console.log(\"轮到谁抢地主---\");\n\n        if(self.watingStart){\n            self.watingStart.close();\n            self.watingStart = null;\n        }\n\n        var response = event.getUserData();\n        var callId = response[\"data\"][\"callId\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.grabLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onGrabLord(event){\n        var self = this;\n        console.log(\"玩家抢地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"grabLordId\"]\n        var status = response[\"data\"][\"grabLordInfo\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }\n    },\n    onCallLordOver(event){\n        var self = this;\n        console.log(\"叫地主结束---\");\n        self.gameState = config.gameState.ST_GAME_CallLordOver;\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n    \n        var response = event.getUserData();\n        var lordId = response[\"data\"][\"lordId\"];\n        var cards = response[\"data\"][\"lordCard\"];\n        var times = response[\"data\"][\"lordBonus\"];\n        self.setTable3Card(cards);\n        self.setNodeRate(times);\n\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n\n        self.loadSeatId = lordId; //地主的id\n\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,lordId);\n        if(seatNum == 1){//自己\n            if(response.data.myCard&&response.data.myCard.length == 20){ //插3张牌\n                if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                \n                self.playerme_.setCardCount(20);\n                self.playerme_.setLandlord(true);\n                self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            }\n            self.myHandCards = response.data.myCard;\n        }else if(seatNum == 0){//右边\n            self.right_player.setCardCount(20);\n            self.right_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.rightPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.rightPokerNode.length; i++){\n                        self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.rightPokerNode = [];\n                }\n                self.rightPokerData = [];\n                self.rightPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }\n\n        }else if(seatNum == 2){//左边\n            self.left_player.setCardCount(20);\n            self.left_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.leftPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.leftPokerNode.length; i++){\n                        self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.leftPokerNode = [];\n                }\n                self.leftPokerData = [];\n                self.leftPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        var _cards = CardUtil.getNodeCards(self.myHandCards);\n        if(_cards){\n            self.showJPQ(_cards);\n        }\n    },\n    onCanDoubleResult(event){\n        var self = this;\n        console.log(\"通知是否可以加倍---\");\n        var response = event.getUserData();\n        var candouble = response.data.can_double;\n\n        self.gameState = config.gameState.ST_GAME_Double;\n\n        if(candouble&&candouble == 1){\n            var btn1Func = function(){\n                // self.playerme_.showHint(config.hintType.double);\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                GameNetMgr.sendRequest(\"Game\",\"addRatio\");\n            }\n            var btn2Func = function(){\n                // self.playerme_.showHint(config.hintType.doubleNo);\n                self.playerme_.showHint(config.hintType.waitingDouble);\n            }\n            dialogManager.showOpratDouble(btn1Func,btn2Func);\n        }\n    },\n    onTurnSendCard(event){\n        var self = this;\n        console.log(\"轮到谁出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        if(self.playerme_.getShowHintType()==config.hintType.waitingDouble){\n            self.playerme_.hideHint();\n        }\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            // self.onMyOutCard();\n            self.playerme_.hideHint();\n            self.playerme_.clearTableCard(self.dispatchCard);\n\n\n            // console.log(\"myCardCount:\"+self.myHandCards.length);\n            // console.log(self.myHandCards);\n\n            if (self.myHandCards.length == 1){ //只剩最后一张牌，自动出牌\n                console.log(\"最后一张牌了\");\n                if(self.mySeatId == self.preSeatId){\n                    GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    return;\n                }\n\n                if(self.preSendCards&&self.preSendCards.length == 1){\n                    var preCards = self.preSendCards[0];\n                    var card = self.myHandCards[0];\n                    var sub = CardUtil.convertCardToClient(card).showTxt - CardUtil.convertCardToClient(preCards).showTxt;\n                    console.log(\"sub = \"+sub);\n                    if(sub>0){\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    }else{\n                        GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                    }\n                }else{\n                    GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                }\n            }else{\n                self.onMyOutCard();\n            }\n\n            // self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.SendCardTimeout);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.SendCardTimeout);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }\n    },\n    onPlayerDelegated(event){\n        var self = this;\n        console.log(\"用户托管---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        var giveup = response[\"data\"][\"giveup\"]; //是否断线  0在线 1在线\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"用户托管---\"+seatNum);\n        if(seatNum == 1){//自己\n            if(!self.playerme_.getDelegated()){\n                self.showCancelDelegate();\n                self.playerme_.setDelegated(true);\n            }\n        }else if(seatNum == 0){//右边    \n            self.right_player.setDelegated(true); \n        }else if(seatNum == 2){//左边\n            self.left_player.setDelegated(true);\n        }\n    },\n    onPlayerCancelDelegate(event){\n        var self = this;\n        console.log(\"用户取消托管---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        // var giveup = response[\"data\"][\"giveup\"]; //是否断线  0在线 1在线\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"用户取消托管---\"+seatNum);\n        if(seatNum == 1){//自己\n            // if(self.playerme_.getDelegated()){\n            //     self.CancelDelegate.close();\n            //     self.CancelDelegate = null;\n            //     self.playerme_.setDelegated(false);\n            // }\n        }else if(seatNum == 0){//右边\n            self.right_player.setDelegated(false); \n        }else if(seatNum == 2){//左边\n            self.left_player.setDelegated(false); \n        }\n    },\n    onPlayerSendCard(event){\n        var self = this;\n        console.log(\"用户出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n\n        var gender = 1;\n        \n        if(seatNum == 1){//自己\n            self.playerme_.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.mySendCards(response[\"data\"][\"sendCards\"]);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.playerme_.getCardCount();\n            self.playerme_.setCardCount(cardNum-outCardsNum);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            gender = self.playerme_.getGender();\n        }else if(seatNum == 0){//右边\n            self.right_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.rightSendCards(response[\"data\"][\"sendCards\"],null,self.right_player.getOpenHandCards());\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.right_player.getCardCount();\n            self.right_player.setCardCount(cardNum-outCardsNum);\n            self.right_player.hideClock();\n            gender = self.right_player.getGender();\n        }else if(seatNum == 2){//左边\n            self.left_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.leftSendCards(response[\"data\"][\"sendCards\"],null,self.left_player.getOpenHandCards());\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.left_player.getCardCount();\n            self.left_player.setCardCount(cardNum-outCardsNum);\n            self.left_player.hideClock();\n            gender = self.left_player.getGender();\n        }\n        // self.preSendCards = response[\"data\"][\"sendCards\"];//上次出牌\n        // self.preSeatId = seatId;//上次玩家出牌id\n\n        var curSendCards = response[\"data\"][\"sendCards\"];//当前出牌\n        var curSeatId = seatId;//当前玩家出牌id\n        console.log(response[\"data\"][\"sendCards\"]);\n        //得到出牌类型\n        var cards = [];\n        if(curSendCards&&curSendCards.length>0){\n            var pokerdata = CardUtil.serverCardsToClient(curSendCards);\n            console.log(pokerdata);\n            for(var i =0;i<pokerdata.length;i++){\n                cards.push(pokerdata[i].showTxt);\n            }\n            cards.sort(config.arrayUp);\n            var cardstype = CardUtil.get_topCard_type(cards);\n            if(cardstype.type == config.CardType.StraightThree||cardstype.type == config.CardType.StraightThreePlusSingle ||\n                cardstype.type == config.CardType.StraightThreePlusPair){\n                //飞机\n                dialogManager.showAnimFeiJi();\n            }else if(cardstype.type == config.CardType.DoubleKing){\n                //火箭\n                dialogManager.showAnimHuoJian();\n                self.animShakeNode();\n            }else if(cardstype.type == config.CardType.Bomb){\n                //炸弹\n                dialogManager.showAnimZhaDan();\n                self.animShakeNode();\n            }else if(cardstype.type == config.CardType.Straight){\n                //顺子\n            }else if(cardstype.type == config.CardType.StraightDouble){\n                //连队\n            }\n\n            // var cards2 = [];\n            // var pokerdata2 = CardUtil.serverCardsToClient(curSendCards);\n            // console.log(pokerdata2);\n            // for(var i =0;i<pokerdata2.length;i++){\n            //     cards2.push(pokerdata2[i].showTxt);\n            // }\n            // cards2.sort(config.arrayUp);\n            // var cardstype2 = CardUtil.get_topCard_type(cards2);\n\n            // if(cardstype.type == cardstype2.type && curSeatId != self.mySeatId){\n            //     cc.vv.audioMgr.playCardsEffect(gender,\"dani\");\n            // }else{\n                cc.vv.audioMgr.playCardsEffect(gender,cardstype.type,curSendCards);\n            // }\n        }\n\n        self.preSendCards = response[\"data\"][\"sendCards\"];//上次出牌\n        self.preSeatId = seatId;//上次玩家出牌id\n\n        //记牌器开启\n        // var propItems = PlayerDetailModel.getPropItems();\n        // self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        // if (propItems[\"5\"] && propItems[\"5\"] == 1){\n        //     var _cards = CardUtil.getNodeCards(self.myHandCards);\n        //     self.showJPQ(_cards);\n        // }\n        \n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        var _cards = CardUtil.getNodeCards(self.myHandCards);\n        if(_cards){\n            self.showJPQ(_cards);\n        }\n    },\n    onPlayerNotSend(event){\n        var self = this;\n        console.log(\"用户不出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            // self.mySendCards(response[\"data\"][\"sendCards\"]);\n            self.playerme_.showHint(config.hintType.dont);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 0){//右边\n            // self.rightSendCards(null,null,false);\n            self.right_player.showHint(config.hintType.dont);\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 2){//左边\n            // self.leftSendCards(null,null,false);\n            self.left_player.showHint(config.hintType.dont);\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }\n    },\n    onPlayerShowCard(event){\n        var self = this;\n        console.log(\"用户明牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"showCardId\"];\n        var showCardInfo = response[\"data\"][\"showCardInfo\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        console.log(\"seatNum:\"+seatNum);\n        if(seatNum == 1){//自己\n            self.playerme_.setOpenHandCards(true);\n            if(self.myPokerNode.length>0){\n                self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 0){//右边\n            self.right_player.setOpenHandCards(true);\n            self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 2){//左边\n            self.left_player.setOpenHandCards(true);\n            self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }\n    },\n    onGameComplete(event){\n        var self = this;\n        console.log(\"本局结束---\");\n        self.gameState = config.gameState.ST_GAME_BALANCE;\n        var response = event.getUserData();\n        // self.showGameResult(response);\n\n        console.log(response.data);\n\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            //春天\n            dialogManager.showAnimChunTian();\n        }\n\n        var callFunc = cc.callFunc(function(){\n            self.showGameResult(response);\n            // self.clearTable();\n        });\n        var delay = cc.delayTime(2.0);\n        this.node.runAction(cc.sequence(delay,callFunc));\n\n        if(this.CancelDelegate){\n            console.log(\"//清理托管弹框\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        //实现玩家剩余牌\n        for(var i = 0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var showCardInfo = response.data.cards[i];\n            if(seatNum == 1){//自己\n            }else if(seatNum == 0 && !self.right_player.getOpenHandCards()&&showCardInfo.length>0){//右边\n                // self.right_player.setOpenHandCards(true);\n                self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }else if(seatNum == 2 && !self.left_player.getOpenHandCards()&&showCardInfo.length>0){//左边\n                // self.left_player.setOpenHandCards(true);\n                self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n\n        }\n\n    },\n    onTableUserExit(event){\n        var self = this;\n        console.log(\"有用户退出 通知桌上的玩家重新进入队列---\");\n        self.gameState = config.gameState.ST_GAME_WAIT_NEXTROUND;\n        // var response = event.getUserData();\n        // self.clearTable();\n    },\n    onInvalidCardNum(event){\n        var self = this;\n        console.log(\"出的牌不够大 [非法出牌]---\");\n        var response = event.getUserData();\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },  \n    onSayToTableInfo(event){\n        var self = this;\n        console.log(\"聊天信息---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"sayId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var word = response[\"data\"][\"word\"];\n        if(seatNum == 1){//自己\n            this.showMyChat(word);\n            cc.vv.audioMgr.playSay(self.playerme_.getGender(),word);\n        }else if(seatNum == 0){//右边\n            this.showRightChat(word);\n            cc.vv.audioMgr.playSay(self.right_player.getGender(),word);\n        }else if(seatNum == 2){//左边\n            this.showLeftChat(word);\n            cc.vv.audioMgr.playSay(self.left_player.getGender(),word);\n        }\n    },\n    onReconnectionData(event){\n        console.log(\"短线重连-------\");\n        config.stopOnMassage = false;\n        var self = this;\n        self.clearTable();\n        var response = event.getUserData();\n    \n        var players = {};\n        players.lastCall = response.data.lastCall;\n        players.lastCards = response.data.lastCards; //noteCards\n        players.noteCards = response.data.noteCards;\n        players.lordId = response.data.lordId;\n        players.noteCards = response.data.lordCard;\n        players.task = response.data.task;\n        players.rate = response.data.rate;\n\n        if(response.data.rate){\n            self.node_tableTimes.string = \"\" + response.data.rate;\n        }\n\n        // 任务\n        self.node_taskbg.enabled = true;\n        var table_task = players.task.name;\n        if (players.task.coins&&players.task.coins!=\"0\"){\n            table_task = table_task + \" 奖\"+players.task.coins+\"乐豆\";\n        }else if(players.task.lottery&&players.task.lottery!=\"0\"){\n            table_task = table_task + \" 奖\"+players.task.lottery+\"抽奖数\";\n        }else if(players.task.tip){\n            table_task = table_task + players.task.tip;\n        }else{\n            table_task = table_task + \" 奖\"+players.task.coupon+\"乐劵\";\n        }\n        self.node_taskName.string = table_task;\n        var w = self.node_taskName.node.width;\n        self.node_taskbg.node.width = w+70;\n\n        players.act = response.data.act;//操作 TURN_CALL_LORD 叫地主 TURN_GRAB_LORD 抢地主 TURN_PLAY_CARD 出牌\n        players.time = response.data.time;//操作倒计时\n        players.turnSeat = response.data.turnSeat;//操作玩家\n        var turnSeatNum = config.getPlayerSeatNum(response.data.mySeatId,players.turnSeat);\n\n        if(players.act == \"WAIT_TOTAL_DONE\"){//牌局结束等待下一轮\n            dialogManager.showCommonDialog(\"温馨提示\",\"当前牌局已经结束\",function(){\n                self.preloadNextScene();\n            });\n        }\n\n        if(turnSeatNum == 1){\n            if(players.act == \"TURN_CALL_LORD\"){//||players.act == \"AUTO_CALL_LORD\"\n                var btn1Func = function(){\n                    if(self.myOpratShow){\n                        self.myOpratShow.close();\n                        self.myOpratShow = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratShow){\n                        self.myOpratShow.close();\n                        self.myOpratShow = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.callLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"TURN_GRAB_LORD\"){//||players.act == \"AUTO_GRAB_LORD\"\n                var btn1Func = function(){\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n                }\n                var btn2Func = function(){\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.grabLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"TURN_PLAY_CARD\"||players.act == \"AUTO_PLAY_CARD\"){\n                if(self.myOpratShow){\n                    self.myOpratShow.close()\n                    self.myOpratShow = null;\n                }\n                self.onMyOutCard(23);//players.time\n                self.playerme_.hideHint();\n                self.playerme_.clearTableCard(self.dispatchCard);\n            }\n        }else if(turnSeatNum == 0){//右边\n            self.right_player.showClock(players.time);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n        }else if(turnSeatNum == 2){//左边\n            self.left_player.showClock(players.time);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n        }\n\n        players.data = [];\n        for(var i = 0;i<3;i++){\n            var player = {};\n            player.cards = response[\"data\"][\"seat\"+i+\"cards\"];\n            player.info = response[\"data\"][\"seat\"+i+\"info\"];\n            player.show = response[\"data\"][\"seat\"+i+\"show\"];\n            player.trust = response[\"data\"][\"seat\"+i+\"trust\"];//托管\n            players.data.push(player);\n            self.nicknames[i] = player.info.nick;\n        }\n        console.log(\"players-------\");\n        console.log(players);\n\n        self.preSendCards = response.data.lastCards;//上架出牌\n        self.preSeatId = response.data.lastCall;//上架出牌id\n        \n        self.leftPlayer.active = true;\n        self.rightPlayer.active = true;\n\n        self.mySeatId = response.data.mySeatId;\n        if(players.lordId!=4){\n            self.loadSeatId = players.lordId;\n            self.setTable3Card(response.data.lordCard);\n        }\n\n        for(var i=0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var cards = players.data[i].cards;\n            var show = players.data[i].show;\n            var info = players.data[i].info;\n            var trust = players.data[i].trust;\n            if(seatNum == 1){//自己\n                if(show == 1){//明牌\n                }else{  \n                }\n                if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                self.playerme_.setCardCount(cards.length);\n                self.playerme_.setOpenHandCards(show==1);\n                self.playerme_.setLandlord(players.lordId == i);\n                self.myPokerData = CardUtil.serverCardsToClient(cards);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n                \n                self.myHandCards = cards;\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                self.playerme_.continueInfo(parm);\n                if(trust != 0){\n                    console.log(\"自己托管中。。。。\")\n                    self.playerme_.setDelegated(true);\n                    if(self.playerme_.getDelegated()){\n                        console.log(\"自己托管中。。。。1111\")\n                        self.showCancelDelegate();\n                        // self.playerme_.setDelegated(true);\n                    }\n                }\n            }else if(seatNum == 0){//右边\n                if(show == 1){//明牌\n                    if(self.rightPokerNode.length > 0){ //先清理桌上的牌\n                        for(var i = 0; i < self.rightPokerNode.length; i++){\n                            self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.rightPokerNode = [];\n                    }\n                    self.rightPokerData = [];\n                    self.rightPokerData = CardUtil.serverCardsToClient(cards);\n                    self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                }else{  \n                }\n                self.right_player.setOpenHandCards(show==1);\n                self.right_player.setLandlord(players.lordId == i);\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                self.right_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.right_player.setDelegated(true);\n                }\n            }else if(seatNum == 2){//左边\n                if(show == 1){//明牌\n                    if(self.leftPokerNode.length > 0){ //先清理桌上的牌\n                        for(var i = 0; i < self.leftPokerNode.length; i++){\n                            self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.leftPokerNode = [];\n                    }\n                    self.leftPokerData = [];\n                    self.leftPokerData = CardUtil.serverCardsToClient(cards);\n                    self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                }else{  \n                }\n                self.left_player.setOpenHandCards(show==1);\n                self.left_player.setLandlord(players.lordId == i);\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                self.left_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.left_player.setDelegated(true);\n                }\n            }\n        }\n        //显示上家出牌\n        var preSeatNum = config.getPlayerSeatNum(response.data.mySeatId,self.preSeatId);\n        if(preSeatNum == 1){//自己\n            self.playerme_.setCurrentCards(self.preSendCards);\n            self.mySendCards(self.preSendCards);\n        }else if(preSeatNum == 0){//右边\n            self.right_player.setCurrentCards(self.preSendCards);\n            self.rightSendCards(self.preSendCards,null,self.right_player.getOpenHandCards());\n        }else if(preSeatNum == 2){//左边\n            self.left_player.setCurrentCards(self.preSendCards);\n            self.leftSendCards(self.preSendCards,null,self.left_player.getOpenHandCards());\n        }\n    },\n    onPokerTask(event){\n        console.log(\"触发牌局任务-------\");\n        var self = this;\n        var response = event.getUserData();\n        self.node_taskbg.enabled = true;\n        var table_task = response.data.table_task;\n        if (response.data.coins){\n            table_task = table_task + \" 奖\"+response.data.coins+\"乐豆\";\n        }else if(response.data.lottery){\n            table_task = table_task + \" 奖\"+response.data.lottery+\"抽奖数\";\n        }else if(response.data.tip){\n            table_task = table_task + response.data.tip;\n        }else{\n            table_task = table_task + \" 奖\"+response.data.coupon+\"乐劵\";\n        }\n        self.node_taskName.string = table_task;\n        var w = self.node_taskName.node.width;\n        self.node_taskbg.node.width = w+70;\n    },\n    onOpenRechargeTipResult(event){\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n        var trial_count = response.data.trial_count;\n        var content = \"\";\n\n        var callFunc = cc.callFunc(function(){\n            var click = function(){\n                console.log(\"点击了领取救济按钮\");\n                if(trial_count<3){\n                    GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                }else{\n                    self.preloadNextScene();\n                }\n            }\n            if(trial_count<3){\n                var index = trial_count+1;\n                content = \"系统第\"+index+\"次赠送您1000乐豆。\";\n                dialogManager.showCommonDialog(\"领救济\",content,click);\n            }else{\n                content = \"今天乐豆已经领完了哦，明天在过来吧！\";\n                dialogManager.showCommonDialog(\"领救济\",content,function(){\n                    self.preloadNextScene();\n                });\n            }\n        });\n        var delay = cc.delayTime(0.5);//延迟0.5秒弹出\n        this.node.runAction(cc.sequence(delay,callFunc));  \n    },\n    onRepeatLogin(event){\n        console.log(\"您的账号已经在其他地方登陆！\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n        dialogManager.showCommonDialog(\"提示\",\"您的账号已经在其他地方登陆！\",function(){\n            self.isShow = false;\n            cc.director.loadScene(\"LoadingScene\");\n        });\n    },\n    onRefreshDataResult(event){\n        console.log(\"刷新用户信息数据222------\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n\n        var payload = data;\n        // var model = app:getModel(\"PlayerDetailModel\")\n        //用户乐豆数\n        if (payload.data && payload.data.coins){\n            PlayerDetailModel.setCoin(payload.data.coins)\n            // self.setLeDou(PlayerDetailModel.getCoin());\n            self.playerme_.setCoin(payload.data.coins);\n        }\n        //用户奖券数\n        if (payload.data && payload.data.coupon){\n            PlayerDetailModel.setCoupon(payload.data.coupon)\n            // self.setLuQuan(PlayerDetailModel.getCoupon());\n            self.playerme_.setLeQuan(payload.data.coupon);\n        }\n        //用户抽奖数\n        if (payload.data && payload.data.lottery){\n            PlayerDetailModel.setLottery(payload.data.lottery)\n        }\n        //未读邮件数\n        if (payload.data && payload.data.mail_unread){\n            PlayerDetailModel.setMailUnread(payload.data.mail_unread)\n        }\n        //未领取任务数\n        if (payload.data && payload.data.weichatgame_task_unaward){\n            PlayerDetailModel.setTaskUnReward(payload.data.weichatgame_task_unaward)\n        }\n        //未领取分享数\n        if (payload.data && payload.data.weichatgame_invite_unaward){\n            PlayerDetailModel.setShareUnReward(payload.data.weichatgame_invite_unaward)\n        }\n\n\n        //0不可签到, 1可以签到\n        if (payload.data && payload.data.checkin_undo){\n            PlayerDetailModel.setCheckinUndo(payload.data.checkin_undo)\n        }\n        //可领奖的每日任务数\n        if (payload.data && payload.data.task1_unaward){\n            PlayerDetailModel.setTask1Unaward(payload.data.task1_unaward)\n        }\n        //可领奖的成长任务数\n        if (payload.data && payload.data.task2_unaward){\n            PlayerDetailModel.setTask2Unaward(payload.data.task2_unaward)\n        }\n        //充值奖励利率\n        if (payload.data && payload.data.charge_rate){\n            PlayerDetailModel.setChargeRate(payload.data.charge_rate)\n        }\n        //皮肤\n        if (payload.data && payload.data.propDress){\n            PlayerDetailModel.setPropDress(payload.data.propDress)\n        }\n        //道具\n        if (payload.data && payload.data.propItems){\n            PlayerDetailModel.setPropItems(payload.data.propItems)\n        }\n        // self.playerDetailController_:refreshUI()\n    },\n////////////\n    preloadNextScene(){\n        cc.director.preloadScene(\"HallScene\", function () {\n            cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"HallScene\");\n        });\n    },\n    //震动屏幕\n    animShakeNode(){\n        var self = this;\n        if(this.animShake){\n            return;\n        }\n        this.animShake = true;\n        var x = this.scene.x;\n        var y = this.scene.y;\n        var move1 = cc.moveTo(0.08, x-5, y-5);\n        var move2 = cc.moveTo(0.08, x+5, y+5);\n        var move3 = cc.moveTo(0.08, x-5, y+5);\n        var move4 = cc.moveTo(0.08, x+5, y-5);\n        var move5 = cc.moveTo(0.08, x-3, y-3);\n        var move6 = cc.moveTo(0.08, x+3, y+3);\n        var move7 = cc.moveTo(0.08, x-3, y+3);\n        var move8 = cc.moveTo(0.08, x+3, y-3);\n        var move9 = cc.moveTo(0.08, x, y);\n        var callFunc = cc.callFunc(function(){\n            self.animShake = false;\n        });\n        this.scene.runAction(cc.sequence(move1,move2,move3,move4,move5,move6,move7,move8,move9,callFunc));\n    }\n\n});\n"]}