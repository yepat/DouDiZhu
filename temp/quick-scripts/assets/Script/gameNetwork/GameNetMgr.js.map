{"version":3,"sources":["GameNetMgr.js"],"names":["Protocol","require","GameNetMgr","cc","Class","extends","Component","statics","opPlayerSeatId","sendRequest","cmdName","eventName","arg","sendLoginRoom","sendStartGame","sendCallLord","sendGrabLord","sendShowCard","sendGiveupSendCard","sendSendCard","sendRequestDelegate","sendCancelDelegate","sendAddRatio","params","t","Request","Game","Init","roomId","parseInt","isContinue","modelId","vv","net","send","Command","Go","showcard","num","CallLord","doLord","GrabLord","grabLord","rate","ShowCard","showRate","NotFollow","args","SendCard","sendCards","jokto","RequestDelegate","CancelDelegate","AddRatio"],"mappings":"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","file":"GameNetMgr.js","sourceRoot":"../../../../../assets/Script/gameNetwork","sourcesContent":["\nvar Protocol = require(\"Protocol\");\n\nvar GameNetMgr = cc.Class({\n    extends: cc.Component,\n    statics: {\n        opPlayerSeatId:\"\",\n        sendRequest(cmdName,eventName,arg){\n            if(cmdName == \"Game\"){\n                if(eventName == \"loginRoom\"){\n                    this.sendLoginRoom(arg);\n                }else if(eventName == \"startGame\"){\n                    this.sendStartGame(arg);\n                }else if(eventName == \"callLord\"){\n                    this.sendCallLord(arg);\n                }else if(eventName == \"grabLord\"){\n                    this.sendGrabLord(arg);\n                }else if(eventName == \"showCard\"){\n                    this.sendShowCard(arg);\n                }else if(eventName == \"giveupSendCard\"){\n                    this.sendGiveupSendCard(arg);\n                }else if(eventName == \"sendCard\"){\n                    this.sendSendCard(arg);\n                }else if(eventName == \"requestDelegate\"){\n                    this.sendRequestDelegate(arg);\n                }else if(eventName == \"cancelDelegate\"){\n                    this.sendCancelDelegate(arg);\n                }else if(eventName == \"addRatio\"){\n                    this.sendAddRatio(arg);\n                }\n            }\n        },\n        sendLoginRoom(arg){\n            var params = {};\n            params.t = Protocol.Request.Game.Init;\n            params.roomId = parseInt(arg.roomId);\n            params.isContinue = parseInt(arg.isContinue);\n            params.modelId = arg.modelId;\n            cc.vv.net.send(\"loginRoom\",Protocol.Command.Game,params);\n        },\n        sendStartGame(arg){\n            var params = {};\n            params.t = Protocol.Request.Game.Go;\n            if(arg){\n                params.showcard = true;\n            }\n            this.opPlayerSeatId = \"-1\";\n            cc.vv.net.send(\"startGame\",Protocol.Command.Game,params);\n        },\n        sendCallLord(arg){\n            var params = {};\n            var num = arg;  // 1=叫地主 2=不叫地主\n            params.t = Protocol.Request.Game.CallLord;\n            params.doLord = num;\n            cc.vv.net.send(\"callLord\",Protocol.Command.Game,params);\n        },\n        sendGrabLord(arg){\n            var params = {};\n            var num = arg;  // 1=抢地主 2=不抢地主\n            params.t = Protocol.Request.Game.GrabLord;\n            params.grabLord = num;\n            cc.vv.net.send(\"grabLord\",Protocol.Command.Game,params);\n        },\n        sendShowCard(rate){\n            if(rate>2){\n            }else{\n                rate = 2;\n            }\n            var params = {};\n            params.t = Protocol.Request.Game.ShowCard;\n            params.showRate = rate;\n            cc.vv.net.send(\"showCard\",Protocol.Command.Game,params);\n        },\n        sendGiveupSendCard(){\n            var params = {};\n            params.t = Protocol.Request.Game.NotFollow;\n            cc.vv.net.send(\"giveupSendCard\",Protocol.Command.Game,params);\n        },\n        sendSendCard(args){\n            var params = {};\n            params.t = Protocol.Request.Game.SendCard;\n            if (typeof(args[0]) == \"object\"){\n                params.sendCards = args[0];\n                params.jokto = args[1];\n            }else{\n                params.sendCards = args;\n            }\n            cc.vv.net.send(\"sendCard\",Protocol.Command.Game,params);\n        },\n        sendRequestDelegate(){\n            var params = {};\n            params.t = Protocol.Request.Game.RequestDelegate;\n            cc.vv.net.send(\"requestDelegate\",Protocol.Command.Game,params);\n        },\n        sendCancelDelegate(){\n            var params = {};\n            params.t = Protocol.Request.Game.CancelDelegate;\n            cc.vv.net.send(\"cancelDelegate\",Protocol.Command.Game,params);\n        },\n        //--加倍\n        sendAddRatio(){\n            var params = {};\n            params.t = Protocol.Request.Game.AddRatio;\n            cc.vv.net.send(\"addRatio\",Protocol.Command.Game,params);\n        },\n    },\n});"]}