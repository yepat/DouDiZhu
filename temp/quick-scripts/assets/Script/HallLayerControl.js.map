{"version":3,"sources":["HallLayerControl.js"],"names":["config","require","EventHelper","PlayerDetailModel","cc","Class","extends","Component","properties","headImg","default","type","Sprite","playerName","Label","playerLevel","playerLedou","playerLeQuan","start","self","setHeadUrl","setNickName","getNickName","setLevel","getTitle","setLeDou","getCoin","setLuQuan","getCoupon","url","imgUrl","loader","load","err","texture","getComponent","spriteFrame","SpriteFrame","name","string","lv","number","Math","floor","btnSetClick","console","log","loadRes","prefab","newNode","instantiate","director","getScene","addChild","btnTaskClick","btnEmailClick","btnBagClick","btnShopClick","btnShareClick"],"mappings":"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","file":"HallLayerControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar EventHelper = require(\"EventHelper\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        headImg : {\n            default : null,\n            type : cc.Sprite\n        },\n        playerName : {\n            default : null,\n            type : cc.Label\n        },\n        playerLevel : {\n            default : null,\n            type : cc.Label\n        },\n        playerLedou : {\n            default : null,\n            type : cc.Label\n        },\n        playerLeQuan : {\n            default : null,\n            type : cc.Label\n        }\n    },\n    // onLoad () {},\n    start () {\n       var self = this;\n    \n        // EventHelper.AddCustomEvent(config.MyNode,\"EnterHallOK\",function(event){\n            self.setHeadUrl(\"\");\n            self.setNickName(PlayerDetailModel.getNickName());\n            self.setLevel(PlayerDetailModel.getTitle());\n            self.setLeDou(PlayerDetailModel.getCoin());\n            self.setLuQuan(PlayerDetailModel.getCoupon());\n        // });\n\n    },\n    setHeadUrl(url){\n        var self = this;\n         //设置微信头像\n         var imgUrl=\"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132\";\n         imgUrl = imgUrl + \"?aa=aa.jpg\";\n         cc.loader.load(imgUrl, function(err, texture){\n             self.headImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n         });\n    },\n    setNickName(name){\n         //修改昵称\n         this.playerName.string = name;\n    },\n    setLevel(lv){\n        //修改等级\n        this.playerLevel.string = lv;\n    },\n    setLeDou(number){\n        //修改乐豆数\n        if(number >= 10000000){\n            number = Math.floor(number / 10000)\n            this.playerLedou.string = \"\"+number+\"万\";\n        }else{\n            this.playerLedou.string = \"\"+number;\n        }\n        \n    },\n    setLuQuan(number){\n        //修改乐券数\n        if(number >= 10000000){\n            number = Math.floor(number / 10000)\n            this.playerLeQuan.string = \"\"+number+\"万\";\n        }else{\n            this.playerLeQuan.string = \"\"+number;\n        }\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        // 加载 Prefab\n        cc.loader.loadRes(\"prefab/setDialog\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n        });\n    },\n    btnTaskClick(){\n        console.log(\"btnTaskClick\");\n        // 加载 Prefab\n        cc.loader.loadRes(\"prefab/taskDialog\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n        });\n    },\n    btnEmailClick(){\n        console.log(\"btnEmailClick\");\n        // 加载 Prefab\n        cc.loader.loadRes(\"prefab/emailDialog\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n        });\n    },\n    btnBagClick(){\n        console.log(\"btnBagClick\");\n        // 加载 Prefab\n        cc.loader.loadRes(\"prefab/bagDialog\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n        });\n    },\n    btnShopClick(){\n        console.log(\"btnShopClick\");\n        // 加载 Prefab\n        // cc.loader.loadRes(\"bagDialog\", function (err, prefab) {\n        //     if (err) {\n        //         console.log(err);\n        //         return;\n        //     }\n        //     var newNode = cc.instantiate(prefab);\n        //     cc.director.getScene().addChild(newNode);\n        // });\n    },\n    btnShareClick(){\n        console.log(\"btnShareClick\");\n    }\n});\n"]}