{"version":3,"sources":["HallLayerControl.js"],"names":["config","require","EventHelper","PlayerDetailModel","dialogManager","cc","Class","extends","Component","properties","headImg","default","type","Sprite","playerName","Label","playerLevel","playerLedou","playerLeQuan","start","self","setHeadUrl","setNickName","getNickName","setLevel","getTitle","setLeDou","getCoin","setLuQuan","getCoupon","url","imgUrl","loader","load","err","texture","getComponent","spriteFrame","SpriteFrame","name","string","lv","number","Math","floor","btnSetClick","console","log","showSetDialog","btnTaskClick","showTaskDialog","btnEmailClick","showEmailDialog","btnBagClick","showBagDialog","btnShopClick","btnShareClick"],"mappings":"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","file":"HallLayerControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar EventHelper = require(\"EventHelper\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar dialogManager = require(\"dialogManager\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        headImg : {\n            default : null,\n            type : cc.Sprite\n        },\n        playerName : {\n            default : null,\n            type : cc.Label\n        },\n        playerLevel : {\n            default : null,\n            type : cc.Label\n        },\n        playerLedou : {\n            default : null,\n            type : cc.Label\n        },\n        playerLeQuan : {\n            default : null,\n            type : cc.Label\n        }\n    },\n    // onLoad () {},\n    start () {\n       var self = this;\n        self.setHeadUrl(\"\");\n        self.setNickName(PlayerDetailModel.getNickName());\n        self.setLevel(PlayerDetailModel.getTitle());\n        self.setLeDou(PlayerDetailModel.getCoin());\n        self.setLuQuan(PlayerDetailModel.getCoupon());\n    },\n    setHeadUrl(url){\n        var self = this;\n         //设置微信头像\n         var imgUrl=\"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132\";\n         imgUrl = imgUrl + \"?aa=aa.jpg\";\n         cc.loader.load(imgUrl, function(err, texture){\n             self.headImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n         });\n    },\n    setNickName(name){\n         //修改昵称\n         this.playerName.string = name;\n    },\n    setLevel(lv){\n        //修改等级\n        this.playerLevel.string = lv;\n    },\n    setLeDou(number){\n        //修改乐豆数\n        if(number >= 10000000){\n            number = Math.floor(number / 10000)\n            this.playerLedou.string = \"\"+number+\"万\";\n        }else{\n            this.playerLedou.string = \"\"+number;\n        }\n        \n    },\n    setLuQuan(number){\n        //修改乐券数\n        if(number >= 10000000){\n            number = Math.floor(number / 10000)\n            this.playerLeQuan.string = \"\"+number+\"万\";\n        }else{\n            this.playerLeQuan.string = \"\"+number;\n        }\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n    },\n    btnTaskClick(){\n        console.log(\"btnTaskClick\");\n        dialogManager.showTaskDialog();\n    },\n    btnEmailClick(){\n        console.log(\"btnEmailClick\");\n        dialogManager.showEmailDialog();\n    },\n    btnBagClick(){\n        console.log(\"btnBagClick\");\n        dialogManager.showBagDialog();\n    },\n    btnShopClick(){\n        console.log(\"btnShopClick\");\n    },\n    btnShareClick(){\n        console.log(\"btnShareClick\");\n    }\n});\n"]}