{"version":3,"sources":["../../../../assets/Script/assets/Script/GameTable.js"],"names":["PokerData","require","PokerControl","config","CardUtil","PopCardUtil","opratOutCardControl","dialogManager","PlayerDetailModel","Player","EventHelper","GameNetMgr","Events","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","pokerLayerLeft","Node","pokerLayerRight","pokerLayerMy","chupaiBtn","buchuBtn","canvas","opratOutCard","leftPlayer","rightPlayer","onLoad","start","self","sceneWidth","director","getWinSize","width","scene","getScene","mySeatId","preSendCards","preSeatId","gameState","loadSeatId","nicknames","touchBeganX","leftX","rightX","upY","downY","isTouchbegan","wechatImgUrl","detailModel","params","uid","getUid","nickname","getNickName","gender","toString","getGender","coin","getCoin","gold","getGold","lequan","getCoupon","propDress","getPropDress","wechatImg","title","getTitle","emoticon","emoticonItems","myOpratShow","CancelDelegate","ChatDialog","myPokerData","myPokerNode","dispatchCard","player","playerme_","initMyPlayerNode","initBaseInfo","leftDispatchCard","leftPokerData","leftPokerNode","left_player","initLeftPlayerNode","rightDispatchCard","rightPokerData","rightPokerNode","right_player","initRightPlayerNode","registerEvent","active","sendRequest","registerEventListener","initTable3Card","table3Card","i","path","card","find","push","node_tableTimes","getComponent","Label","setTable3Card","severCards","poker","showPoker","convertCardToClient","node_name","node_LeDou","node_LeQuan","node_Landlord","Sprite","node_hint","node_wechatImg","nodes","node_cardsNum","node_delegate","node_clockDwonTime","node_alarm","enabled","initNodes","lab_roomId","tableInfo","string","tableName","roomId","leftChatBoxNode","leftChatBoxLabel","rightChatBoxNode","rightChatBoxLabel","clearTable","clear","clearTableCard","length","node","removeFromParent","console","log","close","on","EventType","TOUCH_START","event","p","getLocation","x","setSelectCardByTouch","y","x1","getPositionX","x2","py","getPositionY","psize","getContentSize","pwidth","pheight","height","disBetween","moveAllCardDown","TOUCH_END","moveCard","TOUCH_MOVE","Math","abs","unregisterEvent","targetOff","istouchbegan","touchStart","touchEnd","selected","pokerNode","posY","size","posX","seatPos","center","right","left","buttom","up","setChoosed","cardMove","cardMoveDown","onShow","onMyOutCard","onHide","topcards","getMyTopCards","mycards","showTxt","autocards","getCardsFromTopCards","AutoChooseLiftUpCard","buchuFunc","tishiNum","tishiFunc","cards","pokerdata","serverCardsToClient","sort","arrayUp","cardstype","get_topCard_type","myCards","cardValue","StringToNumber","tishicards","get_cards_larger","stopAllActions","callFunc","delay","delayTime","runAction","sequence","chupaiFunc","topCards","topCardData","isTopped","cardType","showType","pokerDataItem","popCardsType","args","clientCardsToServer","getCardCount","showCallLord","SendCardTimeout","opratType","mustOutCard","opOutCard","instantiate","parent","opOutCardControl","show","mySendCards","cardData","gradeUp","getSendCard","playCard","neatenPoker","getLandlord","setCardDiZhu","getOpenHandCards","setCardShow","setCardCount","leftSendCards","isShowCard","playCardLeft","neatenLeftPoker","darkCardSend","rightSendCards","playCardRight","neatenRightPoker","btnBackClick","ST_GAME_START","click","removeEventListener","preloadNextScene","showCommonDialog","btnDelegateClick","setDelegated","loader","loadRes","err","prefab","newNode","addChild","prefabControl","btnSetClick","showSetDialog","btnJiPaiQiClick","btnChatClick","showMyChat","content","showLeftChat","showRightChat","AddCustomEvent","MyNode","onQueued","onGameReady","onTableTimesUpdate","onSendCard","onRefreshPlayerData","onTurnCallLord","onCallLord","onTurnGrabLord","onGrabLord","onCallLordOver","onCanDoubleResult","onTurnSendCard","onPlayerDelegated","onPlayerSendCard","onPlayerNotSend","onPlayerShowCard","onGameComplete","onTableUserExit","onInvalidCardNum","onSayToTableInfo","RemoveCustomEvent","initPlayerInfo","response","data","CallLordTimeout","GrabLordTimeout","CheckCardTimeout","AddRatioTime","newGame","setMySeatId","setMySeatNum","peers","k","v","curSeatId","setRoomId","setTableId","setSignature","setBuff","seatNum","getPlayerSeatNum","parm","parseInt","myseat","roomid","tableid","signature","buff","initInfo","time","btn1Func","btn2Func","showGameResult","infos","click1","click2","url","setCoin","coins","rate","rateMax","baseCoins","socre","total","infoItem","isdizhu","difen","beishu","ledou","ST_GAME_PREPARE","watingStart","hideHint","getUserData","times","myCard","initMyCards","myShowCard","showCard","showOpratShowCard","callId","callLoad","showClock","seatId","status","showHint","hintType","callLoadNo","hideClock","grabLoad","grabLoadNo","lordId","setLandlord","candouble","can_double","showOpratDouble","giveup","getDelegated","outCardsNum","cardNum","showAnimChunTian","CardType","StraightThree","StraightThreePlusSingle","StraightThreePlusPair","showAnimFeiJi","DoubleKing","showAnimHuoJian","Bomb","showAnimZhaDan","dont","setOpenHandCards","playerRightShowCard","playerLeftShowCard","ST_GAME_BALANCE","chupaiClick","preloadScene","loadScene"],"mappings":"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","file":"GameTable.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar PokerData = require(\"PokerData\");\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar PopCardUtil = require(\"PopCardUtil\")\n\nvar opratOutCardControl = require(\"opratOutCardControl\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar Player = require(\"Player\");\n\nvar EventHelper = require(\"EventHelper\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar Events = require(\"Events\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n\n        pokerLayerLeft:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerRight:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerMy:{\n            default : null,\n            type : cc.Node,\n        },\n\n        chupaiBtn : {\n            default : null,\n            type : cc.Node,\n        },\n\n        buchuBtn : {\n            default : null,\n            type : cc.Node\n        },\n        canvas:cc.Node, \n        opratOutCard:{\n            default : null,\n            type : cc.Prefab\n        },\n        leftPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        rightPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {  \n    },\n    start () {\n        var self = this;\n        var sceneWidth = cc.director.getWinSize().width;\n        var scene = cc.director.getScene();\n\n        this.sceneWidth = sceneWidth;\n        this.scene = scene;\n        this.mySeatId = 0;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n\n        this.gameState = 0;//游戏状态\n\n        this.loadSeatId = 0; //地主的id\n        this.nicknames = []; //所有玩家昵称\n    \n        self.touchBeganX = 0;\n        self.leftX = 0;\n        self.rightX = 0;\n        self.upY = 0;\n        self.downY = 0;\n        self.isTouchbegan = false;\n\n        var wechatImgUrl=\"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSO7sOWsNicYdNM3MbNGGo58zticxgqoO2aqS7zOCVClXl7WExa4KNQ48uSTSszicsyspzsDQ51M4EQ/132\";\n        //--创建自己的形象\n        var detailModel = PlayerDetailModel;\n        var params = {};\n        params.uid = detailModel.getUid();\n        params.nickname = detailModel.getNickName();\n        params.gender = toString(detailModel.getGender());\n        params.coin = detailModel.getCoin();\n        params.gold = detailModel.getGold();\n        params.lequan = detailModel.getCoupon();\n        params.propDress = detailModel.getPropDress();\n        params.wechatImg = wechatImgUrl;//detailModel.getWechatImg();\n        params.title = detailModel.getTitle();\n        params.emoticon = {};\n        params.emoticonItems = {};\n\n        this.myOpratShow = null; //我自己的弹出操作洁面\n        this.CancelDelegate = null;\n        this.ChatDialog = null;\n\n\n        this.myPokerData = [];\n        this.myPokerNode = [];\n        this.dispatchCard = [];\n        var player = new Player(params);\n        self.playerme_ = player;\n        self.initMyPlayerNode();\n        self.playerme_.initBaseInfo();\n\n\n        // var cards = [\"13\",\"25\",\"35\",\"45\",\"15\",\"26\",\"36\",\"46\",\"16\",\"29\",\"39\",\"49\",\"1a\",\"2a\",\"3a\",\"1b\",\"2b\",\"3b\",\"3c\",\"4d\"];\n        // this.myPokerData = CardUtil.serverCardsToClient(cards);\n        // self.playerme_.initMyCards(this.myPokerData,this.myPokerNode,this.scene,this.sceneWidth);\n       \n        //左边玩家形象\n        this.leftDispatchCard = [];\n        this.leftPokerData = [];\n        this.leftPokerNode = [];\n        this.left_player = new Player();\n        this.initLeftPlayerNode();\n        // self.left_player.initBaseInfo();\n        // this.left_player.playerLeftShowCard(this.leftPokerData,this.leftPokerNode,this.pokerLayerLeft,this.sceneWidth);\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n\n        //右边玩家形象\n        this.rightDispatchCard = [];\n        this.rightPokerData = [];\n        this.rightPokerNode = [];\n        this.right_player = new Player();\n        this.initRightPlayerNode();\n        // self.right_player.initBaseInfo();\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n        \n        //注册触摸事件\n        this.registerEvent();\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n\n\n        GameNetMgr.sendRequest(\"Game\", \"startGame\");\n        this.registerEventListener();\n        this.initTable3Card();\n    },\n    //初始化桌面3张底牌\n    initTable3Card(){\n        this.table3Card = [];\n        for(var i=0;i<3;i++){\n            var path = \"Canvas/top_bar1/dipaibg/poker\"+i;\n            var card = cc.find(path);\n            this.table3Card.push(card);\n            card.active = false;\n        }  \n        \n        this.node_tableTimes = cc.find(\"Canvas/bottom_bar3/beishu/lab_bei\").getComponent(cc.Label);\n    },\n    setTable3Card(severCards){\n        for(var i=0;i<3;i++){\n            this.table3Card[i].active = true;\n            var poker = this.table3Card[i].getComponent(PokerControl);\n            poker.showPoker(CardUtil.convertCardToClient(severCards[i]));\n        } \n    },\n    initMyPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/my_player/head1/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/my_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_LeQuan =  cc.find(\"Canvas/my_player/lequan/lab_lequan\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/my_player/head1/p_dz_icon\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/my_player/my_tip/p_tip_jiaodizhu\").getComponent(cc.Sprite);\n        var node_wechatImg =  cc.find(\"Canvas/my_player/head1/p_head/p_head_1\").getComponent(cc.Sprite);\n        \n    \n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = node_LeQuan;//乐券\n        nodes.node_cardsNum = null;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = null;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = null;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = null;//警报装置\n\n        node_Landlord.enabled = false;\n        nodes.node_hint.enabled = false;\n        self.playerme_.initNodes(nodes);\n        \n        \n        self.lab_roomId = cc.find(\"Canvas/p_table_icon/lab_roomId\").getComponent(cc.Label);\n        if(config.tableInfo){\n            self.lab_roomId.string = config.tableName[config.tableInfo.roomId];\n        }   \n        self.leftChatBoxNode = cc.find(\"Canvas/leftchatBox\");\n        self.leftChatBoxLabel = cc.find(\"Canvas/leftchatBox/lab_content\").getComponent(cc.Label);\n        self.rightChatBoxNode = cc.find(\"Canvas/rightchatBox\");\n        self.rightChatBoxLabel = cc.find(\"Canvas/rightchatBox/lab_content\").getComponent(cc.Label);\n        self.leftChatBoxNode.active = false;\n        self.rightChatBoxNode.active = false;\n    },\n    initLeftPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/left_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/left_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/left_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/left_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/left_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/left_player/left_tip/p_tip_yaobuqi\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/left_player/left_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/left_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/left_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.left_player.initNodes(nodes);\n    },\n    initRightPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/right_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/right_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/right_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/right_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/right_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/right_player/right_tip/p_tip_qiangdizhu\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/right_player/right_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/right_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/right_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.right_player.initNodes(nodes);\n    },\n    clearTable(){//清理拍桌\n        this.playerme_.clear();\n        this.left_player.clear();\n        this.right_player.clear();\n\n        this.playerme_.clearTableCard(this.dispatchCard);\n        this.left_player.clearTableCard(this.leftDispatchCard);\n        this.right_player.clearTableCard(this.rightDispatchCard);\n\n        if(this.myPokerNode.length > 0){ //先清理桌上的牌\n            for(var i = 0; i < this.myPokerNode.length; i++){\n                this.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.myPokerNode = [];\n        }\n        this.myPokerData = [];\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n\n        console.log(\"//清理拍桌\");\n\n        // for(this.table3Card)\n        for(var i=0;i<this.table3Card.length;i++){\n            this.table3Card[i].active = false;\n        }\n\n        if(this.CancelDelegate){\n            console.log(\"//清理拍桌 11111\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n    },\n    //注册触摸事件\n    registerEvent(){\n        var self = this;\n        // var myPokerNode = this.myPokerNode;\n\n        this.canvas.on(cc.Node.EventType.TOUCH_START, function(event){\n            // console.log(\"touchStart\");\n            if(self.myPokerNode.length < 1)\n            return false;\n            var p = event.getLocation();\n            // console.log(\">>x:\"+p.x+\">>y:\"+p.y);\n            self.touchBeganX = p.x;\n            self.leftX = 0;\n            self.rightX = 10000;\n            self.upY = 10000;\n            self.downY = 0;\n            self.isTouchbegan = true;\n            self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n\n            if (self.isTouchbegan){\n                var x1 = self.myPokerNode[0].getPositionX();\n                var x2 = self.myPokerNode[self.myPokerNode.length-1].getPositionX();\n                var py = self.myPokerNode[0].getPositionY();\n                var psize = self.myPokerNode[0].getContentSize();\n                var pwidth = psize.width;\n                var pheight = psize.height;\n\n                var disBetween = 10;\n    \n                self.leftX = x1-pwidth/2-disBetween;\n                self.rightX = x2+pwidth/2+disBetween;\n                self.upY = py+pheight/2+40;\n                self.downY = py-pheight/2;\n\n                console.log(\"self.leftX:\"+self.leftX+\"  self.rightX:\"+self.rightX+\" self.downY:\"+self.downY+\"  self.upY:\"+ self.upY);\n                if (self.isTouchbegan && (p.y > self.upY || p.y < self.downY || p.x < self.leftX || p.x > self.rightX)){\n                    self.moveAllCardDown(self.myPokerNode);\n                }\n            }\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,function(event){\n            // console.log(\"touchEnd\");\n            if(self.myPokerNode.length < 1)\n            return;\n            var p = event.getLocation();\n            self.moveCard(self.myPokerNode);\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(event){\n            if(self.myPokerNode.length < 1)\n            return;\n            var p = event.getLocation();\n            if (Math.abs(self.touchBeganX - p.x) > 40){\n                self.isTouchbegan = false;\n                self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n            }\n        }, this.node);\n    },\n    //移除触摸事件\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    setSelectCardByTouch(myPokerNode,x,y,istouchbegan){\n        var touchStart = this.touchBeganX;\n        var touchEnd = x;\n        this.isTouchbegan = istouchbegan;\n\n        if (this.touchBeganX > x){\n            touchStart = x;\n            touchEnd = this.touchBeganX; \n        }\n        //如果起点跟终点距离小于5 则处理成起点等于终点\n        if (touchEnd - touchStart<5){\n            touchEnd = touchStart;\n        }\n\n        var selected = false; //选中状态\n        \n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var posY = pokerNode.getPositionY();\n            var size = pokerNode.getContentSize();\n            var posX = pokerNode.getPositionX(); //+ size.width/2;\n\n            var width = size.width;\n            var height = size.height;\n\n            var disBetween = config.seatPos.center.disBetween;\n\n            var right = posX - width/2+disBetween;\n            var left =  posX - width/2;\n            var buttom = posY - height/2;\n            var up = posY + height/2;\n            //最后一张整张牌都可以点击\n            if(i == myPokerNode.length-1){\n                right = posX+width/2; \n            }\n            if ( y >= buttom && y <= up &&\n                ((left>= touchStart && left <= touchEnd) || (right>= touchStart && right <= touchEnd) ||\n                (touchStart>= left && touchStart <= right) || (touchEnd>= left && touchEnd <= right))){\n                    pokerNode.getComponent(PokerControl).setChoosed(true);\n                }else{\n            }\n        }   \n    },\n    moveCard(myPokerNode){\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            pokerNode.getComponent(PokerControl).cardMove();\n        }\n    },\n    moveAllCardDown(myPokerNode){\n        console.log(\"moveAllCardDown\");\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            pokerNode.getComponent(PokerControl).cardMoveDown();\n        }\n    },\n    onShow(){\n        console.log(\"onShow\");\n        this.onMyOutCard();\n    },\n    onHide(){\n        console.log(\"onHide\");\n        //智能提牌测试\n        var myPokerNode = this.myPokerNode;\n        var myPokerData = this.myPokerData;\n        var topcards = CardUtil.getMyTopCards(myPokerNode,PokerControl);\n        \n        var mycards = [];\n        for(var i = myPokerData.length - 1; i > -1;i--){\n            mycards.push(myPokerData[i].showTxt);\n            console.log(\"xx\"+myPokerData[i].showTxt);\n        } \n\n        var autocards = CardUtil.getCardsFromTopCards(mycards,topcards);\n        if(autocards.length < 1){\n        }else{\n            this.moveAllCardDown(myPokerNode);//先放下在提起\n            CardUtil.AutoChooseLiftUpCard(myPokerNode,PokerControl,autocards);\n        } \n    },\n    //轮到自己出牌\n    onMyOutCard(){\n        var self = this;\n        var dispatchCard = this.dispatchCard;\n        var sceneWidth = this.sceneWidth;\n        var scene = cc.director.getScene();\n\n        var myPokerNode = this.myPokerNode;\n        var myPokerData = this.myPokerData;\n\n        var buchuFunc = function(){\n            self.moveAllCardDown(myPokerNode);\n            // GameNetMgr.sendGiveupSendCard();\n            GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n\n            if(self.myOpratShow){\n                self.myOpratShow.close();\n                self.myOpratShow = null;\n            }\n        }\n        var tishiNum = 0;\n        var tishiFunc = function(){\n            var cards = [];//\"3\",\"3\",\"3\",\"3\"\n            if(self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                console.log(pokerdata);\n                for(var i =0;i<pokerdata.length;i++){\n                    cards.push(pokerdata[i].showTxt);\n                }\n            }\n            cards.sort(config.arrayUp);\n\n            // console.log(cards);\n\n            var cardstype = CardUtil.get_topCard_type(cards);\n            var myCards = [];\n            console.log(cardstype);\n            for(var i = myPokerData.length - 1; i > -1;i--){\n                var cardValue = CardUtil.StringToNumber(myPokerData[i].showTxt);\n                myCards.push(cardValue); \n            }\n\n            var tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            if(tishicards.length == 0){\n                console.log(\"没有符合的牌型可供提示\");\n                return;\n            }\n            cards = tishicards[tishiNum];\n            if(tishiNum<tishicards.length-1){\n                tishiNum++;\n            }else{\n                tishiNum = 0;\n            }\n\n            this.node.stopAllActions();\n            self.moveAllCardDown(myPokerNode);\n            var callFunc = cc.callFunc(function(){\n                CardUtil.AutoChooseLiftUpCard(myPokerNode,PokerControl,cards);\n            });\n            var delay = cc.delayTime(0.25);\n            this.node.runAction(cc.sequence(delay,callFunc));\n        }\n        var chupaiFunc = function(){\n            console.log(\"点击了出牌\");\n            // if(self.myOpratShow){\n            //     self.myOpratShow.close();\n            //     self.myOpratShow = null;\n            // }\n            //牌桌上已经有了出牌，清除掉\n            // var self = this;\n            if(self.dispatchCard&&self.dispatchCard.length > 0){\n                console.log(\"dispatchCard.length:\"+self.dispatchCard.length);\n                for(var i = 0; i < self.dispatchCard.length; i++){\n                    self.dispatchCard[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.dispatchCard = [];\n            }\n            var topCards = [];\n            var topCardData = [];\n            //获取提起的牌直\n            for(var i = myPokerData.length - 1; i > -1;i--){\n                if(myPokerData[i].isTopped){\n                    var cardValue = CardUtil.StringToNumber(myPokerData[i].showTxt);\n                    topCards.push(cardValue);\n                    var cardType = myPokerData[i].showType;\n                    var pokerDataItem = {\n                        showTxt : cardValue,\n                        showType : cardType\n                    }\n                    topCardData.push(pokerDataItem);\n                }\n            }\n\n            if(topCards.length>=1){\n                var popCardsType = CardUtil.get_topCard_type(topCards);\n                // console.log(popCardsType);\n                if(popCardsType.type == 0){\n                    console.log(\"提起的牌不合法\");\n                    return -1;\n                }    \n            }else{\n                console.log(\"没有牌提起\");\n                return 0;\n            }\n            \n            var args = CardUtil.clientCardsToServer(topCardData);\n            console.log(args);\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",args);\n\n            // self.mySendCards(args);\n\n            // for(var i = myPokerData.length - 1; i > -1;i--){\n            //         if(myPokerData[i].isTopped){ //myPokerData[i].isChoosed\n            //         var isChoosedPoker = myPokerNode[i];\n            //         dispatchCard.unshift(isChoosedPoker);\n            //         myPokerData.splice(i,1);\n            //         myPokerNode.splice(i,1);\n            //     }\n            // }\n            // self.dispatchCard = dispatchCard;\n            // //出牌\n            // self.playerme_.playCard(dispatchCard);\n            // self.playerme_.neatenPoker(myPokerNode,config.seatPos.center,sceneWidth);\n            // //最后一张牌设置为地主牌\n            // if(self.playerme_.getLandlord()&&myPokerNode.length>0){\n            //     myPokerNode[myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n            // }\n            // self.playerme_.setCardCount(myPokerNode.length);\n\n            // self.leftSendCards(topCards,topCardData,false);\n            // // self.rightSendCards(topCards,topCardData,false)\n            // var cards = [\"25\",\"35\",\"45\",\"15\"];\n            // self.rightSendCards(args,null,false);\n        }\n        \n        if(self.playerme_.getCardCount()==20 || self.mySeatId == self.preSeatId){\n            self.showCallLord(config.SendCardTimeout,null,chupaiFunc,config.opratType.mustOutCard);\n        }else{\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            opOutCard.parent = scene;\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(config.SendCardTimeout,buchuFunc,tishiFunc,chupaiFunc);\n\n            if(!self.myOpratShow){\n                self.myOpratShow = opOutCardControl;\n            } \n        }\n    },\n    mySendCards(severCards){//自己出牌\n        var self = this;\n\n        if(severCards){//(根据服务器返回的牌出牌)\n            var cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.dispatchCard = self.playerme_.getSendCard(self.dispatchCard,cardData,self.myPokerNode,self.myPokerData);\n        }else{\n            // for(var i = self.myPokerData.length - 1; i > -1;i--){//( 根据提出的牌出牌)\n            //         if(self.myPokerData[i].isTopped){ \n            //         var isChoosedPoker = self.myPokerNode[i];\n            //         self.dispatchCard.unshift(isChoosedPoker);\n            //         self.myPokerData.splice(i,1);\n            //         self.myPokerNode.splice(i,1);\n            //     }\n            // }\n        }\n\n        //出牌\n        self.playerme_.playCard(self.dispatchCard);\n        self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        //最后一张牌设置为地主牌\n        if(self.playerme_.getLandlord()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n        }\n        if(self.playerme_.getOpenHandCards()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n        }\n        self.playerme_.setCardCount(self.myPokerNode.length);\n    },\n    leftSendCards(severCards,cardData,isShowCard){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n\n        if(!severCards){\n            return;\n        }\n\n        if(cardData){\n        }else{\n            cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n        }\n\n        //左边明牌出牌\n        if(isShowCard){\n            self.leftDispatchCard = self.left_player.getSendCard(self.leftDispatchCard,cardData,self.leftPokerNode,self.leftPokerData);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650);\n            self.left_player.neatenLeftPoker(self.leftPokerNode,config.seatPos.left,sceneWidth/2, 230);\n        }else{\n            //左边暗牌出牌\n            self.leftDispatchCard = self.left_player.darkCardSend(self.leftDispatchCard,cardData,self.pokerLayerLeft,2,sceneWidth);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650);\n        }  \n    },\n    rightSendCards(severCards,cardData,isShowCard){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n        if(!severCards){\n            return;\n        }\n        if(cardData){\n        }else{\n            if(severCards){\n                cardData = CardUtil.serverCardsToClient(severCards);\n                cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            } \n        }\n\n        if(isShowCard){\n            //右边明牌出牌\n            self.rightDispatchCard = self.right_player.getSendCard(self.rightDispatchCard,cardData,self.rightPokerNode,self.rightPokerData);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650);\n            self.right_player.neatenRightPoker(self.rightPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n        }else{\n            //右边暗牌出牌\n            self.rightDispatchCard = self.right_player.darkCardSend(self.rightDispatchCard,cardData,self.pokerLayerRight,0,sceneWidth);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650);\n        }  \n    },\n    //返回按钮点击事件\n    btnBackClick(){\n        var self = this;\n        console.log(\"btnBackClick\");\n        // cc.director.loadScene(\"HallScene\");\n        \n        if(self.gameState == config.gameState.ST_GAME_START){\n            var click = function(){\n                self.removeEventListener();\n                GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n                // cc.director.loadScene(\"HallScene\");\n                self.preloadNextScene();\n            }\n            dialogManager.showCommonDialog(\"温馨提示\",\"现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！\",click);\n        }else{\n            self.removeEventListener();\n            // cc.director.loadScene(\"HallScene\");\n            self.preloadNextScene();\n        }\n    },\n    btnDelegateClick(){\n        console.log(\"btnDelegateClick\");\n        // dialogManager.showJpqNode();\n        // dialogManager.showCancelDelegate();\n        var self = this;\n        var click = function(){\n            GameNetMgr.sendRequest(\"Game\",\"cancelDelegate\");\n            self.CancelDelegate = null;\n            self.playerme_.setDelegated(false);\n        }\n        if(self.CancelDelegate || self.gameState != config.gameState.ST_GAME_START){\n        }else{\n            cc.loader.loadRes(\"prefab/CancelDelegate\", function (err, prefab) {\n                //匹配计数动画\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode);\n                var prefabControl= newNode.getComponent(require(\"CancelDelegateController\"));\n                prefabControl.show(click);\n                self.CancelDelegate = prefabControl; \n            });\n        }\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n    },\n    btnJiPaiQiClick(){\n        console.log(\"btnJiPaiQiClick\");\n    },\n    btnChatClick(){\n        console.log(\"btnChatClick\");\n        var self = this;\n        if(self.ChatDialog){\n            self.ChatDialog.close();\n            self.ChatDialog = null;\n        }else{\n            var click = function(){\n                self.ChatDialog = null;\n            }\n            cc.loader.loadRes(\"prefab/chatDialog\", function (err, prefab) {\n                //匹配计数动画\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode);\n                var prefabControl= newNode.getComponent(require(\"chatControl\"));\n                prefabControl.show(click);\n                self.ChatDialog = prefabControl; \n            });\n        }\n    },\n    showMyChat(content){\n        var self = this;\n        cc.loader.loadRes(\"prefab/chatBox\", function (err, prefab) {\n            //匹配计数动画\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"chatBoxControl\"));\n            prefabControl.show(content);\n        });\n    },\n    showLeftChat(content){\n        var self = this;\n        self.leftChatBoxNode.active = true;\n        self.leftChatBoxLabel.string = content;\n        this.pokerLayerLeft.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.leftChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerLeft.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightChat(content){\n        var self = this;\n        self.rightChatBoxNode.active = true;\n        self.rightChatBoxLabel.string = content;\n        this.pokerLayerRight.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.rightChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerRight.runAction(cc.sequence(delay,callFunc)); \n    },\n    registerEventListener(){\n        var self = this;\n        EventHelper.AddCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n    },\n    removeEventListener(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n    },\n    //初始化玩家信息\n    initPlayerInfo(response){\n        var self = this;\n        if(response.data[\"time\"]){\n            //出牌等待时间\n            config.CallLordTimeout = response.data[\"time\"][\"lord\"];\n            //抢地主超时时间\n            config.GrabLordTimeout = response.data[\"time\"][\"lord\"];\n            //出牌倒计时时间\n            config.SendCardTimeout = response.data[\"time\"][\"send\"];\n            //过牌时间--要不起\n            config.CheckCardTimeout = response.data[\"time\"][\"giveup\"];\n            //加倍时间\n            config.AddRatioTime = response.data[\"time\"][\"double\"]; \n        }else{\n            config.CallLordTimeout = 15;\n            //抢地主超时时间\n            config.GrabLordTimeout = 15;\n            //出牌倒计时时间\n            config.SendCardTimeout = 30;\n            //过牌时间--要不起\n            config.CheckCardTimeout = 10;\n            //加倍时间\n            config.AddRatioTime = 5;\n        }\n        var newGame = response[\"data\"][\"isNewGame\"];\n        this.nicknames = [];\n        if(newGame){\n            var mySeatId = response[\"data\"][\"seatId\"];\n            self.mySeatId = mySeatId;\n            self.playerme_.setMySeatId(mySeatId);\n            self.playerme_.setMySeatNum(1);\n            var peers = {0:response[\"data\"][\"0\"], 1:response[\"data\"][\"1\"], 2:response[\"data\"][\"2\"]};\n            for(var k in peers){\n                var v = peers[k];\n                var curSeatId = v[\"seatId\"];\n\n                this.nicknames.push(v[\"nick\"]);\n\n                if(curSeatId == mySeatId){\n                    self.playerme_.setMySeatId(v[\"seatId\"]);\n                    self.playerme_.setRoomId(v[\"roomId\"]);\n                    self.playerme_.setTableId(v[\"tableId\"]);\n                    self.playerme_.setSignature(v[\"word\"]);\n                    self.playerme_.setBuff(v[\"buff\"]);\n                }else{\n                    var seatNum = 1;\n                    seatNum = config.getPlayerSeatNum(self.mySeatId,curSeatId);\n                    \n                    var parm = {};\n                    parm.uid = parseInt(v[\"uid\"]);\n                    parm.nickname = v[\"nick\"];\n                    parm.gender = v[\"sex\"];\n                    parm.coin = parseInt(v[\"coin\"]);\n                    parm.gold = parseInt(v[\"gold\"]);\n                    parm.propDress = v[\"propDress\"];\n                    parm.myseat = v[\"seatId\"];\n                    parm.roomid = v[\"roomId\"];\n                    parm.tableid = v[\"tableId\"];\n                    parm.signature = v[\"word\"];\n                    parm.buff = v[\"buff\"];\n                    parm.wechatImg = v[\"img\"];\n                    parm.title = v[\"title\"];\n                    parm.emoticon = {};\n                    parm.emoticonItems = {};\n\n                    if(seatNum == 2){//左边玩家\n                        self.left_player.initInfo(parm);\n                        self.left_player.initBaseInfo();\n                        self.left_player.setMySeatNum(seatNum);\n                        self.leftPlayer.active = true;   \n                    }else if(seatNum == 0){//右边玩家\n                        self.right_player.initInfo(parm);\n                        self.right_player.initBaseInfo();\n                        self.right_player.setMySeatNum(seatNum);\n                        self.rightPlayer.active = true;\n                    }\n                }\n            }\n        }else{\n            console.log(\"短线重连 进入游戏-----------\")\n        }\n    },\n    //叫地主，抢地主弹出框\n    showCallLord(time,btn1Func,btn2Func,type){\n        var self = this;\n        cc.loader.loadRes(\"prefab/opratCallLord\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"opratCallLordControl\"));\n            prefabControl.show(time,btn1Func,btn2Func,type);\n            \n            if(type == 3 && !self.myOpratShow){\n                self.myOpratShow = prefabControl; \n            }\n        });\n    },\n    //结算洁面\n    showGameResult(response){\n        var self = this;\n        var infos = [];\n        var data = response.data;\n\n        var click1 = function(){//名牌\n            GameNetMgr.sendRequest(\"Game\", \"startGame\",true);\n        }\n        var click2 = function(){\n            GameNetMgr.sendRequest(\"Game\", \"startGame\",false);\n        }\n        var url = \"prefab/gameResultWin\";\n\n        if(response[\"data\"][\"isWinner\"][\"\"+self.mySeatId] == 1){\n        }else{\n            url = \"prefab/gameResultLose\";\n        }\n        self.playerme_.setCoin(data.coins[self.mySeatId]);\n   \n        var rate = data.rate;\n        var rateMax = data.rateMax;\n        var baseCoins = data.baseCoins;\n\n        for (var i=0;i<3;i++){\n            var socre = data.total[\"\"+i];\n            if(socre>0){\n                socre = \"+\"+socre;\n            }else{\n                socre = \"- \"+Math.abs(socre);\n            }\n            var infoItem = {\n                isdizhu : self.loadSeatId==i,nickname : self.nicknames[i],difen : baseCoins,beishu : rate,ledou : socre\n            }\n            infos.push(infoItem);\n        }\n        cc.loader.loadRes(url, function (err, prefab) {\n            //匹配计数动画\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"gameResultControl\"));\n            prefabControl.show(infos,click1,click2,self.mySeatId);\n        });\n    },\n    //监听服务器返回事件\n    ////////////\n    onQueued(event){\n        var self = this;\n        console.log(\"进入队列---\");\n        self.gameState = config.gameState.ST_GAME_PREPARE;\n        cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n            //匹配计数动画\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            self.watingStart = newNode.getComponent(require(\"watingStarControl\"));\n        });\n    },\n    onGameReady(event){\n        var self = this;\n        console.log(\"游戏准备好了---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        self.gameState = config.gameState.ST_GAME_START;\n        if(self.watingStart){\n            self.watingStart.close();\n            self.watingStart = null;\n        }\n        var response = event.getUserData();\n        self.initPlayerInfo(response);\n    },\n    onTableTimesUpdate(event){\n        var self = this;\n        console.log(\"桌子的倍数发生改变---\");\n        var response = event.getUserData();\n        var times = response[\"data\"][\"rate\"];\n        self.node_tableTimes.string = \"\" + times;\n    },\n    onSendCard(event){\n        var self = this;\n        console.log(\"发牌, 包括各用户的牌信息---\");\n        self.gameState = config.gameState.ST_GAME_START;\n\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        if(self.myPokerNode.length > 0){ //先清理桌上的牌\n            for(var i = 0; i < self.myPokerNode.length; i++){\n                self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            self.myPokerNode = [];\n        }\n        self.myPokerData = [];\n\n        var response = event.getUserData();\n        self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n        self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n        \n        var myShowCard = response.data.showCard[self.mySeatId];\n        if(myShowCard == 0){\n            //明牌按钮现实\n            var click = function(time){\n                GameNetMgr.sendRequest(\"Game\",\"showCard\",time);\n            }\n            dialogManager.showOpratShowCard(click);\n        } \n    },\n    onRefreshPlayerData(event){\n        var self = this;\n        console.log(\"刷新用户金币---\");\n        var response = event.getUserData();\n        var data = response.data;\n        if(data){\n            for(var i=0;i<data.length;i++){\n                var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n                if(seatNum == 1){//自己\n                    self.playerme_.setCoin(data[i].coins);\n                }else if(seatNum == 0){//右边\n                    self.right_player.setCoin(data[i].coins);\n                }else if(seatNum == 2){//左边\n                    self.left_player.setCoin(data[i].coins);\n                }\n            }\n        }\n    },\n    onTurnCallLord(event){\n        var self = this;\n        console.log(\"轮到谁叫地主---\");\n        var response = event.getUserData();\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,response.data.callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                // GameNetMgr.sendCallLord(1);\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            var btn2Func = function(){\n                // GameNetMgr.sendCallLord(2);\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.callLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onCallLord(event){\n        var self = this;\n        console.log(\"玩家叫地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"beLordId\"];\n        var status = response[\"data\"][\"beLordInfo\"];  // 1叫 2不叫\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.callLoad);\n            }else{\n                self.playerme_.showHint(config.hintType.callLoadNo);\n            } \n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.callLoad);\n            }else{\n                self.right_player.showHint(config.hintType.callLoadNo);\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.callLoad);\n            }else{\n                self.left_player.showHint(config.hintType.callLoadNo);\n            }\n        }\n    },\n    onTurnGrabLord(event){\n        var self = this;\n        console.log(\"轮到谁抢地主---\");\n        var response = event.getUserData();\n        var callId = response[\"data\"][\"callId\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                // GameNetMgr.sendGrabLord(1);\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n            }\n            var btn2Func = function(){\n                // GameNetMgr.sendGrabLord(2);\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.grabLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onGrabLord(event){\n        var self = this;\n        console.log(\"玩家抢地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"grabLordId\"]\n        var status = response[\"data\"][\"grabLordInfo\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.grabLoad);\n            }else{\n                self.playerme_.showHint(config.hintType.grabLoadNo);\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.grabLoad);\n            }else{\n                self.right_player.showHint(config.hintType.grabLoadNo);\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.grabLoad);\n            }else{\n                self.left_player.showHint(config.hintType.grabLoadNo);\n            }\n        }\n    },\n    onCallLordOver(event){\n        var self = this;\n        console.log(\"叫地主结束---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n    \n        var response = event.getUserData();\n        var lordId = response[\"data\"][\"lordId\"];\n        var cards = response[\"data\"][\"lordCard\"];\n        var times = response[\"data\"][\"lordBonus\"];\n        self.setTable3Card(cards);\n\n        self.loadSeatId = lordId; //地主的id\n\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,lordId);\n        if(seatNum == 1){//自己\n            if(response.data.myCard&&response.data.myCard.length == 20){ //插3张牌\n                if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n            \n                self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n                self.playerme_.setCardCount(20);\n                self.playerme_.setLandlord(true);\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.setCardCount(20);\n            self.right_player.setLandlord(true);\n        }else if(seatNum == 2){//左边\n            self.left_player.setCardCount(20);\n            self.left_player.setLandlord(true);\n        }\n    },\n    onCanDoubleResult(event){\n        var self = this;\n        console.log(\"通知是否可以加倍---\");\n        var response = event.getUserData();\n        var candouble = response.data.can_double;\n\n        if(candouble&&candouble == 1){\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"addRatio\");\n            }\n            dialogManager.showOpratDouble(btn1Func);\n        }\n    },\n    onTurnSendCard(event){\n        var self = this;\n        console.log(\"轮到谁出牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            self.onMyOutCard();\n            self.playerme_.hideHint();\n            self.playerme_.clearTableCard(self.dispatchCard);\n            //lipai\n            // self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.SendCardTimeout);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.SendCardTimeout);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }\n    },\n    onPlayerDelegated(event){\n        var self = this;\n        console.log(\"用户托管---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        var giveup = response[\"data\"][\"giveup\"]; //是否断线  0在线 1在线\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        if(seatNum == 1){//自己\n            if(!self.playerme_.getDelegated()){\n                self.btnDelegateClick();\n                self.playerme_.setDelegated(true);\n            }\n        }else if(seatNum == 0){//右边\n            \n        }else if(seatNum == 2){//左边\n            \n        }\n    },\n    onPlayerSendCard(event){\n        var self = this;\n        console.log(\"用户出牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            self.mySendCards(response[\"data\"][\"sendCards\"]);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }else if(seatNum == 0){//右边\n            self.rightSendCards(response[\"data\"][\"sendCards\"],null,self.right_player.getOpenHandCards());\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.right_player.getCardCount();\n            self.right_player.setCardCount(cardNum-outCardsNum);\n            self.right_player.hideClock();\n        }else if(seatNum == 2){//左边\n            self.leftSendCards(response[\"data\"][\"sendCards\"],null,self.left_player.getOpenHandCards());\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.left_player.getCardCount();\n            self.left_player.setCardCount(cardNum-outCardsNum);\n            self.left_player.hideClock();\n        }\n        self.preSendCards = response[\"data\"][\"sendCards\"];//上架出牌\n        self.preSeatId = seatId;//上架出牌id\n\n\n        if(self.preSendCards&&self.preSendCards.length == 20){\n            //春天\n            dialogManager.showAnimChunTian();\n            return;\n        }\n\n        //得到出牌类型\n        var cards = [];\n        if(self.preSendCards&&self.preSendCards.length>0){\n            var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n            console.log(pokerdata);\n            for(var i =0;i<pokerdata.length;i++){\n                cards.push(pokerdata[i].showTxt);\n            }\n            cards.sort(config.arrayUp);\n            var cardstype = CardUtil.get_topCard_type(cards);\n            if(cardstype.type == config.CardType.StraightThree||cardstype.type == config.CardType.StraightThreePlusSingle ||\n                cardstype.type == config.CardType.StraightThreePlusPair){\n                //飞机\n                dialogManager.showAnimFeiJi();\n            }else if(cardstype.type == config.CardType.DoubleKing){\n                //火箭\n                dialogManager.showAnimHuoJian();\n            }else if(cardstype.type == config.CardType.Bomb){\n                //炸弹\n                dialogManager.showAnimZhaDan();\n            }\n            \n        }\n        \n\n    },\n    onPlayerNotSend(event){\n        var self = this;\n        console.log(\"用户不出牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            // self.mySendCards(response[\"data\"][\"sendCards\"]);\n            self.playerme_.showHint(config.hintType.dont);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }else if(seatNum == 0){//右边\n            // self.rightSendCards(null,null,false);\n            self.right_player.showHint(config.hintType.dont);\n            self.right_player.hideClock();\n        }else if(seatNum == 2){//左边\n            // self.leftSendCards(null,null,false);\n            self.left_player.showHint(config.hintType.dont);\n            self.left_player.hideClock();\n        }\n    },\n    onPlayerShowCard(event){\n        var self = this;\n        console.log(\"用户明牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"showCardId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        console.log(\"seatNum:\"+seatNum);\n        if(seatNum == 1){//自己\n            self.playerme_.setOpenHandCards(true);\n        }else if(seatNum == 0){//右边\n            self.right_player.setOpenHandCards(true);\n            self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n        }else if(seatNum == 2){//左边\n            self.left_player.setOpenHandCards(true);\n            self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n        }\n    },\n    onGameComplete(event){\n        var self = this;\n        console.log(\"本局结束---\");\n        self.gameState = config.gameState.ST_GAME_BALANCE;\n        var response = event.getUserData();\n        self.showGameResult(response);\n    },\n    onTableUserExit(event){\n        var self = this;\n        console.log(\"有用户退出 通知桌上的玩家重新进入队列---\");\n        var response = event.getUserData();\n        // self.gameState = config.gameState.ST_GAME_BALANCE;\n        self.clearTable();\n    },\n    onInvalidCardNum(event){\n        var self = this;\n        console.log(\"出的牌不够大 [非法出牌]---\");\n        var response = event.getUserData();\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },  \n    onSayToTableInfo(event){\n        var self = this;\n        console.log(\"聊天信息---\");\n        var response = event.getUserData();\n\n        var seatId = response[\"data\"][\"sayId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            this.showMyChat(response[\"data\"][\"word\"]);\n        }else if(seatNum == 0){//右边\n            this.showRightChat(response[\"data\"][\"word\"]);\n        }else if(seatNum == 2){//左边\n            this.showLeftChat(response[\"data\"][\"word\"]); \n        }\n    },\n////////////\n    preloadNextScene(){\n        cc.director.preloadScene(\"HallScene\", function () {\n            cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"HallScene\");\n        });\n    }\n\n});\n"]}