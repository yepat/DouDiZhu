{"version":3,"sources":["../../../../assets/Script/assets/Script/GameTable.js"],"names":["PokerControl","require","config","CardUtil","opratOutCardControl","dialogManager","PlayerDetailModel","Player","EventHelper","GameNetMgr","LazarilloCardUtil","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","pokerLayerLeft","Node","pokerLayerRight","pokerLayerMy","canvas","opratOutCard","myPlayer","leftPlayer","rightPlayer","WatingStartNode","onLoad","gameState","game","on","EVENT_HIDE","console","log","stopOnMassage","vv","audioMgr","stopMusic","EVENT_SHOW","sendRequest","playBGM","showWatingStartGame","rewardedVideoAd","initWxVideoAd","start","self","sceneWidth","director","getWinSize","width","scene","getScene","mySeatId","preSendCards","preSeatId","myShowDialog","loadSeatId","nicknames","animShake","myHandCards","taskComplete","taskRewardNum","touchBeganX","leftX","rightX","upY","downY","isTouchbegan","wechatImgUrl","wxInfo","avatarUrl","detailModel","params","uid","getUid","nickname","getNickName","gender","getGender","coin","getCoin","gold","getGold","lequan","getCoupon","propDress","getPropDress","wechatImg","title","getTitle","emoticon","emoticonItems","play","getMatches","win","getWin","myOpratShow","CancelDelegate","ChatDialog","jpqNode","LazarilloPokerSelected","gameResultControl","myOpratCall","myPokerData","myPokerNode","dispatchCard","player","playerme_","initMyPlayerNode","initBaseInfo","leftDispatchCard","leftPokerData","leftPokerNode","left_player","initLeftPlayerNode","rightDispatchCard","rightPokerData","rightPokerNode","right_player","initRightPlayerNode","registerTouchEvent","active","table3Card","table3Cards","IsContinueGaming","registerEventListener","initTable3Card","node_diPai","find","node_pCardBg","node_tableTimes","getComponent","Label","i","path","poker","push","node_lazarillo_poker","node_lazarillo_Num","Sprite","setLazarillo_poker","cardValue","serverCardValueToClient","numUrl","loader","loadRes","SpriteFrame","err","spriteFrame","setTable3Card","severCards","setPokerBg","showPoker","convertCardToClient","clearTable3Card","setNodeRate","times","nodeRate","enabled","node_name","node_LeDou","node_LeQuan","node_Landlord","node_hint","node_wechatImg","nodes","node_cardsNum","node_delegate","node_clockDwonTime","node_alarm","initNodes","node_taskbg","node_taskName","string","lab_roomId","tableInfo","tableName","roomId","leftChatBoxNode","leftChatBoxLabel","rightChatBoxNode","rightChatBoxLabel","leftCardtype","rightCardtype","clearTable","clear","clearTableCard","length","node","removeFromParent","joker","close","closeClick","watingStart","hideNode","EventType","TOUCH_START","event","sendCardState","p","getLocation","x","setSelectCardByTouch","y","x1","getPositionX","x2","py","getPositionY","psize","getContentSize","pwidth","pheight","height","disBetween","moveAllCardDown","TOUCH_END","moveCard","TOUCH_MOVE","Math","abs","unregisterEvent","targetOff","istouchbegan","touchStart","touchEnd","pokerNode","posY","size","posX","seatPos","center","disBetweenIX","right","left","buttom","up","setChoosed","isChoosed","pokerControl","cardData","cardMove","playSFX","isTopped","cardMoveDown","autoLiftUpCard","topcards","getMyTopCards","mycards","showTxt","autocards","getCardsFromTopCards","AutoChooseLiftUpCard","getCardsLarger","cards","pokerdata","serverCardsToClient","prejokto","joktoIndex","jokerValue","jokto","joktoValue","sort","arrayUp","cardstype","get_topCard_type","preCardType","myCards","StringToNumber","tishicards","get_cards_larger","onMyOutCard","time","buchuFunc","tishiNum","tishiFunc","stopAllActions","callFunc","delay","delayTime","runAction","sequence","chupaiFunc","topCards","topCardData","cardType","showType","pokerDataItem","args","clientCardsToServer","tips","get_effective_tips_cards","jackto","serverCardValueToServer","showLazarilloPokerSelected","big_tips","get_big_tips_cards","popCardsType","curTime","SendCardTimeout","chupaiType","getCardCount","show","opOutCard","instantiate","addChild","opOutCardControl","mySendCards","gradeUp","getSendCard","playCard","neatenPoker","getLandlord","setCardDiZhu","getOpenHandCards","setCardShow","setCardCount","leftSendCards","isShowCard","playCardLeft","neatenLeftPoker","darkCardSend","rightSendCards","playCardRight","neatenRightPoker","btnMyPlayerClick","sendSeatId","receiveSeatId","showPlayerInfo","btnLeftPlayerClick","getMySeatId","btnRightPlayerClick","btnBackClick","continueRoomId","ST_GAME_BALANCE","ST_GAME_PREPARE","click","removeEventListener","preloadNextScene","showCommonDialog","btnDelegateClick","getDelegated","ST_GAME_CallLordOver","setDelegated","showCancelDelegate","prefab","newNode","prefabControl","btnSetClick","showSetDialog","btnJiPaiQiClick","showJPQShareGet","getIsActive","showNode","propItems","getPropItems","ST_GAME_START","showTableShareGet","showJPQ","btnChatClick","showMyChat","content","myChatBox","showLeftChat","showRightChat","showMyCardtype","showLeftCardtype","CardType","Straight","StraightDouble","showRightCardtype","AddCustomEvent","MyNode","onQueued","onGameReady","onTableTimesUpdate","onSendCard","onRefreshPlayerData","onTurnCallLord","onCallLord","onTurnGrabLord","onGrabLord","onCallLordOver","onCanDoubleResult","onTurnSendCard","onPlayerDelegated","onPlayerCancelDelegate","onPlayerSendCard","onPlayerNotSend","onPlayerShowCard","onGameComplete","onTableUserExit","onInvalidCardNum","onSayToTableInfo","onReconnectionData","onPokerTask","onOpenRechargeTipResult","onRefreshDataResult","onRepeatLogin","onEmoticonData","onSendLzCard","onShareWxResResult","onInvalidCardType","onWatchAdvertisementResult","RemoveCustomEvent","initPlayerInfo","response","data","CallLordTimeout","GrabLordTimeout","CheckCardTimeout","AddRatioTime","newGame","setMySeatId","setMySeatNum","peers","k","v","curSeatId","setRoomId","setTableId","setSignature","setBuff","setPlay","setWin","seatNum","getPlayerSeatNum","parm","parseInt","myseat","roomid","tableid","signature","buff","initInfo","showCallLord","btn1Func","btn2Func","showGameResult","infos","click1","enterLimit","RoomConfig","click2","url","setCoin","coins","rate","rateMax","baseCoins","mySocre","myStwin","myRate","socre","total","infoItem","isdizhu","difen","beishu","ledou","stwin","nextScene","showShare","spring","boorSpring","showTaskCompleteShare","leQuanShareSucss","maxRate","maxRateShare","hideHint","getUserData","rateId","ST_GAME_Double","showAnimDouble","playCardsEffect","ST_GAME_SendCard","moveCardend","setTimeout","myCard","initMyCards","myShowCard","showCard","opratShowCard","ST_GAME_CallLord","opratDouble","callId","opratType","callLoad","showClock","seatId","status","showHint","hintType","callLoadNo","hideClock","grabLoad","grabLoadNo","lordId","noteCards","setJpqData","setLandlord","lordShowCard","playerRightShowCard","playerLeftShowCard","_cards","getNodeCards","candouble","can_double","waitingDouble","arg1","arg2","ST_GAME_OutCard","getShowHintType","preCards","card","sub","largerCards","giveup","curCardType","setCurrentCards","outCardsNum","cardNum","cardCount","setNode_alarmShow","curSendCards","isShowCardType","StraightThree","StraightThreePlusSingle","StraightThreePlusPair","showAnimFeiJi","DoubleKing","showAnimHuoJian","animShakeNode","Bomb","SoftBomb","LazarilloBomb","showAnimZhaDan","dont","showCardInfo","setOpenHandCards","showAnimChunTian","ST_GAME_WAIT_NEXTROUND","showTips","word","playSay","sendReq","fn","jpqShareSucss","leDouShareSucss","act","ST_GAME_GrabLord","lastJokto","players","lastCall","lastCards","lordCard","task","table_task","name","lottery","tip","coupon","w","turnSeat","turnSeatNum","info","trust","nick","img","sex","continueInfo","preSeatNum","is_done","trial_count","trial_cooldown","index","TrialShareShow","isShow","loadScene","payload","list","showAnimGetProp","setCoupon","setLeQuan","setLottery","mail_unread","setMailUnread","weichatgame_task_unaward","setTaskUnReward","weichatgame_invite_unaward","setShareUnReward","checkin_undo","setCheckinUndo","task1_unaward","setTask1Unaward","task2_unaward","setTask2Unaward","charge_rate","setChargeRate","setPropDress","setPropItems","id","emoticonData","sendSeatNum","receiveSeatNum","beginPos","endpos","audioUrl","prefabUrl","getPosition","showEmoticon","award","adCdTime","watch_advertisement_cd","canSeeVideoAd","weichatgame_can_watch_advertisement","preloadScene","move1","moveTo","move2","move3","move4","move5","move6","move7","move8","move9","cardsList","wx","onError","onClose","res","isEnded","undefined","rewardedVideoType"],"mappings":"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","file":"GameTable.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar opratOutCardControl = require(\"opratOutCardControl\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar Player = require(\"Player\");\nvar EventHelper = require(\"EventHelper\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar LazarilloCardUtil = require(\"LazarilloCardUtil\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n        pokerLayerLeft:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerRight:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerMy:{\n            default : null,\n            type : cc.Node,\n        },\n        canvas:cc.Node, \n        opratOutCard:{\n            default : null,\n            type : cc.Prefab\n        },\n        myPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        leftPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        rightPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        WatingStartNode:{\n            default : null,\n            type : cc.Node,\n        }\n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        //xx_test\n        this.gameState = 0;\n        cc.game.on(cc.game.EVENT_HIDE, function(){\n            console.log(\"游戏进入后台\");\n            config.stopOnMassage = true;\n            cc.vv.audioMgr.stopMusic();\n        },this);\n        cc.game.on(cc.game.EVENT_SHOW, function(){\n            console.log(\"重新返回游戏\");\n            if(config.stopOnMassage){\n                GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n            }\n        },this);\n        cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n        this.showWatingStartGame();\n        if(!config.rewardedVideoAd){\n            this.initWxVideoAd();\n        }\n    },\n    start () {\n        var self = this;\n        var sceneWidth = cc.director.getWinSize().width;\n        var scene = cc.director.getScene();\n\n        console.log(\">>>>sceneWidth:\"+sceneWidth);\n\n        this.sceneWidth = sceneWidth;\n        this.scene = scene;\n        this.mySeatId = 0;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n\n        this.gameState = 0;//游戏状态\n\n        this.myShowDialog = [];//我的\n\n        this.loadSeatId = 0; //地主的id\n        this.nicknames = []; //所有玩家昵称\n        this.animShake = false; //屏幕是否在抖动\n        this.myHandCards = [];  //我的手牌\n\n        this.taskComplete = false;\n        this.taskRewardNum = 0;\n    \n        self.touchBeganX = 0;\n        self.leftX = 0;\n        self.rightX = 0;\n        self.upY = 0;\n        self.downY = 0;\n        self.isTouchbegan = false;\n\n        var wechatImgUrl=config.wxInfo.avatarUrl;\n        //--创建自己的形象\n        var detailModel = PlayerDetailModel;\n        var params = {};\n        params.uid = detailModel.getUid();\n        params.nickname = detailModel.getNickName();\n        params.gender = detailModel.getGender(); //toString\n        params.coin = detailModel.getCoin();\n        params.gold = detailModel.getGold();\n        params.lequan = detailModel.getCoupon();\n        params.propDress = detailModel.getPropDress();\n        params.wechatImg = wechatImgUrl;//detailModel.getWechatImg();\n        params.title = detailModel.getTitle();\n        params.emoticon = {};\n        params.emoticonItems = {};\n        params.play = PlayerDetailModel.getMatches();//游戏总局数\n        params.win = PlayerDetailModel.getWin();//胜利局数\n\n        this.myOpratShow = null; //我自己的弹出操作洁面\n        this.CancelDelegate = null;\n        this.ChatDialog = null;\n        this.jpqNode = null;\n        this.LazarilloPokerSelected = null;\n        this.gameResultControl = null;\n        this.myOpratCall = null;//叫地主、抢地主弹出操作洁面\n        // this.watingStart = null;\n\n        this.myPokerData = [];\n        this.myPokerNode = [];\n        this.dispatchCard = [];\n        var player = new Player(params);\n        self.playerme_ = player;\n        self.initMyPlayerNode();\n        self.playerme_.initBaseInfo();\n\n        //xx_test\n        // config.joker = \"c\";//\"43\", \"33\",\"23\", \"13\", \n        // var cards = [\"3c\",\"2c\", \"1c\", \"31\", \"21\", \"1d\",\"4b\",\"3b\",\"2b\", \"2a\", \"49\", \"39\",\"29\", \"47\", \"47\", \"44\"];//, \"33\", \"23\", \"13\"\n        // this.myPokerData = CardUtil.serverCardsToClient(cards);\n        // self.playerme_.initMyCards(this.myPokerData,this.myPokerNode,this.scene,this.sceneWidth,-1);\n        \n        // self.onMyOutCard(10000);\n        // this.registerTouchEvent();\n        // return;\n       \n        //左边玩家形象\n        this.leftDispatchCard = [];\n        this.leftPokerData = [];\n        this.leftPokerNode = [];\n        this.left_player = new Player();\n        this.initLeftPlayerNode();\n        \n        // self.left_player.initBaseInfo();\n        // this.leftPokerData = this.myPokerData;\n        // this.left_player.playerLeftShowCard(this.leftPokerData,this.leftPokerNode,this.pokerLayerLeft,this.sceneWidth);\n\n        //右边玩家形象\n        this.rightDispatchCard = [];\n        this.rightPokerData = [];\n        this.rightPokerNode = [];\n        this.right_player = new Player();\n        this.initRightPlayerNode();\n        // self.right_player.initBaseInfo();\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n        \n        //注册触摸事件\n        this.registerTouchEvent();\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.table3Card = [];\n        this.table3Cards = [];\n\n        if(config.IsContinueGaming == 1){\n            // console.log(\">>>>>>>>\");\n            GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n            config.IsContinueGaming = 0;\n        }else{\n            GameNetMgr.sendRequest(\"Game\", \"startGame\");\n        }\n        this.registerEventListener();\n        this.initTable3Card();\n    },\n    //初始化桌面3张底牌\n    initTable3Card(){\n        this.node_diPai = cc.find(\"Canvas/top_bar1/diPai\");\n        this.node_pCardBg = cc.find(\"Canvas/top_bar1/p_card_bg\");\n        this.node_tableTimes = cc.find(\"Canvas/bottom_bar3/beishu/lab_bei\").getComponent(cc.Label);\n        this.node_pCardBg.active = false;\n        this.node_diPai.active = false;\n\n        for(var i=1;i<=3;i++){\n            var path = \"Canvas/top_bar1/diPai/poker_\"+i;\n            var poker = cc.find(path);\n            this.table3Card.push(poker);\n        }\n\n        this.node_lazarillo_poker = cc.find(\"Canvas/top_bar1/lazarillo_poker\");\n        this.node_lazarillo_poker.active = false;\n        this.node_lazarillo_Num = cc.find(\"Canvas/top_bar1/lazarillo_poker/sp_num\").getComponent(cc.Sprite);\n    },\n    setLazarillo_poker(cardValue){\n        var self = this;\n        this.node_lazarillo_poker.active = true;\n        cardValue = CardUtil.serverCardValueToClient(cardValue);\n        var numUrl = \"cards/poke_\"+cardValue;\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.node_lazarillo_Num.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n    },\n    setTable3Card(severCards){\n        this.node_pCardBg.active = true;\n        this.node_diPai.active = true;\n        this.table3Cards = severCards;\n        for(var i=0;i<3;i++){\n            var poker = this.table3Card[i].getComponent(PokerControl);\n            poker.setPokerBg();\n            poker.showPoker(CardUtil.convertCardToClient(severCards[i]));\n        }\n    },\n    clearTable3Card(){\n        this.node_pCardBg.active = false;\n        this.node_diPai.active = false;\n    },\n    setNodeRate(times){\n        console.log(times);\n        if(times&&times>=2){\n        }else{\n            return;\n        }\n        var self = this;\n        self.nodeRate.enabled = true;\n        if(times == 3){\n            cc.loader.loadRes(\"common/p_rate3\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }else{\n            cc.loader.loadRes(\"common/p_rate2\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }\n    },\n    initMyPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/my_player/head1/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/my_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_LeQuan =  cc.find(\"Canvas/my_player/lequan/lab_lequan\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/my_player/head1/p_dz_icon\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/my_tip/p_tip_jiaodizhu\").getComponent(cc.Sprite);\n        var node_wechatImg =  cc.find(\"Canvas/my_player/head1/p_head/p_head_1\").getComponent(cc.Sprite);\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = node_LeQuan;//乐券\n        nodes.node_cardsNum = null;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = null;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = null;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = null;//警报装置\n\n        node_Landlord.enabled = false;\n        nodes.node_hint.enabled = false;\n        self.playerme_.initNodes(nodes);\n\n        //牌桌任务\n        self.node_taskbg = cc.find(\"Canvas/p_taskbg\").getComponent(cc.Sprite);\n        self.node_taskName = cc.find(\"Canvas/p_taskbg/taskName\").getComponent(cc.Label);\n        self.node_taskbg.enabled = false;\n        self.node_taskName.string = \"\";\n\n        self.lab_roomId = cc.find(\"Canvas/p_table_icon/lab_roomId\").getComponent(cc.Label);\n        if(config.tableInfo){\n            self.lab_roomId.string = config.tableName[config.tableInfo.roomId];\n        }   \n        self.leftChatBoxNode = cc.find(\"Canvas/leftchatBox\");\n        self.leftChatBoxLabel = cc.find(\"Canvas/leftchatBox/lab_content\").getComponent(cc.Label);\n        self.rightChatBoxNode = cc.find(\"Canvas/rightchatBox\");\n        self.rightChatBoxLabel = cc.find(\"Canvas/rightchatBox/lab_content\").getComponent(cc.Label);\n        self.leftChatBoxNode.active = false;\n        self.rightChatBoxNode.active = false;\n\n        //牌型显示\n        self.leftCardtype = cc.find(\"Canvas/left_player/p_cardtype\").getComponent(cc.Sprite);\n        self.rightCardtype = cc.find(\"Canvas/right_player/p_cardtype\").getComponent(cc.Sprite);\n        self.leftCardtype.enabled = false;\n        self.rightCardtype.enabled = false;\n\n        //底牌倍数\n        self.nodeRate = cc.find(\"Canvas/top_bar1/p_rate\").getComponent(cc.Sprite);\n        self.nodeRate.enabled = false;\n    },\n    initLeftPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/left_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/left_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/left_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/left_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/left_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/left_player/left_tip/p_tip_yaobuqi\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/left_player/left_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/left_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/left_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐斗\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.left_player.initNodes(nodes);\n    },\n    initRightPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/right_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/right_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/right_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/right_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/right_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/right_player/right_tip/p_tip_qiangdizhu\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/right_player/right_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/right_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/right_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//昵称\n        nodes.node_LeDou = node_LeDou;//乐豆\n        nodes.node_LeQuan = null;//乐券\n        nodes.node_cardsNum = node_cardsNum;//剩余牌数 \n        nodes.node_Landlord = node_Landlord;//地主标志\n        nodes.node_delegate = node_delegate;//托管标志\n        nodes.node_hint = node_hint;//操作显示语 “要不起”\n        nodes.node_clockDwonTime = node_clockDwonTime;//闹钟倒计时\n        nodes.node_wechatImg = node_wechatImg;//微信头像\n        nodes.pokerCard = this.pokerCard;//预设扑克牌\n        nodes.node_alarm = node_alarm;//警报装置\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.right_player.initNodes(nodes);\n    },\n    clearTable(){//清理拍桌\n        // var self = this;\n        this.playerme_.clear();\n        this.left_player.clear();\n        this.right_player.clear();\n\n        this.clearTable3Card();\n\n        this.playerme_.clearTableCard(this.dispatchCard);\n        this.left_player.clearTableCard(this.leftDispatchCard);\n        this.right_player.clearTableCard(this.rightDispatchCard);\n\n        if(this.myPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.myPokerNode.length; i++){\n                this.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.myPokerNode = [];\n        }\n        this.myPokerData = [];\n\n        if(this.leftPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.leftPokerNode.length; i++){\n                this.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.leftPokerNode = [];\n        }\n        this.leftPokerData = [];\n\n        if(this.rightPokerNode.length > 0){ //先清理桌上的牌(自己)\n            for(var i = 0; i < this.rightPokerNode.length; i++){\n                this.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.rightPokerNode = [];\n        }\n        this.rightPokerData = [];\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.node_taskbg.enabled = false;\n        this.node_taskName.string = \"\";\n\n        this.nodeRate.enabled = false;\n\n        this.preSendCards = [];//上架出牌\n        this.preSeatId = -1;//上架出牌id\n        config.joker = \"\";\n\n        console.log(\"//清理拍桌\");\n\n        if(this.CancelDelegate){\n            console.log(\"//清理托管 22222\");\n            this.CancelDelegate.close();\n            // this.CancelDelegate = null;\n        }\n\n        if(this.ChatDialog){//聊天界面\n            this.ChatDialog.close();\n            // this.ChatDialog = null;\n        }\n\n        if(this.jpqNode){\n            console.log(\"//记牌器 11111\");\n            this.jpqNode.close();\n            this.jpqNode = null;\n        }\n\n        if(this.myOpratShow){\n            this.myOpratShow.close();\n            // this.myOpratShow = null;\n        }\n    \n        if(this.myOpratCall){\n            this.myOpratCall.close();\n            this.myOpratCall = null;\n        }\n        \n        if(this.LazarilloPokerSelected){\n            this.LazarilloPokerSelected.closeClick();\n            this.LazarilloPokerSelected = null;\n        }\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        this.node_lazarillo_poker.active = false;\n        this.table3Cards = [];\n    },\n    //注册触摸事件\n    registerTouchEvent(){\n        var self = this;\n        this.canvas.on(cc.Node.EventType.TOUCH_START, function(event){\n            // console.log(\"touchStart\");\n            if(self.myPokerNode.length < 1 && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n                return false;\n            var p = event.getLocation();\n            // console.log(\">>x:\"+p.x+\">>y:\"+p.y);\n            self.touchBeganX = p.x;\n            self.leftX = 0;\n            self.rightX = 10000;\n            self.upY = 10000;\n            self.downY = 0;\n            self.isTouchbegan = true;\n            self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n\n            if (self.isTouchbegan){\n                var x1 = self.myPokerNode[0].getPositionX();\n                var x2 = self.myPokerNode[self.myPokerNode.length-1].getPositionX();\n                var py = self.myPokerNode[0].getPositionY();\n                var psize = self.myPokerNode[0].getContentSize();\n                var pwidth = psize.width;\n                var pheight = psize.height;\n\n                var disBetween = 10;\n    \n                self.leftX = x1-pwidth/2-disBetween;\n                self.rightX = x2+pwidth/2+disBetween;\n                self.upY = py+pheight/2+40;\n                self.downY = py-pheight/2;\n\n                // console.log(\"self.leftX:\"+self.leftX+\"  self.rightX:\"+self.rightX+\" self.downY:\"+self.downY+\"  self.upY:\"+ self.upY);\n                if (self.isTouchbegan && (p.y > self.upY || p.y < self.downY || p.x < self.leftX || p.x > self.rightX)){\n                    self.moveAllCardDown(self.myPokerNode);\n                }\n            }\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,function(event){\n            // console.log(\"touchEnd\");\n            if(self.ChatDialog){\n                self.ChatDialog.close();\n                // self.ChatDialog = null;\n            }\n            if(self.LazarilloPokerSelected){\n                self.LazarilloPokerSelected.closeClick();\n                self.LazarilloPokerSelected = null;\n            }\n            \n            if(self.myPokerNode.length < 1  && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            self.moveCard(self.myPokerNode);\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(event){\n            if(self.myPokerNode.length < 1 && !config.sendCardState)// || self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            if (Math.abs(self.touchBeganX - p.x) > 40){\n                self.isTouchbegan = false;\n                self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n            }\n        }, this.node);\n    },\n    //移除触摸事件\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    setSelectCardByTouch(myPokerNode,x,y,istouchbegan){\n        var touchStart = this.touchBeganX;\n        var touchEnd = x;\n        this.isTouchbegan = istouchbegan;\n\n        if (this.touchBeganX > x){\n            touchStart = x;\n            touchEnd = this.touchBeganX; \n        }\n        //如果起点跟终点距离小于5 则处理成起点等于终点\n        if (touchEnd - touchStart<5){\n            touchEnd = touchStart;\n        }\n\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var posY = pokerNode.getPositionY();\n            var size = pokerNode.getContentSize();\n            var posX = pokerNode.getPositionX(); //+ size.width/2;\n\n            var width = size.width;\n            var height = size.height;\n\n            var disBetween = config.seatPos.center.disBetween;\n            if(this.sceneWidth > 2330){\n                disBetween = config.seatPos.center.disBetweenIX;\n            }\n\n            var right = posX - width/2+disBetween;\n            var left =  posX - width/2;\n            var buttom = posY - height/2;\n            var up = posY + height/2;\n            //最后一张整张牌都可以点击\n            if(i == myPokerNode.length-1){\n                right = posX+width/2; \n            }\n            if ( y >= buttom && y <= up &&\n                ((left>= touchStart && left <= touchEnd) || (right>= touchStart && right <= touchEnd) ||\n                (touchStart>= left && touchStart <= right) || (touchEnd>= left && touchEnd <= right))){\n                    pokerNode.getComponent(PokerControl).setChoosed(true);\n                }else{\n            }\n        }   \n    },\n    moveCard(myPokerNode){\n        // this.cardData.isChoosed\n        var isChoosed = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isChoosed){\n                isChoosed = true;\n            }\n            pokerControl.cardMove();\n        }\n        //xx_test\n        if(isChoosed)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    moveAllCardDown(myPokerNode){\n        console.log(\"moveAllCardDown\");\n        var isTopped = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isTopped){\n                isTopped = true;\n            }\n            pokerControl.cardMoveDown();\n        }\n        //xx_test\n        if(isTopped)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    autoLiftUpCard(){\n        //智能提牌测试\n        var topcards = CardUtil.getMyTopCards(this.myPokerNode,PokerControl);\n        var mycards = [];\n        for(var i = this.myPokerData.length - 1; i > -1;i--){\n            mycards.push(this.myPokerData[i].showTxt);\n            console.log(\"xx\"+this.myPokerData[i].showTxt);\n        }\n        var autocards = CardUtil.getCardsFromTopCards(mycards,topcards);\n        if(autocards.length < 1){\n        }else{\n            this.moveAllCardDown(this.myPokerNode);//先放下在提起\n            CardUtil.AutoChooseLiftUpCard(this.myPokerNode,PokerControl,autocards);\n        } \n    },\n    getCardsLarger(){\n        //获取大于上家的牌\n        console.log(\">>>>>>获取大于上家的牌\")\n        var self = this;\n        var cards = [];\n        // console.log(\"-------preSendCards\",self.preSendCards);\n        if(self.preSendCards&&self.preSendCards.length>0){\n            var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n            // console.log(pokerdata);\n            if(self.prejokto&&self.prejokto.length>0){\n                var joktoIndex = 0;\n                var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                var jokto = self.prejokto;\n                for(var i=0;i<pokerdata.length;i++){\n                    if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                        var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                        cards.push(joktoValue);\n                        joktoIndex++;\n                    }else{\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n            }else{\n                for(var i =0;i<pokerdata.length;i++){\n                    cards.push(pokerdata[i].showTxt);\n                }\n            }\n        }\n        cards.sort(config.arrayUp);\n        // console.log(cards);\n        var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n        var myCards = [];\n        console.log(cardstype);\n        for(var i = self.myPokerData.length - 1; i > -1;i--){\n            var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n            myCards.push(cardValue); \n        }\n\n        var tishicards = null;\n        if(config.joker != \"\"){\n            tishicards = LazarilloCardUtil.get_cards_larger(cardstype,myCards);\n        }else{\n            tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n        }\n        console.log(\">>>>>>>tishicards:\",tishicards);\n        return tishicards;\n    },\n    onMyOutCard(time,tishicards){\n        var self = this;\n        var buchuFunc = function(){\n            self.moveAllCardDown(self.myPokerNode);\n            GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n            if(self.myOpratShow){\n                self.myOpratShow.close();\n                // self.myOpratShow = null;\n            }\n        }\n        var tishiNum = 0;\n        var tishiFunc = function(){\n            var cards = [];\n            //xx_test\n            // cards = [\"3\",\"3\",\"4\",\"4\",\"5\",\"5\"];//\"3\",\"3\",\"3\",\"3\"\n            // if(self.preSendCards&&self.preSendCards.length>0){\n            //     var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n            //     if(self.prejokto&&self.prejokto.length>0){\n            //         var joktoIndex = 0;\n            //         var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n            //         var jokto = self.prejokto;\n            //         for(var i=0;i<pokerdata.length;i++){\n            //             if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n            //                 var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n            //                 cards.push(joktoValue);\n            //                 joktoIndex++;\n            //             }else{\n            //                 cards.push(pokerdata[i].showTxt);\n            //             }\n            //         }\n            //     }else{\n            //         for(var i =0;i<pokerdata.length;i++){\n            //             cards.push(pokerdata[i].showTxt);\n            //         }\n            //     }\n            // }\n            // cards.sort(config.arrayUp);\n            // var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n            // var myCards = [];\n            // console.log(cardstype);\n            // for(var i = self.myPokerData.length - 1; i > -1;i--){\n            //     var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n            //     myCards.push(cardValue); \n            // }\n            // var tishicards = null;\n            // if(config.joker != \"\"){\n            //     tishicards = LazarilloCardUtil.get_cards_larger(cardstype,myCards);\n            // }else{\n            //     tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            // }\n            if(tishicards && tishicards.length == 0){\n                console.log(\"没有符合的牌型可供提示\");\n                if(self.myOpratShow){\n                    buchuFunc();\n                }\n                return;\n            }\n            if(tishicards){\n                cards = tishicards[tishiNum];\n            }\n            if(tishiNum<tishicards.length-1){\n                tishiNum++;\n            }else{\n                tishiNum = 0;\n            }\n\n            self.node.stopAllActions();\n            self.moveAllCardDown(self.myPokerNode);\n            var callFunc = cc.callFunc(function(){\n                CardUtil.AutoChooseLiftUpCard(self.myPokerNode,PokerControl,cards);\n            });\n            var delay = cc.delayTime(0.1);\n            self.node.runAction(cc.sequence(delay,callFunc));\n\n            // return 100;\n        }\n        var chupaiFunc = function(){\n            console.log(\"点击了出牌\");\n            //牌桌上已经有了出牌，清除掉\n            if(self.dispatchCard&&self.dispatchCard.length > 0){\n                console.log(\"dispatchCard.length:\"+self.dispatchCard.length);\n                for(var i = 0; i < self.dispatchCard.length; i++){\n                    self.dispatchCard[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.dispatchCard = [];\n            }\n            var topCards = [];\n            var topCardData = [];\n            //获取提起的牌直\n            for(var i = self.myPokerData.length - 1; i > -1;i--){\n                if(self.myPokerData[i].isTopped){\n                    var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n                    topCards.push(cardValue);\n                    var cardType = self.myPokerData[i].showType;\n                    var pokerDataItem = {\n                        showTxt : cardValue,\n                        showType : cardType\n                    }\n                    topCardData.push(pokerDataItem);\n                }\n            }\n\n            //获取上家出牌类型\n            var cards = [];//\"3\",\"3\",\"3\",\"3\"\n            if(config.joker != \"\"&&self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                // console.log(pokerdata);\n                if(self.prejokto&&self.prejokto.length>0){\n                    var joktoIndex = 0;\n                    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                    var jokto = self.prejokto;\n                    for(var i=0;i<pokerdata.length;i++){\n                        if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                            var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                            cards.push(joktoValue);\n                            joktoIndex++;\n                        }else{\n                            cards.push(pokerdata[i].showTxt);\n                        }\n                    }\n                }else{\n                    for(var i =0;i<pokerdata.length;i++){\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n                cards.sort(config.arrayUp);\n            }\n            \n            //赖子场目前不做判断\n            if(config.joker != \"\"){\n                var args = CardUtil.clientCardsToServer(topCardData);\n                console.log(\"-----赖子出牌测试\")\n                console.log(args);\n                if(args.length){\n                    // var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                    var tips = LazarilloCardUtil.get_effective_tips_cards(args, config.joker);\n                    console.log(tips);\n                    \n                    if(tips.length == 1){\n                        var jackto = tips[0][1];\n                        for(var i=0;i<jackto.length;i++){\n                            jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                        }\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:tips[0][0],1:jackto});\n                    }else if(tips.length > 1){\n                        if(self.mySeatId == self.preSeatId || self.myPokerData.length == 20){//自己必出或地主第一手出牌\n                            self.showLazarilloPokerSelected(tips);\n                            return 100;\n                        }\n\n                        var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                        var big_tips = LazarilloCardUtil.get_big_tips_cards(tips,cardstype);\n                        if(big_tips.length == 1){\n                            var jackto = big_tips[0][1];\n                            for(var i=0;i<jackto.length;i++){\n                                jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                            }\n                            GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:big_tips[0][0],1:jackto});//big_tips[0]\n                        }else{\n                            self.showLazarilloPokerSelected(big_tips);\n                        }\n                    }else{\n                        return -1;\n                    }\n                }\n                return 100;\n            }\n\n            if(topCards.length>=1){\n                var popCardsType = CardUtil.get_topCard_type(topCards);\n                // console.log(popCardsType);\n                if(popCardsType.type == 0){\n                    console.log(\"提起的牌不合法\");\n                    return -1;\n                }    \n            }else{\n                console.log(\"没有牌提起\");\n                return 0;\n            }\n            \n            var args = CardUtil.clientCardsToServer(topCardData);\n            // console.log(args);\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",args);\n            return 100;\n        }\n\n        var curTime = config.SendCardTimeout;\n        if(time){\n            curTime = time;\n        }\n        //new\n        var chupaiType = 0;\n        if(this.playerme_.getCardCount()==20 || this.mySeatId == this.preSeatId){\n        }else{\n            if(tishicards && tishicards.length == 0){\n                curTime = 3;\n                chupaiType = 2;\n            }\n        }\n\n        if(this.myOpratShow){\n            if(this.playerme_.getCardCount()==20 || this.mySeatId == this.preSeatId){\n                this.myOpratShow.show(curTime,buchuFunc,tishiFunc,chupaiFunc,1);\n            }else{\n                this.myOpratShow.show(curTime,buchuFunc,tishiFunc,chupaiFunc,chupaiType);\n            }\n            return;\n        }\n\n        if(this.playerme_.getCardCount()==20 || this.mySeatId == this.preSeatId){\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            cc.director.getScene().addChild(opOutCard,999);\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(curTime,buchuFunc,tishiFunc,chupaiFunc,1);\n            this.myOpratShow = opOutCardControl;\n        }else{\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            cc.director.getScene().addChild(opOutCard,999);\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(curTime,buchuFunc,tishiFunc,chupaiFunc,chupaiType);\n            this.myOpratShow = opOutCardControl;\n        }\n    },\n    mySendCards(severCards,jokto){//自己出牌\n        var self = this;\n        if(severCards){//(根据服务器返回的牌出牌)\n            var cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.dispatchCard = self.playerme_.getSendCard(self.dispatchCard,cardData,self.myPokerNode,self.myPokerData);\n        }\n\n        //出牌\n        self.playerme_.playCard(self.dispatchCard,jokto);\n        self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        //最后一张牌设置为地主牌\n        if(self.playerme_.getLandlord()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n        }\n        if(self.playerme_.getOpenHandCards()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n        }\n        self.playerme_.setCardCount(self.myPokerNode.length);\n    },\n    leftSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n\n        if(!severCards){\n            return;\n        }\n\n        if(cardData){\n        }else{\n            cardData = CardUtil.serverCardsToClient(severCards);\n        }\n\n        //左边明牌出牌\n        if(isShowCard){\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.leftDispatchCard = self.left_player.getSendCard(self.leftDispatchCard,cardData,self.leftPokerNode,self.leftPokerData);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n            self.left_player.neatenLeftPoker(self.leftPokerNode,config.seatPos.left,sceneWidth/2, 230);\n        }else{\n            //左边暗牌出牌\n            self.leftDispatchCard = self.left_player.darkCardSend(self.leftDispatchCard,cardData,self.pokerLayerLeft,2,sceneWidth,jokto);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n        }  \n    },\n    rightSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n        if(!severCards){\n            return;\n        }\n        if(cardData){\n        }else{\n            if(severCards){\n                cardData = CardUtil.serverCardsToClient(severCards);\n            } \n        }\n\n        if(isShowCard){\n            //右边明牌出牌\n            cardData.sort(CardUtil.gradeUp);//这边生序拍下\n            self.rightDispatchCard = self.right_player.getSendCard(self.rightDispatchCard,cardData,self.rightPokerNode,self.rightPokerData);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n            self.right_player.neatenRightPoker(self.rightPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n        }else{\n            //右边暗牌出牌\n            self.rightDispatchCard = self.right_player.darkCardSend(self.rightDispatchCard,cardData,self.pokerLayerRight,0,sceneWidth,jokto);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n        }  \n    },\n    btnMyPlayerClick(){\n        console.log(\"点击自己头像\")\n        var args = {};\n        args.player = this.playerme_;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.mySeatId;\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnLeftPlayerClick(){\n        console.log(\"点击左边头像\")\n        var args = {};\n        args.player = this.left_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.left_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnRightPlayerClick(){\n        console.log(\"点击右边头像\")\n        var args = {};\n        args.player = this.right_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.right_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    //返回按钮点击事件\n    btnBackClick(){\n        var self = this;\n        console.log(\"btnBackClick\");\n        PlayerDetailModel.continueRoomId = 0;\n        if(self.gameState < config.gameState.ST_GAME_BALANCE&&self.gameState>config.gameState.ST_GAME_PREPARE){\n            var click = function(){ \n                // GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.removeEventListener();\n                self.preloadNextScene();\n            }\n            dialogManager.showCommonDialog(\"温馨提示\",\"现在离开会由笨笨的机器人代打哟，输了豆豆可不能怪它喔！\",click);\n        }else{\n            if(self.gameState==config.gameState.ST_GAME_PREPARE){\n                GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n            }\n            self.removeEventListener();\n            self.preloadNextScene();\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnDelegateClick(){\n        console.log(\"btnDelegateClick\");\n        var self = this;\n        if(self.playerme_.getDelegated()){\n            console.log(\"托管中。。。。\");\n        }else{\n            if(self.gameState >= config.gameState.ST_GAME_CallLordOver){\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.playerme_.setDelegated(true);\n                self.showCancelDelegate();\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showCancelDelegate(){\n        var self = this;\n        var click = function(){\n            GameNetMgr.sendRequest(\"Game\",\"cancelDelegate\");\n            // self.CancelDelegate = null;\n            self.playerme_.setDelegated(false);\n            cc.vv.audioMgr.playSFX(\"SpecOk\");\n        }\n        if(self.CancelDelegate){\n            self.CancelDelegate.show(click);\n            return;\n        }\n        cc.loader.loadRes(\"prefab/CancelDelegate\", function (err, prefab) {\n            //匹配计数动画\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10);\n            var prefabControl= newNode.getComponent(require(\"CancelDelegateController\"));\n            prefabControl.show(click);\n            self.CancelDelegate = prefabControl; \n        });\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnJiPaiQiClick(){\n        console.log(\"btnJiPaiQiClick\");\n        //没有记牌器弹出分享窗口\n        // if(this.gameState <= 6)\n        //     return;\n        this.showJPQShareGet();\n\n        var self = this;\n        if(self.jpqNode){\n            if(self.jpqNode.getIsActive()){\n                self.jpqNode.showNode(false);\n            }else{\n                self.jpqNode.showNode(true);\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showJPQShareGet(){\n        //记牌器开启\n        var self = this;\n        var propItems = PlayerDetailModel.getPropItems();\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            return;\n        }\n        console.log(\">>>>>>gameState:\",self.gameState)\n        if(self.gameState > config.gameState.ST_GAME_START)\n            dialogManager.showTableShareGet(\"jipaiqi\");\n    },\n    showJPQ(mycards){\n        var self = this;\n        if(self.jpqNode){\n            self.jpqNode.show(mycards);\n            return;\n        }\n        cc.loader.loadRes(\"prefab/jpqNode\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9);\n            var prefabControl= newNode.getComponent(require(\"jpqNodeControl\"));\n            self.jpqNode = prefabControl; \n            self.jpqNode.show(mycards);\n        });\n    },\n    btnChatClick(){\n        console.log(\"btnChatClick\");\n        var self = this;\n        if(self.ChatDialog){\n            self.ChatDialog.show();\n        }else{\n            var click = function(){\n                // self.ChatDialog = null;\n            }\n            cc.loader.loadRes(\"prefab/chatDialog\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,9999);\n                var prefabControl= newNode.getComponent(require(\"chatControl\"));\n                prefabControl.show(click);\n                self.ChatDialog = prefabControl; \n            });\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showMyChat(content){\n        var self = this;\n        if(self.myChatBox){\n            self.myChatBox.show(content);\n            console.log(\"myChatBox 已存在\");\n            return;\n        }\n        cc.loader.loadRes(\"prefab/chatBox\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"chatBoxControl\"));\n            self.myChatBox = prefabControl;\n            prefabControl.show(content);\n        });\n    },\n    showLeftChat(content){\n        var self = this;\n        self.leftChatBoxNode.active = true;\n        self.leftChatBoxLabel.string = content;\n        this.pokerLayerLeft.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.leftChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerLeft.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightChat(content){\n        var self = this;\n        self.rightChatBoxNode.active = true;\n        self.rightChatBoxLabel.string = content;\n        this.pokerLayerRight.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.rightChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerRight.runAction(cc.sequence(delay,callFunc)); \n    },\n    showMyCardtype(cardType){\n        cc.loader.loadRes(\"animatiom/anim_cardType\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"cardTypeControl\"));\n            prefabControl.show(cardType);\n        });\n    },\n    showLeftCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.leftCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.leftCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.leftCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.leftCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.rightCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.rightCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.rightCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.rightCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    registerEventListener(){\n        var self = this;\n        EventHelper.AddCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        //ShareWxResResult\n        EventHelper.AddCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n\n        EventHelper.AddCustomEvent(config.MyNode,\"WatchAdvertisementResult\",self.onWatchAdvertisementResult,self);\n    },\n    removeEventListener(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n\n        EventHelper.RemoveCustomEvent(config.MyNode,\"WatchAdvertisementResult\",self.onWatchAdvertisementResult,self);\n    },\n    //初始化玩家信息\n    initPlayerInfo(response){\n        var self = this;\n        if(response.data[\"time\"]){\n            //出牌等待时间\n            config.CallLordTimeout = response.data[\"time\"][\"lord\"];\n            //抢地主超时时间\n            config.GrabLordTimeout = response.data[\"time\"][\"lord\"];\n            //出牌倒计时时间\n            config.SendCardTimeout = response.data[\"time\"][\"send\"];\n            //过牌时间--要不起\n            config.CheckCardTimeout = response.data[\"time\"][\"giveup\"];\n            //加倍时间\n            config.AddRatioTime = response.data[\"time\"][\"double\"]; \n        }else{\n            config.CallLordTimeout = 15;\n            //抢地主超时时间\n            config.GrabLordTimeout = 15;\n            //出牌倒计时时间\n            config.SendCardTimeout = 30;\n            //过牌时间--要不起\n            config.CheckCardTimeout = 10;\n            //加倍时间\n            config.AddRatioTime = 5;\n        }\n        var newGame = response[\"data\"][\"isNewGame\"];\n        this.nicknames = [];\n        if(newGame){\n            var mySeatId = response[\"data\"][\"seatId\"];\n            self.mySeatId = mySeatId;\n            self.playerme_.setMySeatId(mySeatId);\n            self.playerme_.setMySeatNum(1);\n            var peers = {0:response[\"data\"][\"0\"], 1:response[\"data\"][\"1\"], 2:response[\"data\"][\"2\"]};\n            for(var k in peers){\n                var v = peers[k];\n                var curSeatId = v[\"seatId\"];\n\n                this.nicknames.push(v[\"nick\"]);\n\n                if(curSeatId == mySeatId){\n                    self.playerme_.setMySeatId(v[\"seatId\"]);\n                    self.playerme_.setRoomId(v[\"roomId\"]);\n                    self.playerme_.setTableId(v[\"tableId\"]);\n                    self.playerme_.setSignature(v[\"word\"]);\n                    self.playerme_.setBuff(v[\"buff\"]);\n                    self.playerme_.setPlay(v[\"play\"]);\n                    self.playerme_.setWin(v[\"win\"]);\n                }else{\n                    var seatNum = 1;\n                    seatNum = config.getPlayerSeatNum(self.mySeatId,curSeatId);\n                    \n                    var parm = {};\n                    parm.uid = parseInt(v[\"uid\"]);\n                    parm.nickname = v[\"nick\"];\n                    parm.gender = v[\"sex\"];\n                    parm.coin = parseInt(v[\"coin\"]);\n                    parm.gold = parseInt(v[\"gold\"]);\n                    parm.propDress = v[\"propDress\"];\n                    parm.myseat = v[\"seatId\"];\n                    parm.roomid = v[\"roomId\"];\n                    parm.tableid = v[\"tableId\"];\n                    parm.signature = v[\"word\"];\n                    parm.buff = v[\"buff\"];\n                    parm.wechatImg = v[\"img\"];\n                    parm.title = v[\"title\"];\n                    parm.emoticon = {};\n                    parm.emoticonItems = {};\n                    parm.play = v[\"play\"];//游戏总局数\n                    parm.win = v[\"win\"];//胜利局数\n\n                    if(seatNum == 2){//左边玩家\n                        self.left_player.initInfo(parm);\n                        self.left_player.initBaseInfo();\n                        self.left_player.setMySeatNum(seatNum);\n                        self.leftPlayer.active = true;   \n                    }else if(seatNum == 0){//右边玩家\n                        self.right_player.initInfo(parm);\n                        self.right_player.initBaseInfo();\n                        self.right_player.setMySeatNum(seatNum);\n                        self.rightPlayer.active = true;\n                    }\n                }\n            }\n        }else{\n            console.log(\"短线重连 进入游戏-----------\");\n        }\n    },\n    //叫地主，抢地主弹出框\n    showCallLord(time,btn1Func,btn2Func,type){\n        var self = this;\n        cc.loader.loadRes(\"prefab/opratCallLord\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,999);\n            var prefabControl= newNode.getComponent(require(\"opratCallLordControl\"));\n            prefabControl.show(time,btn1Func,btn2Func,type);\n            \n            // if(type == 3 && !self.myOpratShow){\n            //     self.myOpratShow = prefabControl; \n            // }else{\n                self.myOpratCall = prefabControl;\n            // }\n        });\n    },\n    //结算洁面\n    showGameResult(response){\n        var self = this;\n        var infos = [];\n        var data = response.data;\n\n        cc.vv.audioMgr.stopMusic();\n        config.IsContinueGaming = 0;\n        PlayerDetailModel.continueRoomId = 0;\n\n        var click1 = function(){//名牌\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"弹出救济框----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",true);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var click2 = function(){\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"弹出救济框----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您的豆子不足该场次！\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",false);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var url = \"prefab/gameResultWin\";\n\n        if(response[\"data\"][\"isWinner\"][\"\"+self.mySeatId] == 1){\n            cc.vv.audioMgr.playSFX(\"MusicEx_Win\");\n        }else{\n            url = \"prefab/gameResultLose\";\n            cc.vv.audioMgr.playSFX(\"MusicEx_Lose\");\n        }\n        self.playerme_.setCoin(data.coins[self.mySeatId]);\n   \n        var rate = data.rate;\n        var rateMax = data.rateMax;\n        var baseCoins = data.baseCoins;\n\n        var mySocre = 0;\n        var myStwin = 0;//连胜\n        var myRate = rate;\n\n        for (var i=0;i<3;i++){\n            var socre = data.total[\"\"+i];\n            var infoItem = {\n                isdizhu : self.loadSeatId==i,nickname : self.nicknames[i],difen : baseCoins,beishu : rate,ledou : socre,coin:data.coins[i],rateMax : rateMax\n            }\n            infos.push(infoItem);\n\n            if(self.mySeatId==i){\n                mySocre = socre;\n                myStwin = data.stwin[\"\"+i];\n            } \n        }\n\n        console.log(\">>>>>myStwin:\",myStwin);\n\n        if(!self.gameResultControl){\n            cc.loader.loadRes(url, function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var nextScene = function(){\n                    self.gameResultControl = null;\n                    self.removeEventListener();\n                    self.preloadNextScene();\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                var prefabControl= newNode.getComponent(require(\"gameResultControl\"));\n                prefabControl.show(infos,click1,click2,self.mySeatId,nextScene);\n                self.gameResultControl = prefabControl;\n            });\n        }\n\n        var showShare = false;\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            if(mySocre>0){\n                //弹出春天分享\n                this.taskComplete = false;\n                dialogManager.showTaskCompleteShare(\"chuntian\");\n            } \n            showShare = true;\n        }\n\n        if(myStwin == 3 && !showShare){\n            //连胜\n            dialogManager.showTaskCompleteShare(\"liansheng_3\");\n            showShare = true;\n        }\n\n        //如果任务完成\n        if(this.taskComplete && !showShare){\n            //弹出奖品分享\n            dialogManager.showTaskCompleteShare(\"lequan\");\n            config.leQuanShareSucss = true;\n            showShare = true;\n        }\n\n        var maxRate = 120;\n        if(config.joker != \"\"){\n            maxRate = 360;\n        }\n\n        //高倍数分享\n        if(myRate>=maxRate && mySocre>0 && !showShare){\n            config.maxRateShare = myRate;\n            dialogManager.showTaskCompleteShare(\"gaobei\");\n            showShare = true;\n        }\n    },\n    showWatingStartGame(){\n        var self = this;\n        // cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n        //     //匹配计数动画\n        //     if (err) {\n        //         console.log(err);\n        //         return;\n        //     }\n        //     var newNode = cc.instantiate(prefab);\n        //     cc.director.getScene().addChild(newNode);\n        //     var prefabControl = newNode.getComponent(require(\"watingStarControl\"));\n        //     self.watingStart = prefabControl;\n        //     self.watingStart.hideNode();\n        // });\n        var prefabControl = self.WatingStartNode.getComponent(require(\"watingStarControl\"));\n        self.watingStart = prefabControl;\n        self.watingStart.hideNode();\n    },\n    //监听服务器返回事件\n    ////////////\n    onQueued(event){\n        var self = this;\n        console.log(\"进入队列---\");\n\n        if(self.gameState > 1 && self.gameState < 8)\n            return;\n\n        self.gameState = config.gameState.ST_GAME_PREPARE;\n        if(self.watingStart)\n            self.watingStart.showNode();\n    },\n    onGameReady(event){\n        var self = this;\n        console.log(\"游戏准备好了---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n        config.joker = \"\";\n\n        self.gameState = config.gameState.ST_GAME_START;\n        var response = event.getUserData();\n        self.initPlayerInfo(response);\n    },\n    onTableTimesUpdate(event){\n        var self = this;\n        console.log(\"桌子的倍数发生改变---\");\n        var response = event.getUserData();\n        var times = response[\"data\"][\"rate\"];\n        self.node_tableTimes.string = \"\" + times;\n        var rate = response[\"data\"][\"rate_num\"];\n        \n        var rateId = response[\"data\"][\"rateId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,rateId);\n\n        console.log(\"seatNum:\"+seatNum);\n        console.log(\"self.gameState:\"+self.gameState);\n\n        var gender = 1;\n\n        if(self.gameState == config.gameState.ST_GAME_Double){\n            if(seatNum == 1){//自己\n                gender = self.playerme_.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n            }else if(seatNum == 0){//右边\n                gender = self.right_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.right_player.showHint(config.hintType.double);\n                }\n            }else if(seatNum == 2){//左边\n                gender = self.left_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.left_player.showHint(config.hintType.double);\n                }\n            }else{\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,1);\n                }\n            }\n\n            if(self.gameState == config.gameState.ST_GAME_Double){\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiabei\");\n            }\n                    \n        }else{\n            if(rate>1&&rate<=5){\n                dialogManager.showAnimDouble(rate,1);\n            }\n        }\n    },\n    onSendCard(event){\n        var self = this;\n        console.log(\"发牌, 包括各用户的牌信息---\");\n        self.gameState = config.gameState.ST_GAME_SendCard;\n\n        if(self.watingStart)\n            self.watingStart.hideNode();\n\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        if(self.myPokerNode.length > 0){ //先清理桌上的牌\n            for(var i = 0; i < self.myPokerNode.length; i++){\n                self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            self.myPokerNode = [];\n        }\n        self.myPokerData = [];\n\n        config.sendCardState = true;\n        var moveCardend = function(){\n            config.sendCardState = false;\n        }\n        setTimeout(moveCardend,1800);\n\n        var response = event.getUserData();\n        self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n        self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth,-1);\n        cc.vv.audioMgr.playSFX(\"Special_Dispatch\");\n        self.myHandCards = response.data.myCard;\n\n        \n    \n        var myShowCard = response.data.showCard[self.mySeatId];\n        if(myShowCard == 0){\n            //明牌按钮现实\n            var click = function(time){\n                GameNetMgr.sendRequest(\"Game\",\"showCard\",time);\n            }\n            // dialogManager.showOpratShowCard(click);\n            cc.loader.loadRes(\"prefab/opratShowCard\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratShowCard = newNode.getComponent(require(\"opratShowCardControl\"));\n                self.opratShowCard.show(click);\n            });\n        } \n\n    },\n    onRefreshPlayerData(event){\n        var self = this;\n        console.log(\"刷新用户金币---\");\n        var response = event.getUserData();\n        var data = response.data;\n        if(data){\n            for(var i=0;i<data.length;i++){\n                var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n                if(seatNum == 1){//自己\n                    self.playerme_.setCoin(data[i].coins);\n                    PlayerDetailModel.setCoin(data[i].coins)\n                }else if(seatNum == 0){//右边\n                    self.right_player.setCoin(data[i].coins);\n                }else if(seatNum == 2){//左边\n                    self.left_player.setCoin(data[i].coins);\n                }\n            }\n        }\n    },\n    onTurnCallLord(event){\n        var self = this;\n        console.log(\"轮到谁叫地主---\");\n        self.gameState = config.gameState.ST_GAME_CallLord;\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        if(self.opratShowCard){\n            self.opratShowCard.close();\n            self.opratShowCard = null;\n        }\n        if(self.opratDouble){\n            self.opratDouble.close();\n            self.opratDouble = null;\n        }\n\n        var response = event.getUserData();\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,response.data.callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    // self.myOpratShow = null;\n                }\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    // self.myOpratShow = null;\n                }\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.callLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onCallLord(event){\n        var self = this;\n        console.log(\"玩家叫地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"beLordId\"];\n        var status = response[\"data\"][\"beLordInfo\"];  // 1叫 2不叫\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }\n    },\n    onTurnGrabLord(event){\n        var self = this;\n        console.log(\"轮到谁抢地主---\");\n\n        var response = event.getUserData();\n        var callId = response[\"data\"][\"callId\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,callId);\n        if(seatNum == 1){//自己\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.grabLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onGrabLord(event){\n        var self = this;\n        console.log(\"玩家抢地主---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"grabLordId\"]\n        var status = response[\"data\"][\"grabLordInfo\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 0){//右边\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }\n    },\n    onCallLordOver(event){\n        var self = this;\n        console.log(\"叫地主结束---\");\n        self.gameState = config.gameState.ST_GAME_CallLordOver;\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        // var hideHint = function(){\n        //     self.playerme_.hideHint();\n        //     self.left_player.hideHint();\n        //     self.right_player.hideHint();\n        // }\n        // setTimeout(hideHint,500);\n    \n        var response = event.getUserData();\n        var lordId = response[\"data\"][\"lordId\"];\n        var cards = response[\"data\"][\"lordCard\"];\n        var times = response[\"data\"][\"lordBonus\"];\n        self.setTable3Card(cards);\n        self.setNodeRate(times);\n\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n\n        self.loadSeatId = lordId; //地主的id\n\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,lordId);\n        if(seatNum == 1){//自己\n            if(response.data.myCard&&response.data.myCard.length == 20){ //插3张牌\n                if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                \n                self.playerme_.setCardCount(20);\n                self.playerme_.setLandlord(true);\n                self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            }\n            self.myHandCards = response.data.myCard;\n        }else if(seatNum == 0){//右边\n            self.right_player.setCardCount(20);\n            self.right_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.rightPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.rightPokerNode.length; i++){\n                        self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.rightPokerNode = [];\n                }\n                self.rightPokerData = [];\n                self.rightPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }\n\n        }else if(seatNum == 2){//左边\n            self.left_player.setCardCount(20);\n            self.left_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.leftPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.leftPokerNode.length; i++){\n                        self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.leftPokerNode = [];\n                }\n                self.leftPokerData = [];\n                self.leftPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n        //记牌器开启\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onCanDoubleResult(event){\n        var self = this;\n        console.log(\"通知是否可以加倍---\");\n        var response = event.getUserData();\n        var candouble = response.data.can_double;\n\n        self.gameState = config.gameState.ST_GAME_Double;\n\n        if(candouble&&candouble == 1){\n            var btn1Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                GameNetMgr.sendRequest(\"Game\",\"addRatio\");\n            }\n            var btn2Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                cc.vv.audioMgr.playCardsEffect(self.playerme_.getGender(),\"jiabeiNo\");\n            }\n            var args = {};\n            args.arg1 = btn1Func;\n            args.arg2 = btn2Func;\n\n            cc.loader.loadRes(\"prefab/opratDouble\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratDouble = newNode.getComponent(require(\"opratDoubleControl\"));\n                self.opratDouble.show(args);\n            });\n        }\n    },\n    onTurnSendCard(event){\n        var self = this;\n        console.log(\"轮到谁出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        if(self.playerme_.getShowHintType()==config.hintType.waitingDouble){\n            self.playerme_.hideHint();\n        }\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                // self.myOpratShow = null;\n            }\n            // self.onMyOutCard();\n            self.playerme_.hideHint();\n            self.playerme_.clearTableCard(self.dispatchCard);\n\n            // console.log(\"myCardCount:\"+self.myHandCards.length);\n            // console.log(self.myHandCards);\n\n            if (self.myHandCards.length == 1){ //只剩最后一张牌，自动出牌\n                console.log(\"最后一张牌了\");\n                if(self.mySeatId == self.preSeatId){\n                    GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    return;\n                }\n\n                if(self.preSendCards&&self.preSendCards.length == 1){\n                    var preCards = self.preSendCards[0];\n                    var card = self.myHandCards[0];\n                    var sub = CardUtil.convertCardToClient(card).showTxt - CardUtil.convertCardToClient(preCards).showTxt;\n                    console.log(\"sub = \"+sub);\n                    if(sub>0){\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    }else{\n                        GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                    }\n                }else{\n                    GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                }\n            }else{\n                var largerCards = self.getCardsLarger();\n                self.onMyOutCard(0,largerCards);\n            }\n\n            // self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        }else if(seatNum == 0){//右边\n            self.right_player.showClock(config.SendCardTimeout);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                // self.myOpratShow = null;\n            }\n        }else if(seatNum == 2){//左边\n            self.left_player.showClock(config.SendCardTimeout);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                // self.myOpratShow = null;\n            }\n        }\n    },\n    onPlayerDelegated(event){\n        var self = this;\n        console.log(\"用户托管---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        var giveup = response[\"data\"][\"giveup\"]; //是否断线  0在线 1在线\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"用户托管---\"+seatNum);\n        if(seatNum == 1){//自己\n            if(!self.playerme_.getDelegated()){\n                self.showCancelDelegate();\n                self.playerme_.setDelegated(true);\n            }\n        }else if(seatNum == 0){//右边    \n            self.right_player.setDelegated(true); \n        }else if(seatNum == 2){//左边\n            self.left_player.setDelegated(true);\n        }\n    },\n    onPlayerCancelDelegate(event){\n        var self = this;\n        console.log(\"用户取消托管---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        // var giveup = response[\"data\"][\"giveup\"]; //是否断线  0在线 1在线\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"用户取消托管---\"+seatNum);\n        if(seatNum == 1){//自己\n            \n        }else if(seatNum == 0){//右边\n            self.right_player.setDelegated(false); \n        }else if(seatNum == 2){//左边\n            self.left_player.setDelegated(false); \n        }\n    },\n    onPlayerSendCard(event){\n        var self = this;\n        console.log(\"用户出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n        var curCardType = response[\"data\"][\"cardType\"];\n        \n        var jokto = [];\n        if(config.joker!=\"\"){\n            jokto = response.data.jokto;\n        }\n\n        var gender = 1;\n        if(seatNum == 1){//自己\n            self.playerme_.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.mySendCards(response[\"data\"][\"sendCards\"],jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.playerme_.getCardCount();\n            if(cardNum >= outCardsNum)\n                self.playerme_.setCardCount(cardNum-outCardsNum);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                // self.myOpratShow = null;\n            }\n            gender = self.playerme_.getGender();\n        }else if(seatNum == 0){//右边\n            gender = self.right_player.getGender();\n            self.right_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.rightSendCards(response[\"data\"][\"sendCards\"],null,self.right_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.right_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.right_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }\n            self.right_player.hideClock();\n        }else if(seatNum == 2){//左边\n            gender = self.left_player.getGender();\n            self.left_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.leftSendCards(response[\"data\"][\"sendCards\"],null,self.left_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.left_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.left_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }  \n            self.left_player.hideClock();\n        }\n        // self.preSendCards = response[\"data\"][\"sendCards\"];//上次出牌\n        // self.preSeatId = seatId;//上次玩家出牌id\n\n        var curSendCards = response[\"data\"][\"sendCards\"];//当前出牌\n        var curSeatId = seatId;//当前玩家出牌id\n        // console.log(response[\"data\"][\"sendCards\"]);\n        var isShowCardType = false;\n        if(curSendCards&&curSendCards.length>0){\n            var cardstype = curCardType;\n            if(cardstype == config.CardType.StraightThree||cardstype == config.CardType.StraightThreePlusSingle ||\n                cardstype == config.CardType.StraightThreePlusPair){\n                //飞机\n                dialogManager.showAnimFeiJi();\n            }else if(cardstype == config.CardType.DoubleKing){\n                //火箭\n                dialogManager.showAnimHuoJian();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Bomb || cardstype == config.CardType.SoftBomb || \n                cardstype == config.CardType.LazarilloBomb){\n                //炸弹\n                dialogManager.showAnimZhaDan();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Straight){\n                //顺子\n                isShowCardType = true;\n            }else if(cardstype == config.CardType.StraightDouble){\n                //连队\n                isShowCardType = true;\n            }\n            if(isShowCardType){\n                if(seatNum == 1){//自己\n                    self.showMyCardtype(cardstype);\n                }else if(seatNum == 0){//右边\n                    self.showRightCardtype(cardstype);\n                }else if(seatNum == 2){//左边\n                    self.showLeftCardtype(cardstype);\n                }\n            }\n        \n            cc.vv.audioMgr.playCardsEffect(gender,cardstype,curSendCards);\n        }\n\n        self.preSendCards = response[\"data\"][\"sendCards\"];//上次出牌\n        self.preSeatId = seatId;//上次玩家出牌id\n        self.preCardType = curCardType;\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n\n        //记牌器开启\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onPlayerNotSend(event){\n        var self = this;\n        console.log(\"用户不出牌---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//自己\n            self.playerme_.showHint(config.hintType.dont);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                // self.myOpratShow = null;\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 0){//右边\n            self.right_player.showHint(config.hintType.dont);\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 2){//左边\n            self.left_player.showHint(config.hintType.dont);\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }\n    },\n    onPlayerShowCard(event){\n        var self = this;\n        console.log(\"用户明牌---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"showCardId\"];\n        var showCardInfo = response[\"data\"][\"showCardInfo\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        console.log(\"seatNum:\"+seatNum);\n        if(seatNum == 1){//自己\n            self.playerme_.setOpenHandCards(true);\n            if(self.myPokerNode.length>0){\n                self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 0){//右边\n            self.right_player.setOpenHandCards(true);\n            self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 2){//左边\n            self.left_player.setOpenHandCards(true);\n            self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }\n    },\n    onGameComplete(event){\n        var self = this;\n        console.log(\"本局结束---\");\n        self.gameState = config.gameState.ST_GAME_BALANCE;\n        var response = event.getUserData();\n        // self.showGameResult(response);\n        // cc.vv.audioMgr.stopMusic();\n\n        console.log(response.data);\n\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            //春天\n            dialogManager.showAnimChunTian();\n        }\n\n        var callFunc = cc.callFunc(function(){\n            self.showGameResult(response);\n            // self.clearTable();\n        });\n        var delay = cc.delayTime(2.0);\n        this.node.runAction(cc.sequence(delay,callFunc));\n\n        if(this.CancelDelegate){\n            console.log(\"//清理托管弹框\");\n            this.CancelDelegate.close();\n            // this.CancelDelegate = null;\n        }\n\n        //实现玩家剩余牌\n        for(var i = 0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var showCardInfo = response.data.cards[i];\n            if(seatNum == 1){//自己\n            }else if(seatNum == 0 && !self.right_player.getOpenHandCards()&&showCardInfo.length>0){//右边\n                // self.right_player.setOpenHandCards(true);\n                self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }else if(seatNum == 2 && !self.left_player.getOpenHandCards()&&showCardInfo.length>0){//左边\n                // self.left_player.setOpenHandCards(true);\n                self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n    },\n    onTableUserExit(event){\n        var self = this;\n        console.log(\"有用户退出 通知桌上的玩家重新进入队列---\");\n        self.gameState = config.gameState.ST_GAME_WAIT_NEXTROUND;\n        // var response = event.getUserData();\n        if(self.LazarilloPokerSelected){\n            self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n    },\n    onInvalidCardNum(event){\n        var self = this;\n        console.log(\"出的牌不够大 [非法出牌]---\");\n        // var response = event.getUserData();\n        if(self.myOpratShow){\n            self.myOpratShow.showTips(\"showTips/p_tips_seletcedCardTypeError\");\n        }\n    },  \n    onInvalidCardType(event){\n        var self = this;\n        console.log(\"出牌有非法数据 [非法出牌]---\");\n        if(self.myOpratShow){\n            self.myOpratShow.showTips(\"showTips/p_tips_seletcedCardTypeError\");\n        }\n    },\n    onSayToTableInfo(event){\n        var self = this;\n        console.log(\"聊天信息---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"sayId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var word = response[\"data\"][\"word\"];\n        if(seatNum == 1){//自己\n            this.showMyChat(word);\n            cc.vv.audioMgr.playSay(self.playerme_.getGender(),word);\n        }else if(seatNum == 0){//右边\n            this.showRightChat(word);\n            cc.vv.audioMgr.playSay(self.right_player.getGender(),word);\n        }else if(seatNum == 2){//左边\n            this.showLeftChat(word);\n            cc.vv.audioMgr.playSay(self.left_player.getGender(),word);\n        }\n    },\n    onReconnectionData(event){\n        console.log(\"短线重连-------\");\n        config.stopOnMassage = false;\n        var self = this;\n        var response = event.getUserData();\n        console.log(response)\n    \n        var sendReq = function(){\n            var fn = function(){\n                if(config.jpqShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",4);\n                }else if(config.leQuanShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",5);\n                }else if(config.leDouShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",3);\n                    GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                }\n            }\n            setTimeout(fn,1000);\n        }\n        sendReq();\n\n        if(response.data.act == \"AUTO_CALL_LORD\"||response.data.act == \"TURN_CALL_LORD\"){\n            self.gameState = config.gameState.ST_GAME_CallLord;\n        }else if(response.data.act == \"AUTO_GRAB_LORD\"||response.data.act == \"TURN_GRAB_LORD\"){\n            self.gameState = config.gameState.ST_GAME_GrabLord;\n        }else if(response.data.act == \"AUTO_PLAY_CARD\"||response.data.act == \"TURN_PLAY_CARD\"){\n            self.gameState = config.gameState.ST_GAME_OutCard;\n        }\n\n        if(response.data.act == \"JOIN_TRIO\" && self.gameState == config.gameState.ST_GAME_PREPARE){\n            if(self.watingStart)\n                self.watingStart.showNode();\n            return;\n        }\n\n        if(response.data.act == \"WAIT_TOTAL_DONE\" && self.gameState < config.gameState.ST_GAME_BALANCE){//牌局结束等待下一轮\n            dialogManager.showCommonDialog(\"温馨提示\",\"当前牌局已经结束\",function(){\n                config.IsContinueGaming = 0;\n                PlayerDetailModel.continueRoomId = 0;\n                self.preloadNextScene();\n            });\n            return;\n        }\n        if(response.data.act == \"WAIT_TOTAL_DONE\"){\n            return;\n        }\n        self.clearTable();\n\n        config.joker = response.data.joker;\n        var jokto = response.data.lastJokto;\n\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n    \n        var players = {};\n        players.lastCall = response.data.lastCall;\n        players.lastCards = response.data.lastCards; //noteCards\n        players.noteCards = response.data.noteCards;\n        players.lordId = response.data.lordId;\n        players.noteCards = response.data.lordCard;\n        players.task = response.data.task;\n        players.rate = response.data.rate;\n\n        self.preSeatId = players.lastCall;\n\n        if(response.data.rate){\n            self.node_tableTimes.string = \"\" + response.data.rate;\n        }\n\n        // 任务\n        // self.node_taskbg.enabled = true;\n        var table_task = players.task.name;\n        if (players.task.coins&&players.task.coins!=\"0\"){\n            table_task = table_task + \" 奖\"+players.task.coins+\"乐豆\";\n        }else if(players.task.lottery&&players.task.lottery!=\"0\"){\n            table_task = table_task + \" 奖\"+players.task.lottery+\"抽奖数\";\n        }else if(players.task.tip){\n            table_task = table_task + players.task.tip;\n        }else if(players.task.coupon){\n            table_task = table_task + \" 奖\"+players.task.coupon+\"乐劵\";\n            this.taskRewardNum = players.task.coupon;\n        }\n        if(table_task){\n            self.node_taskbg.enabled = true;\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;\n        }\n        \n\n        players.act = response.data.act;//操作 TURN_CALL_LORD 叫地主 TURN_GRAB_LORD 抢地主 TURN_PLAY_CARD 出牌\n        players.time = response.data.time;//操作倒计时\n        players.turnSeat = response.data.turnSeat;//操作玩家\n        var turnSeatNum = config.getPlayerSeatNum(response.data.mySeatId,players.turnSeat);\n\n        players.data = [];\n        for(var i = 0;i<3;i++){\n            var player = {};\n            player.cards = response[\"data\"][\"seat\"+i+\"cards\"];\n            player.info = response[\"data\"][\"seat\"+i+\"info\"];\n            player.show = response[\"data\"][\"seat\"+i+\"show\"];\n            player.trust = response[\"data\"][\"seat\"+i+\"trust\"];//托管\n            players.data.push(player);\n            self.nicknames[i] = player.info.nick;\n        }\n        console.log(\"players-------\");\n        console.log(players);\n\n        self.preSendCards = response.data.lastCards;//上架出牌\n        self.preSeatId = response.data.lastCall;//上架出牌id\n        \n        self.leftPlayer.active = true;\n        self.rightPlayer.active = true;\n\n        self.mySeatId = response.data.mySeatId;\n        if(players.lordId!=4){\n            self.loadSeatId = players.lordId;\n            if(config.joker!=\"\")\n                self.setLazarillo_poker(config.joker);\n            self.setTable3Card(response.data.lordCard);\n            var times = response[\"data\"][\"lordBouns\"];\n            self.setNodeRate(times);\n        }\n\n        for(var i=0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var cards = players.data[i].cards;\n            var show = players.data[i].show;\n            var info = players.data[i].info;\n            var trust = players.data[i].trust;\n            if(seatNum == 1){//自己\n                if(show == 1){//明牌\n                }else{  \n                }\n                if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                self.playerme_.setCardCount(cards.length);\n                self.playerme_.setOpenHandCards(show==1);\n                self.playerme_.setLandlord(players.lordId == i);\n                self.myPokerData = CardUtil.serverCardsToClient(cards);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n                \n                self.myHandCards = cards;\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//游戏总局数\n                parm.win = info.win;//胜利局数\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.playerme_.continueInfo(parm);\n                if(trust != 0){\n                    console.log(\"自己托管中。。。。\")\n                    self.playerme_.setDelegated(true);\n                    if(self.playerme_.getDelegated()){\n                        console.log(\"自己托管中。。。。1111\")\n                        self.showCancelDelegate();\n                        // self.playerme_.setDelegated(true);\n                    }\n                }\n            }else if(seatNum == 0){//右边\n                if(show == 1){//明牌\n                    if(self.rightPokerNode.length > 0){ //先清理桌上的牌\n                        for(var i = 0; i < self.rightPokerNode.length; i++){\n                            self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.rightPokerNode = [];\n                    }\n                    self.rightPokerData = [];\n                    self.rightPokerData = CardUtil.serverCardsToClient(cards);\n                    self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                }else{  \n                }\n                self.right_player.setOpenHandCards(show==1);\n                self.right_player.setLandlord(players.lordId == i);\n                // self.right_player.setMySeatId();\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//游戏总局数\n                parm.win = info.win;//胜利局数\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.right_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.right_player.setDelegated(true);\n                }\n            }else if(seatNum == 2){//左边\n                if(show == 1){//明牌\n                    if(self.leftPokerNode.length > 0){ //先清理桌上的牌\n                        for(var i = 0; i < self.leftPokerNode.length; i++){\n                            self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.leftPokerNode = [];\n                    }\n                    self.leftPokerData = [];\n                    self.leftPokerData = CardUtil.serverCardsToClient(cards);\n                    self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                }else{  \n                }\n                self.left_player.setOpenHandCards(show==1);\n                self.left_player.setLandlord(players.lordId == i);\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//游戏总局数\n                parm.win = info.win;//胜利局数\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.left_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.left_player.setDelegated(true);\n                }\n            }\n        }\n        //显示上家出牌\n        var preSeatNum = config.getPlayerSeatNum(response.data.mySeatId,self.preSeatId);\n        if(preSeatNum == 1){//自己\n            self.playerme_.setCurrentCards(self.preSendCards);\n            self.mySendCards(self.preSendCards,jokto);\n        }else if(preSeatNum == 0){//右边\n            self.right_player.setCurrentCards(self.preSendCards);\n            self.rightSendCards(self.preSendCards,null,self.right_player.getOpenHandCards(),jokto);\n        }else if(preSeatNum == 2){//左边\n            self.left_player.setCurrentCards(self.preSendCards);\n            self.leftSendCards(self.preSendCards,null,self.left_player.getOpenHandCards(),jokto);\n        }\n\n        //弹出操作倒计时\n        if(turnSeatNum == 1){\n            if(players.act == \"AUTO_CALL_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){\n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.callLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_GRAB_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.grabLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_PLAY_CARD\"){\n                if(self.myOpratShow){\n                    self.myOpratShow.close()\n                    // self.myOpratShow = null;\n                }\n                var largerCards = self.getCardsLarger();\n                self.onMyOutCard(players.time,largerCards);//players.time 23\n                self.playerme_.hideHint();\n                self.playerme_.clearTableCard(self.dispatchCard);\n            }\n        }else if(turnSeatNum == 0){//右边\n            self.right_player.showClock(players.time);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n        }else if(turnSeatNum == 2){//左边\n            self.left_player.showClock(players.time);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n        }\n    },\n    onPokerTask(event){\n        console.log(\"触发牌局任务-------\");\n        var self = this;\n        var response = event.getUserData();\n        self.node_taskbg.enabled = true;\n\n        this.taskComplete = false;\n\n        if(response.data&&response.data.is_done == 0){\n            var table_task = response.data.table_task;\n            if (response.data.coins){\n                table_task = table_task + \" 奖\"+response.data.coins+\"乐豆\";\n            }else if(response.data.lottery){\n                table_task = table_task + \" 奖\"+response.data.lottery+\"抽奖数\";\n            }else if(response.data.tip){\n                table_task = table_task + response.data.tip;\n            }else{\n                table_task = table_task + \" 奖\"+response.data.coupon+\"乐劵\";\n                this.taskRewardNum = response.data.coupon;\n            }\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;   \n        }else{\n            this.taskComplete = true;\n        }\n    },\n    onOpenRechargeTipResult(event){\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n        var trial_count = response.data.trial_count;\n        var trial_cooldown = response.data.trial_cooldown;\n        var content = \"\";\n\n        var callFunc = cc.callFunc(function(){\n            var click = function(){\n                console.log(\"点击了领取救济按钮\");\n                if(trial_cooldown == 0){\n                    GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                }else{\n                    self.preloadNextScene();\n                }\n            }\n            if(trial_cooldown == 0){\n                var index = trial_count+1;\n                content = \"系统第\"+index+\"次赠送您1000乐豆。\";\n                if(config.TrialShareShow == 1){\n                    dialogManager.showTableShareGet(\"jiuji\");\n                }else{\n                    dialogManager.showCommonDialog(\"领救济\",content,click);\n                }\n            }else{\n                content = \"今天乐豆已经领完了哦，明天在过来吧！\";\n                dialogManager.showCommonDialog(\"温馨提示\",content,function(){\n                    self.preloadNextScene();\n                });\n            }\n        });\n        var delay = cc.delayTime(0.5);//延迟0.5秒弹出\n        this.node.runAction(cc.sequence(delay,callFunc));  \n    },\n    onRepeatLogin(event){\n        console.log(\"您的账号已经在其他地方登陆！\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n        dialogManager.showCommonDialog(\"提示\",\"您的账号已经在其他地方登陆！\",function(){\n            self.isShow = false;\n            cc.vv.audioMgr.stopMusic();\n            cc.director.loadScene(\"LoadingScene\");\n        });\n    },\n    onRefreshDataResult(event){\n        console.log(\"gametable 刷新用户信息数据------\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n\n        var payload = data;\n        // var model = app:getModel(\"PlayerDetailModel\")\n        //用户乐豆数\n        if (payload.data && payload.data.coins){\n            PlayerDetailModel.setCoin(payload.data.coins)\n            // self.setLeDou(PlayerDetailModel.getCoin());\n            self.playerme_.setCoin(payload.data.coins);\n\n            //分享获取乐豆\n            if(config.leDouShareSucss){\n                config.leDouShareSucss = false;\n                var list = [];\n                var args = {\n                    arg1:\"ledou\",\n                    arg2:1000,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);\n            } \n        }\n        //用户奖券数\n        if (payload.data && payload.data.coupon){\n            PlayerDetailModel.setCoupon(payload.data.coupon)\n            // self.setLuQuan(PlayerDetailModel.getCoupon());\n            self.playerme_.setLeQuan(payload.data.coupon);\n        }\n        //用户抽奖数\n        if (payload.data && payload.data.lottery){\n            PlayerDetailModel.setLottery(payload.data.lottery)\n        }\n        //未读邮件数\n        if (payload.data && payload.data.mail_unread){\n            PlayerDetailModel.setMailUnread(payload.data.mail_unread)\n        }\n        //未领取任务数\n        if (payload.data && payload.data.weichatgame_task_unaward){\n            PlayerDetailModel.setTaskUnReward(payload.data.weichatgame_task_unaward)\n        }\n        //未领取分享数\n        if (payload.data && payload.data.weichatgame_invite_unaward){\n            PlayerDetailModel.setShareUnReward(payload.data.weichatgame_invite_unaward)\n        }\n\n\n        //0不可签到, 1可以签到\n        if (payload.data && payload.data.checkin_undo){\n            PlayerDetailModel.setCheckinUndo(payload.data.checkin_undo)\n        }\n        //可领奖的每日任务数\n        if (payload.data && payload.data.task1_unaward){\n            PlayerDetailModel.setTask1Unaward(payload.data.task1_unaward)\n        }\n        //可领奖的成长任务数\n        if (payload.data && payload.data.task2_unaward){\n            PlayerDetailModel.setTask2Unaward(payload.data.task2_unaward)\n        }\n        //充值奖励利率\n        if (payload.data && payload.data.charge_rate){\n            PlayerDetailModel.setChargeRate(payload.data.charge_rate)\n        }\n        //皮肤\n        if (payload.data && payload.data.propDress){\n            PlayerDetailModel.setPropDress(payload.data.propDress)\n        }\n        //道具\n        if (payload.data && payload.data.propItems){\n            PlayerDetailModel.setPropItems(payload.data.propItems)\n\n            var propItems = PlayerDetailModel.getPropItems();\n            if (propItems[\"5\"] && propItems[\"5\"] == 1 && config.jpqShareSucss){\n                //获得记牌器\n                console.log(\"---获得记牌器\");\n                var fn = function(){\n                    var list = [];\n                    var args = {\n                        arg1:\"jipaiqi\",\n                        arg2:3,\n                    }\n                    list.push(args);\n                    dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n                }\n                setTimeout(fn,500);\n                config.jpqShareSucss = false;\n            }\n        }\n        // self.playerDetailController_:refreshUI()\n    },\n    onEmoticonData(event){\n        console.log(\"广播表情包------\");\n        var self = this;\n        var response = event.getUserData();\n        // console.log(data);\n        var id = response.data.emoticonData.id;\n        var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.sendSeatId);\n        var receiveSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.receiveSeatId);\n\n        var beginPos = cc.p(0,0);\n        var endpos = cc.p(0,0);\n        var audioUrl = \"\";\n        var prefabUrl = \"\";\n        if(sendSeatNum == 1){//自己\n            beginPos = self.myPlayer.getPosition();\n        }else if(sendSeatNum == 0){//右边\n            beginPos = self.rightPlayer.getPosition();\n        }else if(sendSeatNum == 2){//左边\n            beginPos = self.leftPlayer.getPosition();\n        }\n        if(receiveSeatNum == 1){//自己\n            endpos = self.myPlayer.getPosition();\n        }else if(receiveSeatNum == 0){//右边\n            endpos = self.rightPlayer.getPosition();\n        }else if(receiveSeatNum == 2){//左边\n            endpos = self.leftPlayer.getPosition();\n        }\n        if(id == 1001){\n            audioUrl = \"mf_tuoxie\";\n            prefabUrl = \"animatiom/anim_tuoxie\";\n        }else if(id == 1002){\n            audioUrl = \"mf_xihongshi\";\n            prefabUrl = \"animatiom/anim_jidan\";\n        }else if(id == 1003){\n            audioUrl = \"mf_dianzan\";\n            prefabUrl = \"animatiom/anim_dianzan\"; \n        }else if(id == 1004){\n            audioUrl = \"mf_meigui\";\n            prefabUrl = \"animatiom/anim_xianhua\";\n        }\n\n        var args = {};\n        args.beginPos = beginPos;\n        args.endpos = endpos;\n        args.audioUrl = audioUrl;\n        args.prefabUrl = prefabUrl;\n\n        self.showEmoticon(args);\n    },\n    showEmoticon(args){\n        var prefabUrl = args.prefabUrl;\n        console.log(\"prefabUrl:\"+prefabUrl);\n        cc.loader.loadRes(prefabUrl, function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            newNode.getComponent(require(\"expressionControl\")).show(args);  \n        });\n    },\n    onSendLzCard(event){\n        console.log(\"发送癞子牌------\");\n        var self = this;\n        var response = event.getUserData();\n        var joker = response.data.joker;\n        config.joker = joker;\n        if(config.joker!=\"\")\n            this.setLazarillo_poker(joker);\n        // this.clearTable3Card();\n        this.setTable3Card(this.table3Cards);\n\n        if(response.data.myCard){\n            if(self.myPokerNode.length > 0){ //先清理桌上的牌\n                for(var i = 0; i < self.myPokerNode.length; i++){\n                    self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.myPokerNode = [];\n            }\n            self.myPokerData = [];\n            self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n            self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            self.myHandCards = response.data.myCard;\n        }\n        var showCardInfo = response.data.showCardInfo;\n        // console.log(\"showCardInfo>>>\",showCardInfo);\n        if(showCardInfo){\n            for(var index=0;index<showCardInfo.length;index++){\n                var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,index);\n                if(sendSeatNum == 1){//自己\n                }else if(sendSeatNum == 0){//右边\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.rightPokerNode.length > 0){ //先清理桌上的牌\n                            for(var i = 0; i < self.rightPokerNode.length; i++){\n                                self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.rightPokerNode = [];\n                        }\n                        self.rightPokerData = [];\n                        // console.log(index+\" : \",showCardInfo[index])\n                        self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                    }\n                }else if(sendSeatNum == 2){//左边\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.leftPokerNode.length > 0){ //先清理桌上的牌\n                            for(var i = 0; i < self.leftPokerNode.length; i++){\n                                self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.leftPokerNode = [];\n                        }\n                        self.leftPokerData = [];\n                        // console.log(index+\" : \",showCardInfo[index])\n                        self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                    }\n                }\n            }\n        }\n    },\n    onShareWxResResult(event){\n        console.log(\"微信分享成功发送结果------\");\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n\n        if(config.leQuanShareSucss){\n            config.leQuanShareSucss = false;\n            var fn = function(){\n                console.log(\"taskRewardNum = \",self.taskRewardNum)\n                var list = [];\n                var args = {\n                    arg1:\"lequan\",\n                    arg2:3,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n            }\n            setTimeout(fn,500);\n        } \n    },\n    onWatchAdvertisementResult(event){\n        console.log(\"-----看完广告领奖\");\n        var response = event.getUserData();\n        var award = response.data;\n        var list = [];\n        if(award.coins){\n            var args = {\n                arg1:\"ledou\",\n                arg2:award.coins,\n            }\n            list.push(args);\n        } \n        if(award.coupon){\n            var args = {\n                arg1:\"lequan\",\n                arg2:award.coupon,\n            }\n            list.push(args);\n        } \n        if(award.noteCards){\n            var args = {\n                arg1:\"jipaiqi\",\n                arg2:award.coupon,\n            }\n            list.push(args);\n        } \n        if(list.length>0){\n            dialogManager.showAnimGetProp(list);\n        }\n        config.adCdTime = award.watch_advertisement_cd;\n        config.canSeeVideoAd = award.weichatgame_can_watch_advertisement;\n    },\n////////////\n    preloadNextScene(){\n        cc.director.preloadScene(\"HallScene\", function () {\n            // cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"HallScene\");\n        });\n    },\n    //震动屏幕\n    animShakeNode(){\n        var self = this;\n        if(this.animShake){\n            return;\n        }\n        this.animShake = true;\n        var x = this.scene.x;\n        var y = this.scene.y;\n        var move1 = cc.moveTo(0.08, x-5, y-5);\n        var move2 = cc.moveTo(0.08, x+5, y+5);\n        var move3 = cc.moveTo(0.08, x-5, y+5);\n        var move4 = cc.moveTo(0.08, x+5, y-5);\n        var move5 = cc.moveTo(0.08, x-3, y-3);\n        var move6 = cc.moveTo(0.08, x+3, y+3);\n        var move7 = cc.moveTo(0.08, x-3, y+3);\n        var move8 = cc.moveTo(0.08, x+3, y-3);\n        var move9 = cc.moveTo(0.08, x, y);\n        var callFunc = cc.callFunc(function(){\n            self.animShake = false;\n        });\n        this.scene.runAction(cc.sequence(move1,move2,move3,move4,move5,move6,move7,move8,move9,callFunc));\n    },\n    showLazarilloPokerSelected(cardsList){\n        var self = this;\n        if(self.LazarilloPokerSelected)\n            return;\n        var click = function(){\n            // self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n\n        cc.loader.loadRes(\"prefab/LazarilloPokerSelected\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10000);\n            var prefabControl= newNode.getComponent(require(\"LazarilloPokerSelectedControl\"));\n            prefabControl.show(cardsList,click);\n            self.LazarilloPokerSelected = prefabControl; \n        });\n    },\n    initWxVideoAd(){\n        if(typeof(wx)==\"undefined\"){\n            return;\n        }\n        var rewardedVideoAd = config.rewardedVideoAd;\n        rewardedVideoAd.onLoad(() => {\n            // console.log('激励视频 广告加载成功')\n        })\n        rewardedVideoAd.onError(err => {\n            // console.log(\"激励视频 拉取失败\"+err)\n        })\n        rewardedVideoAd.onClose(res => {\n            if (res && res.isEnded || res === undefined) {\n                // console.log(\"正常播放结束，可以下发游戏奖励\")\n                GameNetMgr.sendRequest(\"System\", \"WatchAdvertisement\",config.rewardedVideoType);\n            }\n            else {\n                // console.log(\"播放中途退出，不下发游戏奖励\")\n            }\n            cc.vv.audioMgr.playBGM(\"MusicEx_Welcome\");\n        })\n        this.rewardedVideoAd = rewardedVideoAd;\n    },\n\n});\n"]}