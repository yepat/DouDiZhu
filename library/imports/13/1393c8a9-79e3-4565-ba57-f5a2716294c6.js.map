{"version":3,"sources":["../../../../assets/Script/assets/Script/GameTable.js"],"names":["PokerControl","require","config","CardUtil","opratOutCardControl","dialogManager","PlayerDetailModel","Player","EventHelper","GameNetMgr","LazarilloCardUtil","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","pokerLayerLeft","Node","pokerLayerRight","pokerLayerMy","canvas","opratOutCard","myPlayer","leftPlayer","rightPlayer","WatingStartNode","onLoad","gameState","game","on","EVENT_HIDE","console","log","stopOnMassage","vv","audioMgr","stopMusic","EVENT_SHOW","sendRequest","playBGM","showWatingStartGame","start","self","sceneWidth","director","getWinSize","width","scene","getScene","mySeatId","preSendCards","preSeatId","myShowDialog","loadSeatId","nicknames","animShake","myHandCards","taskComplete","taskRewardNum","touchBeganX","leftX","rightX","upY","downY","isTouchbegan","wechatImgUrl","wxInfo","avatarUrl","detailModel","params","uid","getUid","nickname","getNickName","gender","getGender","coin","getCoin","gold","getGold","lequan","getCoupon","propDress","getPropDress","wechatImg","title","getTitle","emoticon","emoticonItems","play","getMatches","win","getWin","myOpratShow","CancelDelegate","ChatDialog","jpqNode","LazarilloPokerSelected","gameResultControl","myOpratCall","myPokerData","myPokerNode","dispatchCard","player","playerme_","initMyPlayerNode","initBaseInfo","leftDispatchCard","leftPokerData","leftPokerNode","left_player","initLeftPlayerNode","rightDispatchCard","rightPokerData","rightPokerNode","right_player","initRightPlayerNode","registerTouchEvent","active","table3Card","table3Cards","IsContinueGaming","registerEventListener","initTable3Card","node_diPai","find","node_pCardBg","node_tableTimes","getComponent","Label","node_lazarillo_poker","node_lazarillo_Num","Sprite","setLazarillo_poker","cardValue","serverCardValueToClient","numUrl","loader","loadRes","SpriteFrame","err","spriteFrame","setTable3Card","severCards","i","cardNode","instantiate","parent","scale","poker","showPoker","convertCardToClient","push","clearTable3Card","length","node","removeFromParent","setNodeRate","times","nodeRate","enabled","node_name","node_LeDou","node_LeQuan","node_Landlord","node_hint","node_wechatImg","nodes","node_cardsNum","node_delegate","node_clockDwonTime","node_alarm","initNodes","node_taskbg","node_taskName","string","lab_roomId","tableInfo","tableName","roomId","leftChatBoxNode","leftChatBoxLabel","rightChatBoxNode","rightChatBoxLabel","leftCardtype","rightCardtype","clearTable","clear","clearTableCard","joker","close","closeClick","watingStart","hideNode","EventType","TOUCH_START","event","sendCardState","p","getLocation","x","setSelectCardByTouch","y","x1","getPositionX","x2","py","getPositionY","psize","getContentSize","pwidth","pheight","height","disBetween","moveAllCardDown","TOUCH_END","moveCard","TOUCH_MOVE","Math","abs","unregisterEvent","targetOff","istouchbegan","touchStart","touchEnd","pokerNode","posY","size","posX","seatPos","center","disBetweenIX","right","left","buttom","up","setChoosed","isChoosed","pokerControl","cardData","cardMove","playSFX","isTopped","cardMoveDown","onShow","onHide","onMyOutCard","time","buchuFunc","tishiNum","tishiFunc","cards","pokerdata","serverCardsToClient","prejokto","joktoIndex","jokerValue","jokto","showTxt","joktoValue","sort","arrayUp","cardstype","get_topCard_type","preCardType","myCards","StringToNumber","tishicards","get_cards_larger","stopAllActions","callFunc","AutoChooseLiftUpCard","delay","delayTime","runAction","sequence","chupaiFunc","topCards","topCardData","cardType","showType","pokerDataItem","args","clientCardsToServer","tips","get_effective_tips_cards","jackto","serverCardValueToServer","showLazarilloPokerSelected","big_tips","get_big_tips_cards","popCardsType","curTime","SendCardTimeout","getCardCount","showCallLord","opratType","mustOutCard","opOutCard","opOutCardControl","show","mySendCards","gradeUp","getSendCard","playCard","neatenPoker","getLandlord","setCardDiZhu","getOpenHandCards","setCardShow","setCardCount","leftSendCards","isShowCard","playCardLeft","neatenLeftPoker","darkCardSend","rightSendCards","playCardRight","neatenRightPoker","btnMyPlayerClick","sendSeatId","receiveSeatId","showPlayerInfo","btnLeftPlayerClick","getMySeatId","btnRightPlayerClick","btnBackClick","continueRoomId","ST_GAME_BALANCE","ST_GAME_PREPARE","click","removeEventListener","preloadNextScene","showCommonDialog","btnDelegateClick","getDelegated","ST_GAME_CallLordOver","setDelegated","showCancelDelegate","prefab","newNode","addChild","prefabControl","btnSetClick","showSetDialog","btnJiPaiQiClick","showJPQShareGet","getIsActive","showNode","propItems","getPropItems","ST_GAME_START","showTableShareGet","showJPQ","mycards","btnChatClick","showMyChat","content","showLeftChat","showRightChat","showMyCardtype","showLeftCardtype","CardType","Straight","StraightDouble","showRightCardtype","AddCustomEvent","MyNode","onQueued","onGameReady","onTableTimesUpdate","onSendCard","onRefreshPlayerData","onTurnCallLord","onCallLord","onTurnGrabLord","onGrabLord","onCallLordOver","onCanDoubleResult","onTurnSendCard","onPlayerDelegated","onPlayerCancelDelegate","onPlayerSendCard","onPlayerNotSend","onPlayerShowCard","onGameComplete","onTableUserExit","onInvalidCardNum","onSayToTableInfo","onReconnectionData","onPokerTask","onOpenRechargeTipResult","onRefreshDataResult","onRepeatLogin","onEmoticonData","onSendLzCard","onShareWxResResult","onInvalidCardType","RemoveCustomEvent","initPlayerInfo","response","data","CallLordTimeout","GrabLordTimeout","CheckCardTimeout","AddRatioTime","newGame","setMySeatId","setMySeatNum","peers","k","v","curSeatId","setRoomId","setTableId","setSignature","setBuff","setPlay","setWin","seatNum","getPlayerSeatNum","parm","parseInt","myseat","roomid","tableid","signature","buff","initInfo","btn1Func","btn2Func","showGameResult","infos","click1","enterLimit","RoomConfig","click2","url","setCoin","coins","rate","rateMax","baseCoins","mySocre","myStwin","socre","total","infoItem","isdizhu","difen","beishu","ledou","stwin","nextScene","showShare","spring","boorSpring","showTaskCompleteShare","leQuanShareSucss","hideHint","getUserData","rateId","ST_GAME_Double","showAnimDouble","playCardsEffect","ST_GAME_SendCard","moveCardend","setTimeout","myCard","initMyCards","myShowCard","showCard","opratShowCard","ST_GAME_CallLord","opratDouble","callId","callLoad","showClock","seatId","status","showHint","hintType","callLoadNo","hideClock","grabLoad","grabLoadNo","lordId","noteCards","setJpqData","setLandlord","lordShowCard","playerRightShowCard","playerLeftShowCard","_cards","getNodeCards","candouble","can_double","waitingDouble","arg1","arg2","ST_GAME_OutCard","getShowHintType","preCards","card","sub","giveup","curCardType","setCurrentCards","outCardsNum","cardNum","cardCount","setNode_alarmShow","curSendCards","isShowCardType","StraightThree","StraightThreePlusSingle","StraightThreePlusPair","showAnimFeiJi","DoubleKing","showAnimHuoJian","animShakeNode","Bomb","SoftBomb","LazarilloBomb","showAnimZhaDan","dont","showCardInfo","setOpenHandCards","showAnimChunTian","ST_GAME_WAIT_NEXTROUND","chupaiClick","word","playSay","sendReq","fn","jpqShareSucss","leDouShareSucss","act","ST_GAME_GrabLord","lastJokto","players","lastCall","lastCards","lordCard","task","table_task","name","lottery","tip","coupon","w","turnSeat","turnSeatNum","info","trust","nick","img","sex","continueInfo","preSeatNum","is_done","trial_count","trial_cooldown","index","isShow","loadScene","payload","list","showAnimGetProp","setCoupon","setLeQuan","setLottery","mail_unread","setMailUnread","weichatgame_task_unaward","setTaskUnReward","weichatgame_invite_unaward","setShareUnReward","checkin_undo","setCheckinUndo","task1_unaward","setTask1Unaward","task2_unaward","setTask2Unaward","charge_rate","setChargeRate","setPropDress","setPropItems","id","emoticonData","sendSeatNum","receiveSeatNum","beginPos","endpos","audioUrl","prefabUrl","getPosition","showEmoticon","preloadScene","move1","moveTo","move2","move3","move4","move5","move6","move7","move8","move9","cardsList"],"mappings":"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","file":"GameTable.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar opratOutCardControl = require(\"opratOutCardControl\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar Player = require(\"Player\");\nvar EventHelper = require(\"EventHelper\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar LazarilloCardUtil = require(\"LazarilloCardUtil\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n        pokerLayerLeft:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerRight:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerMy:{\n            default : null,\n            type : cc.Node,\n        },\n        canvas:cc.Node, \n        opratOutCard:{\n            default : null,\n            type : cc.Prefab\n        },\n        myPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        leftPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        rightPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        WatingStartNode:{\n            default : null,\n            type : cc.Node,\n        }\n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        //xx_test\n        this.gameState = 0;\n        cc.game.on(cc.game.EVENT_HIDE, function(){\n            console.log(\"\");\n            config.stopOnMassage = true;\n            cc.vv.audioMgr.stopMusic();\n        },this);\n        cc.game.on(cc.game.EVENT_SHOW, function(){\n            console.log(\"\");\n            if(config.stopOnMassage){\n                GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n            }\n        },this);\n        cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n        this.showWatingStartGame();\n    },\n    start () {\n        var self = this;\n        var sceneWidth = cc.director.getWinSize().width;\n        var scene = cc.director.getScene();\n\n        console.log(\">>>>sceneWidth:\"+sceneWidth);\n\n        this.sceneWidth = sceneWidth;\n        this.scene = scene;\n        this.mySeatId = 0;\n\n        this.preSendCards = [];//\n        this.preSeatId = -1;//id\n\n        this.gameState = 0;//\n\n        this.myShowDialog = [];//\n\n        this.loadSeatId = 0; //id\n        this.nicknames = []; //\n        this.animShake = false; //\n        this.myHandCards = [];  //\n\n        this.taskComplete = false;\n        this.taskRewardNum = 0;\n    \n        self.touchBeganX = 0;\n        self.leftX = 0;\n        self.rightX = 0;\n        self.upY = 0;\n        self.downY = 0;\n        self.isTouchbegan = false;\n\n        var wechatImgUrl=config.wxInfo.avatarUrl;\n        //--\n        var detailModel = PlayerDetailModel;\n        var params = {};\n        params.uid = detailModel.getUid();\n        params.nickname = detailModel.getNickName();\n        params.gender = detailModel.getGender(); //toString\n        params.coin = detailModel.getCoin();\n        params.gold = detailModel.getGold();\n        params.lequan = detailModel.getCoupon();\n        params.propDress = detailModel.getPropDress();\n        params.wechatImg = wechatImgUrl;//detailModel.getWechatImg();\n        params.title = detailModel.getTitle();\n        params.emoticon = {};\n        params.emoticonItems = {};\n        params.play = PlayerDetailModel.getMatches();//\n        params.win = PlayerDetailModel.getWin();//\n\n        this.myOpratShow = null; //\n        this.CancelDelegate = null;\n        this.ChatDialog = null;\n        this.jpqNode = null;\n        this.LazarilloPokerSelected = null;\n        this.gameResultControl = null;\n        this.myOpratCall = null;//\n        // this.watingStart = null;\n\n        this.myPokerData = [];\n        this.myPokerNode = [];\n        this.dispatchCard = [];\n        var player = new Player(params);\n        self.playerme_ = player;\n        self.initMyPlayerNode();\n        self.playerme_.initBaseInfo();\n\n        //xx_test\n        // config.joker = \"c\";//\"43\", \"33\",\"23\", \"13\", \n        // var cards = [\"2c\", \"1c\", \"31\", \"21\", \"1d\",\"4b\",\"3b\", \"2a\", \"49\", \"29\", \"47\", \"47\", \"44\"];//, \"33\", \"23\", \"13\"\n        // this.myPokerData = CardUtil.serverCardsToClient(cards);\n        // self.playerme_.initMyCards(this.myPokerData,this.myPokerNode,this.scene,this.sceneWidth,-1);\n        \n        // self.onMyOutCard(10000);\n        // this.registerTouchEvent();\n        // return;\n       \n        //\n        this.leftDispatchCard = [];\n        this.leftPokerData = [];\n        this.leftPokerNode = [];\n        this.left_player = new Player();\n        this.initLeftPlayerNode();\n        \n        // self.left_player.initBaseInfo();\n        // this.leftPokerData = this.myPokerData;\n        // this.left_player.playerLeftShowCard(this.leftPokerData,this.leftPokerNode,this.pokerLayerLeft,this.sceneWidth);\n\n        //\n        this.rightDispatchCard = [];\n        this.rightPokerData = [];\n        this.rightPokerNode = [];\n        this.right_player = new Player();\n        this.initRightPlayerNode();\n        // self.right_player.initBaseInfo();\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n        \n        //\n        this.registerTouchEvent();\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.table3Card = [];\n        this.table3Cards = [];\n\n        if(config.IsContinueGaming == 1){\n            // console.log(\">>>>>>>>\");\n            GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n            config.IsContinueGaming = 0;\n        }else{\n            GameNetMgr.sendRequest(\"Game\", \"startGame\");\n        }\n        this.registerEventListener();\n        this.initTable3Card();\n    },\n    //3\n    initTable3Card(){\n        this.node_diPai = cc.find(\"Canvas/top_bar1/diPai\");\n        this.node_pCardBg = cc.find(\"Canvas/top_bar1/p_card_bg\");\n        this.node_tableTimes = cc.find(\"Canvas/bottom_bar3/beishu/lab_bei\").getComponent(cc.Label);\n        this.node_pCardBg.active = false;\n\n        this.node_lazarillo_poker = cc.find(\"Canvas/top_bar1/lazarillo_poker\");\n        this.node_lazarillo_poker.active = false;\n        this.node_lazarillo_Num = cc.find(\"Canvas/top_bar1/lazarillo_poker/sp_num\").getComponent(cc.Sprite);\n    },\n    setLazarillo_poker(cardValue){\n        var self = this;\n        this.node_lazarillo_poker.active = true;\n        cardValue = CardUtil.serverCardValueToClient(cardValue);\n        var numUrl = \"cards/poke_\"+cardValue;\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.node_lazarillo_Num.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n    },\n    setTable3Card(severCards){\n        this.node_pCardBg.active = true;\n        this.table3Cards = severCards;\n        for(var i=0;i<3;i++){\n            var cardNode = cc.instantiate(this.pokerCard);\n            cardNode.parent = this.node_diPai;\n            cardNode.scale = 0.35;\n            var poker = cardNode.getComponent(PokerControl);\n            poker.showPoker(CardUtil.convertCardToClient(severCards[i]));\n            this.table3Card.push(cardNode);\n        }\n    },\n    clearTable3Card(){\n        this.node_pCardBg.active = false;\n        if(this.table3Card.length > 0){ //\n            for(var i = 0; i < this.table3Card.length; i++){\n                this.table3Card[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.table3Card = [];\n        }\n    },\n    setNodeRate(times){\n        console.log(times);\n        if(times&&times>=2){\n        }else{\n            return;\n        }\n        var self = this;\n        self.nodeRate.enabled = true;\n        if(times == 3){\n            cc.loader.loadRes(\"p_rate3\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }else{\n            cc.loader.loadRes(\"p_rate2\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }\n    },\n    initMyPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/my_player/head1/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/my_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_LeQuan =  cc.find(\"Canvas/my_player/lequan/lab_lequan\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/my_player/head1/p_dz_icon\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/my_tip/p_tip_jiaodizhu\").getComponent(cc.Sprite);\n        var node_wechatImg =  cc.find(\"Canvas/my_player/head1/p_head/p_head_1\").getComponent(cc.Sprite);\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = node_LeQuan;//\n        nodes.node_cardsNum = null;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = null;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = null;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = null;//\n\n        node_Landlord.enabled = false;\n        nodes.node_hint.enabled = false;\n        self.playerme_.initNodes(nodes);\n\n        //\n        self.node_taskbg = cc.find(\"Canvas/p_taskbg\").getComponent(cc.Sprite);\n        self.node_taskName = cc.find(\"Canvas/p_taskbg/taskName\").getComponent(cc.Label);\n        self.node_taskbg.enabled = false;\n        self.node_taskName.string = \"\";\n\n        self.lab_roomId = cc.find(\"Canvas/p_table_icon/lab_roomId\").getComponent(cc.Label);\n        if(config.tableInfo){\n            self.lab_roomId.string = config.tableName[config.tableInfo.roomId];\n        }   \n        self.leftChatBoxNode = cc.find(\"Canvas/leftchatBox\");\n        self.leftChatBoxLabel = cc.find(\"Canvas/leftchatBox/lab_content\").getComponent(cc.Label);\n        self.rightChatBoxNode = cc.find(\"Canvas/rightchatBox\");\n        self.rightChatBoxLabel = cc.find(\"Canvas/rightchatBox/lab_content\").getComponent(cc.Label);\n        self.leftChatBoxNode.active = false;\n        self.rightChatBoxNode.active = false;\n\n        //\n        self.leftCardtype = cc.find(\"Canvas/left_player/p_cardtype\").getComponent(cc.Sprite);\n        self.rightCardtype = cc.find(\"Canvas/right_player/p_cardtype\").getComponent(cc.Sprite);\n        self.leftCardtype.enabled = false;\n        self.rightCardtype.enabled = false;\n\n\n        //\n        self.nodeRate = cc.find(\"Canvas/top_bar1/p_rate\").getComponent(cc.Sprite);\n        self.nodeRate.enabled = false;\n\n    },\n    initLeftPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/left_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/left_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/left_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/left_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/left_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/left_player/left_tip/p_tip_yaobuqi\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/left_player/left_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/left_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/left_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = null;//\n        nodes.node_cardsNum = node_cardsNum;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = node_delegate;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = node_clockDwonTime;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = node_alarm;//\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.left_player.initNodes(nodes);\n    },\n    initRightPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/right_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/right_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/right_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/right_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/right_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/right_player/right_tip/p_tip_qiangdizhu\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/right_player/right_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/right_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/right_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = null;//\n        nodes.node_cardsNum = node_cardsNum;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = node_delegate;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = node_clockDwonTime;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = node_alarm;//\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.right_player.initNodes(nodes);\n    },\n    clearTable(){//\n        this.playerme_.clear();\n        this.left_player.clear();\n        this.right_player.clear();\n\n        this.clearTable3Card();\n\n        this.playerme_.clearTableCard(this.dispatchCard);\n        this.left_player.clearTableCard(this.leftDispatchCard);\n        this.right_player.clearTableCard(this.rightDispatchCard);\n\n        if(this.myPokerNode.length > 0){ //()\n            for(var i = 0; i < this.myPokerNode.length; i++){\n                this.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.myPokerNode = [];\n        }\n        this.myPokerData = [];\n\n        if(this.leftPokerNode.length > 0){ //()\n            for(var i = 0; i < this.leftPokerNode.length; i++){\n                this.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.leftPokerNode = [];\n        }\n        this.leftPokerData = [];\n\n        if(this.rightPokerNode.length > 0){ //()\n            for(var i = 0; i < this.rightPokerNode.length; i++){\n                this.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.rightPokerNode = [];\n        }\n        this.rightPokerData = [];\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.node_taskbg.enabled = false;\n        this.node_taskName.string = \"\";\n\n        this.nodeRate.enabled = false;\n\n        this.preSendCards = [];//\n        this.preSeatId = -1;//id\n        config.joker = \"\";\n\n        console.log(\"//\");\n\n        if(this.CancelDelegate){\n            console.log(\"// 11111\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        if(this.jpqNode){\n            console.log(\"// 11111\");\n            this.jpqNode.close();\n            this.jpqNode = null;\n        }\n\n        if(this.myOpratShow){\n            this.myOpratShow.close();\n            this.myOpratShow = null;\n        }\n    \n        if(this.myOpratCall){\n            this.myOpratCall.close();\n            this.myOpratCall = null;\n        }\n        \n        if(this.LazarilloPokerSelected){\n            this.LazarilloPokerSelected.closeClick();\n            this.LazarilloPokerSelected = null;\n        }\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        this.node_lazarillo_poker.active = false;\n        this.table3Cards = [];\n    },\n    //\n    registerTouchEvent(){\n        var self = this;\n        this.canvas.on(cc.Node.EventType.TOUCH_START, function(event){\n            // console.log(\"touchStart\");\n            if(self.myPokerNode.length < 1 && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n                return false;\n            var p = event.getLocation();\n            // console.log(\">>x:\"+p.x+\">>y:\"+p.y);\n            self.touchBeganX = p.x;\n            self.leftX = 0;\n            self.rightX = 10000;\n            self.upY = 10000;\n            self.downY = 0;\n            self.isTouchbegan = true;\n            self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n\n            if (self.isTouchbegan){\n                var x1 = self.myPokerNode[0].getPositionX();\n                var x2 = self.myPokerNode[self.myPokerNode.length-1].getPositionX();\n                var py = self.myPokerNode[0].getPositionY();\n                var psize = self.myPokerNode[0].getContentSize();\n                var pwidth = psize.width;\n                var pheight = psize.height;\n\n                var disBetween = 10;\n    \n                self.leftX = x1-pwidth/2-disBetween;\n                self.rightX = x2+pwidth/2+disBetween;\n                self.upY = py+pheight/2+40;\n                self.downY = py-pheight/2;\n\n                // console.log(\"self.leftX:\"+self.leftX+\"  self.rightX:\"+self.rightX+\" self.downY:\"+self.downY+\"  self.upY:\"+ self.upY);\n                if (self.isTouchbegan && (p.y > self.upY || p.y < self.downY || p.x < self.leftX || p.x > self.rightX)){\n                    self.moveAllCardDown(self.myPokerNode);\n                }\n            }\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,function(event){\n            // console.log(\"touchEnd\");\n            if(self.ChatDialog){\n                self.ChatDialog.close();\n                self.ChatDialog = null;\n            }\n            if(self.LazarilloPokerSelected){\n                self.LazarilloPokerSelected.closeClick();\n                self.LazarilloPokerSelected = null;\n            }\n            \n            if(self.myPokerNode.length < 1  && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            self.moveCard(self.myPokerNode);\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(event){\n            if(self.myPokerNode.length < 1 && !config.sendCardState)// || self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            if (Math.abs(self.touchBeganX - p.x) > 40){\n                self.isTouchbegan = false;\n                self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n            }\n        }, this.node);\n    },\n    //\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    setSelectCardByTouch(myPokerNode,x,y,istouchbegan){\n        var touchStart = this.touchBeganX;\n        var touchEnd = x;\n        this.isTouchbegan = istouchbegan;\n\n        if (this.touchBeganX > x){\n            touchStart = x;\n            touchEnd = this.touchBeganX; \n        }\n        //5 \n        if (touchEnd - touchStart<5){\n            touchEnd = touchStart;\n        }\n\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var posY = pokerNode.getPositionY();\n            var size = pokerNode.getContentSize();\n            var posX = pokerNode.getPositionX(); //+ size.width/2;\n\n            var width = size.width;\n            var height = size.height;\n\n            var disBetween = config.seatPos.center.disBetween;\n            if(this.sceneWidth > 2330){\n                disBetween = config.seatPos.center.disBetweenIX;\n            }\n\n            var right = posX - width/2+disBetween;\n            var left =  posX - width/2;\n            var buttom = posY - height/2;\n            var up = posY + height/2;\n            //\n            if(i == myPokerNode.length-1){\n                right = posX+width/2; \n            }\n            if ( y >= buttom && y <= up &&\n                ((left>= touchStart && left <= touchEnd) || (right>= touchStart && right <= touchEnd) ||\n                (touchStart>= left && touchStart <= right) || (touchEnd>= left && touchEnd <= right))){\n                    pokerNode.getComponent(PokerControl).setChoosed(true);\n                }else{\n            }\n        }   \n    },\n    moveCard(myPokerNode){\n        // this.cardData.isChoosed\n        var isChoosed = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isChoosed){\n                isChoosed = true;\n            }\n            pokerControl.cardMove();\n        }\n        //xx_test\n        if(isChoosed)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    moveAllCardDown(myPokerNode){\n        console.log(\"moveAllCardDown\");\n        var isTopped = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isTopped){\n                isTopped = true;\n            }\n            pokerControl.cardMoveDown();\n        }\n        //xx_test\n        if(isTopped)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    onShow(){\n    },\n    onHide(){\n        // console.log(\"onHide\");\n        // //\n        // var topcards = CardUtil.getMyTopCards(this.myPokerNode,PokerControl);\n        \n        // var mycards = [];\n        // for(var i = this.myPokerData.length - 1; i > -1;i--){\n        //     mycards.push(this.myPokerData[i].showTxt);\n        //     console.log(\"xx\"+this.myPokerData[i].showTxt);\n        // } \n\n        // var autocards = CardUtil.getCardsFromTopCards(mycards,topcards);\n        // if(autocards.length < 1){\n        // }else{\n        //     this.moveAllCardDown(this.myPokerNode);//\n        //     CardUtil.AutoChooseLiftUpCard(this.myPokerNode,PokerControl,autocards);\n        // } \n    },\n    //\n    onMyOutCard(time){\n        var self = this;\n        var scene = cc.director.getScene();\n        var buchuFunc = function(){\n            self.moveAllCardDown(self.myPokerNode);\n            GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n            if(self.myOpratShow){\n                self.myOpratShow.close();\n                self.myOpratShow = null;\n            }\n        }\n        var tishiNum = 0;\n        var tishiFunc = function(){\n            //xx_test\n            // var cards = [\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"];//\"3\",\"3\",\"3\",\"3\"\n            var cards = [];\n            // console.log(\"-------preSendCards\",self.preSendCards);\n            if(self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                // console.log(pokerdata);\n                if(self.prejokto&&self.prejokto.length>0){\n                    var joktoIndex = 0;\n                    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                    var jokto = self.prejokto;\n                    for(var i=0;i<pokerdata.length;i++){\n                        if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                            var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                            cards.push(joktoValue);\n                            joktoIndex++;\n                        }else{\n                            cards.push(pokerdata[i].showTxt);\n                        }\n                    }\n                }else{\n                    for(var i =0;i<pokerdata.length;i++){\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n            }\n            cards.sort(config.arrayUp);\n            // console.log(cards);\n            var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n            var myCards = [];\n            console.log(cardstype);\n            for(var i = self.myPokerData.length - 1; i > -1;i--){\n                var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n                myCards.push(cardValue); \n            }\n\n            var tishicards = null;\n            if(config.joker != \"\"){\n                tishicards = LazarilloCardUtil.get_cards_larger(cardstype,myCards);\n            }else{\n                tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            }\n            // var tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            if(tishicards.length == 0){\n                console.log(\"\");\n                if(self.myOpratShow){\n                    // self.myOpratShow.chupaiClick(-2);\n                    buchuFunc();\n                }\n                return;\n            }\n            cards = tishicards[tishiNum];\n            if(tishiNum<tishicards.length-1){\n                tishiNum++;\n            }else{\n                tishiNum = 0;\n            }\n\n            self.node.stopAllActions();\n            self.moveAllCardDown(self.myPokerNode);\n            var callFunc = cc.callFunc(function(){\n                CardUtil.AutoChooseLiftUpCard(self.myPokerNode,PokerControl,cards);\n            });\n            var delay = cc.delayTime(0.1);\n            self.node.runAction(cc.sequence(delay,callFunc));\n\n            // return 100;\n        }\n        var chupaiFunc = function(){\n            console.log(\"\");\n            //\n            if(self.dispatchCard&&self.dispatchCard.length > 0){\n                console.log(\"dispatchCard.length:\"+self.dispatchCard.length);\n                for(var i = 0; i < self.dispatchCard.length; i++){\n                    self.dispatchCard[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.dispatchCard = [];\n            }\n            var topCards = [];\n            var topCardData = [];\n            //\n            for(var i = self.myPokerData.length - 1; i > -1;i--){\n                if(self.myPokerData[i].isTopped){\n                    var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n                    topCards.push(cardValue);\n                    var cardType = self.myPokerData[i].showType;\n                    var pokerDataItem = {\n                        showTxt : cardValue,\n                        showType : cardType\n                    }\n                    topCardData.push(pokerDataItem);\n                }\n            }\n\n            //\n            var cards = [];//\"3\",\"3\",\"3\",\"3\"\n            if(config.joker != \"\"&&self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                // console.log(pokerdata);\n                if(self.prejokto&&self.prejokto.length>0){\n                    var joktoIndex = 0;\n                    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                    var jokto = self.prejokto;\n                    for(var i=0;i<pokerdata.length;i++){\n                        if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                            var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                            cards.push(joktoValue);\n                            joktoIndex++;\n                        }else{\n                            cards.push(pokerdata[i].showTxt);\n                        }\n                    }\n                }else{\n                    for(var i =0;i<pokerdata.length;i++){\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n                cards.sort(config.arrayUp);\n            }\n            \n            //\n            if(config.joker != \"\"){\n                var args = CardUtil.clientCardsToServer(topCardData);\n                console.log(\"-----\")\n                console.log(args);\n                if(args.length){\n                    // var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                    var tips = LazarilloCardUtil.get_effective_tips_cards(args, config.joker);\n                    console.log(tips);\n                    \n                    if(tips.length == 1){\n                        var jackto = tips[0][1];\n                        for(var i=0;i<jackto.length;i++){\n                            jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                        }\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:tips[0][0],1:jackto});\n                    }else if(tips.length > 1){\n                        if(self.mySeatId == self.preSeatId || self.myPokerData.length == 20){//\n                            self.showLazarilloPokerSelected(tips);\n                            return 100;\n                        }\n\n                        var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                        var big_tips = LazarilloCardUtil.get_big_tips_cards(tips,cardstype);\n                        if(big_tips.length == 1){\n                            var jackto = big_tips[0][1];\n                            for(var i=0;i<jackto.length;i++){\n                                jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                            }\n                            GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:big_tips[0][0],1:jackto});//big_tips[0]\n                        }else{\n                            self.showLazarilloPokerSelected(big_tips);\n                        }\n                    }else{\n                        return -1;\n                    }\n                }\n                return 100;\n            }\n\n            if(topCards.length>=1){\n                var popCardsType = CardUtil.get_topCard_type(topCards);\n                // console.log(popCardsType);\n                if(popCardsType.type == 0){\n                    console.log(\"\");\n                    return -1;\n                }    \n            }else{\n                console.log(\"\");\n                return 0;\n            }\n            \n            var args = CardUtil.clientCardsToServer(topCardData);\n            // console.log(args);\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",args);\n            return 100;\n        }\n\n        var curTime = config.SendCardTimeout;\n        if(time){\n            curTime = time;\n        }\n\n        if(self.playerme_.getCardCount()==20 || self.mySeatId == self.preSeatId){\n            self.showCallLord(curTime,null,chupaiFunc,config.opratType.mustOutCard);\n        }else{\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            opOutCard.parent = scene;\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(curTime,buchuFunc,tishiFunc,chupaiFunc);\n\n            if(!self.myOpratShow){\n                self.myOpratShow = opOutCardControl;\n            } \n        }\n    },\n    mySendCards(severCards,jokto){//\n        var self = this;\n\n        if(severCards){//()\n            var cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//\n            self.dispatchCard = self.playerme_.getSendCard(self.dispatchCard,cardData,self.myPokerNode,self.myPokerData);\n        }\n\n        //\n        self.playerme_.playCard(self.dispatchCard,jokto);\n        self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        //\n        if(self.playerme_.getLandlord()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n        }\n        if(self.playerme_.getOpenHandCards()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n        }\n        self.playerme_.setCardCount(self.myPokerNode.length);\n    },\n    leftSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n\n        if(!severCards){\n            return;\n        }\n\n        if(cardData){\n        }else{\n            cardData = CardUtil.serverCardsToClient(severCards);\n        }\n\n        //\n        if(isShowCard){\n            cardData.sort(CardUtil.gradeUp);//\n            self.leftDispatchCard = self.left_player.getSendCard(self.leftDispatchCard,cardData,self.leftPokerNode,self.leftPokerData);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n            self.left_player.neatenLeftPoker(self.leftPokerNode,config.seatPos.left,sceneWidth/2, 230);\n        }else{\n            //\n            self.leftDispatchCard = self.left_player.darkCardSend(self.leftDispatchCard,cardData,self.pokerLayerLeft,2,sceneWidth,jokto);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n        }  \n    },\n    rightSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n        if(!severCards){\n            return;\n        }\n        if(cardData){\n        }else{\n            if(severCards){\n                cardData = CardUtil.serverCardsToClient(severCards);\n            } \n        }\n\n        if(isShowCard){\n            //\n            cardData.sort(CardUtil.gradeUp);//\n            self.rightDispatchCard = self.right_player.getSendCard(self.rightDispatchCard,cardData,self.rightPokerNode,self.rightPokerData);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n            self.right_player.neatenRightPoker(self.rightPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n        }else{\n            //\n            self.rightDispatchCard = self.right_player.darkCardSend(self.rightDispatchCard,cardData,self.pokerLayerRight,0,sceneWidth,jokto);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n        }  \n    },\n    //\n    btnMyPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.playerme_;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.mySeatId;\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnLeftPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.left_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.left_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnRightPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.right_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.right_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnBackClick(){\n        var self = this;\n        console.log(\"btnBackClick\");\n        PlayerDetailModel.continueRoomId = 0;\n        if(self.gameState < config.gameState.ST_GAME_BALANCE&&self.gameState>config.gameState.ST_GAME_PREPARE){\n            var click = function(){ \n                // GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.removeEventListener();\n                self.preloadNextScene();\n            }\n            dialogManager.showCommonDialog(\"\",\"\",click);\n        }else{\n            if(self.gameState==config.gameState.ST_GAME_PREPARE){\n                GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n            }\n            self.removeEventListener();\n            self.preloadNextScene();\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnDelegateClick(){\n        console.log(\"btnDelegateClick\");\n        var self = this;\n        if(self.playerme_.getDelegated()){\n            console.log(\"\");\n        }else{\n            if(self.gameState >= config.gameState.ST_GAME_CallLordOver){\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.playerme_.setDelegated(true);\n                self.showCancelDelegate();\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showCancelDelegate(){\n        var self = this;\n        if(self.CancelDelegate){\n            return;\n        }\n        var click = function(){\n            GameNetMgr.sendRequest(\"Game\",\"cancelDelegate\");\n            self.CancelDelegate = null;\n            self.playerme_.setDelegated(false);\n            cc.vv.audioMgr.playSFX(\"SpecOk\");\n        }\n        cc.loader.loadRes(\"prefab/CancelDelegate\", function (err, prefab) {\n            //\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10);\n            var prefabControl= newNode.getComponent(require(\"CancelDelegateController\"));\n            prefabControl.show(click);\n            self.CancelDelegate = prefabControl; \n        });\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnJiPaiQiClick(){\n        console.log(\"btnJiPaiQiClick\");\n        //\n        this.showJPQShareGet();\n\n        var self = this;\n        if(self.jpqNode){\n            if(self.jpqNode.getIsActive()){\n                self.jpqNode.showNode(false);\n            }else{\n                self.jpqNode.showNode(true);\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showJPQShareGet(){\n        //\n        var self = this;\n        var propItems = PlayerDetailModel.getPropItems();\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            return;\n        }\n\n        console.log(\">>>>>>gameState:\",self.gameState)\n        if(self.gameState > config.gameState.ST_GAME_START)\n            dialogManager.showTableShareGet(\"jipaiqi\");\n    },\n    showJPQ(mycards){\n        var self = this;\n        if(self.jpqNode){\n            // self.jpqNode.close();\n            // self.jpqNode = null;\n            self.jpqNode.show(mycards);\n            return;\n        }\n        cc.loader.loadRes(\"prefab/jpqNode\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9);\n            var prefabControl= newNode.getComponent(require(\"jpqNodeControl\"));\n            self.jpqNode = prefabControl; \n            self.jpqNode.show(mycards);\n        });\n    },\n    btnChatClick(){\n        console.log(\"btnChatClick\");\n        var self = this;\n        if(self.ChatDialog){\n            self.ChatDialog.close();\n            self.ChatDialog = null;\n        }else{\n            var click = function(){\n                self.ChatDialog = null;\n            }\n            cc.loader.loadRes(\"prefab/chatDialog\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,9999);\n                var prefabControl= newNode.getComponent(require(\"chatControl\"));\n                prefabControl.show(click);\n                self.ChatDialog = prefabControl; \n            });\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showMyChat(content){\n        var self = this;\n        cc.loader.loadRes(\"prefab/chatBox\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"chatBoxControl\"));\n            prefabControl.show(content);\n        });\n    },\n    showLeftChat(content){\n        var self = this;\n        self.leftChatBoxNode.active = true;\n        self.leftChatBoxLabel.string = content;\n        this.pokerLayerLeft.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.leftChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerLeft.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightChat(content){\n        var self = this;\n        self.rightChatBoxNode.active = true;\n        self.rightChatBoxLabel.string = content;\n        this.pokerLayerRight.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.rightChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerRight.runAction(cc.sequence(delay,callFunc)); \n    },\n    showMyCardtype(cardType){\n        cc.loader.loadRes(\"animatiom/anim_cardType\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"cardTypeControl\"));\n            prefabControl.show(cardType);\n        });\n    },\n    showLeftCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.leftCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.leftCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.leftCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.leftCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.rightCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.rightCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.rightCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.rightCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    registerEventListener(){\n        var self = this;\n        EventHelper.AddCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        //ShareWxResResult\n        EventHelper.AddCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n    },\n    removeEventListener(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n    },\n    //\n    initPlayerInfo(response){\n        var self = this;\n        if(response.data[\"time\"]){\n            //\n            config.CallLordTimeout = response.data[\"time\"][\"lord\"];\n            //\n            config.GrabLordTimeout = response.data[\"time\"][\"lord\"];\n            //\n            config.SendCardTimeout = response.data[\"time\"][\"send\"];\n            //--\n            config.CheckCardTimeout = response.data[\"time\"][\"giveup\"];\n            //\n            config.AddRatioTime = response.data[\"time\"][\"double\"]; \n        }else{\n            config.CallLordTimeout = 15;\n            //\n            config.GrabLordTimeout = 15;\n            //\n            config.SendCardTimeout = 30;\n            //--\n            config.CheckCardTimeout = 10;\n            //\n            config.AddRatioTime = 5;\n        }\n        var newGame = response[\"data\"][\"isNewGame\"];\n        this.nicknames = [];\n        if(newGame){\n            var mySeatId = response[\"data\"][\"seatId\"];\n            self.mySeatId = mySeatId;\n            self.playerme_.setMySeatId(mySeatId);\n            self.playerme_.setMySeatNum(1);\n            var peers = {0:response[\"data\"][\"0\"], 1:response[\"data\"][\"1\"], 2:response[\"data\"][\"2\"]};\n            for(var k in peers){\n                var v = peers[k];\n                var curSeatId = v[\"seatId\"];\n\n                this.nicknames.push(v[\"nick\"]);\n\n                if(curSeatId == mySeatId){\n                    self.playerme_.setMySeatId(v[\"seatId\"]);\n                    self.playerme_.setRoomId(v[\"roomId\"]);\n                    self.playerme_.setTableId(v[\"tableId\"]);\n                    self.playerme_.setSignature(v[\"word\"]);\n                    self.playerme_.setBuff(v[\"buff\"]);\n                    self.playerme_.setPlay(v[\"play\"]);\n                    self.playerme_.setWin(v[\"win\"]);\n                }else{\n                    var seatNum = 1;\n                    seatNum = config.getPlayerSeatNum(self.mySeatId,curSeatId);\n                    \n                    var parm = {};\n                    parm.uid = parseInt(v[\"uid\"]);\n                    parm.nickname = v[\"nick\"];\n                    parm.gender = v[\"sex\"];\n                    parm.coin = parseInt(v[\"coin\"]);\n                    parm.gold = parseInt(v[\"gold\"]);\n                    parm.propDress = v[\"propDress\"];\n                    parm.myseat = v[\"seatId\"];\n                    parm.roomid = v[\"roomId\"];\n                    parm.tableid = v[\"tableId\"];\n                    parm.signature = v[\"word\"];\n                    parm.buff = v[\"buff\"];\n                    parm.wechatImg = v[\"img\"];\n                    parm.title = v[\"title\"];\n                    parm.emoticon = {};\n                    parm.emoticonItems = {};\n                    parm.play = v[\"play\"];//\n                    parm.win = v[\"win\"];//\n\n                    if(seatNum == 2){//\n                        self.left_player.initInfo(parm);\n                        self.left_player.initBaseInfo();\n                        self.left_player.setMySeatNum(seatNum);\n                        self.leftPlayer.active = true;   \n                    }else if(seatNum == 0){//\n                        self.right_player.initInfo(parm);\n                        self.right_player.initBaseInfo();\n                        self.right_player.setMySeatNum(seatNum);\n                        self.rightPlayer.active = true;\n                    }\n                }\n            }\n        }else{\n            console.log(\" -----------\");\n        }\n    },\n    //\n    showCallLord(time,btn1Func,btn2Func,type){\n        var self = this;\n        cc.loader.loadRes(\"prefab/opratCallLord\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"opratCallLordControl\"));\n            prefabControl.show(time,btn1Func,btn2Func,type);\n            \n            if(type == 3 && !self.myOpratShow){\n                self.myOpratShow = prefabControl; \n            }else{\n                self.myOpratCall = prefabControl;\n            }\n        });\n    },\n    //\n    showGameResult(response){\n        var self = this;\n        var infos = [];\n        var data = response.data;\n\n        cc.vv.audioMgr.stopMusic();\n        config.IsContinueGaming = 0;\n        PlayerDetailModel.continueRoomId = 0;\n\n        var click1 = function(){//\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",true);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var click2 = function(){\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",false);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var url = \"prefab/gameResultWin\";\n\n        if(response[\"data\"][\"isWinner\"][\"\"+self.mySeatId] == 1){\n            cc.vv.audioMgr.playSFX(\"MusicEx_Win\");\n        }else{\n            url = \"prefab/gameResultLose\";\n            cc.vv.audioMgr.playSFX(\"MusicEx_Lose\");\n        }\n        self.playerme_.setCoin(data.coins[self.mySeatId]);\n   \n        var rate = data.rate;\n        var rateMax = data.rateMax;\n        var baseCoins = data.baseCoins;\n\n        var mySocre = 0;\n        var myStwin = 0;//\n\n        for (var i=0;i<3;i++){\n            var socre = data.total[\"\"+i];\n            var infoItem = {\n                isdizhu : self.loadSeatId==i,nickname : self.nicknames[i],difen : baseCoins,beishu : rate,ledou : socre,coin:data.coins[i],rateMax : rateMax\n            }\n            infos.push(infoItem);\n\n            if(self.mySeatId==i){\n                mySocre = socre;\n                myStwin = data.stwin[\"\"+i];\n            } \n        }\n\n        console.log(\">>>>>myStwin:\",myStwin);\n\n        if(!self.gameResultControl){\n            cc.loader.loadRes(url, function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var nextScene = function(){\n                    self.gameResultControl = null;\n                    self.removeEventListener();\n                    self.preloadNextScene();\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                var prefabControl= newNode.getComponent(require(\"gameResultControl\"));\n                prefabControl.show(infos,click1,click2,self.mySeatId,nextScene);\n                self.gameResultControl = prefabControl;\n            });\n        }\n\n        var showShare = false;\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            if(mySocre>0){\n                //\n                this.taskComplete = false;\n                dialogManager.showTaskCompleteShare(\"chuntian\");\n            } \n            showShare = true;\n        }\n\n        if(myStwin == 3 && !showShare){\n            //\n            dialogManager.showTaskCompleteShare(\"liansheng_3\");\n            showShare = true;\n        }\n\n        //\n        if(this.taskComplete && !showShare){\n            //\n            dialogManager.showTaskCompleteShare(\"lequan\");\n            config.leQuanShareSucss = true;\n            showShare = true;\n        }\n    },\n    showWatingStartGame(){\n        var self = this;\n        // cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n        //     //\n        //     if (err) {\n        //         console.log(err);\n        //         return;\n        //     }\n        //     var newNode = cc.instantiate(prefab);\n        //     cc.director.getScene().addChild(newNode);\n        //     var prefabControl = newNode.getComponent(require(\"watingStarControl\"));\n        //     self.watingStart = prefabControl;\n        //     self.watingStart.hideNode();\n        // });\n        var prefabControl = self.WatingStartNode.getComponent(require(\"watingStarControl\"));\n        self.watingStart = prefabControl;\n        self.watingStart.hideNode();\n    },\n    //\n    ////////////\n    onQueued(event){\n        var self = this;\n        console.log(\"---\");\n\n        if(self.gameState > 1 && self.gameState < 8)\n            return;\n\n        self.gameState = config.gameState.ST_GAME_PREPARE;\n        if(self.watingStart)\n            self.watingStart.showNode();\n    },\n    onGameReady(event){\n        var self = this;\n        console.log(\"---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n        config.joker = \"\";\n\n        self.gameState = config.gameState.ST_GAME_START;\n        var response = event.getUserData();\n        self.initPlayerInfo(response);\n    },\n    onTableTimesUpdate(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var times = response[\"data\"][\"rate\"];\n        self.node_tableTimes.string = \"\" + times;\n        var rate = response[\"data\"][\"rate_num\"];\n        \n        var rateId = response[\"data\"][\"rateId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,rateId);\n\n        console.log(\"seatNum:\"+seatNum);\n        console.log(\"self.gameState:\"+self.gameState);\n\n        var gender = 1;\n\n        if(self.gameState == config.gameState.ST_GAME_Double){\n            if(seatNum == 1){//\n                gender = self.playerme_.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n            }else if(seatNum == 0){//\n                gender = self.right_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.right_player.showHint(config.hintType.double);\n                }\n            }else if(seatNum == 2){//\n                gender = self.left_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.left_player.showHint(config.hintType.double);\n                }\n            }else{\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,1);\n                }\n            }\n\n            if(self.gameState == config.gameState.ST_GAME_Double){\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiabei\");\n            }\n                    \n        }else{\n            if(rate>1&&rate<=5){\n                dialogManager.showAnimDouble(rate,1);\n            }\n        }\n    },\n    onSendCard(event){\n        var self = this;\n        console.log(\", ---\");\n        self.gameState = config.gameState.ST_GAME_SendCard;\n\n        if(self.watingStart)\n            self.watingStart.hideNode();\n\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        if(self.myPokerNode.length > 0){ //\n            for(var i = 0; i < self.myPokerNode.length; i++){\n                self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            self.myPokerNode = [];\n        }\n        self.myPokerData = [];\n\n        config.sendCardState = true;\n        var moveCardend = function(){\n            config.sendCardState = false;\n        }\n        setTimeout(moveCardend,1800);\n\n        var response = event.getUserData();\n        self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n        self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth,-1);\n        cc.vv.audioMgr.playSFX(\"Special_Dispatch\");\n        self.myHandCards = response.data.myCard;\n\n        \n    \n        var myShowCard = response.data.showCard[self.mySeatId];\n        if(myShowCard == 0){\n            //\n            var click = function(time){\n                GameNetMgr.sendRequest(\"Game\",\"showCard\",time);\n            }\n            // dialogManager.showOpratShowCard(click);\n            cc.loader.loadRes(\"prefab/opratShowCard\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratShowCard = newNode.getComponent(require(\"opratShowCardControl\"));\n                self.opratShowCard.show(click);\n            });\n        } \n\n    },\n    onRefreshPlayerData(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var data = response.data;\n        if(data){\n            for(var i=0;i<data.length;i++){\n                var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n                if(seatNum == 1){//\n                    self.playerme_.setCoin(data[i].coins);\n                    PlayerDetailModel.setCoin(data[i].coins)\n                }else if(seatNum == 0){//\n                    self.right_player.setCoin(data[i].coins);\n                }else if(seatNum == 2){//\n                    self.left_player.setCoin(data[i].coins);\n                }\n            }\n        }\n    },\n    onTurnCallLord(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_CallLord;\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        if(self.opratShowCard){\n            self.opratShowCard.close();\n            self.opratShowCard = null;\n        }\n        if(self.opratDouble){\n            self.opratDouble.close();\n            self.opratDouble = null;\n        }\n\n        var response = event.getUserData();\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,response.data.callId);\n        if(seatNum == 1){//\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.callLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onCallLord(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"beLordId\"];\n        var status = response[\"data\"][\"beLordInfo\"];  // 1 2\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 0){//\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 2){//\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }\n    },\n    onTurnGrabLord(event){\n        var self = this;\n        console.log(\"---\");\n\n        var response = event.getUserData();\n        var callId = response[\"data\"][\"callId\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,callId);\n        if(seatNum == 1){//\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.grabLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onGrabLord(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"grabLordId\"]\n        var status = response[\"data\"][\"grabLordInfo\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 0){//\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 2){//\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }\n    },\n    onCallLordOver(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_CallLordOver;\n        // self.playerme_.hideHint();\n        // self.left_player.hideHint();\n        // self.right_player.hideHint();\n\n        var hideHint = function(){\n            self.playerme_.hideHint();\n            self.left_player.hideHint();\n            self.right_player.hideHint();\n        }\n        setTimeout(hideHint,500);\n    \n        var response = event.getUserData();\n        var lordId = response[\"data\"][\"lordId\"];\n        var cards = response[\"data\"][\"lordCard\"];\n        var times = response[\"data\"][\"lordBonus\"];\n        self.setTable3Card(cards);\n        self.setNodeRate(times);\n\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n\n        self.loadSeatId = lordId; //id\n\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,lordId);\n        if(seatNum == 1){//\n            if(response.data.myCard&&response.data.myCard.length == 20){ //3\n                if(self.myPokerNode.length > 0){ //\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                \n                self.playerme_.setCardCount(20);\n                self.playerme_.setLandlord(true);\n                self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            }\n            self.myHandCards = response.data.myCard;\n        }else if(seatNum == 0){//\n            self.right_player.setCardCount(20);\n            self.right_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.rightPokerNode.length > 0){ //\n                    for(var i = 0; i < self.rightPokerNode.length; i++){\n                        self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.rightPokerNode = [];\n                }\n                self.rightPokerData = [];\n                self.rightPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }\n\n        }else if(seatNum == 2){//\n            self.left_player.setCardCount(20);\n            self.left_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.leftPokerNode.length > 0){ //\n                    for(var i = 0; i < self.leftPokerNode.length; i++){\n                        self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.leftPokerNode = [];\n                }\n                self.leftPokerData = [];\n                self.leftPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n        //\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onCanDoubleResult(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var candouble = response.data.can_double;\n\n        self.gameState = config.gameState.ST_GAME_Double;\n\n        if(candouble&&candouble == 1){\n            var btn1Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                GameNetMgr.sendRequest(\"Game\",\"addRatio\");\n            }\n            var btn2Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                cc.vv.audioMgr.playCardsEffect(self.playerme_.getGender(),\"jiabeiNo\");\n            }\n            var args = {};\n            args.arg1 = btn1Func;\n            args.arg2 = btn2Func;\n\n            cc.loader.loadRes(\"prefab/opratDouble\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratDouble = newNode.getComponent(require(\"opratDoubleControl\"));\n                self.opratDouble.show(args);\n            });\n        }\n    },\n    onTurnSendCard(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        if(self.playerme_.getShowHintType()==config.hintType.waitingDouble){\n            self.playerme_.hideHint();\n        }\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            // self.onMyOutCard();\n            self.playerme_.hideHint();\n            self.playerme_.clearTableCard(self.dispatchCard);\n\n            // console.log(\"myCardCount:\"+self.myHandCards.length);\n            // console.log(self.myHandCards);\n\n            if (self.myHandCards.length == 1){ //\n                console.log(\"\");\n                if(self.mySeatId == self.preSeatId){\n                    GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    return;\n                }\n\n                if(self.preSendCards&&self.preSendCards.length == 1){\n                    var preCards = self.preSendCards[0];\n                    var card = self.myHandCards[0];\n                    var sub = CardUtil.convertCardToClient(card).showTxt - CardUtil.convertCardToClient(preCards).showTxt;\n                    console.log(\"sub = \"+sub);\n                    if(sub>0){\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    }else{\n                        GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                    }\n                }else{\n                    GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                }\n            }else{\n                self.onMyOutCard();\n            }\n\n            // self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.SendCardTimeout);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.SendCardTimeout);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }\n    },\n    onPlayerDelegated(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        var giveup = response[\"data\"][\"giveup\"]; //  0 1\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"---\"+seatNum);\n        if(seatNum == 1){//\n            if(!self.playerme_.getDelegated()){\n                self.showCancelDelegate();\n                self.playerme_.setDelegated(true);\n            }\n        }else if(seatNum == 0){//    \n            self.right_player.setDelegated(true); \n        }else if(seatNum == 2){//\n            self.left_player.setDelegated(true);\n        }\n    },\n    onPlayerCancelDelegate(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        // var giveup = response[\"data\"][\"giveup\"]; //  0 1\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"---\"+seatNum);\n        if(seatNum == 1){//\n            // if(self.playerme_.getDelegated()){\n            //     self.CancelDelegate.close();\n            //     self.CancelDelegate = null;\n            //     self.playerme_.setDelegated(false);\n            // }\n        }else if(seatNum == 0){//\n            self.right_player.setDelegated(false); \n        }else if(seatNum == 2){//\n            self.left_player.setDelegated(false); \n        }\n    },\n    onPlayerSendCard(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n        var curCardType = response[\"data\"][\"cardType\"];\n        \n        var jokto = [];\n        if(config.joker!=\"\"){\n            jokto = response.data.jokto;\n        }\n\n        var gender = 1;\n        if(seatNum == 1){//\n            self.playerme_.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.mySendCards(response[\"data\"][\"sendCards\"],jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.playerme_.getCardCount();\n            if(cardNum >= outCardsNum)\n                self.playerme_.setCardCount(cardNum-outCardsNum);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            gender = self.playerme_.getGender();\n        }else if(seatNum == 0){//\n            gender = self.right_player.getGender();\n            self.right_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.rightSendCards(response[\"data\"][\"sendCards\"],null,self.right_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.right_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.right_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }\n            self.right_player.hideClock();\n        }else if(seatNum == 2){//\n            gender = self.left_player.getGender();\n            self.left_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.leftSendCards(response[\"data\"][\"sendCards\"],null,self.left_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.left_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.left_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }  \n            self.left_player.hideClock();\n        }\n        // self.preSendCards = response[\"data\"][\"sendCards\"];//\n        // self.preSeatId = seatId;//id\n\n        var curSendCards = response[\"data\"][\"sendCards\"];//\n        var curSeatId = seatId;//id\n        // console.log(response[\"data\"][\"sendCards\"]);\n        var isShowCardType = false;\n        if(curSendCards&&curSendCards.length>0){\n            var cardstype = curCardType;\n            if(cardstype == config.CardType.StraightThree||cardstype == config.CardType.StraightThreePlusSingle ||\n                cardstype == config.CardType.StraightThreePlusPair){\n                //\n                dialogManager.showAnimFeiJi();\n            }else if(cardstype == config.CardType.DoubleKing){\n                //\n                dialogManager.showAnimHuoJian();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Bomb || cardstype == config.CardType.SoftBomb || \n                cardstype == config.CardType.LazarilloBomb){\n                //\n                dialogManager.showAnimZhaDan();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Straight){\n                //\n                isShowCardType = true;\n            }else if(cardstype == config.CardType.StraightDouble){\n                //\n                isShowCardType = true;\n            }\n            if(isShowCardType){\n                if(seatNum == 1){//\n                    self.showMyCardtype(cardstype);\n                }else if(seatNum == 0){//\n                    self.showRightCardtype(cardstype);\n                }else if(seatNum == 2){//\n                    self.showLeftCardtype(cardstype);\n                }\n            }\n        \n            cc.vv.audioMgr.playCardsEffect(gender,cardstype,curSendCards);\n        }\n\n        self.preSendCards = response[\"data\"][\"sendCards\"];//\n        self.preSeatId = seatId;//id\n        self.preCardType = curCardType;\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n\n        //\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onPlayerNotSend(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            self.playerme_.showHint(config.hintType.dont);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 0){//\n            self.right_player.showHint(config.hintType.dont);\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 2){//\n            self.left_player.showHint(config.hintType.dont);\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }\n    },\n    onPlayerShowCard(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"showCardId\"];\n        var showCardInfo = response[\"data\"][\"showCardInfo\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        console.log(\"seatNum:\"+seatNum);\n        if(seatNum == 1){//\n            self.playerme_.setOpenHandCards(true);\n            if(self.myPokerNode.length>0){\n                self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 0){//\n            self.right_player.setOpenHandCards(true);\n            self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 2){//\n            self.left_player.setOpenHandCards(true);\n            self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }\n    },\n    onGameComplete(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_BALANCE;\n        var response = event.getUserData();\n        // self.showGameResult(response);\n        // cc.vv.audioMgr.stopMusic();\n\n        console.log(response.data);\n\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            //\n            dialogManager.showAnimChunTian();\n        }\n\n        var callFunc = cc.callFunc(function(){\n            self.showGameResult(response);\n            // self.clearTable();\n        });\n        var delay = cc.delayTime(2.0);\n        this.node.runAction(cc.sequence(delay,callFunc));\n\n        if(this.CancelDelegate){\n            console.log(\"//\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        //\n        for(var i = 0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var showCardInfo = response.data.cards[i];\n            if(seatNum == 1){//\n            }else if(seatNum == 0 && !self.right_player.getOpenHandCards()&&showCardInfo.length>0){//\n                // self.right_player.setOpenHandCards(true);\n                self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }else if(seatNum == 2 && !self.left_player.getOpenHandCards()&&showCardInfo.length>0){//\n                // self.left_player.setOpenHandCards(true);\n                self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n    },\n    onTableUserExit(event){\n        var self = this;\n        console.log(\" ---\");\n        self.gameState = config.gameState.ST_GAME_WAIT_NEXTROUND;\n        // var response = event.getUserData();\n        // self.clearTable();\n\n        if(self.LazarilloPokerSelected){\n            self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n    },\n    onInvalidCardNum(event){\n        var self = this;\n        console.log(\" []---\");\n        var response = event.getUserData();\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },  \n    onInvalidCardType(event){\n        var self = this;\n        console.log(\" []---\");\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },\n    onSayToTableInfo(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"sayId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var word = response[\"data\"][\"word\"];\n        if(seatNum == 1){//\n            this.showMyChat(word);\n            cc.vv.audioMgr.playSay(self.playerme_.getGender(),word);\n        }else if(seatNum == 0){//\n            this.showRightChat(word);\n            cc.vv.audioMgr.playSay(self.right_player.getGender(),word);\n        }else if(seatNum == 2){//\n            this.showLeftChat(word);\n            cc.vv.audioMgr.playSay(self.left_player.getGender(),word);\n        }\n    },\n    onReconnectionData(event){\n        console.log(\"-------\");\n        config.stopOnMassage = false;\n        var self = this;\n        var response = event.getUserData();\n        console.log(response)\n    \n        var sendReq = function(){\n            var fn = function(){\n                if(config.jpqShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",4);\n                }else if(config.leQuanShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",5);\n                }else if(config.leDouShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",3);\n                    GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                }\n            }\n            setTimeout(fn,1000);\n        }\n        sendReq();\n\n        if(response.data.act == \"AUTO_CALL_LORD\"||response.data.act == \"TURN_CALL_LORD\"){\n            self.gameState = config.gameState.ST_GAME_CallLord;\n        }else if(response.data.act == \"AUTO_GRAB_LORD\"||response.data.act == \"TURN_GRAB_LORD\"){\n            self.gameState = config.gameState.ST_GAME_GrabLord;\n        }else if(response.data.act == \"AUTO_PLAY_CARD\"||response.data.act == \"TURN_PLAY_CARD\"){\n            self.gameState = config.gameState.ST_GAME_OutCard;\n        }\n\n        if(response.data.act == \"JOIN_TRIO\" && self.gameState == config.gameState.ST_GAME_PREPARE){\n            if(self.watingStart)\n                self.watingStart.showNode();\n            return;\n        }\n\n        if(response.data.act == \"WAIT_TOTAL_DONE\" && self.gameState < config.gameState.ST_GAME_BALANCE){//\n            dialogManager.showCommonDialog(\"\",\"\",function(){\n                config.IsContinueGaming = 0;\n                PlayerDetailModel.continueRoomId = 0;\n                self.preloadNextScene();\n            });\n            return;\n        }\n        if(response.data.act == \"WAIT_TOTAL_DONE\"){\n            return;\n        }\n        self.clearTable();\n\n        config.joker = response.data.joker;\n        var jokto = response.data.lastJokto;\n\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n    \n        var players = {};\n        players.lastCall = response.data.lastCall;\n        players.lastCards = response.data.lastCards; //noteCards\n        players.noteCards = response.data.noteCards;\n        players.lordId = response.data.lordId;\n        players.noteCards = response.data.lordCard;\n        players.task = response.data.task;\n        players.rate = response.data.rate;\n\n        self.preSeatId = players.lastCall;\n\n        if(response.data.rate){\n            self.node_tableTimes.string = \"\" + response.data.rate;\n        }\n\n        // \n        // self.node_taskbg.enabled = true;\n        var table_task = players.task.name;\n        if (players.task.coins&&players.task.coins!=\"0\"){\n            table_task = table_task + \" \"+players.task.coins+\"\";\n        }else if(players.task.lottery&&players.task.lottery!=\"0\"){\n            table_task = table_task + \" \"+players.task.lottery+\"\";\n        }else if(players.task.tip){\n            table_task = table_task + players.task.tip;\n        }else if(players.task.coupon){\n            table_task = table_task + \" \"+players.task.coupon+\"\";\n            this.taskRewardNum = players.task.coupon;\n        }\n        if(table_task){\n            self.node_taskbg.enabled = true;\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;\n        }\n        \n\n        players.act = response.data.act;// TURN_CALL_LORD  TURN_GRAB_LORD  TURN_PLAY_CARD \n        players.time = response.data.time;//\n        players.turnSeat = response.data.turnSeat;//\n        var turnSeatNum = config.getPlayerSeatNum(response.data.mySeatId,players.turnSeat);\n\n        players.data = [];\n        for(var i = 0;i<3;i++){\n            var player = {};\n            player.cards = response[\"data\"][\"seat\"+i+\"cards\"];\n            player.info = response[\"data\"][\"seat\"+i+\"info\"];\n            player.show = response[\"data\"][\"seat\"+i+\"show\"];\n            player.trust = response[\"data\"][\"seat\"+i+\"trust\"];//\n            players.data.push(player);\n            self.nicknames[i] = player.info.nick;\n        }\n        console.log(\"players-------\");\n        console.log(players);\n\n        self.preSendCards = response.data.lastCards;//\n        self.preSeatId = response.data.lastCall;//id\n        \n        self.leftPlayer.active = true;\n        self.rightPlayer.active = true;\n\n        self.mySeatId = response.data.mySeatId;\n        if(players.lordId!=4){\n            self.loadSeatId = players.lordId;\n            if(config.joker!=\"\")\n                self.setLazarillo_poker(config.joker);\n            self.setTable3Card(response.data.lordCard);\n            var times = response[\"data\"][\"lordBouns\"];\n            self.setNodeRate(times);\n        }\n\n        for(var i=0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var cards = players.data[i].cards;\n            var show = players.data[i].show;\n            var info = players.data[i].info;\n            var trust = players.data[i].trust;\n            if(seatNum == 1){//\n                if(show == 1){//\n                }else{  \n                }\n                if(self.myPokerNode.length > 0){ //\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                self.playerme_.setCardCount(cards.length);\n                self.playerme_.setOpenHandCards(show==1);\n                self.playerme_.setLandlord(players.lordId == i);\n                self.myPokerData = CardUtil.serverCardsToClient(cards);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n                \n                self.myHandCards = cards;\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.playerme_.continueInfo(parm);\n                if(trust != 0){\n                    console.log(\"\")\n                    self.playerme_.setDelegated(true);\n                    if(self.playerme_.getDelegated()){\n                        console.log(\"1111\")\n                        self.showCancelDelegate();\n                        // self.playerme_.setDelegated(true);\n                    }\n                }\n            }else if(seatNum == 0){//\n                if(show == 1){//\n                    if(self.rightPokerNode.length > 0){ //\n                        for(var i = 0; i < self.rightPokerNode.length; i++){\n                            self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.rightPokerNode = [];\n                    }\n                    self.rightPokerData = [];\n                    self.rightPokerData = CardUtil.serverCardsToClient(cards);\n                    self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                }else{  \n                }\n                self.right_player.setOpenHandCards(show==1);\n                self.right_player.setLandlord(players.lordId == i);\n                // self.right_player.setMySeatId();\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.right_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.right_player.setDelegated(true);\n                }\n            }else if(seatNum == 2){//\n                if(show == 1){//\n                    if(self.leftPokerNode.length > 0){ //\n                        for(var i = 0; i < self.leftPokerNode.length; i++){\n                            self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.leftPokerNode = [];\n                    }\n                    self.leftPokerData = [];\n                    self.leftPokerData = CardUtil.serverCardsToClient(cards);\n                    self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                }else{  \n                }\n                self.left_player.setOpenHandCards(show==1);\n                self.left_player.setLandlord(players.lordId == i);\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.left_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.left_player.setDelegated(true);\n                }\n            }\n        }\n        //\n        var preSeatNum = config.getPlayerSeatNum(response.data.mySeatId,self.preSeatId);\n        if(preSeatNum == 1){//\n            self.playerme_.setCurrentCards(self.preSendCards);\n            self.mySendCards(self.preSendCards,jokto);\n        }else if(preSeatNum == 0){//\n            self.right_player.setCurrentCards(self.preSendCards);\n            self.rightSendCards(self.preSendCards,null,self.right_player.getOpenHandCards(),jokto);\n        }else if(preSeatNum == 2){//\n            self.left_player.setCurrentCards(self.preSendCards);\n            self.leftSendCards(self.preSendCards,null,self.left_player.getOpenHandCards(),jokto);\n        }\n\n        //\n        if(turnSeatNum == 1){\n            if(players.act == \"AUTO_CALL_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){\n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.callLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_GRAB_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.grabLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_PLAY_CARD\"){\n                if(self.myOpratShow){\n                    self.myOpratShow.close()\n                    self.myOpratShow = null;\n                }\n                self.onMyOutCard(players.time);//players.time 23\n                self.playerme_.hideHint();\n                self.playerme_.clearTableCard(self.dispatchCard);\n            }\n        }else if(turnSeatNum == 0){//\n            self.right_player.showClock(players.time);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n        }else if(turnSeatNum == 2){//\n            self.left_player.showClock(players.time);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n        }\n    },\n    onPokerTask(event){\n        console.log(\"-------\");\n        var self = this;\n        var response = event.getUserData();\n        self.node_taskbg.enabled = true;\n\n        this.taskComplete = false;\n\n        if(response.data&&response.data.is_done == 0){\n            var table_task = response.data.table_task;\n            if (response.data.coins){\n                table_task = table_task + \" \"+response.data.coins+\"\";\n            }else if(response.data.lottery){\n                table_task = table_task + \" \"+response.data.lottery+\"\";\n            }else if(response.data.tip){\n                table_task = table_task + response.data.tip;\n            }else{\n                table_task = table_task + \" \"+response.data.coupon+\"\";\n                this.taskRewardNum = response.data.coupon;\n            }\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;   \n        }else{\n            this.taskComplete = true;\n        }\n    },\n    onOpenRechargeTipResult(event){\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n        var trial_count = response.data.trial_count;\n        var trial_cooldown = response.data.trial_cooldown;\n        var content = \"\";\n\n        var callFunc = cc.callFunc(function(){\n            var click = function(){\n                console.log(\"\");\n                // if(trial_cooldown == 0){\n                //     GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                // }else{\n                //     self.preloadNextScene();\n                // }\n            }\n            if(trial_cooldown == 0){\n                var index = trial_count+1;\n                content = \"\"+index+\"1000\";\n                // dialogManager.showCommonDialog(\"\",content,click);\n                // dialogManager.showShareGetDialog(\"\",\"\",click);\n                dialogManager.showTableShareGet(\"jiuji\");\n            }else{\n                content = \"\";\n                dialogManager.showCommonDialog(\"\",content,function(){\n                    self.preloadNextScene();\n                });\n            }\n        });\n        var delay = cc.delayTime(0.5);//0.5\n        this.node.runAction(cc.sequence(delay,callFunc));  \n    },\n    onRepeatLogin(event){\n        console.log(\"\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n        dialogManager.showCommonDialog(\"\",\"\",function(){\n            self.isShow = false;\n            cc.vv.audioMgr.stopMusic();\n            cc.director.loadScene(\"LoadingScene\");\n        });\n    },\n    onRefreshDataResult(event){\n        console.log(\"222------\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n\n        var payload = data;\n        // var model = app:getModel(\"PlayerDetailModel\")\n        //\n        if (payload.data && payload.data.coins){\n            PlayerDetailModel.setCoin(payload.data.coins)\n            // self.setLeDou(PlayerDetailModel.getCoin());\n            self.playerme_.setCoin(payload.data.coins);\n\n            //\n            if(config.leDouShareSucss){\n                config.leDouShareSucss = false;\n                var list = [];\n                var args = {\n                    arg1:\"ledou\",\n                    arg2:1000,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);\n            } \n        }\n        //\n        if (payload.data && payload.data.coupon){\n            PlayerDetailModel.setCoupon(payload.data.coupon)\n            // self.setLuQuan(PlayerDetailModel.getCoupon());\n            self.playerme_.setLeQuan(payload.data.coupon);\n        }\n        //\n        if (payload.data && payload.data.lottery){\n            PlayerDetailModel.setLottery(payload.data.lottery)\n        }\n        //\n        if (payload.data && payload.data.mail_unread){\n            PlayerDetailModel.setMailUnread(payload.data.mail_unread)\n        }\n        //\n        if (payload.data && payload.data.weichatgame_task_unaward){\n            PlayerDetailModel.setTaskUnReward(payload.data.weichatgame_task_unaward)\n        }\n        //\n        if (payload.data && payload.data.weichatgame_invite_unaward){\n            PlayerDetailModel.setShareUnReward(payload.data.weichatgame_invite_unaward)\n        }\n\n\n        //0, 1\n        if (payload.data && payload.data.checkin_undo){\n            PlayerDetailModel.setCheckinUndo(payload.data.checkin_undo)\n        }\n        //\n        if (payload.data && payload.data.task1_unaward){\n            PlayerDetailModel.setTask1Unaward(payload.data.task1_unaward)\n        }\n        //\n        if (payload.data && payload.data.task2_unaward){\n            PlayerDetailModel.setTask2Unaward(payload.data.task2_unaward)\n        }\n        //\n        if (payload.data && payload.data.charge_rate){\n            PlayerDetailModel.setChargeRate(payload.data.charge_rate)\n        }\n        //\n        if (payload.data && payload.data.propDress){\n            PlayerDetailModel.setPropDress(payload.data.propDress)\n        }\n        //\n        if (payload.data && payload.data.propItems){\n            PlayerDetailModel.setPropItems(payload.data.propItems)\n\n            var propItems = PlayerDetailModel.getPropItems();\n            if (propItems[\"5\"] && propItems[\"5\"] == 1 && config.jpqShareSucss){\n                //\n                console.log(\"---\");\n                var fn = function(){\n                    var list = [];\n                    var args = {\n                        arg1:\"jipaiqi\",\n                        arg2:3,\n                    }\n                    list.push(args);\n                    dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n                }\n                setTimeout(fn,500);\n                config.jpqShareSucss = false;\n            }\n        }\n        // self.playerDetailController_:refreshUI()\n    },\n    onEmoticonData(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        // console.log(data);\n        var id = response.data.emoticonData.id;\n        var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.sendSeatId);\n        var receiveSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.receiveSeatId);\n\n        var beginPos = cc.p(0,0);\n        var endpos = cc.p(0,0);\n        var audioUrl = \"\";\n        var prefabUrl = \"\";\n        if(sendSeatNum == 1){//\n            beginPos = self.myPlayer.getPosition();\n        }else if(sendSeatNum == 0){//\n            beginPos = self.rightPlayer.getPosition();\n        }else if(sendSeatNum == 2){//\n            beginPos = self.leftPlayer.getPosition();\n        }\n        if(receiveSeatNum == 1){//\n            endpos = self.myPlayer.getPosition();\n        }else if(receiveSeatNum == 0){//\n            endpos = self.rightPlayer.getPosition();\n        }else if(receiveSeatNum == 2){//\n            endpos = self.leftPlayer.getPosition();\n        }\n        if(id == 1001){\n            audioUrl = \"mf_tuoxie\";\n            prefabUrl = \"animatiom/anim_tuoxie\";\n        }else if(id == 1002){\n            audioUrl = \"mf_xihongshi\";\n            prefabUrl = \"animatiom/anim_jidan\";\n        }else if(id == 1003){\n            audioUrl = \"mf_dianzan\";\n            prefabUrl = \"animatiom/anim_dianzan\"; \n        }else if(id == 1004){\n            audioUrl = \"mf_meigui\";\n            prefabUrl = \"animatiom/anim_xianhua\";\n        }\n\n        var args = {};\n        args.beginPos = beginPos;\n        args.endpos = endpos;\n        args.audioUrl = audioUrl;\n        args.prefabUrl = prefabUrl;\n\n        self.showEmoticon(args);\n    },\n    showEmoticon(args){\n        var prefabUrl = args.prefabUrl;\n        console.log(\"prefabUrl:\"+prefabUrl);\n        cc.loader.loadRes(prefabUrl, function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            newNode.getComponent(require(\"expressionControl\")).show(args);  \n        });\n    },\n    onSendLzCard(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        var joker = response.data.joker;\n        config.joker = joker;\n        if(config.joker!=\"\")\n            this.setLazarillo_poker(joker);\n        this.clearTable3Card();\n        this.setTable3Card(this.table3Cards);\n\n        if(response.data.myCard){ //3\n            if(self.myPokerNode.length > 0){ //\n                for(var i = 0; i < self.myPokerNode.length; i++){\n                    self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.myPokerNode = [];\n            }\n            self.myPokerData = [];\n    \n            self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n            self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            self.myHandCards = response.data.myCard;\n        }\n        var showCardInfo = response.data.showCardInfo;\n        console.log(\"showCardInfo>>>\",showCardInfo);\n        if(showCardInfo){\n            for(var index=0;index<showCardInfo.length;index++){\n                var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,index);\n                if(sendSeatNum == 1){//\n                }else if(sendSeatNum == 0){//\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.rightPokerNode.length > 0){ //\n                            for(var i = 0; i < self.rightPokerNode.length; i++){\n                                self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.rightPokerNode = [];\n                        }\n                        self.rightPokerData = [];\n                        console.log(index+\" : \",showCardInfo[index])\n                        self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                    }\n                }else if(sendSeatNum == 2){//\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.leftPokerNode.length > 0){ //\n                            for(var i = 0; i < self.leftPokerNode.length; i++){\n                                self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.leftPokerNode = [];\n                        }\n                        self.leftPokerData = [];\n                        console.log(index+\" : \",showCardInfo[index])\n                        self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                    }\n                }\n            }\n        }\n    },\n    onShareWxResResult(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n\n        if(config.leQuanShareSucss){\n            config.leQuanShareSucss = false;\n            var fn = function(){\n                console.log(\"taskRewardNum = \",self.taskRewardNum)\n                var list = [];\n                var args = {\n                    arg1:\"lequan\",\n                    arg2:3,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n            }\n            setTimeout(fn,500);\n        } \n    },\n////////////\n    preloadNextScene(){\n        cc.director.preloadScene(\"HallScene\", function () {\n            cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"HallScene\");\n        });\n    },\n    //\n    animShakeNode(){\n        var self = this;\n        if(this.animShake){\n            return;\n        }\n        this.animShake = true;\n        var x = this.scene.x;\n        var y = this.scene.y;\n        var move1 = cc.moveTo(0.08, x-5, y-5);\n        var move2 = cc.moveTo(0.08, x+5, y+5);\n        var move3 = cc.moveTo(0.08, x-5, y+5);\n        var move4 = cc.moveTo(0.08, x+5, y-5);\n        var move5 = cc.moveTo(0.08, x-3, y-3);\n        var move6 = cc.moveTo(0.08, x+3, y+3);\n        var move7 = cc.moveTo(0.08, x-3, y+3);\n        var move8 = cc.moveTo(0.08, x+3, y-3);\n        var move9 = cc.moveTo(0.08, x, y);\n        var callFunc = cc.callFunc(function(){\n            self.animShake = false;\n        });\n        this.scene.runAction(cc.sequence(move1,move2,move3,move4,move5,move6,move7,move8,move9,callFunc));\n    },\n    showLazarilloPokerSelected(cardsList){\n        var self = this;\n        if(self.LazarilloPokerSelected)\n            return;\n        var click = function(){\n            // self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n\n        cc.loader.loadRes(\"prefab/LazarilloPokerSelected\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10000);\n            var prefabControl= newNode.getComponent(require(\"LazarilloPokerSelectedControl\"));\n            prefabControl.show(cardsList,click);\n            self.LazarilloPokerSelected = prefabControl; \n        });\n    }\n\n});\n"]}