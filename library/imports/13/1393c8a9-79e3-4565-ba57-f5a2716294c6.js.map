{"version":3,"sources":["../../../../assets/Script/assets/Script/GameTable.js"],"names":["PokerControl","require","config","CardUtil","opratOutCardControl","dialogManager","PlayerDetailModel","Player","EventHelper","GameNetMgr","LazarilloCardUtil","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","pokerLayerLeft","Node","pokerLayerRight","pokerLayerMy","canvas","opratOutCard","myPlayer","leftPlayer","rightPlayer","WatingStartNode","onLoad","gameState","game","on","EVENT_HIDE","console","log","stopOnMassage","vv","audioMgr","stopMusic","EVENT_SHOW","sendRequest","playBGM","showWatingStartGame","start","self","sceneWidth","director","getWinSize","width","scene","getScene","mySeatId","preSendCards","preSeatId","myShowDialog","loadSeatId","nicknames","animShake","myHandCards","taskComplete","taskRewardNum","touchBeganX","leftX","rightX","upY","downY","isTouchbegan","wechatImgUrl","wxInfo","avatarUrl","detailModel","params","uid","getUid","nickname","getNickName","gender","getGender","coin","getCoin","gold","getGold","lequan","getCoupon","propDress","getPropDress","wechatImg","title","getTitle","emoticon","emoticonItems","myOpratShow","CancelDelegate","ChatDialog","jpqNode","LazarilloPokerSelected","gameResultControl","myOpratCall","myPokerData","myPokerNode","dispatchCard","player","playerme_","initMyPlayerNode","initBaseInfo","leftDispatchCard","leftPokerData","leftPokerNode","left_player","initLeftPlayerNode","rightDispatchCard","rightPokerData","rightPokerNode","right_player","initRightPlayerNode","registerTouchEvent","active","table3Card","table3Cards","IsContinueGaming","registerEventListener","initTable3Card","node_diPai","find","node_pCardBg","node_tableTimes","getComponent","Label","node_lazarillo_poker","node_lazarillo_Num","Sprite","setLazarillo_poker","cardValue","serverCardValueToClient","numUrl","loader","loadRes","SpriteFrame","err","spriteFrame","setTable3Card","severCards","i","cardNode","instantiate","parent","scale","poker","showPoker","convertCardToClient","push","clearTable3Card","length","node","removeFromParent","setNodeRate","times","nodeRate","enabled","node_name","node_LeDou","node_LeQuan","node_Landlord","node_hint","node_wechatImg","nodes","node_cardsNum","node_delegate","node_clockDwonTime","node_alarm","initNodes","node_taskbg","node_taskName","string","lab_roomId","tableInfo","tableName","roomId","leftChatBoxNode","leftChatBoxLabel","rightChatBoxNode","rightChatBoxLabel","leftCardtype","rightCardtype","clearTable","clear","clearTableCard","joker","close","closeClick","watingStart","hideNode","EventType","TOUCH_START","event","sendCardState","p","getLocation","x","setSelectCardByTouch","y","x1","getPositionX","x2","py","getPositionY","psize","getContentSize","pwidth","pheight","height","disBetween","moveAllCardDown","TOUCH_END","moveCard","TOUCH_MOVE","Math","abs","unregisterEvent","targetOff","istouchbegan","touchStart","touchEnd","pokerNode","posY","size","posX","seatPos","center","disBetweenIX","right","left","buttom","up","setChoosed","isChoosed","pokerControl","cardData","cardMove","playSFX","isTopped","cardMoveDown","onShow","onHide","onMyOutCard","time","buchuFunc","tishiNum","tishiFunc","cards","pokerdata","serverCardsToClient","prejokto","joktoIndex","jokerValue","jokto","showTxt","joktoValue","sort","arrayUp","cardstype","get_topCard_type","preCardType","myCards","StringToNumber","tishicards","get_cards_larger","stopAllActions","callFunc","AutoChooseLiftUpCard","delay","delayTime","runAction","sequence","chupaiFunc","topCards","topCardData","cardType","showType","pokerDataItem","args","clientCardsToServer","tips","get_effective_tips_cards","jackto","serverCardValueToServer","showLazarilloPokerSelected","big_tips","get_big_tips_cards","popCardsType","curTime","SendCardTimeout","getCardCount","showCallLord","opratType","mustOutCard","opOutCard","opOutCardControl","show","mySendCards","gradeUp","getSendCard","playCard","neatenPoker","getLandlord","setCardDiZhu","getOpenHandCards","setCardShow","setCardCount","leftSendCards","isShowCard","playCardLeft","neatenLeftPoker","darkCardSend","rightSendCards","playCardRight","neatenRightPoker","btnMyPlayerClick","sendSeatId","receiveSeatId","showPlayerInfo","btnLeftPlayerClick","getMySeatId","btnRightPlayerClick","btnBackClick","continueRoomId","ST_GAME_BALANCE","ST_GAME_PREPARE","click","removeEventListener","preloadNextScene","showCommonDialog","btnDelegateClick","getDelegated","ST_GAME_CallLordOver","setDelegated","showCancelDelegate","prefab","newNode","addChild","prefabControl","btnSetClick","showSetDialog","btnJiPaiQiClick","showJPQShareGet","getIsActive","showNode","propItems","getPropItems","ST_GAME_START","showTableShareGet","showJPQ","mycards","btnChatClick","showMyChat","content","showLeftChat","showRightChat","showMyCardtype","showLeftCardtype","CardType","Straight","StraightDouble","showRightCardtype","AddCustomEvent","MyNode","onQueued","onGameReady","onTableTimesUpdate","onSendCard","onRefreshPlayerData","onTurnCallLord","onCallLord","onTurnGrabLord","onGrabLord","onCallLordOver","onCanDoubleResult","onTurnSendCard","onPlayerDelegated","onPlayerCancelDelegate","onPlayerSendCard","onPlayerNotSend","onPlayerShowCard","onGameComplete","onTableUserExit","onInvalidCardNum","onSayToTableInfo","onReconnectionData","onPokerTask","onOpenRechargeTipResult","onRefreshDataResult","onRepeatLogin","onEmoticonData","onSendLzCard","onShareWxResResult","onInvalidCardType","RemoveCustomEvent","initPlayerInfo","response","data","CallLordTimeout","GrabLordTimeout","CheckCardTimeout","AddRatioTime","newGame","setMySeatId","setMySeatNum","peers","k","v","curSeatId","setRoomId","setTableId","setSignature","setBuff","setPlay","setWin","seatNum","getPlayerSeatNum","parm","parseInt","myseat","roomid","tableid","signature","buff","play","win","initInfo","btn1Func","btn2Func","showGameResult","infos","click1","enterLimit","RoomConfig","click2","url","setCoin","coins","rate","rateMax","baseCoins","mySocre","myStwin","socre","total","infoItem","isdizhu","difen","beishu","ledou","stwin","nextScene","showShare","spring","boorSpring","showTaskCompleteShare","leQuanShareSucss","hideHint","getUserData","rateId","ST_GAME_Double","showAnimDouble","playCardsEffect","ST_GAME_SendCard","moveCardend","setTimeout","myCard","initMyCards","myShowCard","showCard","opratShowCard","ST_GAME_CallLord","opratDouble","callId","callLoad","showClock","seatId","status","showHint","hintType","callLoadNo","hideClock","grabLoad","grabLoadNo","lordId","noteCards","setJpqData","setLandlord","lordShowCard","playerRightShowCard","playerLeftShowCard","_cards","getNodeCards","candouble","can_double","waitingDouble","arg1","arg2","ST_GAME_OutCard","getShowHintType","preCards","card","sub","giveup","curCardType","setCurrentCards","outCardsNum","cardNum","cardCount","setNode_alarmShow","curSendCards","isShowCardType","StraightThree","StraightThreePlusSingle","StraightThreePlusPair","showAnimFeiJi","DoubleKing","showAnimHuoJian","animShakeNode","Bomb","SoftBomb","LazarilloBomb","showAnimZhaDan","dont","showCardInfo","setOpenHandCards","showAnimChunTian","ST_GAME_WAIT_NEXTROUND","chupaiClick","word","playSay","sendReq","fn","jpqShareSucss","leDouShareSucss","act","ST_GAME_GrabLord","lastJokto","players","lastCall","lastCards","lordCard","task","table_task","name","lottery","tip","coupon","w","turnSeat","turnSeatNum","info","trust","nick","img","sex","continueInfo","preSeatNum","is_done","trial_count","trial_cooldown","index","isShow","loadScene","payload","list","showAnimGetProp","setCoupon","setLeQuan","setLottery","mail_unread","setMailUnread","weichatgame_task_unaward","setTaskUnReward","weichatgame_invite_unaward","setShareUnReward","checkin_undo","setCheckinUndo","task1_unaward","setTask1Unaward","task2_unaward","setTask2Unaward","charge_rate","setChargeRate","setPropDress","setPropItems","id","emoticonData","sendSeatNum","receiveSeatNum","beginPos","endpos","audioUrl","prefabUrl","getPosition","showEmoticon","preloadScene","move1","moveTo","move2","move3","move4","move5","move6","move7","move8","move9","cardsList"],"mappings":"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","file":"GameTable.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar opratOutCardControl = require(\"opratOutCardControl\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar Player = require(\"Player\");\nvar EventHelper = require(\"EventHelper\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar LazarilloCardUtil = require(\"LazarilloCardUtil\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n        pokerLayerLeft:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerRight:{\n            default : null,\n            type : cc.Node,\n        },\n        pokerLayerMy:{\n            default : null,\n            type : cc.Node,\n        },\n        canvas:cc.Node, \n        opratOutCard:{\n            default : null,\n            type : cc.Prefab\n        },\n        myPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        leftPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        rightPlayer:{\n            default : null,\n            type : cc.Node,\n        },\n        WatingStartNode:{\n            default : null,\n            type : cc.Node,\n        }\n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        //xx_test\n        this.gameState = 0;\n        cc.game.on(cc.game.EVENT_HIDE, function(){\n            console.log(\"\");\n            config.stopOnMassage = true;\n            cc.vv.audioMgr.stopMusic();\n        },this);\n        cc.game.on(cc.game.EVENT_SHOW, function(){\n            console.log(\"\");\n            if(config.stopOnMassage){\n                GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n            }\n        },this);\n        cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n        this.showWatingStartGame();\n\n        // if(typeof(wx)==\"undefined\"){\n        //     return;\n        // }\n        // wx.onHide(function () {\n        //     console.log(\"wx \");\n        // });\n        // wx.onShow(function (){\n        //     console.log(\"wx \");\n        // });\n    },\n    start () {\n        var self = this;\n        var sceneWidth = cc.director.getWinSize().width;\n        var scene = cc.director.getScene();\n\n        console.log(\">>>>sceneWidth:\"+sceneWidth);\n\n        this.sceneWidth = sceneWidth;\n        this.scene = scene;\n        this.mySeatId = 0;\n\n        this.preSendCards = [];//\n        this.preSeatId = -1;//id\n\n        this.gameState = 0;//\n\n        this.myShowDialog = [];//\n\n        this.loadSeatId = 0; //id\n        this.nicknames = []; //\n        this.animShake = false; //\n        this.myHandCards = [];  //\n\n        this.taskComplete = false;\n        this.taskRewardNum = 0;\n    \n        self.touchBeganX = 0;\n        self.leftX = 0;\n        self.rightX = 0;\n        self.upY = 0;\n        self.downY = 0;\n        self.isTouchbegan = false;\n\n        var wechatImgUrl=config.wxInfo.avatarUrl;\n        //--\n        var detailModel = PlayerDetailModel;\n        var params = {};\n        params.uid = detailModel.getUid();\n        params.nickname = detailModel.getNickName();\n        params.gender = detailModel.getGender(); //toString\n        params.coin = detailModel.getCoin();\n        params.gold = detailModel.getGold();\n        params.lequan = detailModel.getCoupon();\n        params.propDress = detailModel.getPropDress();\n        params.wechatImg = wechatImgUrl;//detailModel.getWechatImg();\n        params.title = detailModel.getTitle();\n        params.emoticon = {};\n        params.emoticonItems = {};\n\n        this.myOpratShow = null; //\n        this.CancelDelegate = null;\n        this.ChatDialog = null;\n        this.jpqNode = null;\n        this.LazarilloPokerSelected = null;\n        this.gameResultControl = null;\n        this.myOpratCall = null;//\n        // this.watingStart = null;\n\n        this.myPokerData = [];\n        this.myPokerNode = [];\n        this.dispatchCard = [];\n        var player = new Player(params);\n        self.playerme_ = player;\n        self.initMyPlayerNode();\n        self.playerme_.initBaseInfo();\n\n        //xx_test\n        // config.joker = \"c\";//\"43\", \"33\",\"23\", \"13\", \n        // var cards = [\"2c\", \"1c\", \"31\", \"21\", \"1d\",\"4b\",\"3b\", \"2a\", \"49\", \"29\", \"47\", \"47\", \"44\"];//, \"33\", \"23\", \"13\"\n        // this.myPokerData = CardUtil.serverCardsToClient(cards);\n        // self.playerme_.initMyCards(this.myPokerData,this.myPokerNode,this.scene,this.sceneWidth,-1);\n        \n        // self.onMyOutCard(10000);\n        // this.registerTouchEvent();\n        // return;\n       \n        //\n        this.leftDispatchCard = [];\n        this.leftPokerData = [];\n        this.leftPokerNode = [];\n        this.left_player = new Player();\n        this.initLeftPlayerNode();\n        \n        // self.left_player.initBaseInfo();\n        // this.leftPokerData = this.myPokerData;\n        // this.left_player.playerLeftShowCard(this.leftPokerData,this.leftPokerNode,this.pokerLayerLeft,this.sceneWidth);\n\n        //\n        this.rightDispatchCard = [];\n        this.rightPokerData = [];\n        this.rightPokerNode = [];\n        this.right_player = new Player();\n        this.initRightPlayerNode();\n        // self.right_player.initBaseInfo();\n        // this.right_player.playerRightShowCard(this.rightPokerData,this.rightPokerNode,this.pokerLayerRight,this.sceneWidth);\n        \n        //\n        this.registerTouchEvent();\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.table3Card = [];\n        this.table3Cards = [];\n\n        if(config.IsContinueGaming == 1){\n            // console.log(\">>>>>>>>\");\n            GameNetMgr.sendRequest(\"Game\", \"reconnection\");\n            config.IsContinueGaming = 0;\n        }else{\n            GameNetMgr.sendRequest(\"Game\", \"startGame\");\n        }\n        this.registerEventListener();\n        this.initTable3Card();\n    },\n    //3\n    initTable3Card(){\n        this.node_diPai = cc.find(\"Canvas/top_bar1/diPai\");\n        this.node_pCardBg = cc.find(\"Canvas/top_bar1/p_card_bg\");\n        this.node_tableTimes = cc.find(\"Canvas/bottom_bar3/beishu/lab_bei\").getComponent(cc.Label);\n        this.node_pCardBg.active = false;\n\n        this.node_lazarillo_poker = cc.find(\"Canvas/top_bar1/lazarillo_poker\");\n        this.node_lazarillo_poker.active = false;\n        this.node_lazarillo_Num = cc.find(\"Canvas/top_bar1/lazarillo_poker/sp_num\").getComponent(cc.Sprite);\n    },\n    setLazarillo_poker(cardValue){\n        var self = this;\n        this.node_lazarillo_poker.active = true;\n        cardValue = CardUtil.serverCardValueToClient(cardValue);\n        var numUrl = \"cards/poke_\"+cardValue;\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.node_lazarillo_Num.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n    },\n    setTable3Card(severCards){\n        this.node_pCardBg.active = true;\n        this.table3Cards = severCards;\n        for(var i=0;i<3;i++){\n            var cardNode = cc.instantiate(this.pokerCard);\n            cardNode.parent = this.node_diPai;\n            cardNode.scale = 0.35;\n            var poker = cardNode.getComponent(PokerControl);\n            poker.showPoker(CardUtil.convertCardToClient(severCards[i]));\n            this.table3Card.push(cardNode);\n        }\n    },\n    clearTable3Card(){\n        this.node_pCardBg.active = false;\n        if(this.table3Card.length > 0){ //\n            for(var i = 0; i < this.table3Card.length; i++){\n                this.table3Card[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.table3Card = [];\n        }\n    },\n    setNodeRate(times){\n        console.log(times);\n        if(times&&times>=2){\n        }else{\n            return;\n        }\n        var self = this;\n        self.nodeRate.enabled = true;\n        if(times == 3){\n            cc.loader.loadRes(\"p_rate3\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }else{\n            cc.loader.loadRes(\"p_rate2\",cc.SpriteFrame,function(err,spriteFrame){\n                self.nodeRate.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n        }\n    },\n    initMyPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/my_player/head1/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/my_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_LeQuan =  cc.find(\"Canvas/my_player/lequan/lab_lequan\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/my_player/head1/p_dz_icon\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/my_tip/p_tip_jiaodizhu\").getComponent(cc.Sprite);\n        var node_wechatImg =  cc.find(\"Canvas/my_player/head1/p_head/p_head_1\").getComponent(cc.Sprite);\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = node_LeQuan;//\n        nodes.node_cardsNum = null;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = null;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = null;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = null;//\n\n        node_Landlord.enabled = false;\n        nodes.node_hint.enabled = false;\n        self.playerme_.initNodes(nodes);\n\n        //\n        self.node_taskbg = cc.find(\"Canvas/p_taskbg\").getComponent(cc.Sprite);\n        self.node_taskName = cc.find(\"Canvas/p_taskbg/taskName\").getComponent(cc.Label);\n        self.node_taskbg.enabled = false;\n        self.node_taskName.string = \"\";\n\n        self.lab_roomId = cc.find(\"Canvas/p_table_icon/lab_roomId\").getComponent(cc.Label);\n        if(config.tableInfo){\n            self.lab_roomId.string = config.tableName[config.tableInfo.roomId];\n        }   \n        self.leftChatBoxNode = cc.find(\"Canvas/leftchatBox\");\n        self.leftChatBoxLabel = cc.find(\"Canvas/leftchatBox/lab_content\").getComponent(cc.Label);\n        self.rightChatBoxNode = cc.find(\"Canvas/rightchatBox\");\n        self.rightChatBoxLabel = cc.find(\"Canvas/rightchatBox/lab_content\").getComponent(cc.Label);\n        self.leftChatBoxNode.active = false;\n        self.rightChatBoxNode.active = false;\n\n        //\n        self.leftCardtype = cc.find(\"Canvas/left_player/p_cardtype\").getComponent(cc.Sprite);\n        self.rightCardtype = cc.find(\"Canvas/right_player/p_cardtype\").getComponent(cc.Sprite);\n        self.leftCardtype.enabled = false;\n        self.rightCardtype.enabled = false;\n\n\n        //\n        self.nodeRate = cc.find(\"Canvas/top_bar1/p_rate\").getComponent(cc.Sprite);\n        self.nodeRate.enabled = false;\n\n    },\n    initLeftPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/left_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/left_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/left_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/left_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/left_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/left_player/left_tip/p_tip_yaobuqi\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/left_player/left_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/left_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/left_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = null;//\n        nodes.node_cardsNum = node_cardsNum;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = node_delegate;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = node_clockDwonTime;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = node_alarm;//\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.left_player.initNodes(nodes);\n    },\n    initRightPlayerNode(){\n        var self = this;\n        var node_name =  cc.find(\"Canvas/right_player/head/name\").getComponent(cc.Label);\n        var node_LeDou =  cc.find(\"Canvas/right_player/ledou/lab_ledou\").getComponent(cc.Label);\n        var node_cardsNum = cc.find(\"Canvas/right_player/p_card_1/cardNum\").getComponent(cc.Label);\n        var node_Landlord =  cc.find(\"Canvas/right_player/head/p_dz_icon\").getComponent(cc.Sprite);\n        var node_delegate =  cc.find(\"Canvas/right_player/head/p_delegate\").getComponent(cc.Sprite);\n        var node_hint =  cc.find(\"Canvas/right_player/right_tip/p_tip_qiangdizhu\").getComponent(cc.Sprite);\n        var node_clockDwonTime = cc.find(\"Canvas/right_player/right_clock/clockDown\");//.getComponent(cc.Node);\n        var node_wechatImg =  cc.find(\"Canvas/right_player/head/p_head/p_head_1\").getComponent(cc.Sprite);\n        var node_alarm =  cc.find(\"Canvas/right_player/alarm\");\n\n        var nodes = {};\n        nodes.node_name = node_name;//\n        nodes.node_LeDou = node_LeDou;//\n        nodes.node_LeQuan = null;//\n        nodes.node_cardsNum = node_cardsNum;// \n        nodes.node_Landlord = node_Landlord;//\n        nodes.node_delegate = node_delegate;//\n        nodes.node_hint = node_hint;// \n        nodes.node_clockDwonTime = node_clockDwonTime;//\n        nodes.node_wechatImg = node_wechatImg;//\n        nodes.pokerCard = this.pokerCard;//\n        nodes.node_alarm = node_alarm;//\n\n        node_Landlord.enabled = false;\n        node_delegate.enabled = false;\n        node_hint.enabled = false;\n        node_clockDwonTime.active = false;\n        node_alarm.active = false;\n\n        self.right_player.initNodes(nodes);\n    },\n    clearTable(){//\n        this.playerme_.clear();\n        this.left_player.clear();\n        this.right_player.clear();\n\n        this.clearTable3Card();\n\n        this.playerme_.clearTableCard(this.dispatchCard);\n        this.left_player.clearTableCard(this.leftDispatchCard);\n        this.right_player.clearTableCard(this.rightDispatchCard);\n\n        if(this.myPokerNode.length > 0){ //()\n            for(var i = 0; i < this.myPokerNode.length; i++){\n                this.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.myPokerNode = [];\n        }\n        this.myPokerData = [];\n\n        if(this.leftPokerNode.length > 0){ //()\n            for(var i = 0; i < this.leftPokerNode.length; i++){\n                this.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.leftPokerNode = [];\n        }\n        this.leftPokerData = [];\n\n        if(this.rightPokerNode.length > 0){ //()\n            for(var i = 0; i < this.rightPokerNode.length; i++){\n                this.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            this.rightPokerNode = [];\n        }\n        this.rightPokerData = [];\n\n        this.leftPlayer.active = false;\n        this.rightPlayer.active = false;\n        this.node_taskbg.enabled = false;\n        this.node_taskName.string = \"\";\n\n        this.nodeRate.enabled = false;\n\n        this.preSendCards = [];//\n        this.preSeatId = -1;//id\n        config.joker = \"\";\n\n        console.log(\"//\");\n\n        if(this.CancelDelegate){\n            console.log(\"// 11111\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        if(this.jpqNode){\n            console.log(\"// 11111\");\n            this.jpqNode.close();\n            this.jpqNode = null;\n        }\n\n        if(this.myOpratShow){\n            this.myOpratShow.close();\n            this.myOpratShow = null;\n        }\n    \n        if(this.myOpratCall){\n            this.myOpratCall.close();\n            this.myOpratCall = null;\n        }\n        \n        if(this.LazarilloPokerSelected){\n            this.LazarilloPokerSelected.closeClick();\n            this.LazarilloPokerSelected = null;\n        }\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        this.node_lazarillo_poker.active = false;\n        this.table3Cards = [];\n    },\n    //\n    registerTouchEvent(){\n        var self = this;\n        this.canvas.on(cc.Node.EventType.TOUCH_START, function(event){\n            // console.log(\"touchStart\");\n            if(self.myPokerNode.length < 1 && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n                return false;\n            var p = event.getLocation();\n            // console.log(\">>x:\"+p.x+\">>y:\"+p.y);\n            self.touchBeganX = p.x;\n            self.leftX = 0;\n            self.rightX = 10000;\n            self.upY = 10000;\n            self.downY = 0;\n            self.isTouchbegan = true;\n            self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n\n            if (self.isTouchbegan){\n                var x1 = self.myPokerNode[0].getPositionX();\n                var x2 = self.myPokerNode[self.myPokerNode.length-1].getPositionX();\n                var py = self.myPokerNode[0].getPositionY();\n                var psize = self.myPokerNode[0].getContentSize();\n                var pwidth = psize.width;\n                var pheight = psize.height;\n\n                var disBetween = 10;\n    \n                self.leftX = x1-pwidth/2-disBetween;\n                self.rightX = x2+pwidth/2+disBetween;\n                self.upY = py+pheight/2+40;\n                self.downY = py-pheight/2;\n\n                // console.log(\"self.leftX:\"+self.leftX+\"  self.rightX:\"+self.rightX+\" self.downY:\"+self.downY+\"  self.upY:\"+ self.upY);\n                if (self.isTouchbegan && (p.y > self.upY || p.y < self.downY || p.x < self.leftX || p.x > self.rightX)){\n                    self.moveAllCardDown(self.myPokerNode);\n                }\n            }\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,function(event){\n            // console.log(\"touchEnd\");\n            if(self.ChatDialog){\n                self.ChatDialog.close();\n                self.ChatDialog = null;\n            }\n            if(self.LazarilloPokerSelected){\n                self.LazarilloPokerSelected.closeClick();\n                self.LazarilloPokerSelected = null;\n            }\n            \n            if(self.myPokerNode.length < 1  && !config.sendCardState)//|| self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            self.moveCard(self.myPokerNode);\n        }, this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(event){\n            if(self.myPokerNode.length < 1 && !config.sendCardState)// || self.gameState < config.gameState.ST_GAME_OutCard\n            return;\n            var p = event.getLocation();\n            if (Math.abs(self.touchBeganX - p.x) > 40){\n                self.isTouchbegan = false;\n                self.setSelectCardByTouch(self.myPokerNode,p.x,p.y,self.isTouchbegan);\n            }\n        }, this.node);\n    },\n    //\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    setSelectCardByTouch(myPokerNode,x,y,istouchbegan){\n        var touchStart = this.touchBeganX;\n        var touchEnd = x;\n        this.isTouchbegan = istouchbegan;\n\n        if (this.touchBeganX > x){\n            touchStart = x;\n            touchEnd = this.touchBeganX; \n        }\n        //5 \n        if (touchEnd - touchStart<5){\n            touchEnd = touchStart;\n        }\n\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var posY = pokerNode.getPositionY();\n            var size = pokerNode.getContentSize();\n            var posX = pokerNode.getPositionX(); //+ size.width/2;\n\n            var width = size.width;\n            var height = size.height;\n\n            var disBetween = config.seatPos.center.disBetween;\n            if(this.sceneWidth > 2330){\n                disBetween = config.seatPos.center.disBetweenIX;\n            }\n\n            var right = posX - width/2+disBetween;\n            var left =  posX - width/2;\n            var buttom = posY - height/2;\n            var up = posY + height/2;\n            //\n            if(i == myPokerNode.length-1){\n                right = posX+width/2; \n            }\n            if ( y >= buttom && y <= up &&\n                ((left>= touchStart && left <= touchEnd) || (right>= touchStart && right <= touchEnd) ||\n                (touchStart>= left && touchStart <= right) || (touchEnd>= left && touchEnd <= right))){\n                    pokerNode.getComponent(PokerControl).setChoosed(true);\n                }else{\n            }\n        }   \n    },\n    moveCard(myPokerNode){\n        // this.cardData.isChoosed\n        var isChoosed = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isChoosed){\n                isChoosed = true;\n            }\n            pokerControl.cardMove();\n        }\n        //xx_test\n        if(isChoosed)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    moveAllCardDown(myPokerNode){\n        console.log(\"moveAllCardDown\");\n        var isTopped = false;\n        for(var i = 0;i < myPokerNode.length;i++){\n            var pokerNode = myPokerNode[i];\n            var pokerControl = pokerNode.getComponent(PokerControl);\n            if(pokerControl.cardData.isTopped){\n                isTopped = true;\n            }\n            pokerControl.cardMoveDown();\n        }\n        //xx_test\n        if(isTopped)\n            cc.vv.audioMgr.playSFX(\"Special_selectedCrad\");\n    },\n    onShow(){\n    },\n    onHide(){\n        // console.log(\"onHide\");\n        // //\n        // var topcards = CardUtil.getMyTopCards(this.myPokerNode,PokerControl);\n        \n        // var mycards = [];\n        // for(var i = this.myPokerData.length - 1; i > -1;i--){\n        //     mycards.push(this.myPokerData[i].showTxt);\n        //     console.log(\"xx\"+this.myPokerData[i].showTxt);\n        // } \n\n        // var autocards = CardUtil.getCardsFromTopCards(mycards,topcards);\n        // if(autocards.length < 1){\n        // }else{\n        //     this.moveAllCardDown(this.myPokerNode);//\n        //     CardUtil.AutoChooseLiftUpCard(this.myPokerNode,PokerControl,autocards);\n        // } \n    },\n    //\n    onMyOutCard(time){\n        var self = this;\n        var scene = cc.director.getScene();\n        var buchuFunc = function(){\n            self.moveAllCardDown(self.myPokerNode);\n            GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n            if(self.myOpratShow){\n                self.myOpratShow.close();\n                self.myOpratShow = null;\n            }\n        }\n        var tishiNum = 0;\n        var tishiFunc = function(){\n            //xx_test\n            // var cards = [\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"];//\"3\",\"3\",\"3\",\"3\"\n            var cards = [];\n            // console.log(\"-------preSendCards\",self.preSendCards);\n            if(self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                // console.log(pokerdata);\n                if(self.prejokto&&self.prejokto.length>0){\n                    var joktoIndex = 0;\n                    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                    var jokto = self.prejokto;\n                    for(var i=0;i<pokerdata.length;i++){\n                        if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                            var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                            cards.push(joktoValue);\n                            joktoIndex++;\n                        }else{\n                            cards.push(pokerdata[i].showTxt);\n                        }\n                    }\n                }else{\n                    for(var i =0;i<pokerdata.length;i++){\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n            }\n            cards.sort(config.arrayUp);\n            // console.log(cards);\n            var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n            var myCards = [];\n            console.log(cardstype);\n            for(var i = self.myPokerData.length - 1; i > -1;i--){\n                var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n                myCards.push(cardValue); \n            }\n\n            var tishicards = null;\n            if(config.joker != \"\"){\n                tishicards = LazarilloCardUtil.get_cards_larger(cardstype,myCards);\n            }else{\n                tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            }\n            // var tishicards = CardUtil.get_cards_larger(cardstype,myCards);\n            if(tishicards.length == 0){\n                console.log(\"\");\n                if(self.myOpratShow){\n                    // self.myOpratShow.chupaiClick(-2);\n                    buchuFunc();\n                }\n                return;\n            }\n            cards = tishicards[tishiNum];\n            if(tishiNum<tishicards.length-1){\n                tishiNum++;\n            }else{\n                tishiNum = 0;\n            }\n\n            self.node.stopAllActions();\n            self.moveAllCardDown(self.myPokerNode);\n            var callFunc = cc.callFunc(function(){\n                CardUtil.AutoChooseLiftUpCard(self.myPokerNode,PokerControl,cards);\n            });\n            var delay = cc.delayTime(0.1);\n            self.node.runAction(cc.sequence(delay,callFunc));\n\n            // return 100;\n        }\n        var chupaiFunc = function(){\n            console.log(\"\");\n            //\n            if(self.dispatchCard&&self.dispatchCard.length > 0){\n                console.log(\"dispatchCard.length:\"+self.dispatchCard.length);\n                for(var i = 0; i < self.dispatchCard.length; i++){\n                    self.dispatchCard[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.dispatchCard = [];\n            }\n            var topCards = [];\n            var topCardData = [];\n            //\n            for(var i = self.myPokerData.length - 1; i > -1;i--){\n                if(self.myPokerData[i].isTopped){\n                    var cardValue = CardUtil.StringToNumber(self.myPokerData[i].showTxt);\n                    topCards.push(cardValue);\n                    var cardType = self.myPokerData[i].showType;\n                    var pokerDataItem = {\n                        showTxt : cardValue,\n                        showType : cardType\n                    }\n                    topCardData.push(pokerDataItem);\n                }\n            }\n\n            //\n            var cards = [];//\"3\",\"3\",\"3\",\"3\"\n            if(config.joker != \"\"&&self.preSendCards&&self.preSendCards.length>0){\n                var pokerdata = CardUtil.serverCardsToClient(self.preSendCards);\n                // console.log(pokerdata);\n                if(self.prejokto&&self.prejokto.length>0){\n                    var joktoIndex = 0;\n                    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n                    var jokto = self.prejokto;\n                    for(var i=0;i<pokerdata.length;i++){\n                        if(jokto[joktoIndex] && pokerdata[i].showTxt == jokerValue){\n                            var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                            cards.push(joktoValue);\n                            joktoIndex++;\n                        }else{\n                            cards.push(pokerdata[i].showTxt);\n                        }\n                    }\n                }else{\n                    for(var i =0;i<pokerdata.length;i++){\n                        cards.push(pokerdata[i].showTxt);\n                    }\n                }\n                cards.sort(config.arrayUp);\n            }\n            \n            //\n            if(config.joker != \"\"){\n                var args = CardUtil.clientCardsToServer(topCardData);\n                console.log(\"-----\")\n                console.log(args);\n                if(args.length){\n                    // var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                    var tips = LazarilloCardUtil.get_effective_tips_cards(args, config.joker);\n                    console.log(tips);\n                    \n                    if(tips.length == 1){\n                        var jackto = tips[0][1];\n                        for(var i=0;i<jackto.length;i++){\n                            jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                        }\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:tips[0][0],1:jackto});\n                    }else if(tips.length > 1){\n                        if(self.mySeatId == self.preSeatId || self.myPokerData.length == 20){//\n                            self.showLazarilloPokerSelected(tips);\n                            return 100;\n                        }\n\n                        var cardstype = CardUtil.get_topCard_type(cards,self.preCardType);\n                        var big_tips = LazarilloCardUtil.get_big_tips_cards(tips,cardstype);\n                        if(big_tips.length == 1){\n                            var jackto = big_tips[0][1];\n                            for(var i=0;i<jackto.length;i++){\n                                jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n                            }\n                            GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:big_tips[0][0],1:jackto});//big_tips[0]\n                        }else{\n                            self.showLazarilloPokerSelected(big_tips);\n                        }\n                    }else{\n                        return -1;\n                    }\n                }\n                return 100;\n            }\n\n            if(topCards.length>=1){\n                var popCardsType = CardUtil.get_topCard_type(topCards);\n                // console.log(popCardsType);\n                if(popCardsType.type == 0){\n                    console.log(\"\");\n                    return -1;\n                }    \n            }else{\n                console.log(\"\");\n                return 0;\n            }\n            \n            var args = CardUtil.clientCardsToServer(topCardData);\n            // console.log(args);\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",args);\n            return 100;\n        }\n\n        var curTime = config.SendCardTimeout;\n        if(time){\n            curTime = time;\n        }\n\n        if(self.playerme_.getCardCount()==20 || self.mySeatId == self.preSeatId){\n            self.showCallLord(curTime,null,chupaiFunc,config.opratType.mustOutCard);\n        }else{\n            var opOutCard = cc.instantiate(this.opratOutCard);\n            opOutCard.parent = scene;\n            var opOutCardControl = opOutCard.getComponent(opratOutCardControl);\n            opOutCardControl.show(curTime,buchuFunc,tishiFunc,chupaiFunc);\n\n            if(!self.myOpratShow){\n                self.myOpratShow = opOutCardControl;\n            } \n        }\n    },\n    mySendCards(severCards,jokto){//\n        var self = this;\n\n        if(severCards){//()\n            var cardData = CardUtil.serverCardsToClient(severCards);\n            cardData.sort(CardUtil.gradeUp);//\n            self.dispatchCard = self.playerme_.getSendCard(self.dispatchCard,cardData,self.myPokerNode,self.myPokerData);\n        }\n\n        //\n        self.playerme_.playCard(self.dispatchCard,jokto);\n        self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        //\n        if(self.playerme_.getLandlord()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n        }\n        if(self.playerme_.getOpenHandCards()&&self.myPokerNode.length>0){\n            self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n        }\n        self.playerme_.setCardCount(self.myPokerNode.length);\n    },\n    leftSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n\n        if(!severCards){\n            return;\n        }\n\n        if(cardData){\n        }else{\n            cardData = CardUtil.serverCardsToClient(severCards);\n        }\n\n        //\n        if(isShowCard){\n            cardData.sort(CardUtil.gradeUp);//\n            self.leftDispatchCard = self.left_player.getSendCard(self.leftDispatchCard,cardData,self.leftPokerNode,self.leftPokerData);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n            self.left_player.neatenLeftPoker(self.leftPokerNode,config.seatPos.left,sceneWidth/2, 230);\n        }else{\n            //\n            self.leftDispatchCard = self.left_player.darkCardSend(self.leftDispatchCard,cardData,self.pokerLayerLeft,2,sceneWidth,jokto);\n            self.left_player.playCardLeft(self.leftDispatchCard,320,650,jokto);\n        }  \n    },\n    rightSendCards(severCards,cardData,isShowCard,jokto){\n        var self = this;\n        var sceneWidth = this.sceneWidth;\n        if(!severCards){\n            return;\n        }\n        if(cardData){\n        }else{\n            if(severCards){\n                cardData = CardUtil.serverCardsToClient(severCards);\n            } \n        }\n\n        if(isShowCard){\n            //\n            cardData.sort(CardUtil.gradeUp);//\n            self.rightDispatchCard = self.right_player.getSendCard(self.rightDispatchCard,cardData,self.rightPokerNode,self.rightPokerData);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n            self.right_player.neatenRightPoker(self.rightPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n        }else{\n            //\n            self.rightDispatchCard = self.right_player.darkCardSend(self.rightDispatchCard,cardData,self.pokerLayerRight,0,sceneWidth,jokto);\n            self.right_player.playCardRight(self.rightDispatchCard,620,650,jokto);\n        }  \n    },\n    //\n    btnMyPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.playerme_;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.mySeatId;\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnLeftPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.left_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.left_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnRightPlayerClick(){\n        console.log(\"\")\n        var args = {};\n        args.player = this.right_player;\n        args.sendSeatId = this.mySeatId;\n        args.receiveSeatId = this.right_player.getMySeatId();\n        dialogManager.showPlayerInfo(args);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnBackClick(){\n        var self = this;\n        console.log(\"btnBackClick\");\n        PlayerDetailModel.continueRoomId = 0;\n        if(self.gameState < config.gameState.ST_GAME_BALANCE&&self.gameState>config.gameState.ST_GAME_PREPARE){\n            var click = function(){ \n                // GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.removeEventListener();\n                self.preloadNextScene();\n            }\n            dialogManager.showCommonDialog(\"\",\"\",click);\n        }else{\n            if(self.gameState==config.gameState.ST_GAME_PREPARE){\n                GameNetMgr.sendRequest(\"Game\", \"exitRoom\");\n            }\n            self.removeEventListener();\n            self.preloadNextScene();\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnDelegateClick(){\n        console.log(\"btnDelegateClick\");\n        var self = this;\n        if(self.playerme_.getDelegated()){\n            console.log(\"\");\n        }else{\n            if(self.gameState >= config.gameState.ST_GAME_CallLordOver){\n                GameNetMgr.sendRequest(\"Game\",\"requestDelegate\",true);\n                self.playerme_.setDelegated(true);\n                self.showCancelDelegate();\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showCancelDelegate(){\n        var self = this;\n        if(self.CancelDelegate){\n            return;\n        }\n        var click = function(){\n            GameNetMgr.sendRequest(\"Game\",\"cancelDelegate\");\n            self.CancelDelegate = null;\n            self.playerme_.setDelegated(false);\n            cc.vv.audioMgr.playSFX(\"SpecOk\");\n        }\n        cc.loader.loadRes(\"prefab/CancelDelegate\", function (err, prefab) {\n            //\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10);\n            var prefabControl= newNode.getComponent(require(\"CancelDelegateController\"));\n            prefabControl.show(click);\n            self.CancelDelegate = prefabControl; \n        });\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnJiPaiQiClick(){\n        console.log(\"btnJiPaiQiClick\");\n        //\n        this.showJPQShareGet();\n\n        var self = this;\n        if(self.jpqNode){\n            if(self.jpqNode.getIsActive()){\n                self.jpqNode.showNode(false);\n            }else{\n                self.jpqNode.showNode(true);\n            }\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showJPQShareGet(){\n        //\n        var self = this;\n        var propItems = PlayerDetailModel.getPropItems();\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            return;\n        }\n\n        console.log(\">>>>>>gameState:\",self.gameState)\n        if(self.gameState > config.gameState.ST_GAME_START)\n            dialogManager.showTableShareGet(\"jipaiqi\");\n    },\n    showJPQ(mycards){\n        var self = this;\n        if(self.jpqNode){\n            // self.jpqNode.close();\n            // self.jpqNode = null;\n            self.jpqNode.show(mycards);\n            return;\n        }\n        cc.loader.loadRes(\"prefab/jpqNode\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9);\n            var prefabControl= newNode.getComponent(require(\"jpqNodeControl\"));\n            self.jpqNode = prefabControl; \n            self.jpqNode.show(mycards);\n        });\n    },\n    btnChatClick(){\n        console.log(\"btnChatClick\");\n        var self = this;\n        if(self.ChatDialog){\n            self.ChatDialog.close();\n            self.ChatDialog = null;\n        }else{\n            var click = function(){\n                self.ChatDialog = null;\n            }\n            cc.loader.loadRes(\"prefab/chatDialog\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,9999);\n                var prefabControl= newNode.getComponent(require(\"chatControl\"));\n                prefabControl.show(click);\n                self.ChatDialog = prefabControl; \n            });\n        }\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    showMyChat(content){\n        var self = this;\n        cc.loader.loadRes(\"prefab/chatBox\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"chatBoxControl\"));\n            prefabControl.show(content);\n        });\n    },\n    showLeftChat(content){\n        var self = this;\n        self.leftChatBoxNode.active = true;\n        self.leftChatBoxLabel.string = content;\n        this.pokerLayerLeft.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.leftChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerLeft.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightChat(content){\n        var self = this;\n        self.rightChatBoxNode.active = true;\n        self.rightChatBoxLabel.string = content;\n        this.pokerLayerRight.stopAllActions();\n        var callFunc = cc.callFunc(function(){\n            self.rightChatBoxNode.active = false;\n        });\n        var delay = cc.delayTime(2);\n        this.pokerLayerRight.runAction(cc.sequence(delay,callFunc)); \n    },\n    showMyCardtype(cardType){\n        cc.loader.loadRes(\"animatiom/anim_cardType\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            var prefabControl= newNode.getComponent(require(\"cardTypeControl\"));\n            prefabControl.show(cardType);\n        });\n    },\n    showLeftCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.leftCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.leftCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.leftCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.leftCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    showRightCardtype(cardType){\n        var self = this;\n        var numUrl = \"showTips/p_cardtype_1\";\n        if(cardType == config.CardType.Straight){\n        }else if(cardType == config.CardType.StraightDouble){\n            numUrl = \"showTips/p_cardtype_2\";\n        }\n        cc.loader.loadRes(numUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.rightCardtype.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n        self.rightCardtype.enabled = true;\n        var callFunc = cc.callFunc(function(){\n            self.rightCardtype.enabled = false;\n        });\n        var delay = cc.delayTime(2);\n        this.rightCardtype.node.runAction(cc.sequence(delay,callFunc)); \n    },\n    registerEventListener(){\n        var self = this;\n        EventHelper.AddCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        //ShareWxResResult\n        EventHelper.AddCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n    },\n    removeEventListener(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,\"Queued\",self.onQueued,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameReady\",self.onGameReady,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableTimesUpdate\",self.onTableTimesUpdate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendCard\",self.onSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshPlayerData\",self.onRefreshPlayerData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnCallLord\",self.onTurnCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLord\",self.onCallLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnGrabLord\",self.onTurnGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GrabLord\",self.onGrabLord,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CallLordOver\",self.onCallLordOver,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"CanDoubleResult\",self.onCanDoubleResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TurnSendCard\",self.onTurnSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerDelegated\",self.onPlayerDelegated,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerCancelDelegate\",self.onPlayerCancelDelegate,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerSendCard\",self.onPlayerSendCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerNotSend\",self.onPlayerNotSend,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PlayerShowCard\",self.onPlayerShowCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GameComplete\",self.onGameComplete,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TableUserExit\",self.onTableUserExit,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardNum\",self.onInvalidCardNum,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SayToTableInfo\",self.onSayToTableInfo,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ReconnectionData\",self.onReconnectionData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"PokerTask\",self.onPokerTask,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"RepeatLogin\",self.onRepeatLogin,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"EmoticonData\",self.onEmoticonData,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"SendLzCard\",self.onSendLzCard,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"ShareWxResResult\",self.onShareWxResResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"InvalidCardType\",self.onInvalidCardType,self);\n    },\n    //\n    initPlayerInfo(response){\n        var self = this;\n        if(response.data[\"time\"]){\n            //\n            config.CallLordTimeout = response.data[\"time\"][\"lord\"];\n            //\n            config.GrabLordTimeout = response.data[\"time\"][\"lord\"];\n            //\n            config.SendCardTimeout = response.data[\"time\"][\"send\"];\n            //--\n            config.CheckCardTimeout = response.data[\"time\"][\"giveup\"];\n            //\n            config.AddRatioTime = response.data[\"time\"][\"double\"]; \n        }else{\n            config.CallLordTimeout = 15;\n            //\n            config.GrabLordTimeout = 15;\n            //\n            config.SendCardTimeout = 30;\n            //--\n            config.CheckCardTimeout = 10;\n            //\n            config.AddRatioTime = 5;\n        }\n        var newGame = response[\"data\"][\"isNewGame\"];\n        this.nicknames = [];\n        if(newGame){\n            var mySeatId = response[\"data\"][\"seatId\"];\n            self.mySeatId = mySeatId;\n            self.playerme_.setMySeatId(mySeatId);\n            self.playerme_.setMySeatNum(1);\n            var peers = {0:response[\"data\"][\"0\"], 1:response[\"data\"][\"1\"], 2:response[\"data\"][\"2\"]};\n            for(var k in peers){\n                var v = peers[k];\n                var curSeatId = v[\"seatId\"];\n\n                this.nicknames.push(v[\"nick\"]);\n\n                if(curSeatId == mySeatId){\n                    self.playerme_.setMySeatId(v[\"seatId\"]);\n                    self.playerme_.setRoomId(v[\"roomId\"]);\n                    self.playerme_.setTableId(v[\"tableId\"]);\n                    self.playerme_.setSignature(v[\"word\"]);\n                    self.playerme_.setBuff(v[\"buff\"]);\n                    self.playerme_.setPlay(v[\"play\"]);\n                    self.playerme_.setWin(v[\"win\"]);\n                }else{\n                    var seatNum = 1;\n                    seatNum = config.getPlayerSeatNum(self.mySeatId,curSeatId);\n                    \n                    var parm = {};\n                    parm.uid = parseInt(v[\"uid\"]);\n                    parm.nickname = v[\"nick\"];\n                    parm.gender = v[\"sex\"];\n                    parm.coin = parseInt(v[\"coin\"]);\n                    parm.gold = parseInt(v[\"gold\"]);\n                    parm.propDress = v[\"propDress\"];\n                    parm.myseat = v[\"seatId\"];\n                    parm.roomid = v[\"roomId\"];\n                    parm.tableid = v[\"tableId\"];\n                    parm.signature = v[\"word\"];\n                    parm.buff = v[\"buff\"];\n                    parm.wechatImg = v[\"img\"];\n                    parm.title = v[\"title\"];\n                    parm.emoticon = {};\n                    parm.emoticonItems = {};\n                    parm.play = v[\"play\"];//\n                    parm.win = v[\"win\"];//\n\n                    if(seatNum == 2){//\n                        self.left_player.initInfo(parm);\n                        self.left_player.initBaseInfo();\n                        self.left_player.setMySeatNum(seatNum);\n                        self.leftPlayer.active = true;   \n                    }else if(seatNum == 0){//\n                        self.right_player.initInfo(parm);\n                        self.right_player.initBaseInfo();\n                        self.right_player.setMySeatNum(seatNum);\n                        self.rightPlayer.active = true;\n                    }\n                }\n            }\n        }else{\n            console.log(\" -----------\");\n        }\n    },\n    //\n    showCallLord(time,btn1Func,btn2Func,type){\n        var self = this;\n        cc.loader.loadRes(\"prefab/opratCallLord\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode);\n            var prefabControl= newNode.getComponent(require(\"opratCallLordControl\"));\n            prefabControl.show(time,btn1Func,btn2Func,type);\n            \n            if(type == 3 && !self.myOpratShow){\n                self.myOpratShow = prefabControl; \n            }else{\n                self.myOpratCall = prefabControl;\n            }\n        });\n    },\n    //\n    showGameResult(response){\n        var self = this;\n        var infos = [];\n        var data = response.data;\n\n        cc.vv.audioMgr.stopMusic();\n        config.IsContinueGaming = 0;\n        PlayerDetailModel.continueRoomId = 0;\n\n        var click1 = function(){//\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",true);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var click2 = function(){\n            self.clearTable();\n            cc.vv.audioMgr.stopMusic();\n            if(config.tableInfo&&self.playerme_.getCoin()<config.tableInfo.enterLimit){\n                if(config.tableInfo.roomId == config.RoomConfig[1].roomId||config.tableInfo.roomId == config.RoomConfig[7].roomId){\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                        console.log(\"----\");\n                    });\n                }else{\n                    dialogManager.showCommonDialog(\"\",\"\",function(){\n                        self.preloadNextScene();\n                    });\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"startGame\",false);\n                cc.vv.audioMgr.playBGM(\"MusicEx_Normal\");\n                self.gameResultControl.closeClick();\n                self.gameResultControl = null;\n            }\n        }\n        var url = \"prefab/gameResultWin\";\n\n        if(response[\"data\"][\"isWinner\"][\"\"+self.mySeatId] == 1){\n            cc.vv.audioMgr.playSFX(\"MusicEx_Win\");\n        }else{\n            url = \"prefab/gameResultLose\";\n            cc.vv.audioMgr.playSFX(\"MusicEx_Lose\");\n        }\n        self.playerme_.setCoin(data.coins[self.mySeatId]);\n   \n        var rate = data.rate;\n        var rateMax = data.rateMax;\n        var baseCoins = data.baseCoins;\n\n        var mySocre = 0;\n        var myStwin = 0;//\n\n        for (var i=0;i<3;i++){\n            var socre = data.total[\"\"+i];\n            var infoItem = {\n                isdizhu : self.loadSeatId==i,nickname : self.nicknames[i],difen : baseCoins,beishu : rate,ledou : socre,coin:data.coins[i],rateMax : rateMax\n            }\n            infos.push(infoItem);\n\n            if(self.mySeatId==i){\n                mySocre = socre;\n                myStwin = data.stwin[\"\"+i];\n            } \n        }\n\n        console.log(\">>>>>myStwin:\",myStwin);\n\n        if(!self.gameResultControl){\n            cc.loader.loadRes(url, function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var nextScene = function(){\n                    self.gameResultControl = null;\n                    self.removeEventListener();\n                    self.preloadNextScene();\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                var prefabControl= newNode.getComponent(require(\"gameResultControl\"));\n                prefabControl.show(infos,click1,click2,self.mySeatId,nextScene);\n                self.gameResultControl = prefabControl;\n            });\n        }\n\n        var showShare = false;\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            if(mySocre>0){\n                //\n                this.taskComplete = false;\n                dialogManager.showTaskCompleteShare(\"chuntian\");\n            } \n            showShare = true;\n        }\n\n        if(myStwin == 3 && !showShare){\n            //\n            dialogManager.showTaskCompleteShare(\"liansheng_3\");\n            showShare = true;\n        }\n\n        //\n        if(this.taskComplete && !showShare){\n            //\n            dialogManager.showTaskCompleteShare(\"lequan\");\n            config.leQuanShareSucss = true;\n            showShare = true;\n        }\n    },\n    showWatingStartGame(){\n        var self = this;\n        // cc.loader.loadRes(\"animatiom/watingStartGame\", function (err, prefab) {\n        //     //\n        //     if (err) {\n        //         console.log(err);\n        //         return;\n        //     }\n        //     var newNode = cc.instantiate(prefab);\n        //     cc.director.getScene().addChild(newNode);\n        //     var prefabControl = newNode.getComponent(require(\"watingStarControl\"));\n        //     self.watingStart = prefabControl;\n        //     self.watingStart.hideNode();\n        // });\n        var prefabControl = self.WatingStartNode.getComponent(require(\"watingStarControl\"));\n        self.watingStart = prefabControl;\n        self.watingStart.hideNode();\n    },\n    //\n    ////////////\n    onQueued(event){\n        var self = this;\n        console.log(\"---\");\n\n        if(self.gameState > 1 && self.gameState < 8)\n            return;\n\n        self.gameState = config.gameState.ST_GAME_PREPARE;\n        if(self.watingStart)\n            self.watingStart.showNode();\n    },\n    onGameReady(event){\n        var self = this;\n        console.log(\"---\");\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n        config.joker = \"\";\n\n        self.gameState = config.gameState.ST_GAME_START;\n        var response = event.getUserData();\n        self.initPlayerInfo(response);\n    },\n    onTableTimesUpdate(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var times = response[\"data\"][\"rate\"];\n        self.node_tableTimes.string = \"\" + times;\n        var rate = response[\"data\"][\"rate_num\"];\n        \n        var rateId = response[\"data\"][\"rateId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,rateId);\n\n        console.log(\"seatNum:\"+seatNum);\n        console.log(\"self.gameState:\"+self.gameState);\n\n        var gender = 1;\n\n        if(self.gameState == config.gameState.ST_GAME_Double){\n            if(seatNum == 1){//\n                gender = self.playerme_.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                }\n            }else if(seatNum == 0){//\n                gender = self.right_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.right_player.showHint(config.hintType.double);\n                }\n            }else if(seatNum == 2){//\n                gender = self.left_player.getGender();\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,seatNum);\n                    // self.left_player.showHint(config.hintType.double);\n                }\n            }else{\n                if(rate>1&&rate<=5){\n                    dialogManager.showAnimDouble(rate,1);\n                }\n            }\n\n            if(self.gameState == config.gameState.ST_GAME_Double){\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiabei\");\n            }\n                    \n        }else{\n            if(rate>1&&rate<=5){\n                dialogManager.showAnimDouble(rate,1);\n            }\n        }\n    },\n    onSendCard(event){\n        var self = this;\n        console.log(\", ---\");\n        self.gameState = config.gameState.ST_GAME_SendCard;\n\n        if(self.watingStart)\n            self.watingStart.hideNode();\n\n        self.playerme_.hideHint();\n        self.left_player.hideHint();\n        self.right_player.hideHint();\n\n        if(self.myPokerNode.length > 0){ //\n            for(var i = 0; i < self.myPokerNode.length; i++){\n                self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n            }\n            self.myPokerNode = [];\n        }\n        self.myPokerData = [];\n\n        config.sendCardState = true;\n        var moveCardend = function(){\n            config.sendCardState = false;\n        }\n        setTimeout(moveCardend,1800);\n\n        var response = event.getUserData();\n        self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n        self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth,-1);\n        cc.vv.audioMgr.playSFX(\"Special_Dispatch\");\n        self.myHandCards = response.data.myCard;\n\n        \n    \n        var myShowCard = response.data.showCard[self.mySeatId];\n        if(myShowCard == 0){\n            //\n            var click = function(time){\n                GameNetMgr.sendRequest(\"Game\",\"showCard\",time);\n            }\n            // dialogManager.showOpratShowCard(click);\n            cc.loader.loadRes(\"prefab/opratShowCard\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratShowCard = newNode.getComponent(require(\"opratShowCardControl\"));\n                self.opratShowCard.show(click);\n            });\n        } \n\n    },\n    onRefreshPlayerData(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var data = response.data;\n        if(data){\n            for(var i=0;i<data.length;i++){\n                var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n                if(seatNum == 1){//\n                    self.playerme_.setCoin(data[i].coins);\n                    PlayerDetailModel.setCoin(data[i].coins)\n                }else if(seatNum == 0){//\n                    self.right_player.setCoin(data[i].coins);\n                }else if(seatNum == 2){//\n                    self.left_player.setCoin(data[i].coins);\n                }\n            }\n        }\n    },\n    onTurnCallLord(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_CallLord;\n\n        if(this.watingStart)\n            this.watingStart.hideNode();\n\n        if(self.opratShowCard){\n            self.opratShowCard.close();\n            self.opratShowCard = null;\n        }\n        if(self.opratDouble){\n            self.opratDouble.close();\n            self.opratDouble = null;\n        }\n\n        var response = event.getUserData();\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,response.data.callId);\n        if(seatNum == 1){//\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                if(self.myOpratShow){\n                    self.myOpratShow.close();\n                    self.myOpratShow = null;\n                }\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.callLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onCallLord(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"beLordId\"];\n        var status = response[\"data\"][\"beLordInfo\"];  // 1 2\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 0){//\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }else if(seatNum == 2){//\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.callLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"jiaodizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.callLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"bujiao\");\n            }\n        }\n    },\n    onTurnGrabLord(event){\n        var self = this;\n        console.log(\"---\");\n\n        var response = event.getUserData();\n        var callId = response[\"data\"][\"callId\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,callId);\n        if(seatNum == 1){//\n            var btn1Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n            }\n            var btn2Func = function(){\n                GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n            }\n            self.showCallLord(config.CallLordTimeout,btn1Func,btn2Func,config.opratType.grabLoad);\n            self.playerme_.hideHint();\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.CallLordTimeout);\n            self.right_player.hideHint();\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.CallLordTimeout);\n            self.left_player.hideHint();\n        }\n    },\n    onGrabLord(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"grabLordId\"]\n        var status = response[\"data\"][\"grabLordInfo\"]\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            var gender = self.playerme_.getGender();\n            if(status == 1){\n                self.playerme_.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.playerme_.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 0){//\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            if(status == 1){\n                self.right_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.right_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }else if(seatNum == 2){//\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            if(status == 1){\n                self.left_player.showHint(config.hintType.grabLoad);\n                cc.vv.audioMgr.playCardsEffect(gender,\"qiangdizhu\");\n            }else{\n                self.left_player.showHint(config.hintType.grabLoadNo);\n                cc.vv.audioMgr.playCardsEffect(gender,\"buqiang\");\n            }\n        }\n    },\n    onCallLordOver(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_CallLordOver;\n        // self.playerme_.hideHint();\n        // self.left_player.hideHint();\n        // self.right_player.hideHint();\n\n        var hideHint = function(){\n            self.playerme_.hideHint();\n            self.left_player.hideHint();\n            self.right_player.hideHint();\n        }\n        setTimeout(hideHint,500);\n    \n        var response = event.getUserData();\n        var lordId = response[\"data\"][\"lordId\"];\n        var cards = response[\"data\"][\"lordCard\"];\n        var times = response[\"data\"][\"lordBonus\"];\n        self.setTable3Card(cards);\n        self.setNodeRate(times);\n\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n\n        self.loadSeatId = lordId; //id\n\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,lordId);\n        if(seatNum == 1){//\n            if(response.data.myCard&&response.data.myCard.length == 20){ //3\n                if(self.myPokerNode.length > 0){ //\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                \n                self.playerme_.setCardCount(20);\n                self.playerme_.setLandlord(true);\n                self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            }\n            self.myHandCards = response.data.myCard;\n        }else if(seatNum == 0){//\n            self.right_player.setCardCount(20);\n            self.right_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.rightPokerNode.length > 0){ //\n                    for(var i = 0; i < self.rightPokerNode.length; i++){\n                        self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.rightPokerNode = [];\n                }\n                self.rightPokerData = [];\n                self.rightPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }\n\n        }else if(seatNum == 2){//\n            self.left_player.setCardCount(20);\n            self.left_player.setLandlord(true);\n            if(response.data.lordShowCard&&response.data.lordShowCard.length == 20){\n                if(self.leftPokerNode.length > 0){ //\n                    for(var i = 0; i < self.leftPokerNode.length; i++){\n                        self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.leftPokerNode = [];\n                }\n                self.leftPokerData = [];\n                self.leftPokerData = CardUtil.serverCardsToClient(response.data.lordShowCard);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n        //\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onCanDoubleResult(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var candouble = response.data.can_double;\n\n        self.gameState = config.gameState.ST_GAME_Double;\n\n        if(candouble&&candouble == 1){\n            var btn1Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                GameNetMgr.sendRequest(\"Game\",\"addRatio\");\n            }\n            var btn2Func = function(){\n                self.playerme_.showHint(config.hintType.waitingDouble);\n                cc.vv.audioMgr.playCardsEffect(self.playerme_.getGender(),\"jiabeiNo\");\n            }\n            var args = {};\n            args.arg1 = btn1Func;\n            args.arg2 = btn2Func;\n\n            cc.loader.loadRes(\"prefab/opratDouble\", function (err, prefab) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var newNode = cc.instantiate(prefab);\n                cc.director.getScene().addChild(newNode,999);\n                self.opratDouble = newNode.getComponent(require(\"opratDoubleControl\"));\n                self.opratDouble.show(args);\n            });\n        }\n    },\n    onTurnSendCard(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        if(self.playerme_.getShowHintType()==config.hintType.waitingDouble){\n            self.playerme_.hideHint();\n        }\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            // self.onMyOutCard();\n            self.playerme_.hideHint();\n            self.playerme_.clearTableCard(self.dispatchCard);\n\n            // console.log(\"myCardCount:\"+self.myHandCards.length);\n            // console.log(self.myHandCards);\n\n            if (self.myHandCards.length == 1){ //\n                console.log(\"\");\n                if(self.mySeatId == self.preSeatId){\n                    GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    return;\n                }\n\n                if(self.preSendCards&&self.preSendCards.length == 1){\n                    var preCards = self.preSendCards[0];\n                    var card = self.myHandCards[0];\n                    var sub = CardUtil.convertCardToClient(card).showTxt - CardUtil.convertCardToClient(preCards).showTxt;\n                    console.log(\"sub = \"+sub);\n                    if(sub>0){\n                        GameNetMgr.sendRequest(\"Game\",\"sendCard\",self.myHandCards);\n                    }else{\n                        GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                    }\n                }else{\n                    GameNetMgr.sendRequest(\"Game\",\"giveupSendCard\");\n                }\n            }else{\n                self.onMyOutCard();\n            }\n\n            // self.playerme_.neatenPoker(self.myPokerNode,config.seatPos.center,self.sceneWidth);\n        }else if(seatNum == 0){//\n            self.right_player.showClock(config.SendCardTimeout);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }else if(seatNum == 2){//\n            self.left_player.showClock(config.SendCardTimeout);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n        }\n    },\n    onPlayerDelegated(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        var giveup = response[\"data\"][\"giveup\"]; //  0 1\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"---\"+seatNum);\n        if(seatNum == 1){//\n            if(!self.playerme_.getDelegated()){\n                self.showCancelDelegate();\n                self.playerme_.setDelegated(true);\n            }\n        }else if(seatNum == 0){//    \n            self.right_player.setDelegated(true); \n        }else if(seatNum == 2){//\n            self.left_player.setDelegated(true);\n        }\n    },\n    onPlayerCancelDelegate(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"trustId\"];\n        // var giveup = response[\"data\"][\"giveup\"]; //  0 1\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n\n        console.log(\"---\"+seatNum);\n        if(seatNum == 1){//\n            // if(self.playerme_.getDelegated()){\n            //     self.CancelDelegate.close();\n            //     self.CancelDelegate = null;\n            //     self.playerme_.setDelegated(false);\n            // }\n        }else if(seatNum == 0){//\n            self.right_player.setDelegated(false); \n        }else if(seatNum == 2){//\n            self.left_player.setDelegated(false); \n        }\n    },\n    onPlayerSendCard(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var noteCards = response.data.noteCards;\n        PlayerDetailModel.setJpqData(noteCards);\n        var curCardType = response[\"data\"][\"cardType\"];\n        \n        var jokto = [];\n        if(config.joker!=\"\"){\n            jokto = response.data.jokto;\n        }\n\n        var gender = 1;\n        if(seatNum == 1){//\n            self.playerme_.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.mySendCards(response[\"data\"][\"sendCards\"],jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.playerme_.getCardCount();\n            if(cardNum >= outCardsNum)\n                self.playerme_.setCardCount(cardNum-outCardsNum);\n\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            gender = self.playerme_.getGender();\n        }else if(seatNum == 0){//\n            gender = self.right_player.getGender();\n            self.right_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.rightSendCards(response[\"data\"][\"sendCards\"],null,self.right_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.right_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.right_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.right_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }\n            self.right_player.hideClock();\n        }else if(seatNum == 2){//\n            gender = self.left_player.getGender();\n            self.left_player.setCurrentCards(response[\"data\"][\"sendCards\"]);\n            self.leftSendCards(response[\"data\"][\"sendCards\"],null,self.left_player.getOpenHandCards(),jokto);\n            var outCardsNum = response[\"data\"][\"sendCards\"].length;\n            var cardNum =  self.left_player.getCardCount();\n            var cardCount = cardNum-outCardsNum;\n            if(cardCount >= 0){\n                self.left_player.setCardCount(cardCount);\n                if(cardCount == 2){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing2\");\n                }else if(cardCount == 1){\n                    self.left_player.setNode_alarmShow(true);\n                    cc.vv.audioMgr.playCardsEffect(gender, \"baojing1\");\n                }\n            }  \n            self.left_player.hideClock();\n        }\n        // self.preSendCards = response[\"data\"][\"sendCards\"];//\n        // self.preSeatId = seatId;//id\n\n        var curSendCards = response[\"data\"][\"sendCards\"];//\n        var curSeatId = seatId;//id\n        // console.log(response[\"data\"][\"sendCards\"]);\n        var isShowCardType = false;\n        if(curSendCards&&curSendCards.length>0){\n            var cardstype = curCardType;\n            if(cardstype == config.CardType.StraightThree||cardstype == config.CardType.StraightThreePlusSingle ||\n                cardstype == config.CardType.StraightThreePlusPair){\n                //\n                dialogManager.showAnimFeiJi();\n            }else if(cardstype == config.CardType.DoubleKing){\n                //\n                dialogManager.showAnimHuoJian();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Bomb || cardstype == config.CardType.SoftBomb || \n                cardstype == config.CardType.LazarilloBomb){\n                //\n                dialogManager.showAnimZhaDan();\n                self.animShakeNode();\n            }else if(cardstype == config.CardType.Straight){\n                //\n                isShowCardType = true;\n            }else if(cardstype == config.CardType.StraightDouble){\n                //\n                isShowCardType = true;\n            }\n            if(isShowCardType){\n                if(seatNum == 1){//\n                    self.showMyCardtype(cardstype);\n                }else if(seatNum == 0){//\n                    self.showRightCardtype(cardstype);\n                }else if(seatNum == 2){//\n                    self.showLeftCardtype(cardstype);\n                }\n            }\n        \n            cc.vv.audioMgr.playCardsEffect(gender,cardstype,curSendCards);\n        }\n\n        self.preSendCards = response[\"data\"][\"sendCards\"];//\n        self.preSeatId = seatId;//id\n        self.preCardType = curCardType;\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n\n        //\n        var propItems = PlayerDetailModel.getPropItems();\n        self.myHandCards = CardUtil.clientCardsToServer(self.myPokerData);\n        if (propItems[\"5\"] && propItems[\"5\"] == 1){\n            var _cards = CardUtil.getNodeCards(self.myHandCards);\n            if(_cards)\n                self.showJPQ(_cards);\n        }\n    },\n    onPlayerNotSend(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_OutCard;\n\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"callId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        if(seatNum == 1){//\n            self.playerme_.showHint(config.hintType.dont);\n            if(self.myOpratShow){\n                self.myOpratShow.close()\n                self.myOpratShow = null;\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 0){//\n            self.right_player.showHint(config.hintType.dont);\n            self.right_player.hideClock();\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }else if(seatNum == 2){//\n            self.left_player.showHint(config.hintType.dont);\n            self.left_player.hideClock();\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"buyao\");\n        }\n    },\n    onPlayerShowCard(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"showCardId\"];\n        var showCardInfo = response[\"data\"][\"showCardInfo\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        console.log(\"seatNum:\"+seatNum);\n        if(seatNum == 1){//\n            self.playerme_.setOpenHandCards(true);\n            if(self.myPokerNode.length>0){\n                self.myPokerNode[self.myPokerNode.length-1].getComponent(PokerControl).setCardShow(true);\n            }\n            var gender = self.playerme_.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 0){//\n            self.right_player.setOpenHandCards(true);\n            self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            var gender = self.right_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }else if(seatNum == 2){//\n            self.left_player.setOpenHandCards(true);\n            self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n            self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            var gender = self.left_player.getGender();\n            cc.vv.audioMgr.playCardsEffect(gender,\"mingpai\");\n        }\n    },\n    onGameComplete(event){\n        var self = this;\n        console.log(\"---\");\n        self.gameState = config.gameState.ST_GAME_BALANCE;\n        var response = event.getUserData();\n        // self.showGameResult(response);\n        // cc.vv.audioMgr.stopMusic();\n\n        console.log(response.data);\n\n        if(response.data.spring == 1 || response.data.boorSpring == 1){\n            //\n            dialogManager.showAnimChunTian();\n        }\n\n        var callFunc = cc.callFunc(function(){\n            self.showGameResult(response);\n            // self.clearTable();\n        });\n        var delay = cc.delayTime(2.0);\n        this.node.runAction(cc.sequence(delay,callFunc));\n\n        if(this.CancelDelegate){\n            console.log(\"//\");\n            this.CancelDelegate.close();\n            this.CancelDelegate = null;\n        }\n\n        //\n        for(var i = 0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var showCardInfo = response.data.cards[i];\n            if(seatNum == 1){//\n            }else if(seatNum == 0 && !self.right_player.getOpenHandCards()&&showCardInfo.length>0){//\n                // self.right_player.setOpenHandCards(true);\n                self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n            }else if(seatNum == 2 && !self.left_player.getOpenHandCards()&&showCardInfo.length>0){//\n                // self.left_player.setOpenHandCards(true);\n                self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo);\n                self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n            }\n        }\n\n    },\n    onTableUserExit(event){\n        var self = this;\n        console.log(\" ---\");\n        self.gameState = config.gameState.ST_GAME_WAIT_NEXTROUND;\n        // var response = event.getUserData();\n        // self.clearTable();\n\n        if(self.LazarilloPokerSelected){\n            self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n    },\n    onInvalidCardNum(event){\n        var self = this;\n        console.log(\" []---\");\n        var response = event.getUserData();\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },  \n    onInvalidCardType(event){\n        var self = this;\n        console.log(\" []---\");\n        if(self.myOpratShow){\n            self.myOpratShow.chupaiClick(-1);\n        }\n    },\n    onSayToTableInfo(event){\n        var self = this;\n        console.log(\"---\");\n        var response = event.getUserData();\n        var seatId = response[\"data\"][\"sayId\"];\n        var seatNum = config.getPlayerSeatNum(self.mySeatId,seatId);\n        var word = response[\"data\"][\"word\"];\n        if(seatNum == 1){//\n            this.showMyChat(word);\n            cc.vv.audioMgr.playSay(self.playerme_.getGender(),word);\n        }else if(seatNum == 0){//\n            this.showRightChat(word);\n            cc.vv.audioMgr.playSay(self.right_player.getGender(),word);\n        }else if(seatNum == 2){//\n            this.showLeftChat(word);\n            cc.vv.audioMgr.playSay(self.left_player.getGender(),word);\n        }\n    },\n    onReconnectionData(event){\n        console.log(\"-------\");\n        config.stopOnMassage = false;\n        var self = this;\n        var response = event.getUserData();\n        console.log(response)\n    \n        var sendReq = function(){\n            var fn = function(){\n                if(config.jpqShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",4);\n                }else if(config.leQuanShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",5);\n                }else if(config.leDouShareSucss){\n                    GameNetMgr.sendRequest(\"System\",\"ShareWxRes\",3);\n                    GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                }\n            }\n            setTimeout(fn,1000);\n        }\n        sendReq();\n\n        if(response.data.act == \"AUTO_CALL_LORD\"||response.data.act == \"TURN_CALL_LORD\"){\n            self.gameState = config.gameState.ST_GAME_CallLord;\n        }else if(response.data.act == \"AUTO_GRAB_LORD\"||response.data.act == \"TURN_GRAB_LORD\"){\n            self.gameState = config.gameState.ST_GAME_GrabLord;\n        }else if(response.data.act == \"AUTO_PLAY_CARD\"||response.data.act == \"TURN_PLAY_CARD\"){\n            self.gameState = config.gameState.ST_GAME_OutCard;\n        }\n\n        if(response.data.act == \"JOIN_TRIO\" && self.gameState == config.gameState.ST_GAME_PREPARE){\n            if(self.watingStart)\n                self.watingStart.showNode();\n            return;\n        }\n\n        if(response.data.act == \"WAIT_TOTAL_DONE\" && self.gameState < config.gameState.ST_GAME_BALANCE){//\n            dialogManager.showCommonDialog(\"\",\"\",function(){\n                config.IsContinueGaming = 0;\n                PlayerDetailModel.continueRoomId = 0;\n                self.preloadNextScene();\n            });\n            return;\n        }\n        if(response.data.act == \"WAIT_TOTAL_DONE\"){\n            return;\n        }\n        self.clearTable();\n\n        config.joker = response.data.joker;\n        var jokto = response.data.lastJokto;\n\n        if(config.joker!=\"\"){\n            self.prejokto = jokto;\n        }\n    \n        var players = {};\n        players.lastCall = response.data.lastCall;\n        players.lastCards = response.data.lastCards; //noteCards\n        players.noteCards = response.data.noteCards;\n        players.lordId = response.data.lordId;\n        players.noteCards = response.data.lordCard;\n        players.task = response.data.task;\n        players.rate = response.data.rate;\n\n        self.preSeatId = players.lastCall;\n\n        if(response.data.rate){\n            self.node_tableTimes.string = \"\" + response.data.rate;\n        }\n\n        // \n        // self.node_taskbg.enabled = true;\n        var table_task = players.task.name;\n        if (players.task.coins&&players.task.coins!=\"0\"){\n            table_task = table_task + \" \"+players.task.coins+\"\";\n        }else if(players.task.lottery&&players.task.lottery!=\"0\"){\n            table_task = table_task + \" \"+players.task.lottery+\"\";\n        }else if(players.task.tip){\n            table_task = table_task + players.task.tip;\n        }else if(players.task.coupon){\n            table_task = table_task + \" \"+players.task.coupon+\"\";\n            this.taskRewardNum = players.task.coupon;\n        }\n        if(table_task){\n            self.node_taskbg.enabled = true;\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;\n        }\n        \n\n        players.act = response.data.act;// TURN_CALL_LORD  TURN_GRAB_LORD  TURN_PLAY_CARD \n        players.time = response.data.time;//\n        players.turnSeat = response.data.turnSeat;//\n        var turnSeatNum = config.getPlayerSeatNum(response.data.mySeatId,players.turnSeat);\n\n        players.data = [];\n        for(var i = 0;i<3;i++){\n            var player = {};\n            player.cards = response[\"data\"][\"seat\"+i+\"cards\"];\n            player.info = response[\"data\"][\"seat\"+i+\"info\"];\n            player.show = response[\"data\"][\"seat\"+i+\"show\"];\n            player.trust = response[\"data\"][\"seat\"+i+\"trust\"];//\n            players.data.push(player);\n            self.nicknames[i] = player.info.nick;\n        }\n        console.log(\"players-------\");\n        console.log(players);\n\n        self.preSendCards = response.data.lastCards;//\n        self.preSeatId = response.data.lastCall;//id\n        \n        self.leftPlayer.active = true;\n        self.rightPlayer.active = true;\n\n        self.mySeatId = response.data.mySeatId;\n        if(players.lordId!=4){\n            self.loadSeatId = players.lordId;\n            if(config.joker!=\"\")\n                self.setLazarillo_poker(config.joker);\n            self.setTable3Card(response.data.lordCard);\n            var times = response[\"data\"][\"lordBouns\"];\n            self.setNodeRate(times);\n        }\n\n        for(var i=0;i<3;i++){\n            var seatNum = config.getPlayerSeatNum(self.mySeatId,i);\n            var cards = players.data[i].cards;\n            var show = players.data[i].show;\n            var info = players.data[i].info;\n            var trust = players.data[i].trust;\n            if(seatNum == 1){//\n                if(show == 1){//\n                }else{  \n                }\n                if(self.myPokerNode.length > 0){ //\n                    for(var i = 0; i < self.myPokerNode.length; i++){\n                        self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                    }\n                    self.myPokerNode = [];\n                }\n                self.myPokerData = [];\n                self.playerme_.setCardCount(cards.length);\n                self.playerme_.setOpenHandCards(show==1);\n                self.playerme_.setLandlord(players.lordId == i);\n                self.myPokerData = CardUtil.serverCardsToClient(cards);\n                self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n                \n                self.myHandCards = cards;\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.playerme_.continueInfo(parm);\n                if(trust != 0){\n                    console.log(\"\")\n                    self.playerme_.setDelegated(true);\n                    if(self.playerme_.getDelegated()){\n                        console.log(\"1111\")\n                        self.showCancelDelegate();\n                        // self.playerme_.setDelegated(true);\n                    }\n                }\n            }else if(seatNum == 0){//\n                if(show == 1){//\n                    if(self.rightPokerNode.length > 0){ //\n                        for(var i = 0; i < self.rightPokerNode.length; i++){\n                            self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.rightPokerNode = [];\n                    }\n                    self.rightPokerData = [];\n                    self.rightPokerData = CardUtil.serverCardsToClient(cards);\n                    self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                }else{  \n                }\n                self.right_player.setOpenHandCards(show==1);\n                self.right_player.setLandlord(players.lordId == i);\n                // self.right_player.setMySeatId();\n\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.right_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.right_player.setDelegated(true);\n                }\n            }else if(seatNum == 2){//\n                if(show == 1){//\n                    if(self.leftPokerNode.length > 0){ //\n                        for(var i = 0; i < self.leftPokerNode.length; i++){\n                            self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                        }\n                        self.leftPokerNode = [];\n                    }\n                    self.leftPokerData = [];\n                    self.leftPokerData = CardUtil.serverCardsToClient(cards);\n                    self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                }else{  \n                }\n                self.left_player.setOpenHandCards(show==1);\n                self.left_player.setLandlord(players.lordId == i);\n                var parm = {};\n                parm.nickname = info.nick;\n                parm.coin = info.coins;\n                parm.lequan = info.coupon;\n                parm.wechatImg = info.img;\n                parm.cardCount = cards.length;\n                parm.seatId = info.seatId;\n                parm.play = info.play;//\n                parm.win = info.win;//\n                parm.uid = info.uid;\n                parm.sex = info.sex;\n                self.left_player.continueInfo(parm);\n\n                if(trust != 0){\n                    self.left_player.setDelegated(true);\n                }\n            }\n        }\n        //\n        var preSeatNum = config.getPlayerSeatNum(response.data.mySeatId,self.preSeatId);\n        if(preSeatNum == 1){//\n            self.playerme_.setCurrentCards(self.preSendCards);\n            self.mySendCards(self.preSendCards,jokto);\n        }else if(preSeatNum == 0){//\n            self.right_player.setCurrentCards(self.preSendCards);\n            self.rightSendCards(self.preSendCards,null,self.right_player.getOpenHandCards(),jokto);\n        }else if(preSeatNum == 2){//\n            self.left_player.setCurrentCards(self.preSendCards);\n            self.leftSendCards(self.preSendCards,null,self.left_player.getOpenHandCards(),jokto);\n        }\n\n        //\n        if(turnSeatNum == 1){\n            if(players.act == \"AUTO_CALL_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){\n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"callLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.callLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_GRAB_LORD\"){\n                var btn1Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",1);\n                }\n                var btn2Func = function(){\n                    if(self.myOpratCall){ \n                        self.myOpratCall.close();\n                        self.myOpratCall = null;\n                    }\n                    GameNetMgr.sendRequest(\"Game\",\"grabLord\",2);\n                }\n                self.showCallLord(players.time,btn1Func,btn2Func,config.opratType.grabLoad);\n                self.playerme_.hideHint();\n            }else if(players.act == \"AUTO_PLAY_CARD\"){\n                if(self.myOpratShow){\n                    self.myOpratShow.close()\n                    self.myOpratShow = null;\n                }\n                self.onMyOutCard(players.time);//players.time 23\n                self.playerme_.hideHint();\n                self.playerme_.clearTableCard(self.dispatchCard);\n            }\n        }else if(turnSeatNum == 0){//\n            self.right_player.showClock(players.time);\n            self.right_player.hideHint();\n            self.right_player.clearTableCard(self.rightDispatchCard);\n        }else if(turnSeatNum == 2){//\n            self.left_player.showClock(players.time);\n            self.left_player.hideHint();\n            self.left_player.clearTableCard(self.leftDispatchCard);\n        }\n    },\n    onPokerTask(event){\n        console.log(\"-------\");\n        var self = this;\n        var response = event.getUserData();\n        self.node_taskbg.enabled = true;\n\n        this.taskComplete = false;\n\n        if(response.data&&response.data.is_done == 0){\n            var table_task = response.data.table_task;\n            if (response.data.coins){\n                table_task = table_task + \" \"+response.data.coins+\"\";\n            }else if(response.data.lottery){\n                table_task = table_task + \" \"+response.data.lottery+\"\";\n            }else if(response.data.tip){\n                table_task = table_task + response.data.tip;\n            }else{\n                table_task = table_task + \" \"+response.data.coupon+\"\";\n                this.taskRewardNum = response.data.coupon;\n            }\n            self.node_taskName.string = table_task;\n            var w = self.node_taskName.node.width;\n            self.node_taskbg.node.width = w+70;   \n        }else{\n            this.taskComplete = true;\n        }\n    },\n    onOpenRechargeTipResult(event){\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n        var trial_count = response.data.trial_count;\n        var trial_cooldown = response.data.trial_cooldown;\n        var content = \"\";\n\n        var callFunc = cc.callFunc(function(){\n            var click = function(){\n                console.log(\"\");\n                // if(trial_cooldown == 0){\n                //     GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n                // }else{\n                //     self.preloadNextScene();\n                // }\n            }\n            if(trial_cooldown == 0){\n                var index = trial_count+1;\n                content = \"\"+index+\"1000\";\n                // dialogManager.showCommonDialog(\"\",content,click);\n                // dialogManager.showShareGetDialog(\"\",\"\",click);\n                dialogManager.showTableShareGet(\"jiuji\");\n            }else{\n                content = \"\";\n                dialogManager.showCommonDialog(\"\",content,function(){\n                    self.preloadNextScene();\n                });\n            }\n        });\n        var delay = cc.delayTime(0.5);//0.5\n        this.node.runAction(cc.sequence(delay,callFunc));  \n    },\n    onRepeatLogin(event){\n        console.log(\"\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n        dialogManager.showCommonDialog(\"\",\"\",function(){\n            self.isShow = false;\n            cc.vv.audioMgr.stopMusic();\n            cc.director.loadScene(\"LoadingScene\");\n        });\n    },\n    onRefreshDataResult(event){\n        console.log(\"222------\");\n        var self = this;\n        var data = event.getUserData();\n        console.log(data);\n\n        var payload = data;\n        // var model = app:getModel(\"PlayerDetailModel\")\n        //\n        if (payload.data && payload.data.coins){\n            PlayerDetailModel.setCoin(payload.data.coins)\n            // self.setLeDou(PlayerDetailModel.getCoin());\n            self.playerme_.setCoin(payload.data.coins);\n\n            //\n            if(config.leDouShareSucss){\n                config.leDouShareSucss = false;\n                var list = [];\n                var args = {\n                    arg1:\"ledou\",\n                    arg2:1000,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);\n            } \n        }\n        //\n        if (payload.data && payload.data.coupon){\n            PlayerDetailModel.setCoupon(payload.data.coupon)\n            // self.setLuQuan(PlayerDetailModel.getCoupon());\n            self.playerme_.setLeQuan(payload.data.coupon);\n        }\n        //\n        if (payload.data && payload.data.lottery){\n            PlayerDetailModel.setLottery(payload.data.lottery)\n        }\n        //\n        if (payload.data && payload.data.mail_unread){\n            PlayerDetailModel.setMailUnread(payload.data.mail_unread)\n        }\n        //\n        if (payload.data && payload.data.weichatgame_task_unaward){\n            PlayerDetailModel.setTaskUnReward(payload.data.weichatgame_task_unaward)\n        }\n        //\n        if (payload.data && payload.data.weichatgame_invite_unaward){\n            PlayerDetailModel.setShareUnReward(payload.data.weichatgame_invite_unaward)\n        }\n\n\n        //0, 1\n        if (payload.data && payload.data.checkin_undo){\n            PlayerDetailModel.setCheckinUndo(payload.data.checkin_undo)\n        }\n        //\n        if (payload.data && payload.data.task1_unaward){\n            PlayerDetailModel.setTask1Unaward(payload.data.task1_unaward)\n        }\n        //\n        if (payload.data && payload.data.task2_unaward){\n            PlayerDetailModel.setTask2Unaward(payload.data.task2_unaward)\n        }\n        //\n        if (payload.data && payload.data.charge_rate){\n            PlayerDetailModel.setChargeRate(payload.data.charge_rate)\n        }\n        //\n        if (payload.data && payload.data.propDress){\n            PlayerDetailModel.setPropDress(payload.data.propDress)\n        }\n        //\n        if (payload.data && payload.data.propItems){\n            PlayerDetailModel.setPropItems(payload.data.propItems)\n\n            var propItems = PlayerDetailModel.getPropItems();\n            if (propItems[\"5\"] && propItems[\"5\"] == 1 && config.jpqShareSucss){\n                //\n                console.log(\"---\");\n                var fn = function(){\n                    var list = [];\n                    var args = {\n                        arg1:\"jipaiqi\",\n                        arg2:3,\n                    }\n                    list.push(args);\n                    dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n                }\n                setTimeout(fn,500);\n                config.jpqShareSucss = false;\n            }\n        }\n        // self.playerDetailController_:refreshUI()\n    },\n    onEmoticonData(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        // console.log(data);\n        var id = response.data.emoticonData.id;\n        var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.sendSeatId);\n        var receiveSeatNum = config.getPlayerSeatNum(self.mySeatId,response.data.emoticonData.receiveSeatId);\n\n        var beginPos = cc.p(0,0);\n        var endpos = cc.p(0,0);\n        var audioUrl = \"\";\n        var prefabUrl = \"\";\n        if(sendSeatNum == 1){//\n            beginPos = self.myPlayer.getPosition();\n        }else if(sendSeatNum == 0){//\n            beginPos = self.rightPlayer.getPosition();\n        }else if(sendSeatNum == 2){//\n            beginPos = self.leftPlayer.getPosition();\n        }\n        if(receiveSeatNum == 1){//\n            endpos = self.myPlayer.getPosition();\n        }else if(receiveSeatNum == 0){//\n            endpos = self.rightPlayer.getPosition();\n        }else if(receiveSeatNum == 2){//\n            endpos = self.leftPlayer.getPosition();\n        }\n        if(id == 1001){\n            audioUrl = \"mf_tuoxie\";\n            prefabUrl = \"animatiom/anim_tuoxie\";\n        }else if(id == 1002){\n            audioUrl = \"mf_xihongshi\";\n            prefabUrl = \"animatiom/anim_jidan\";\n        }else if(id == 1003){\n            audioUrl = \"mf_dianzan\";\n            prefabUrl = \"animatiom/anim_dianzan\"; \n        }else if(id == 1004){\n            audioUrl = \"mf_meigui\";\n            prefabUrl = \"animatiom/anim_xianhua\";\n        }\n\n        var args = {};\n        args.beginPos = beginPos;\n        args.endpos = endpos;\n        args.audioUrl = audioUrl;\n        args.prefabUrl = prefabUrl;\n\n        self.showEmoticon(args);\n    },\n    showEmoticon(args){\n        var prefabUrl = args.prefabUrl;\n        console.log(\"prefabUrl:\"+prefabUrl);\n        cc.loader.loadRes(prefabUrl, function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,9999);\n            newNode.getComponent(require(\"expressionControl\")).show(args);  \n        });\n    },\n    onSendLzCard(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        var joker = response.data.joker;\n        config.joker = joker;\n        if(config.joker!=\"\")\n            this.setLazarillo_poker(joker);\n        this.clearTable3Card();\n        this.setTable3Card(this.table3Cards);\n\n        if(response.data.myCard){ //3\n            if(self.myPokerNode.length > 0){ //\n                for(var i = 0; i < self.myPokerNode.length; i++){\n                    self.myPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                }\n                self.myPokerNode = [];\n            }\n            self.myPokerData = [];\n    \n            self.myPokerData = CardUtil.serverCardsToClient(response.data.myCard);\n            self.myPokerNode = self.playerme_.initMyCards(self.myPokerData,self.myPokerNode,self.scene,self.sceneWidth);\n            self.myHandCards = response.data.myCard;\n        }\n        var showCardInfo = response.data.showCardInfo;\n        console.log(\"showCardInfo>>>\",showCardInfo);\n        if(showCardInfo){\n            for(var index=0;index<showCardInfo.length;index++){\n                var sendSeatNum = config.getPlayerSeatNum(self.mySeatId,index);\n                if(sendSeatNum == 1){//\n                }else if(sendSeatNum == 0){//\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.rightPokerNode.length > 0){ //\n                            for(var i = 0; i < self.rightPokerNode.length; i++){\n                                self.rightPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.rightPokerNode = [];\n                        }\n                        self.rightPokerData = [];\n                        console.log(index+\" : \",showCardInfo[index])\n                        self.rightPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.right_player.playerRightShowCard(self.rightPokerData,self.rightPokerNode,self.pokerLayerRight,self.sceneWidth);\n                    }\n                }else if(sendSeatNum == 2){//\n                    if(showCardInfo[index]&&showCardInfo[index].length > 1){\n                        if(self.leftPokerNode.length > 0){ //\n                            for(var i = 0; i < self.leftPokerNode.length; i++){\n                                self.leftPokerNode[i].getComponent(PokerControl).node.removeFromParent();\n                            }\n                            self.leftPokerNode = [];\n                        }\n                        self.leftPokerData = [];\n                        console.log(index+\" : \",showCardInfo[index])\n                        self.leftPokerData = CardUtil.serverCardsToClient(showCardInfo[index]);\n                        self.left_player.playerLeftShowCard(self.leftPokerData,self.leftPokerNode,self.pokerLayerLeft,self.sceneWidth);\n                    }\n                }\n            }\n        }\n    },\n    onShareWxResResult(event){\n        console.log(\"------\");\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n\n        if(config.leQuanShareSucss){\n            config.leQuanShareSucss = false;\n            var fn = function(){\n                console.log(\"taskRewardNum = \",self.taskRewardNum)\n                var list = [];\n                var args = {\n                    arg1:\"lequan\",\n                    arg2:3,\n                }\n                list.push(args);\n                dialogManager.showAnimGetProp(list);//\"lequan\",//jipaiqi\n            }\n            setTimeout(fn,500);\n        } \n    },\n////////////\n    preloadNextScene(){\n        cc.director.preloadScene(\"HallScene\", function () {\n            cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"HallScene\");\n        });\n    },\n    //\n    animShakeNode(){\n        var self = this;\n        if(this.animShake){\n            return;\n        }\n        this.animShake = true;\n        var x = this.scene.x;\n        var y = this.scene.y;\n        var move1 = cc.moveTo(0.08, x-5, y-5);\n        var move2 = cc.moveTo(0.08, x+5, y+5);\n        var move3 = cc.moveTo(0.08, x-5, y+5);\n        var move4 = cc.moveTo(0.08, x+5, y-5);\n        var move5 = cc.moveTo(0.08, x-3, y-3);\n        var move6 = cc.moveTo(0.08, x+3, y+3);\n        var move7 = cc.moveTo(0.08, x-3, y+3);\n        var move8 = cc.moveTo(0.08, x+3, y-3);\n        var move9 = cc.moveTo(0.08, x, y);\n        var callFunc = cc.callFunc(function(){\n            self.animShake = false;\n        });\n        this.scene.runAction(cc.sequence(move1,move2,move3,move4,move5,move6,move7,move8,move9,callFunc));\n    },\n    showLazarilloPokerSelected(cardsList){\n        var self = this;\n        if(self.LazarilloPokerSelected)\n            return;\n        var click = function(){\n            // self.LazarilloPokerSelected.closeClick();\n            self.LazarilloPokerSelected = null;\n        }\n\n        cc.loader.loadRes(\"prefab/LazarilloPokerSelected\", function (err, prefab) {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            var newNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(newNode,10000);\n            var prefabControl= newNode.getComponent(require(\"LazarilloPokerSelectedControl\"));\n            prefabControl.show(cardsList,click);\n            self.LazarilloPokerSelected = prefabControl; \n        });\n    }\n\n});\n"]}