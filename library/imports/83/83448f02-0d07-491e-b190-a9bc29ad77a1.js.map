{"version":3,"sources":["../../../../../assets/Script/animation/assets/Script/animation/huodedaojuControl.js"],"names":["animPropControl","require","cc","Class","extends","Component","properties","node_ske","default","type","Node","propList","anima_prop","Prefab","onLoad","width","director","getWinSize","height","node","start","show","args","list","arg1","click","arg2","enterClick","i","length","info","prop","instantiate","parent","task","getComponent","self","vv","audioMgr","playSFX","dragonDisplay","dragonBones","ArmatureDisplay","callFunc1","callFunc","playAnimation","callFunc2","delay1","delayTime","runAction","sequence","close","destroy"],"mappings":";;;;;;AAAA;AACA;AACA,IAAIA,kBAAkBC,QAAQ,iBAAR,CAAtB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAW;AACPC,qBAAU,IADH;AAEPC,kBAAOP,GAAGQ;AAFH,SADH;AAKRC,kBAAW;AACPH,qBAAU,IADH;AAEPC,kBAAOP,GAAGQ;AAFH,SALH;AASRE,oBAAa;AACTJ,qBAAU,IADD;AAETC,kBAAOP,GAAGW;AAFD;;AATL,KAHP;AAkBLC,UAlBK,oBAkBK;AACN,YAAIC,QAAQb,GAAGc,QAAH,CAAYC,UAAZ,GAAyBF,KAArC;AACA,YAAIG,SAAShB,GAAGc,QAAH,CAAYC,UAAZ,GAAyBC,MAAtC;AACA;AACA;AACA,aAAKC,IAAL,CAAUJ,KAAV,GAAkBA,KAAlB;AACA,aAAKI,IAAL,CAAUD,MAAV,GAAmBA,MAAnB;AACH,KAzBI;AA0BLE,SA1BK,mBA0BI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KA5CI;AA6CLC,QA7CK,gBA6CAC,IA7CA,EA6CK;AACN,YAAIC,OAAOD,KAAKE,IAAhB;AACA,YAAIC,QAAQH,KAAKI,IAAjB;AACA,aAAKC,UAAL,GAAkBF,KAAlB;;AAEA,aAAI,IAAIG,IAAI,CAAZ,EAAcA,IAAEL,KAAKM,MAArB,EAA4BD,GAA5B,EAAgC;AAC5B,gBAAIE,OAAOP,KAAKK,CAAL,CAAX;AACA,gBAAIG,OAAO7B,GAAG8B,WAAH,CAAe,KAAKpB,UAApB,CAAX;AACAmB,iBAAKE,MAAL,GAAc,KAAKtB,QAAnB;AACA,gBAAIuB,OAAOH,KAAKI,YAAL,CAAkBnC,eAAlB,CAAX;AACAkC,iBAAKb,IAAL,CAAUS,IAAV;AACH;;AAED,YAAIM,OAAO,IAAX;AACAlC,WAAGmC,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,YAAvB;AACA,YAAIC,gBAAgBJ,KAAK7B,QAAL,CAAc4B,YAAd,CAA2BM,YAAYC,eAAvC,CAApB;AACA,YAAIC,YAAYzC,GAAG0C,QAAH,CAAY,YAAU;AAClC,gBAAGJ,aAAH,EAAiB;AACbA,8BAAcK,aAAd,CAA4B,cAA5B;AACH;AACJ,SAJe,CAAhB;AAKA,YAAIC,YAAY5C,GAAG0C,QAAH,CAAY,YAAU;AAClC,gBAAGJ,aAAH,EAAiB;AACbA,8BAAcK,aAAd,CAA4B,eAA5B;AACH;AACJ,SAJe,CAAhB;AAKA,YAAIE,SAAS7C,GAAG8C,SAAH,CAAa,GAAb,CAAb;AACA,aAAKzC,QAAL,CAAc0C,SAAd,CAAwB/C,GAAGgD,QAAH,CAAYP,SAAZ,EAAsBI,MAAtB,EAA6BD,SAA7B,CAAxB;AACH,KAzEI;AA0ELK,SA1EK,mBA0EE;AACH,YAAG,KAAKxB,UAAR,EAAmB;AACf,iBAAKA,UAAL;AACH;AACD,aAAKR,IAAL,CAAUiC,OAAV;AACH;AA/EI,CAAT","file":"huodedaojuControl.js","sourceRoot":"../../../../../assets/Script/animation","sourcesContent":["// var GameNetMgr = require(\"GameNetMgr\");\n// var config = require(\"config\");\nvar animPropControl = require(\"animPropControl\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        node_ske : {\n            default : null,\n            type : cc.Node\n        },\n        propList : {\n            default : null,\n            type : cc.Node\n        },\n        anima_prop : {\n            default : null,\n            type : cc.Prefab\n        },\n        \n    },\n    onLoad () {\n        var width = cc.director.getWinSize().width;\n        var height = cc.director.getWinSize().height;\n        // console.log(\"width:\"+width);\n        // console.log(\"height:\"+height);\n        this.node.width = width;\n        this.node.height = height;\n    },\n    start () {\n        // var list=[];\n        // var args = {\n        //     arg1:\"ledou\",//jipaiqi\n        //     arg2:200,\n        // }\n        // var args1 = {\n        //     arg1:\"jipaiqi\",//jipaiqi\n        //     arg2:200,\n        // }\n        // var args2 = {\n        //     arg1:\"lequan\",\n        //     arg2:200,\n        // }\n        // list.push(args);\n        // list.push(args1);\n        // list.push(args2);\n        // this.show(list);\n    },\n    show(args){\n        var list = args.arg1;\n        var click = args.arg2;\n        this.enterClick = click;\n\n        for(var i = 0;i<list.length;i++){\n            var info = list[i];\n            var prop = cc.instantiate(this.anima_prop);\n            prop.parent = this.propList;\n            var task = prop.getComponent(animPropControl);\n            task.show(info)\n        }\n\n        var self = this;\n        cc.vv.audioMgr.playSFX(\"gifteffect\");\n        var dragonDisplay = self.node_ske.getComponent(dragonBones.ArmatureDisplay);\n        var callFunc1 = cc.callFunc(function(){\n            if(dragonDisplay){\n                dragonDisplay.playAnimation('newAnimation'); \n            }\n        });\n        var callFunc2 = cc.callFunc(function(){\n            if(dragonDisplay){\n                dragonDisplay.playAnimation('newAnimation1');\n            }\n        });\n        var delay1 = cc.delayTime(0.5);\n        this.node_ske.runAction(cc.sequence(callFunc1,delay1,callFunc2)); \n    },\n    close(){\n        if(this.enterClick){\n            this.enterClick();\n        }\n        this.node.destroy();\n    }\n});\n"]}