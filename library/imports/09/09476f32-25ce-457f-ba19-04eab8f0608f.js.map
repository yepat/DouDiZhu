{"version":3,"sources":["../../../../assets/Script/assets/Script/RoomLayerControl.js"],"names":["config","require","EventHelper","PlayerDetailModel","GameNetMgr","Events","dialogManager","cc","Class","extends","Component","properties","room1","default","type","Node","room2","room3","room4","onLoad","rooms","push","initBaseInfo","start","self","IsContinueGaming","roomModelId_","curRoomModelId","AddCustomEvent","MyNode","Network","LoginRoomResult","onLoginRoomResult","onOpenRechargeTipResult","onEnable","console","log","initRoomInfo","onDisable","onDestroy","event","data","getUserData","handleLoginRoomResult","roomInfos","i","index","name","strPeopleNum","strCoins","strBaseCoin","lab_peopleNum","find","getComponent","Label","lab_coins","pBaseCoin","Sprite","item","peopleNum","coins","baseCoin","active","node_roomName","roomNameUrl","baseCoinUrls","ModelId","lazarillo","loader","loadRes","SpriteFrame","err","spriteFrame","roomType_","getRoom","k","v","modelId","length","string","pepleNumAdd","str_enter","replace","baseCoin0","baseCoin1","baseCoin2","baseCoin3","room1Click","selectedIdx_","roomMinScore","trialInfo","gotoRoom","vv","audioMgr","playSFX","room2Click","room3Click","room4Click","quickStartClick","onWantGotoRoom","str","curNum","parseInt","endNum","mRoomId","getCoin","arg","roomId","isContinue","RoomConfig","sendRequest","click","showCommonDialog","setCoin","payload","isGotoLazarillo_","ok","args","contest","m_sended","m_totalTimes","m_curTimes","isSend","sended","totalTimes","curTimes","tableInfo","preloadNextScene","noCoin","inGaming","normal","onWantContinueGaming","model","getRoomByModel","room","enterLimit","enterLimit_","response","trial_count","content","RemoveCustomEvent","director","preloadScene","loadScene"],"mappings":"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","file":"RoomLayerControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar EventHelper = require(\"EventHelper\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar Events = require(\"Events\");\nvar dialogManager = require(\"dialogManager\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        room1 : {\n            default : null,\n            type : cc.Node\n        },\n        room2 : {\n            default : null,\n            type : cc.Node\n        },\n        room3 : {\n            default : null,\n            type : cc.Node\n        },\n        room4 : {\n            default : null,\n            type : cc.Node\n        },\n        \n    },\n    onLoad () {\n        var rooms = [];\n        rooms.push(this.room1);\n        rooms.push(this.room2);\n        rooms.push(this.room3);\n        rooms.push(this.room4);\n        this.rooms = rooms;\n        // console.log(this.rooms);\n        this.initBaseInfo();\n    },\n    start () {\n        var self = this;\n        config.IsContinueGaming = 0;\n        this.roomModelId_ = config.curRoomModelId;\n        // this.initRoomInfo();\n        EventHelper.AddCustomEvent(config.MyNode,Events.Network.LoginRoomResult,self.onLoginRoomResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n    },\n    onEnable(){\n        console.log(\" RoomLayer onEnable\");\n        config.IsContinueGaming = 0;\n        this.roomModelId_ = config.curRoomModelId;\n        this.initRoomInfo();\n    },\n    onDisable(){\n        console.log(\" RoomLayer onDisable\");\n    },\n    onDestroy(){\n        console.log(\" RoomLayer Destroy\");\n    },\n    onLoginRoomResult(event){\n        var self = this;\n        console.log(\"登陆房间回掉---\");\n        var data = event.getUserData();\n        // console.log(data);\n        self.handleLoginRoomResult(data); \n    },\n    initBaseInfo(){\n        var roomInfos = [];\n        for(var i=0;i<4;i++){\n            var index = i+1;\n            var name = \"p_room_\"+index;\n            var strPeopleNum = \"Canvas/happyroom/rooms/\"+name+\"/lab_peopleNum\";\n            var strCoins = \"Canvas/happyroom/rooms/\"+name+\"/lab_coins\";\n            var strBaseCoin = \"Canvas/happyroom/rooms/\"+name+\"/p_roomA_num\";\n\n            var lab_peopleNum = cc.find(strPeopleNum).getComponent(cc.Label);\n            var lab_coins = cc.find(strCoins).getComponent(cc.Label);\n            var pBaseCoin = cc.find(strBaseCoin).getComponent(cc.Sprite);\n            var item = {\n                peopleNum:lab_peopleNum,\n                coins:lab_coins,\n                baseCoin:pBaseCoin\n            }\n            roomInfos.push(item);\n            this.rooms[i].active = false;\n        }\n        this.roomInfos = roomInfos;\n        this.node_roomName = cc.find(\"Canvas/happyroom/topBar/p_roomName\").getComponent(cc.Sprite);\n    },\n    initRoomInfo(){\n        console.log(\">>>initRoomInfo\");\n        var self = this;\n        for(var i=0;i<4;i++){\n            this.rooms[i].active = false;\n        }\n\n        var roomNameUrl = \"roomInfo/p_roomA\";\n        var baseCoinUrls = [\"roomInfo/p_roomA_num_1\",\"roomInfo/p_roomA_num_2\",\"roomInfo/p_roomA_num_3\",\"roomInfo/p_roomA_num_4\"];\n        if(config.curRoomModelId == config.ModelId.lazarillo){\n            roomNameUrl = \"roomInfo/p_roomB\";\n            baseCoinUrls = [\"roomInfo/p_roomB_num_1\",\"roomInfo/p_roomB_num_2\",\"roomInfo/p_roomB_num_3\",\"roomInfo/p_roomB_num_4\"];\n        }\n        cc.loader.loadRes(roomNameUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.node_roomName.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n\n\n        var roomType_ = [];\n        var rooms = PlayerDetailModel.getRoom();\n        for(var k in rooms){\n            var v = rooms[k];\n            if(v.modelId == config.curRoomModelId){\n                roomType_ =  v.rooms;\n            }\n        }\n        this.roomType_ = roomType_;\n        console.log(roomType_);\n        // console.log(\"curRoomModelId:\"+config.curRoomModelId);\n        for(var i = 0;i<roomType_.length;i++){\n            this.rooms[i].active = true;\n            this.roomInfos[i].peopleNum.string = \"\"+this.pepleNumAdd(roomType_[i][\"onlineNum\"]);\n            var str_enter = roomType_[i][\"enter\"].replace(\"乐豆\", \"\");\n            this.roomInfos[i].coins.string = str_enter;\n        }\n\n        for(var i = 0;i<roomType_.length;i++){\n            if(i==0){\n                var baseCoin0 = this.roomInfos[i].baseCoin;\n                cc.loader.loadRes(baseCoinUrls[i],cc.SpriteFrame,function(err,spriteFrame){\n                    baseCoin0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n            }else if(i==1){\n                var baseCoin1 = this.roomInfos[i].baseCoin;\n                cc.loader.loadRes(baseCoinUrls[i],cc.SpriteFrame,function(err,spriteFrame){\n                    baseCoin1.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n            }else if(i==2){\n                var baseCoin2 = this.roomInfos[i].baseCoin;\n                cc.loader.loadRes(baseCoinUrls[i],cc.SpriteFrame,function(err,spriteFrame){\n                    baseCoin2.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n            }else if(i==3){\n                var baseCoin3 = this.roomInfos[i].baseCoin;\n                cc.loader.loadRes(baseCoinUrls[i],cc.SpriteFrame,function(err,spriteFrame){\n                    baseCoin3.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n            }\n        }\n    },\n    room1Click(){\n        console.log(\"room1Click\");\n        this.selectedIdx_ = 0\n        this.roomMinScore = this.roomType_[0][\"enterLimit\"];\n        this.trialInfo = this.roomType_[0][\"trial\"];\n        this.gotoRoom(this.roomType_[0][\"roomId\"]);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    room2Click(){\n        console.log(\"room2Click\");\n        this.selectedIdx_ = 1\n        this.roomMinScore = this.roomType_[1][\"enterLimit\"];\n        this.trialInfo = this.roomType_[1][\"trial\"];\n        this.gotoRoom(this.roomType_[1][\"roomId\"]);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    room3Click(){\n        console.log(\"room3Click\");\n        // cc.director.loadScene(\"GameScene\");\n        this.selectedIdx_ = 2\n        this.roomMinScore = this.roomType_[2][\"enterLimit\"];\n        this.trialInfo = this.roomType_[2][\"trial\"];\n        this.gotoRoom(this.roomType_[2][\"roomId\"]);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    room4Click(){\n        console.log(\"room4Click\");\n        this.selectedIdx_ = 3\n        this.roomMinScore = this.roomType_[3][\"enterLimit\"];\n        this.trialInfo = this.roomType_[3][\"trial\"];\n        this.gotoRoom(this.roomType_[3][\"roomId\"]);\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    quickStartClick(){\n        console.log(\"quickStartClick\");\n        // cc.director.loadScene(\"GameScene\");\n        this.onWantGotoRoom();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    pepleNumAdd(str){\n        var curNum = str;\n        if(typeof(str) == \"string\")\n            curNum = parseInt(str);\n        var endNum = 0\n        if (curNum <= 60){\n            endNum = curNum + 60;\n        }else if(curNum > 60 && curNum <=200){\n            endNum = curNum + 200;\n        }else if(curNum > 200 && curNum <=500){\n            endNum = curNum + 1000;\n        }else{\n            endNum = curNum + 3000;\n        }\n           \n        return endNum;\n    },\n    gotoRoom(mRoomId){\n        var self = this;\n        var coins = PlayerDetailModel.getCoin();\n        var arg = {};\n        arg.roomId = mRoomId;\n        arg.isContinue = 0;\n        console.log(\"coins:\"+coins);\n\n        if(mRoomId == config.RoomConfig[1].roomId || \n            mRoomId == config.RoomConfig[7].roomId){\n            if (coins >= self.roomMinScore){\n                if (self.roomModelId_ == config.ModelId.lazarillo){\n                    arg.modelId = config.ModelId.lazarillo\n                    GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg)\n                }\n                else{\n                    GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg)\n                }\n            }else{\n                GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {});\n                console.log(\"弹出救济框\");\n            }\n            console.log(\"新手场\");\n        }else{\n            if (coins >= self.roomMinScore){\n                if (self.roomModelId_ == config.ModelId.lazarillo){\n                    arg.modelId = config.ModelId.lazarillo\n                    GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg)\n                }else{\n                    GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg)\n                }\n            }else{\n                console.log(\"弹出充值框\");\n                var click = function(){\n                    console.log(\"打开商城----\");\n                }\n                dialogManager.showCommonDialog(\"温馨提示\",\"豆子不够无法进入该场次\",click);\n            }\n        }\n    },\n    handleLoginRoomResult(event){\n        var self = this;\n        // --更新玩家乐豆\n        PlayerDetailModel.setCoin(event.payload[\"data\"][\"coins\"]);\n        var payload = event.payload;\n        self.isGotoLazarillo_ = false; //是否进入癞子场\n\n        if(event.ok){\n            var args = {};\n            args[\"baseCoins\"] = payload[\"data\"][\"baseCoins\"];\n            args[\"rate\"] = payload[\"data\"][\"rate\"];\n            args[\"limitCoins\"] = payload[\"data\"][\"limitCoins\"];\n            args[\"rake\"] = payload[\"data\"][\"rake\"];\n            args[\"roomId\"] = payload[\"data\"][\"roomId\"];\n            args[\"rateMax\"] = payload[\"data\"][\"rateMax\"];\n            args[\"enterLimit\"] = payload[\"data\"][\"enterLimit\"];\n            args[\"emoticon\"] = payload[\"data\"][\"emoticon\"];\n            args[\"emoticon_items\"] = payload[\"data\"][\"emoticon_items\"];\n            args[\"advert\"] = payload[\"data\"][\"advert\"]; //记牌器数据\n\n            if(payload[\"data\"][\"modelId\"]){\n                args[\"modelId\"] = payload[\"data\"][\"modelId\"];\n            }\n            args[\"buys\"] = payload[\"data\"][\"buys\"];\n            args[\"givecoins\"] = null;\n\n            if(payload[\"data\"][\"isContinue\"] && parseInt(payload[\"data\"][\"isContinue\"]) == 1){\n                args[\"isContinueGaming\"] = true\n            } \n            if(args[\"roomId\"] == 1002 || args[\"roomId\"] == 1003 || args[\"roomId\"] == 1009){\n                // CompatibleHelper.NoTalkController = false\n            }\n\n            if(parseInt(payload[\"data\"][\"modelId\"]) == config.ModelId.contest){\n                console(\"比赛场\")\n                return;\n            }\n\n            var m_sended = payload[\"data\"][\"sendCoins\"];\n            var m_totalTimes = payload[\"data\"][\"sendCoinsTimes\"];\n            var m_curTimes = payload[\"data\"][\"sendCoinsTimesToday\"];\n            var isSend = payload[\"data\"][\"isSend\"];\n\n            if(m_sended && m_sended > 0){\n                args[\"givecoins\"] = {\n                    sended : m_sended,\n                    totalTimes : m_totalTimes,\n                    curTimes : m_curTimes,\n                };\n                //刷新用户乐豆乐券\n                console.log(\"刷新用户乐豆乐券\");\n            }\n\n            config.tableInfo = args;\n            console.log(config.tableInfo);\n\n            if(parseInt(payload[\"data\"][\"modelId\"]) == config.ModelId.lazarillo){\n                // --癞子场\n                console.log(\"进入癞子场\");\n                // this.preloadNextScene();\n            }else{\n                // --普通场\n                // DeviceHelper.addGameLog(\"enterRoom\"..args[\"roomId\"],\"a\")\n                // app:enterPokerScene(args)\n                console.log(\"进入普通场\");\n                // cc.director.loadScene(\"GameScene\");\n                this.preloadNextScene();\n            }\n\n        }else{\n            if (event.noCoin){\n                if(parseInt(event.payload[\"data\"][\"isSmall\"]) == 1){ //钱少\n                    console.log(\"乐豆不够去商城充值\");\n                    dialogManager.showCommonDialog(\"温馨提示\",\"亲,您的豆子不够哦！\",function(){\n                        console.log(\"打开商城\");\n                    });\n                }else{//--0:钱多\n                    console.log(\"亲,豆子太多啦,系统为您推送到合适的房间！\")\n                    dialogManager.showCommonDialog(\"温馨提示\",\"亲,豆子太多啦,系统为您推送到合适的房间！\",function(){\n                        console.log(\"去合适场次\");\n                        self.onWantGotoRoom();\n                    });\n                    if (parseInt(payload[\"data\"][\"modelId\"]) == config.ModelId.lazarillo){\n                        self.isGotoLazarillo_ = true;\n                    }\n                }\n\n            }else if(event.inGaming){\n                if ( !payload.data.modelId || parseInt(payload.data.modelId) == config.ModelId.normal){\n                    console.log(\"您还在其他房间中对局哟，现在进去看看吧！\");\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您还在其他房间中对局哟，现在进去看看吧！\",function(){\n                        console.log(\"短线重连普通场\");\n                        self.onWantContinueGaming(event);\n                    });\n                }else if(!payload.data.modelId || parseInt(payload.data.modelId) == config.ModelId.lazarillo){\n                    console.log(\"您还在其他癞子场中对局哟，现在进去看看吧！\");\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您还在其他癞子场中对局哟，现在进去看看吧！\",function(){\n                        console.log(\"短线重连赖子场\");\n                        // self.onWantContinueLzGaming();\n                    });\n                }else{\n                    console.log(\"您正在竞技场牌局中，请返回继续！\");\n                    dialogManager.showCommonDialog(\"温馨提示\",\"您正在竞技场牌局中，请返回继续！\",function(){\n                        console.log(\"短线重连比赛场\");\n                        // self.onWantContest();\n                    });\n                }\n            }\n        }\n\n    },\n    onWantGotoRoom(){//去适合的场次\n        var self = this;\n        if (self.roomModelId_ == config.ModelId.contest){\n            // --比赛场\n            return;\n        }\n\n        var model = PlayerDetailModel;\n        var rooms = model.getRoomByModel(self.roomModelId_);\n        var coins = model.getCoin();\n\n        console.log(rooms);\n\n        if(self.roomModelId_ == config.ModelId.lazarillo){\n            var roomId = -1;\n            // --癞子场\n            for (var i = 0;i<rooms.length;i++){\n                var room = rooms[i];\n                // --豆够\n                if (room.modelId == config.ModelId.lazarillo && coins >= parseInt(room.enterLimit) && coins <= parseInt(room.enterLimit_)){\n                    roomId = room.roomId;\n                    break;\n                }\n            }\n\n            if (roomId <= 0 ){\n                for (var i = rooms.length-1;i>=0;i--){\n                    var room = rooms[i];\n                    // --豆够\n                    if (room.modelId == config.ModelId.lazarillo && coins >= parseInt(room.enterLimit) ){\n                        roomId = room.roomId;\n                        break\n                    }\n                }\n            }\n\n            if (roomId > 0 ){\n                var arg = {};\n                arg.roomId = roomId;\n                arg.isContinue = 0;\n                arg.modelId = config.ModelId.lazarillo;\n                console.log(\"钱多能去的最高赖子场---------------:\"+room.roomId);\n                GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg);\n                return\n            }\n        }else{\n            var roomId = -1;\n            // --普通场\n            for (var i = 0;i<rooms.length;i++){\n                var room = rooms[i];\n                // --豆够\n                if (room.modelId == config.ModelId.normal && coins >= parseInt(room.enterLimit) && coins <= parseInt(room.enterLimit_)){\n                    roomId = room.roomId;\n                    break;\n                }\n            }\n\n            if (roomId <= 0 ){\n                for (var i = rooms.length-1;i>=0;i--){\n                    var room = rooms[i];\n                    // --豆够\n                    if (room.modelId == config.ModelId.normal && coins >= parseInt(room.enterLimit) ){\n                        roomId = room.roomId;\n                        break;\n                    }\n                }\n            }\n            console.log(\"普通场 roomId:\"+roomId);\n            \n            if (roomId > 0 ){\n                var arg = {};\n                arg.roomId = roomId;\n                arg.isContinue = 0;\n                console.log(\"钱多能去的最高普通场---------------:\"+room.roomId);\n                GameNetMgr.sendRequest(\"Game\", \"loginRoom\", arg);\n                return;\n            }\n\n        }\n\n        if (coins >= self.roomType_[0][\"enterLimit\"]){\n        }else{\n            GameNetMgr.sendRequest(\"Game\", \"openRechargeTip\", {})\n            console.log(\"弹出救济框\");\n        }\n\n    },\n    //救济框\n    onOpenRechargeTipResult(event){\n        var self = this;\n        var response = event.getUserData();\n        console.log(response);\n        var trial_count = response.data.trial_count;\n        var content = \"\";\n\n        var click = function(){\n            console.log(\"点击了领取救济按钮\");\n            GameNetMgr.sendRequest(\"Game\", \"openReliefTip\", {});\n        }\n\n        if(trial_count<3){\n            var index = trial_count+1;\n            content = \"系统第\"+index+\"次赠送您1000乐豆。\";\n            dialogManager.showCommonDialog(\"领救济\",content,click);\n        }else{\n            content = \"今天乐豆已经领完了哦，明天在过来吧！\";\n            dialogManager.showCommonDialog(\"领救济\",content);\n        }\n    },\n    //\n    preloadNextScene(){\n        var self = this;\n        EventHelper.RemoveCustomEvent(config.MyNode,Events.Network.LoginRoomResult,self.onLoginRoomResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"OpenRechargeTipResult\",self.onOpenRechargeTipResult,self);\n        cc.director.preloadScene(\"GameScene\", function () {\n            cc.log(\"Next scene preloaded\");\n            cc.director.loadScene(\"GameScene\");\n        });\n    },\n    onWantContinueGaming(event){\n        console.log(\"--进入上局未完的普通牌桌\");\n        var payload = event.payload;\n        var args = {};\n        args[\"baseCoins\"] = payload[\"data\"][\"baseCoins\"];\n        args[\"rate\"] = payload[\"data\"][\"rate\"];\n        args[\"limitCoins\"] = payload[\"data\"][\"limitCoins\"];\n        args[\"rake\"] = payload[\"data\"][\"rake\"];\n        args[\"roomId\"] = payload[\"data\"][\"roomId\"];\n        args[\"rateMax\"] = payload[\"data\"][\"rateMax\"];\n        args[\"enterLimit\"] = payload[\"data\"][\"enterLimit\"];\n        args[\"emoticon\"] = payload[\"data\"][\"emoticon\"];\n        args[\"emoticon_items\"] = payload[\"data\"][\"emoticon_items\"];\n        args[\"advert\"] = payload[\"data\"][\"advert\"]; //记牌器数据\n\n        if(payload[\"data\"][\"modelId\"]){\n            args[\"modelId\"] = payload[\"data\"][\"modelId\"];\n        }\n        args[\"buys\"] = payload[\"data\"][\"buys\"];\n        args[\"givecoins\"] = null;\n\n        if(payload[\"data\"][\"isContinue\"] && parseInt(payload[\"data\"][\"isContinue\"]) == 1){\n            args[\"isContinueGaming\"] = true\n        } \n        var m_sended = payload[\"data\"][\"sendCoins\"];\n        var m_totalTimes = payload[\"data\"][\"sendCoinsTimes\"];\n        var m_curTimes = payload[\"data\"][\"sendCoinsTimesToday\"];\n\n        if(m_sended && m_sended > 0){\n            args[\"givecoins\"] = {\n                sended : m_sended,\n                totalTimes : m_totalTimes,\n                curTimes : m_curTimes,\n            };\n            //刷新用户乐豆乐券\n            console.log(\"刷新用户乐豆乐券\");\n        }\n        config.tableInfo = args;\n\n        console.log(config.tableInfo);\n\n        config.IsContinueGaming = 1;\n        this.preloadNextScene();\n    }\n});\n"]}