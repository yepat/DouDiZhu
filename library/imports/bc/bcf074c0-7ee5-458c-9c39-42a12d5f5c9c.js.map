{"version":3,"sources":["../../../../assets/Script/assets/Script/CardUtil.js"],"names":["config","require","PopCardUtil","CardUtil","cardGrade","J","Q","K","A","g","G","getNodeCards","mycards","tempstr","myCardValue","i","length","card","convertCardToClient","push","showTxt","sort","arrayUp","sameCards","getSameCards","subNodeCards","cards1","cards2","str","value1","parseInt","value2","value","console","log","StringToNumber","num","gradeDown","card1","card2","showType","gradeUp","serverCardsToClient","serverCards","pokerData","cardValue","cardType","cardItem","ghostCardType","smallG","bigG","str1","substring","str2","pokerCardType","spade","hearts","blackberry","redslice","clientCardsToServer","clientCards","serverCardData","convertCardToServer","getMyTopCards","myPokerNode","PokerControl","topcards","pokerControl","getComponent","cardData","isTopped","AutoChooseLiftUpCard","cards","maxLenght","pktxt","cardvalue","setChoosed","cardMove","is_rank_consective_inc","count","extend","table1","table2","get_topCard_type","topCards","sameValues","setSameVulueCardCount","topLength","blt","cardtype","type","rank","repeatCount","single","getSingle","CardType","Single","pair","getPair","Pair","DoubleKing","three","getThree","ThreeOfKind","four","getFour","Bomb","ThreeOfKindPlusOne","singleNum","pairNum","threeNum","fourNum","singleCards","SingleCards","pairCards","PairCards","threeCards","ThreeCards","fourCards","FourCards","singleSetConsective","pairSetConsective","threeSetConsective","consectiveEnd","FourPlusOne","FourPlusTwo","ThreeOfKindPlusPair","StraightThree","StraightDouble","Straight","allThree","StraightThreePlusSingle","StraightThreePlusPair","isConsective","allThreeLength","getCardsFromTopCards","myCards","myCardsLength","topCardsLength","classificationCards","autoCards","key","kCount","temp","tempCount","j","classificationTopCards","topKeys","k","k1","k2","kk","d","get_cards_larger","last_cards_type","all_result","prop","cardsType","find_single_card","find_pair_card","find_three_card","find_bomb_card","find_three_with_one_card","find_three_with_two_card","find_four_with_two_single_card","find_four_with_two_pair_card","find_straight","find_pair_straight","find_three_straight","find_three_straight_with_single_card","find_three_straight_with_pair_card","all_bomb","find_bomb_all","v","allcards","slice","values","allOne","onecard","n","tempPair","temps","tempCards","len","temparr","arraySub","allpair","tempNum","module","exports"],"mappings":"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","file":"CardUtil.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar PopCardUtil = require(\"PopCardUtil\");\n\nvar CardUtil = {};\n\nCardUtil.cardGrade = {\n    3 : 3,\n    4 : 4,\n    5 : 5,\n    6 : 6,\n    7 : 7,\n    8 : 8,\n    9 : 9,\n    10: 10,\n    J : 11,\n    Q : 12,\n    K : 13,\n    A : 14,\n    2 : 15,\n    g : 16,\n    G : 17,\n};\n\n//记牌器数据信息\nCardUtil.getNodeCards = function(mycards){\n    var tempstr = \"\";\n    var myCardValue = [];\n    for(var i = 0;i<mycards.length;i++){\n        var card = CardUtil.convertCardToClient(mycards[i]);\n        myCardValue.push(card.showTxt);\n    }\n    myCardValue.sort(config.arrayUp);\n\n    var sameCards = PopCardUtil.getSameCards(myCardValue);\n \n    for(var i=3;i<=17;i++){\n        if(sameCards[i]){\n            tempstr+=sameCards[i].length;\n        }else{\n            tempstr+=\"0\";\n        }\n    }\n\n    return tempstr;\n}\n//获取当前自己手牌(出牌后)\nCardUtil.subNodeCards = function(cards1,cards2){\n    var str = \"\";\n    var cards1 = CardUtil.getNodeCards(cards1);\n    // console.log(cards1)\n    var cards2 = CardUtil.getNodeCards(cards2);\n    // console.log(cards2)\n    for(var i = 0;i<cards1.length;i++){\n        var value1 = parseInt(cards1[i]);\n        var value2 = parseInt(cards2[i]);\n        var value = value1 - value2;\n        if(value<0){\n            value = 0;\n        }\n        str+=value;\n    }\n    console.log(str)\n    return str;\n}\n\n//文本转数值\nCardUtil.StringToNumber = function(str){\n    var num = 0;\n    if(typeof(str)==\"string\"){\n        num = parseInt(str);\n    }else{\n        num = str;\n    }\n    return num;\n}\n//降序排列\nCardUtil.gradeDown = function(card1,card2){\n    return (card2.showTxt*10 + card2.showType) - (card1.showTxt*10 + card1.showType);\n}\n//升序排列\nCardUtil.gradeUp = function(card1,card2){\n    return (card1.showTxt*10 + card1.showType) - (card2.showTxt*10 + card2.showType);\n}\n\n//判断两张牌的大小\n\n//服务器牌值转化\nCardUtil.serverCardsToClient = function(serverCards){\n    var pokerData = [];\n    for(var i=0;i<serverCards.length;i++){\n        var card = serverCards[i];\n        pokerData.push(CardUtil.convertCardToClient(card));\n    }\n    // pokerData.sort(CardUtil.gradeDown);\n    return pokerData;\n}\nCardUtil.convertCardToClient = function(value){\n    var cardValue = 0;\n    var cardType = 0;\n    var cardItem = {};\n    if(value == \"00\"){\n        cardValue = 16;\n        cardType = config.ghostCardType.smallG;\n    }else if(value == \"01\"){\n        cardValue = 17;\n        cardType = config.ghostCardType.bigG;\n    }else{\n        var str1 = value.substring(0,1);\n        var str2 = value.substring(1);\n        if(str1 == \"4\"){\n            cardType = config.pokerCardType.spade;\n        }else if(str1 == \"3\"){\n            cardType = config.pokerCardType.hearts;\n        }else if(str1 == \"2\"){\n            cardType = config.pokerCardType.blackberry;\n        }else if(str1 == \"1\"){\n            cardType = config.pokerCardType.redslice;\n        }\n\n        if(str2 == \"1\"){\n            cardValue = 14;\n        }else if(str2 == \"2\"){\n            cardValue = 15;\n        }else if(str2 == \"a\"){\n            cardValue = 10;\n        }else if(str2 == \"b\"){\n            cardValue = 11;\n        }else if(str2 == \"c\"){\n            cardValue = 12;\n        }else if(str2 == \"d\"){\n            cardValue = 13;\n        }else{\n            cardValue = parseInt(str2);\n        }\n    }\n    cardItem.showTxt = cardValue;\n    cardItem.showType = cardType;\n    return cardItem;\n}\n\n//客户端牌转成服务器格式\nCardUtil.clientCardsToServer = function(clientCards){\n    var serverCardData = [];\n    for(var i=0;i<clientCards.length;i++){\n        serverCardData.push(CardUtil.convertCardToServer(clientCards[i]));\n    }\n    return serverCardData;\n}\nCardUtil.convertCardToServer = function(cardItem){\n    var cardValue = cardItem.showTxt;\n    var cardType = cardItem.showType;\n    var str1 = \"\";\n    var str2 = \"\";\n    if(cardType == config.pokerCardType.spade){\n        str1 = \"4\";\n    }else if(cardType == config.pokerCardType.hearts){\n        str1 = \"3\";\n    }else if(cardType == config.pokerCardType.blackberry){\n        str1 = \"2\";\n    }else if(cardType == config.pokerCardType.redslice){\n        str1 = \"1\";\n    }\n    if(cardValue == 14){\n        str2 = \"1\";\n    }else if(cardValue == 15){\n        str2 = \"2\";\n    }else if(cardValue == 10){\n        str2 = \"a\";\n    }else if(cardValue == 11){\n        str2 = \"b\";\n    }else if(cardValue == 12){\n        str2 = \"c\";\n    }else if(cardValue == 13){\n        str2 = \"d\";\n    }else{\n        str2 = \"\" + cardValue;\n    }\n    var str = str1 + str2;\n    if(cardValue == 16){\n        str = \"00\";\n    }else if(cardValue == 17){\n        str = \"01\";\n    }\n    return str;\n}\n\n\n\n//获取提起的牌值\nCardUtil.getMyTopCards = function(myPokerNode,PokerControl){\n    var topcards = [];\n    for(var i = myPokerNode.length-1;i > 0;i--){\n        var pokerControl = myPokerNode[i].getComponent(PokerControl);\n        if(pokerControl.cardData.isTopped){\n            topcards.push(pokerControl.cardValue);\n        }\n    }\n    return topcards;\n}\n\n//提起手牌\nCardUtil.AutoChooseLiftUpCard = function(myPokerNode,PokerControl,cards){\n    console.log(\"tishiFunc!!\");\n    // var cards = [\"3\",\"3\",\"5\",\"6\",\"7\"];\n    var maxLenght = 0;\n    var num = 0;\n\n    console.log(typeof(cards));\n    if(!cards){\n        console.log(\"没有符合牌型！\");\n        return;\n    }\n\n    if(typeof(cards) == \"number\"){\n        console.log(\"这是个数字\");\n        maxLenght = 1;\n    }else{ //if(typeof(cards) == \"string\")\n        // console.log(\"这是个字符\");\n        maxLenght = cards.length;\n    }\n\n    console.log(\"maxLenght:\"+maxLenght);\n\n    for(var i = myPokerNode.length-1;i >= 0;i--){\n        var pokerControl = myPokerNode[i].getComponent(PokerControl);\n        // var pktxt = pokerControl.cardData.showTxt;\n        var pktxt = parseInt(pokerControl.cardValue);\n        var cardvalue = parseInt(cards[num]);\n        if(maxLenght == 1){\n            cardvalue = cards;\n        }else{\n            // cardvalue = parseInt(cards[num]);\n        }\n        // console.log(\"cardvalue:\"+cardvalue+\" pktxt:\"+pktxt);//+\" cards[num]:\"+cards[num]\n        if(num<maxLenght&&cardvalue==pktxt)\n        {\n            console.log(\"num:\"+num);\n            num++;\n            pokerControl.setChoosed(true);\n        }\n    }\n    if(num<cards.length){\n        for(var i = myPokerNode.length-1;i >= 0;i--){\n            var pokerControl = myPokerNode[i].getComponent(PokerControl);\n            pokerControl.setChoosed(false);\n        }\n    }else{\n        for(var i = myPokerNode.length-1;i >= 0;i--){\n            var pokerControl = myPokerNode[i].getComponent(PokerControl);\n            // if(!pokerControl.cardData.isTopped&&pokerControl.cardData.isChoosed){\n                pokerControl.cardMove();\n            // }\n        }\n    } \n}\n//判断是否连续\nCardUtil.is_rank_consective_inc = function(cards){\n    var count = 0;\n    count = cards.length;\n    if(count<2){\n        return true;\n    }\n\n    //这里是降?\n    for(var i=0;i<count-1;i++){\n        if((cards[i][0]+1) != cards[i + 1][0]){\n            return false;\n        }\n    }\n    return true;\n}\n\n//3个头和4个头放在一起\nCardUtil.extend = function(table1, table2){\n    if(!table1 || !table2){\n        console.log(\"table can not be nil\");\n        return false;\n    }\n\n    for(var i =0;i<table2.length;i++){\n        if(table2[i]){\n            table1.push(table2[i]);\n        }\n    }\n}\n\n//判断提起的牌是否合法\nCardUtil.get_topCard_type = function(topCards){\n\n    if(typeof(topCards) == \"number\"){\n        console.log(\"这是个数字\");\n        topCards = [topCards];\n    }else{\n    }\n\n    // console.log(topCards);\n\n    //相同值归类并统计\n    var sameValues = PopCardUtil.getSameCards(topCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var topLength = topCards.length;\n    var blt = false;\n\n    var cardtype = [];\n    cardtype.type = 0;\n    cardtype.rank = 0;\n    cardtype.repeatCount = 0;\n\n    if(topLength == 1){\n        //单只\n        var single = PopCardUtil.getSingle();\n        cardtype.type = config.CardType.Single;\n        cardtype.rank = topCards[0];\n        cardtype.repeatCount = 1;\n        console.log(\"单只\");\n        return cardtype;\n    }else if(topLength == 2){\n        //对子 王炸\n        var pair = PopCardUtil.getPair();\n        if(pair.count==1){\n            cardtype.type = config.CardType.Pair;\n            cardtype.rank = topCards[0];\n            cardtype.repeatCount = 1;\n            console.log(\"对子\");\n            return cardtype;\n        }else if(topCards[0]==16&&topCards[1]==17){\n            cardtype.type = config.CardType.DoubleKing;\n            cardtype.rank = topCards[0];\n            cardtype.repeatCount = 1;\n            console.log(\"王炸\");\n            return cardtype;\n        }\n    }else if(topLength == 3){\n        //三不带\n        var three = PopCardUtil.getThree();\n        if(three.count>0){\n            cardtype.type = config.CardType.ThreeOfKind;\n            cardtype.rank = three.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三不带\");\n            return cardtype;\n        } \n    }else if(topLength == 4){\n        //三带一 炸弹\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n        if(four.count>0){\n            cardtype.type = config.CardType.Bomb;\n            cardtype.rank = four.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"炸弹\");\n            return cardtype;\n        }else if(three.count>0){\n            cardtype.type = config.CardType.ThreeOfKindPlusOne;\n            cardtype.rank = three.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三带一\");\n            return cardtype;\n        }\n    }else{\n        //三带一对 四带一 顺子\n        var single = PopCardUtil.getSingle();\n        var pair = PopCardUtil.getPair();\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n\n        var singleNum = single.count;\n        var pairNum = pair.count;\n        var threeNum = three.count;\n        var fourNum = four.count;\n\n        var singleCards = PopCardUtil.SingleCards;\n        var pairCards = PopCardUtil.PairCards;\n        var threeCards = PopCardUtil.ThreeCards;\n        var fourCards = PopCardUtil.FourCards; \n\n        var singleSetConsective = CardUtil.is_rank_consective_inc(singleCards);\n        var pairSetConsective = CardUtil.is_rank_consective_inc(pairCards);\n        var threeSetConsective = CardUtil.is_rank_consective_inc(threeCards);\n\n        var consectiveEnd = CardUtil.cardGrade[\"2\"];\n\n        // for(var i=0;i<threeCards.length;i++){\n        //     console.log(\"three:\"+threeCards[i]);\n        // }\n\n        //四带\n        if(fourNum == 1 && threeNum == 0){\n            if(singleNum == 2 && pairNum == 0){\n                cardtype.type = config.CardType.FourPlusOne;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带二单\");\n                return cardtype;\n            }else if(singleNum == 0 && pairNum == 1){\n                cardtype.type = config.CardType.FourPlusOne;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带一对\");\n                return cardtype;\n            }else if(singleNum == 0 && pairNum == 2){\n                cardtype.type = config.CardType.FourPlusTwo;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带两对\");\n                return cardtype;\n            }\n        }\n        //三带一对\n        if(threeNum==1&&singleNum==0&&pairNum==1&&fourNum==0){\n            cardtype.type = config.CardType.ThreeOfKindPlusPair;\n            cardtype.rank = threeCards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三带一对\");\n            return cardtype;\n        }\n        //飞机不带\n        if(threeNum>1&&singleNum==0&&pairNum==0&&fourNum==0){\n            if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.StraightThree;\n                cardtype.rank = threeCards[0][0];\n                cardtype.repeatCount = threeNum;\n                console.log(\"飞机不带\");\n                return cardtype;\n            }\n        }\n        //连队\n        if (pairNum > 2 && singleNum == 0 && threeNum == 0 && fourNum == 0){\n            if(pairSetConsective&&pairCards[pairNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.StraightDouble;\n                cardtype.rank = pairCards[0][0];\n                cardtype.repeatCount = pairNum;\n                console.log(\"连对\");\n                return cardtype;\n            }\n        }\n        //顺子\n        if (singleNum > 4 && pairNum == 0 && threeNum == 0 && fourNum == 0){\n            if(singleSetConsective&&singleCards[singleNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.Straight;\n                cardtype.rank = singleCards[0][0];\n                cardtype.repeatCount = singleNum;\n                console.log(\"顺子\");\n                return cardtype;\n            }\n        }\n\n        var allThree = [];\n\n        if(threeNum>0){\n            if(singleNum==threeNum && pairNum==0 && fourNum==0){\n                //飞机带单\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带单\");\n                    return cardtype;\n                }  \n            }else if(singleNum==0 && pairNum==threeNum && fourNum==0){\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type  = config.CardType.StraightThreePlusPair;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带双\");\n                    return cardtype;\n                }\n            }else if((singleNum+pairNum*2)==threeNum && fourNum==0){\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带单\");\n                    return cardtype;\n                } \n            }else if((threeNum+fourNum) == (pairNum*2 + singleNum + fourNum)){\n                //带炸弹的飞机（4=3+1）\n                console.log(\"带炸弹的飞机（4=3+1）\");\n                var isConsective = threeSetConsective;\n                if(fourNum > 0){\n                    CardUtil.extend(allThree, threeCards);\n                    CardUtil.extend(allThree, fourCards);\n                    allThree.sort(config.arrayUp);\n                    isConsective = CardUtil.is_rank_consective_inc(allThree)\n                }else{\n                    allThree = threeCards;\n                }\n                var allThreeLength = allThree.length;\n                if(isConsective&&allThree[allThreeLength-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = allThreeLength;\n                    console.log(\"飞机带单2\");\n                    return cardtype;\n                }\n\n            }else{\n                if((pairNum + fourNum*2) == threeNum && singleNum==0){ //炸弹拆开当对子\n                    if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                        cardtype.type = config.CardType.StraightThreePlusPair;\n                        cardtype.rank = threeCards[0][0];\n                        cardtype.repeatCount = threeNum;\n                        console.log(\"飞机带双2\");\n                        return cardtype;\n                    }\n                }\n\n                if(threeNum>3){//三飞以上给服务器判断\n                    cardtype.type = -1;\n                    console.log(\"特殊牌型\");\n                    return cardtype;\n                }\n\n                \n                // cardtype.type = -1;\n                return cardtype; //一些特殊情况交给服务器了 比如：3个拆开当单只， \n            } \n        }\n\n\n    }\n    return cardtype;\n}\n\n//根据提起的牌智能提牌\nCardUtil.getCardsFromTopCards = function(myCards,topCards){\n    var myCards = myCards;\n    var topCards = topCards;\n    topCards.sort(config.arrayUp);\n    var myCardsLength = myCards.length;\n    var topCardsLength = topCards.length;\n\n    //值相同的牌放在一起\n    var classificationCards = {};\n    //相同值归类并统计\n    classificationCards = PopCardUtil.getSameCards(myCards);\n    // PopCardUtil.setSameVulueCardCount(classificationCards);\n\n    var autoCards = [];\n    if(topCardsLength == 2){\n        if(topCards[0] == topCards[1]){\n            var key = topCards[0];\n            //提起的牌值在牌面上能组成炸弹\n            var kCount = classificationCards[key].length;\n            console.log(\"key:\"+key+\" kCount:\"+kCount);\n            if (kCount == 4){\n                console.log(\"炸弹----------\");\n                autoCards = classificationCards[key];\n                return autoCards;\n            }\n\n            if(kCount == 3 && key != \"2\"){\n                console.log(\"可能有飞机\")\n                var temp = [];\n                var tempCount = 0;\n                temp[tempCount] = classificationCards[key];\n                //提起的牌值(++)\n                for(var i = 1;i<myCardsLength;i++){\n                    if(classificationCards[key+i]&&classificationCards[key+i].length == 3&& key+i != \"2\"){\n                        tempCount++;\n                        temp[tempCount] = classificationCards[key+i];\n                        console.log(\"key+i:\"+(key+i));\n                    }else{\n                        break;\n                    }\n                }\n                //提起的牌值(--)\n                for(var i = 1;i<myCardsLength;i++){\n                    if(classificationCards[key-i]&&classificationCards[key-i].length == 3&& key+i != \"2\"){\n                        tempCount++;\n                        temp[tempCount] = classificationCards[key-i];\n                        console.log(\"key+i:\"+(key-i));\n                    }else{\n                        break;\n                    }\n                }\n\n                //检查牌组是否是飞机\n                if(temp.length>1){\n                    for(var i = 0;i<temp.length;i++){\n                        for(var j=0;j<temp[i].length;j++){\n                            console.log(\"temp:\"+temp[i][j]);\n                            autoCards.push(temp[i][j]);\n                        }\n                    }\n                }\n                autoCards.sort(config.arrayUp);\n                return autoCards;\n            }\n                \n        }else if(topCards[0] + 1 == topCards[1]){\n            if(topCards[1]>=CardUtil.cardGrade[\"2\"]){\n                autoCards = topCards;\n                return autoCards;\n            }\n\n            var key = topCards[1]\n            autoCards = topCards\n            for(var i =1;i<=3;i++){\n                if (classificationCards[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n                    //满足组成顺子的牌\n                    autoCards.push(classificationCards[key+i][0]);\n                }\n            }\n            if(autoCards.length<5){\n                autoCards = [];\n            }\n            return autoCards;\n\n        }else{\n            autoCards = [];\n            return autoCards;\n        }\n    }else if(topCardsLength == 3){\n        //连队判定\n        console.log(\"连队判定\");\n        var classificationTopCards = {};\n        classificationTopCards = PopCardUtil.getSameCards(topCards);\n        // classificationTopCards.sort();\n        if(classificationTopCards.length > 2){\n            var topKeys = [];\n            for(var k in classificationTopCards){\n                topKeys.push(k);\n            }\n            var k1 = parseInt(topKeys[0]);\n            var k2 = parseInt(topKeys[1]);\n            var kk = k1 + 1;\n            // console.log(\"k1:\"+k1+\" k2:\"+k2+\" kk:\"+kk);\n            if(kk==k2&&k2<CardUtil.cardGrade[\"2\"]){\n                var key=k1;\n                for(var k in classificationCards){\n                    if(k == key){\n                        var d = classificationCards[k];\n                        console.log(\"d:\"+d.length+\"  k:\"+k);\n                        if(d.length>=2){\n                            for(var i=0;i<2;i++){\n                                autoCards.push(d[i]);\n                            }\n                            key++;\n                        }else{\n                            break;\n                        }\n                    }\n                }\n                if(autoCards.length<6){\n                    autoCards =[];\n                }\n                return autoCards;\n            }\n        }\n\n    }\n\n    return autoCards;\n}\n\n\n//提示----------------------------------------\n\n// config.CardType = {\n// \tSingle : 1,                         //单张\n// \tPair : 2,                           //对子\n// \tThreeOfKind : 3,                    //三不带\n// \tThreeOfKindPlusOne : 4,             //三带一\n// \tThreeOfKindPlusPair : 5,            //三带二\n// \tStraight : 6,                       //顺子\n// \tStraightDouble : 7,\t\t\t\t\t//双顺  33 44 55\n// \tStraightThree : 8,\t\t\t\t\t//三顺  333 444    飞机  [333 444 555 a b c/ aa bb cc]\n// \tStraightThreePlusSingle : 9,\t\t//三顺+散牌 飞机带翅膀  333 444 5 6 / +一对\n// \tStraightThreePlusPair : 10,\t\t\t//三顺+对   飞机带翅膀  333 444 66 77\n// \tSoftBomb : 87,\t\t\t\t\t\t//软炸弹\n// \tBomb : 88,\t\t\t\t\t\t\t//炸弹\n// \tLazarilloBomb : 89,\t\t\t\t\t//纯癞子炸弹\n// \tDoubleKing : 99,\t\t\t\t\t//双王\n// \tFourPlusOne : 11,\t\t\t\t\t//四带1, 四只带两只单牌\n// \tFourPlusTwo : 12,\t\t\t\t\t//四带2, 四只带两对\n// }\n\n//获取比上家大的牌\nCardUtil.get_cards_larger = function(last_cards_type,myCards){\n    var all_result = [];\n    \n    var prop = PopCardUtil.getSameCards(myCards);\n    // PopCardUtil.setSameVulueCardCount(classificationCards);\n\n    var cardsType =  last_cards_type.type;\n    if(cardsType == config.CardType.Single){\n        all_result = CardUtil.find_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Pair){\n        all_result = CardUtil.find_pair_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKind){\n        all_result = CardUtil.find_three_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Bomb){\n        all_result = CardUtil.find_bomb_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusOne){\n        all_result = CardUtil.find_three_with_one_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusPair){\n        all_result = CardUtil.find_three_with_two_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.FourPlusOne){\n        all_result = CardUtil.find_four_with_two_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.FourPlusTwo){\n        all_result = CardUtil.find_four_with_two_pair_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Straight){\n        all_result = CardUtil.find_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightDouble){\n        all_result = CardUtil.find_pair_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThree){\n        all_result = CardUtil.find_three_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThreePlusSingle){\n        all_result = CardUtil.find_three_straight_with_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThreePlusPair){\n        all_result = CardUtil.find_three_straight_with_pair_card(last_cards_type,prop,myCards);\n    }\n\n    if(cardsType != config.CardType.Bomb && cardsType != config.CardType.DoubleKing){\n        var all_bomb = CardUtil.find_bomb_all(prop);\n        for(var i=0;i<all_bomb.length;i++){\n            all_result.push(all_bomb[i]);\n        }\n    }\n\n    return all_result;\n}\n//符合条件的单张牌\nCardUtil.find_single_card = function(last_cards_type,prop,myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var rank = parseInt(last_cards_type.rank);\n    // console.log(\"符合条件的单张牌\");\n    if(single.count>0){\n        for(var k in single.cards){\n            var v = single.cards[k];\n            // console.log(\"v:\"+v+\"  k:\"+k);\n            if (rank < v){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    //没有适合单张 就拆分牌\n    var allcards = [];//所有牌值\n    for(var k in prop){\n        var v = prop[k];\n        // console.log(\"v:\"+v[0]+\"  k:\"+k);\n        allcards.push(k);\n    }\n\n    // console.log(\"length::\"+all_result.length);\n    if(all_result.length <= 0){\n        for(var k in allcards){\n            var v = parseInt(allcards[k]);\n            // console.log(\"v:\"+v+\"  k:\"+k);\n            if (rank < v){\n                all_result.push(v);\n            }\n        }\n    }\n\n    return all_result;\n}\n\n//找合适的对子出牌\nCardUtil.find_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var pair = PopCardUtil.getPair();\n    // console.log(\"符合条件的对子牌\");\n    var rank = parseInt(last_cards_type.rank);\n    if(pair.count>0){\n        for(var k in pair.cards){\n            var v = pair.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n    //没有适合对子 就拆分牌\n    var allcards = [];//所有牌值\n    if(all_result.length <= 0){\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n        if(three.count>0){\n            for(var k in three.cards){\n                var d = three.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        if(four.count>0){\n            for(var k in four.cards){\n                var d = four.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        return allcards;\n    }\n\n    return all_result;\n}\n\n//寻找合适的三个出牌\nCardUtil.find_three_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n    return all_result;\n}\n\n//所有的炸弹牌\nCardUtil.find_bomb_all = function(prop){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    for(var k in four.cards){\n        var v = four.cards[k];\n        // console.log(\"v:\"+v[0]+\"  k:\"+k);\n        all_result.push(v);\n    }\n    \n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }else{\n        console.log(\"没有王炸\");\n    }\n\n    return all_result;\n}\n\n//找合适的炸弹牌\nCardUtil.find_bomb_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n    }\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }else{\n        console.log(\"没有王炸\");\n    }\n\n    return all_result;\n}\n\n//找合适的三带一\nCardUtil.find_three_with_one_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    // var three = PopCardUtil.getThree();\n    var allOne = [];//所有三张的牌值 单张组\n\n    var onecard = 0;\n    if(single.count>0){\n        onecard = parseInt(single.cards[0]);\n        console.log(\"onecard1:\"+onecard);\n    }else if(pair.count>0){\n        onecard = parseInt(pair.cards[0][0]);\n        console.log(\"onecard2:\"+onecard);\n    }else{\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n        console.log(\"v:\"+v+\"  k:\"+k+\" allone:\"+allOne[k]);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n        }\n        v[v.length] = onecard;//onecard\n        v.sort(config.arrayUp);\n    }\n \n    return all_result;\n}\n//三带一对\nCardUtil.find_three_with_two_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var allOne = [];//所有三张的牌值 对子组\n    \n    var pair = PopCardUtil.getPair();\n    var tempPair = [];\n    if(pair.count>0){\n        tempPair = pair.cards[0];\n    }else{\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n    }\n\n    // console.log(\"tempPair:\"+tempPair+\" allOne:\"+allOne.length);\n\n    var onecard = tempPair.length;\n\n    for(var k in all_result){\n        var v = all_result[k];\n        // console.log(\"v:\"+v+\"  k:\"+k);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n            for(var i=0;i<2;i++){\n                v.push(parseInt(onecard));\n            }\n            onecard = 0;\n        }else{\n            for(var i=0;i<tempPair.length;i++){\n                v.push(parseInt(tempPair[i]));\n            }\n        }\n\n        // v.concat(tempPair[0],tempPair[1]);\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n//四带二\nCardUtil.find_four_with_two_single_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    if(single.count>1){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(single.cards[i]));\n        }\n    }else if(pair.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n    }else if(three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//四带两队\nCardUtil.find_four_with_two_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    if(pair.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(pair.cards[i]));\n            }\n        } \n    }else if(pair.count == 1 && three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }else if(three.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(three.cards[i]));\n            }\n        } \n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//符合的顺子牌\nCardUtil.find_straight = function(last_cards_type, prop, myCards){\n\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    var single = PopCardUtil.getSingle();\n\n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    //所有牌可以组成的顺子\n    var autoCards = [];\n    var tempCards = [];\n    var key = rank;\n    for(var i =1;i<20;i++){\n        if (prop[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n            //满足组成顺子的牌\n            autoCards.push(prop[key+i][0]);\n        }else{\n            if(autoCards.length>=repeatCount){\n                tempCards.push(autoCards);\n            }\n            autoCards = [];\n            continue;\n        }\n    }\n\n\n    console.log(tempCards);\n    if(tempCards.length == 0)\n        return all_result;\n    console.log(\"length:\"+tempCards[0].length);\n\n    if(tempCards[0].length > repeatCount){\n        var len = tempCards[0].length - repeatCount;\n        var temparr = [];\n        for(var i=0;i<=len;i++){\n            if(tempCards[0].length >= repeatCount+i){\n                temparr = config.arraySub(i,repeatCount+i,tempCards[0],1);\n                all_result.push(temparr);\n            }\n        }\n    }else{\n        all_result = tempCards;\n    }\n\n    console.log(all_result);\n\n    return all_result;\n}\n\n//符合的连对\nCardUtil.find_pair_straight = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n    \n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<pair.count;i++){\n        allpair.push(pair.cards[i][0]);\n    }\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],2);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机不带\nCardUtil.find_three_straight = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],3);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机带单\nCardUtil.find_three_straight_with_single_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],3);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n//符合的飞机带双\nCardUtil.find_three_straight_with_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],3);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n\n//提示----------------------------------------\nmodule.exports = CardUtil;\n"]}