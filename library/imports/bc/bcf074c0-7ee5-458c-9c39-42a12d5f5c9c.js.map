{"version":3,"sources":["../../../../assets/Script/assets/Script/CardUtil.js"],"names":["config","require","PopCardUtil","CardUtil","cardGrade","J","Q","K","A","g","G","StringToNumber","str","num","parseInt","gradeDown","card1","card2","showTxt","showType","gradeUp","serverCardsToClient","serverCards","pokerData","i","length","card","push","convertCardToClient","sort","value","cardValue","cardType","cardItem","ghostCardType","smallG","bigG","str1","substring","str2","pokerCardType","spade","hearts","blackberry","redslice","clientCardsToServer","clientCards","serverCardData","convertCardToServer","getMyTopCards","myPokerNode","PokerControl","topcards","pokerControl","getComponent","cardData","isTopped","AutoChooseLiftUpCard","cards","console","log","maxLenght","pktxt","cardvalue","setChoosed","cardMove","is_rank_consective_inc","count","extend","table1","table2","get_topCard_type","topCards","sameValues","getSameCards","setSameVulueCardCount","topLength","blt","cardtype","type","rank","repeatCount","single","getSingle","CardType","Single","pair","getPair","Pair","DoubleKing","three","getThree","ThreeOfKind","four","getFour","Bomb","ThreeOfKindPlusOne","singleNum","pairNum","threeNum","fourNum","singleCards","SingleCards","pairCards","PairCards","threeCards","ThreeCards","fourCards","FourCards","singleSetConsective","pairSetConsective","threeSetConsective","consectiveEnd","FourPlusOne","FourPlusTwo","ThreeOfKindPlusPair","StraightThree","StraightDouble","Straight","allThree","StraightThreePlusSingle","StraightThreePlusPair","isConsective","arrayUp","allThreeLength","getCardsFromTopCards","myCards","myCardsLength","topCardsLength","classificationCards","autoCards","key","kCount","temp","tempCount","j","classificationTopCards","topKeys","k","k1","k2","kk","d","get_cards_larger","last_cards_type","all_result","prop","cardsType","find_single_card","find_pair_card","find_three_card","find_bomb_card","find_three_with_one_card","find_three_with_two_card","find_four_with_two_single_card","find_four_with_two_pair_card","find_straight","find_pair_straight","find_three_straight","find_three_straight_with_single_card","find_three_straight_with_pair_card","all_bomb","find_bomb_all","v","allcards","slice","values","allOne","onecard","n","tempPair","temps","tempCards","len","temparr","arraySub","allpair","tempNum","arraySub2","arraySub3","module","exports"],"mappings":"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","file":"CardUtil.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar PopCardUtil = require(\"PopCardUtil\");\n\nvar CardUtil = {};\n\nCardUtil.cardGrade = {\n    3 : 3,\n    4 : 4,\n    5 : 5,\n    6 : 6,\n    7 : 7,\n    8 : 8,\n    9 : 9,\n    10: 10,\n    J : 11,\n    Q : 12,\n    K : 13,\n    A : 14,\n    2 : 15,\n    g : 16,\n    G : 17,\n};\n\n//文本转数值\nCardUtil.StringToNumber = function(str){\n    var num = 0;\n    if(typeof(str)==\"string\"){\n        num = parseInt(str);\n    }else{\n        num = str;\n    }\n    return num;\n}\n//降序排列\nCardUtil.gradeDown = function(card1,card2){\n    return (card2.showTxt*10 + card2.showType) - (card1.showTxt*10 + card1.showType);\n}\n//升序排列\nCardUtil.gradeUp = function(card1,card2){\n    return (card1.showTxt*10 + card1.showType) - (card2.showTxt*10 + card2.showType);\n}\n\n//服务器牌值转化\nCardUtil.serverCardsToClient = function(serverCards){\n    var pokerData = [];\n    for(var i=0;i<serverCards.length;i++){\n        var card = serverCards[i];\n        pokerData.push(CardUtil.convertCardToClient(card));\n    }\n    pokerData.sort(CardUtil.gradeDown);\n    return pokerData;\n}\nCardUtil.convertCardToClient = function(value){\n    var cardValue = 0;\n    var cardType = 0;\n    var cardItem = {};\n    if(value == \"00\"){\n        cardValue = 16;\n        cardType = config.ghostCardType.smallG;\n    }else if(value == \"01\"){\n        cardValue = 17;\n        cardType = config.ghostCardType.bigG;\n    }else{\n        var str1 = value.substring(0,1);\n        var str2 = value.substring(1);\n        if(str1 == \"4\"){\n            cardType = config.pokerCardType.spade;\n        }else if(str1 == \"3\"){\n            cardType = config.pokerCardType.hearts;\n        }else if(str1 == \"2\"){\n            cardType = config.pokerCardType.blackberry;\n        }else if(str1 == \"1\"){\n            cardType = config.pokerCardType.redslice;\n        }\n\n        if(str2 == \"1\"){\n            cardValue = 14;\n        }else if(str2 == \"2\"){\n            cardValue = 15;\n        }else if(str2 == \"a\"){\n            cardValue = 10;\n        }else if(str2 == \"b\"){\n            cardValue = 11;\n        }else if(str2 == \"c\"){\n            cardValue = 12;\n        }else if(str2 == \"d\"){\n            cardValue = 13;\n        }else{\n            cardValue = parseInt(str2);\n        }\n    }\n    cardItem.showTxt = cardValue;\n    cardItem.showType = cardType;\n    return cardItem;\n}\n\n//客户端牌转成服务器格式\nCardUtil.clientCardsToServer = function(clientCards){\n    var serverCardData = [];\n    for(var i=0;i<clientCards.length;i++){\n        serverCardData.push(CardUtil.convertCardToServer(clientCards[i]));\n    }\n    return serverCardData;\n}\nCardUtil.convertCardToServer = function(cardItem){\n    var cardValue = cardItem.showTxt;\n    var cardType = cardItem.showType;\n    var str1 = \"\";\n    var str2 = \"\";\n    if(cardType == config.pokerCardType.spade){\n        str1 = \"4\";\n    }else if(cardType == config.pokerCardType.hearts){\n        str1 = \"3\";\n    }else if(cardType == config.pokerCardType.blackberry){\n        str1 = \"2\";\n    }else if(cardType == config.pokerCardType.redslice){\n        str1 = \"1\";\n    }\n    if(cardValue == 14){\n        str2 = \"1\";\n    }else if(cardValue == 15){\n        str2 = \"2\";\n    }else if(cardValue == 10){\n        str2 = \"a\";\n    }else if(cardValue == 11){\n        str2 = \"b\";\n    }else if(cardValue == 12){\n        str2 = \"c\";\n    }else if(cardValue == 13){\n        str2 = \"d\";\n    }else{\n        str2 = \"\" + cardValue;\n    }\n    var str = str1 + str2;\n    if(cardValue == 16){\n        str = \"00\";\n    }else if(cardValue == 17){\n        str = \"01\";\n    }\n    return str;\n}\n\n\n\n//获取提起的牌值\nCardUtil.getMyTopCards = function(myPokerNode,PokerControl){\n    var topcards = [];\n    for(var i = myPokerNode.length-1;i > 0;i--){\n        var pokerControl = myPokerNode[i].getComponent(PokerControl);\n        if(pokerControl.cardData.isTopped){\n            topcards.push(pokerControl.cardValue);\n        }\n    }\n    return topcards;\n}\n\n//提起手牌\nCardUtil.AutoChooseLiftUpCard = function(myPokerNode,PokerControl,cards){\n    console.log(\"tishiFunc!!\");\n    // var cards = [\"3\",\"3\",\"5\",\"6\",\"7\"];\n    var maxLenght = 0;\n    var num = 0;\n\n    console.log(typeof(cards));\n    if(!cards){\n        console.log(\"没有符合牌型！\");\n        return;\n    }\n\n    if(typeof(cards) == \"number\"){\n        console.log(\"这是个数字\");\n        maxLenght = 1;\n    }else{ //if(typeof(cards) == \"string\")\n        // console.log(\"这是个字符\");\n        maxLenght = cards.length;\n    }\n\n    console.log(\"maxLenght:\"+maxLenght);\n\n    for(var i = myPokerNode.length-1;i >= 0;i--){\n        var pokerControl = myPokerNode[i].getComponent(PokerControl);\n        // var pktxt = pokerControl.cardData.showTxt;\n        var pktxt = parseInt(pokerControl.cardValue);\n        var cardvalue = parseInt(cards[num]);\n        if(maxLenght == 1){\n            cardvalue = cards;\n        }else{\n            // cardvalue = parseInt(cards[num]);\n        }\n        console.log(\"cardvalue:\"+cardvalue+\" pktxt:\"+pktxt);//+\" cards[num]:\"+cards[num]\n        if(num<maxLenght&&cardvalue==pktxt)\n        {\n            console.log(\"num:\"+num);\n            num++;\n            pokerControl.setChoosed(true);\n        }\n    }\n    if(num<cards.length){\n        for(var i = myPokerNode.length-1;i >= 0;i--){\n            var pokerControl = myPokerNode[i].getComponent(PokerControl);\n            pokerControl.setChoosed(false);\n        }\n    }else{\n        for(var i = myPokerNode.length-1;i >= 0;i--){\n            var pokerControl = myPokerNode[i].getComponent(PokerControl);\n            // if(!pokerControl.cardData.isTopped&&pokerControl.cardData.isChoosed){\n                pokerControl.cardMove();\n            // }\n        }\n    } \n}\n//判断是否连续\nCardUtil.is_rank_consective_inc = function(cards){\n    var count = 0;\n    count = cards.length;\n    if(count<2){\n        return true;\n    }\n\n    //这里是降?\n    for(var i=0;i<count-1;i++){\n        if((cards[i][0]+1) != cards[i + 1][0]){\n            return false;\n        }\n    }\n    return true;\n}\n\n//3个头和4个头放在一起\nCardUtil.extend = function(table1, table2){\n    if(!table1 || !table2){\n        console.log(\"table can not be nil\");\n        return false;\n    }\n\n    for(var i =0;i<table2.length;i++){\n        if(table2[i]){\n            table1.push(table2[i]);\n        }\n    }\n}\n\n//判断提起的牌是否合法\nCardUtil.get_topCard_type = function(topCards){\n\n    if(typeof(topCards) == \"number\"){\n        console.log(\"这是个数字\");\n        topCards = [topCards];\n    }else{\n    }\n\n    // console.log(topCards);\n\n    //相同值归类并统计\n    var sameValues = PopCardUtil.getSameCards(topCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var topLength = topCards.length;\n    var blt = false;\n\n    var cardtype = [];\n    cardtype.type = 0;\n    cardtype.rank = 0;\n    cardtype.repeatCount = 0;\n\n    if(topLength == 1){\n        //单只\n        var single = PopCardUtil.getSingle();\n        cardtype.type = config.CardType.Single;\n        cardtype.rank = topCards[0];\n        cardtype.repeatCount = 1;\n        console.log(\"单只\");\n        return cardtype;\n    }else if(topLength == 2){\n        //对子 王炸\n        var pair = PopCardUtil.getPair();\n        if(pair.count==1){\n            cardtype.type = config.CardType.Pair;\n            cardtype.rank = topCards[0];\n            cardtype.repeatCount = 1;\n            console.log(\"对子\");\n            return cardtype;\n        }else if(topCards[0]==16&&topCards[1]==17){\n            cardtype.type = config.CardType.DoubleKing;\n            cardtype.rank = topCards[0];\n            cardtype.repeatCount = 1;\n            console.log(\"王炸\");\n            return cardtype;\n        }\n    }else if(topLength == 3){\n        //三不带\n        var three = PopCardUtil.getThree();\n        if(three.count>0){\n            cardtype.type = config.CardType.ThreeOfKind;\n            cardtype.rank = three.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三不带\");\n            return cardtype;\n        } \n    }else if(topLength == 4){\n        //三带一 炸弹\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n        if(four.count>0){\n            cardtype.type = config.CardType.Bomb;\n            cardtype.rank = four.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"炸弹\");\n            return cardtype;\n        }else if(three.count>0){\n            cardtype.type = config.CardType.ThreeOfKindPlusOne;\n            cardtype.rank = three.cards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三带一\");\n            return cardtype;\n        }\n    }else{\n        //三带一对 四带一 顺子\n        var single = PopCardUtil.getSingle();\n        var pair = PopCardUtil.getPair();\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n\n        var singleNum = single.count;\n        var pairNum = pair.count;\n        var threeNum = three.count;\n        var fourNum = four.count;\n\n        var singleCards = PopCardUtil.SingleCards;\n        var pairCards = PopCardUtil.PairCards;\n        var threeCards = PopCardUtil.ThreeCards;\n        var fourCards = PopCardUtil.FourCards; \n\n        var singleSetConsective = CardUtil.is_rank_consective_inc(singleCards);\n        var pairSetConsective = CardUtil.is_rank_consective_inc(pairCards);\n        var threeSetConsective = CardUtil.is_rank_consective_inc(threeCards);\n\n        var consectiveEnd = CardUtil.cardGrade[\"2\"];\n\n        // for(var i=0;i<threeCards.length;i++){\n        //     console.log(\"three:\"+threeCards[i]);\n        // }\n\n        //四带\n        if(fourNum == 1 && threeNum == 0){\n            if(singleNum == 2 && pairNum == 0){\n                cardtype.type = config.CardType.FourPlusOne;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带二单\");\n                return cardtype;\n            }else if(singleNum == 0 && pairNum == 1){\n                cardtype.type = config.CardType.FourPlusOne;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带一对\");\n                return cardtype;\n            }else if(singleNum == 0 && pairNum == 2){\n                cardtype.type = config.CardType.FourPlusTwo;\n                cardtype.rank = fourCards[0][0];\n                cardtype.repeatCount = 1;\n                console.log(\"四带两对\");\n                return cardtype;\n            }\n        }\n        //三带一对\n        if(threeNum==1&&singleNum==0&&pairNum==1&&fourNum==0){\n            cardtype.type = config.CardType.ThreeOfKindPlusPair;\n            cardtype.rank = threeCards[0][0];\n            cardtype.repeatCount = 1;\n            console.log(\"三带一对\");\n            return cardtype;\n        }\n        //飞机不带\n        if(threeNum>1&&singleNum==0&&pairNum==0&&fourNum==0){\n            if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.StraightThree;\n                cardtype.rank = threeCards[0][0];\n                cardtype.repeatCount = threeNum;\n                console.log(\"飞机不带\");\n                return cardtype;\n            }\n        }\n        //连队\n        if (pairNum > 2 && singleNum == 0 && threeNum == 0 && fourNum == 0){\n            if(pairSetConsective&&pairCards[pairNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.StraightDouble;\n                cardtype.rank = pairCards[0][0];\n                cardtype.repeatCount = pairNum;\n                console.log(\"连对\");\n                return cardtype;\n            }\n        }\n        //顺子\n        if (singleNum > 4 && pairNum == 0 && threeNum == 0 && fourNum == 0){\n            if(singleSetConsective&&singleCards[singleNum-1][0]<consectiveEnd){\n                cardtype.type = config.CardType.Straight;\n                cardtype.rank = singleCards[0][0];\n                cardtype.repeatCount = singleNum;\n                console.log(\"顺子\");\n                return cardtype;\n            }\n        }\n\n        var allThree = [];\n\n        if(threeNum>0){\n            if(singleNum==threeNum && pairNum==0 && fourNum==0){\n                //飞机带单\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带单\");\n                    return cardtype;\n                }  \n            }else if(singleNum==0 && pairNum==threeNum && fourNum==0){\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type  = config.CardType.StraightThreePlusPair;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带双\");\n                    return cardtype;\n                }\n            }else if((singleNum+pairNum*2)==threeNum && fourNum==0){\n                if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = threeNum;\n                    console.log(\"飞机带单\");\n                    return cardtype;\n                } \n            }else if((threeNum+fourNum) == (pairNum*2 + singleNum + fourNum)){\n                //带炸弹的飞机（4=3+1）\n                console.log(\"带炸弹的飞机（4=3+1）\");\n                var isConsective = threeSetConsective;\n                if(fourNum > 0){\n                    CardUtil.extend(allThree, threeCards);\n                    CardUtil.extend(allThree, fourCards);\n                    allThree.sort(config.arrayUp);\n                    isConsective = CardUtil.is_rank_consective_inc(allThree)\n                }else{\n                    allThree = threeCards;\n                }\n                var allThreeLength = allThree.length;\n                if(isConsective&&allThree[allThreeLength-1][0]<consectiveEnd){\n                    cardtype.type = config.CardType.StraightThreePlusSingle;\n                    cardtype.rank = threeCards[0][0];\n                    cardtype.repeatCount = allThreeLength;\n                    console.log(\"飞机带单2\");\n                    return cardtype;\n                }\n\n            }else{\n                if((pairNum + fourNum*2) == threeNum && singleNum==0){ //炸弹拆开当对子\n                    if(threeSetConsective&&threeCards[threeNum-1][0]<consectiveEnd){\n                        cardtype.type = config.CardType.StraightThreePlusPair;\n                        cardtype.rank = threeCards[0][0];\n                        cardtype.repeatCount = threeNum;\n                        console.log(\"飞机带双2\");\n                        return cardtype;\n                    }\n                }\n\n                if(threeNum>3){//三飞以上给服务器判断\n                    cardtype.type = -1;\n                    console.log(\"特殊牌型\");\n                    return cardtype;\n                }\n\n                \n                // cardtype.type = -1;\n                return cardtype; //一些特殊情况交给服务器了 比如：3个拆开当单只， \n            } \n        }\n\n\n    }\n    return cardtype;\n}\n\n//根据提起的牌智能提牌\nCardUtil.getCardsFromTopCards = function(myCards,topCards){\n    var myCards = myCards;\n    var topCards = topCards;\n    topCards.sort(config.arrayUp);\n    var myCardsLength = myCards.length;\n    var topCardsLength = topCards.length;\n\n    //值相同的牌放在一起\n    var classificationCards = {};\n    //相同值归类并统计\n    classificationCards = PopCardUtil.getSameCards(myCards);\n    // PopCardUtil.setSameVulueCardCount(classificationCards);\n\n    var autoCards = [];\n    if(topCardsLength == 2){\n        if(topCards[0] == topCards[1]){\n            var key = topCards[0];\n            //提起的牌值在牌面上能组成炸弹\n            var kCount = classificationCards[key].length;\n            console.log(\"key:\"+key+\" kCount:\"+kCount);\n            if (kCount == 4){\n                console.log(\"炸弹----------\");\n                autoCards = classificationCards[key];\n                return autoCards;\n            }\n\n            if(kCount == 3 && key != \"2\"){\n                console.log(\"可能有飞机\")\n                var temp = [];\n                var tempCount = 0;\n                temp[tempCount] = classificationCards[key];\n                //提起的牌值(++)\n                for(var i = 1;i<myCardsLength;i++){\n                    if(classificationCards[key+i]&&classificationCards[key+i].length == 3&& key+i != \"2\"){\n                        tempCount++;\n                        temp[tempCount] = classificationCards[key+i];\n                        console.log(\"key+i:\"+(key+i));\n                    }else{\n                        break;\n                    }\n                }\n                //提起的牌值(--)\n                for(var i = 1;i<myCardsLength;i++){\n                    if(classificationCards[key-i]&&classificationCards[key-i].length == 3&& key+i != \"2\"){\n                        tempCount++;\n                        temp[tempCount] = classificationCards[key-i];\n                        console.log(\"key+i:\"+(key-i));\n                    }else{\n                        break;\n                    }\n                }\n\n                //检查牌组是否是飞机\n                if(temp.length>1){\n                    for(var i = 0;i<temp.length;i++){\n                        for(var j=0;j<temp[i].length;j++){\n                            console.log(\"temp:\"+temp[i][j]);\n                            autoCards.push(temp[i][j]);\n                        }\n                    }\n                }\n                autoCards.sort(config.arrayUp);\n                return autoCards;\n            }\n                \n        }else if(topCards[0] + 1 == topCards[1]){\n            if(topCards[1]>=CardUtil.cardGrade[\"2\"]){\n                autoCards = topCards;\n                return autoCards;\n            }\n\n            var key = topCards[1]\n            autoCards = topCards\n            for(var i =1;i<=3;i++){\n                if (classificationCards[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n                    //满足组成顺子的牌\n                    autoCards.push(classificationCards[key+i][0]);\n                }\n            }\n            if(autoCards.length<5){\n                autoCards = [];\n            }\n            return autoCards;\n\n        }else{\n            autoCards = [];\n            return autoCards;\n        }\n    }else if(topCardsLength == 3){\n        //连队判定\n        console.log(\"连队判定\");\n        var classificationTopCards = {};\n        classificationTopCards = PopCardUtil.getSameCards(topCards);\n        // classificationTopCards.sort();\n        if(classificationTopCards.length > 2){\n            var topKeys = [];\n            for(var k in classificationTopCards){\n                topKeys.push(k);\n            }\n            var k1 = parseInt(topKeys[0]);\n            var k2 = parseInt(topKeys[1]);\n            var kk = k1 + 1;\n            // console.log(\"k1:\"+k1+\" k2:\"+k2+\" kk:\"+kk);\n            if(kk==k2&&k2<CardUtil.cardGrade[\"2\"]){\n                var key=k1;\n                for(var k in classificationCards){\n                    if(k == key){\n                        var d = classificationCards[k];\n                        console.log(\"d:\"+d.length+\"  k:\"+k);\n                        if(d.length>=2){\n                            for(var i=0;i<2;i++){\n                                autoCards.push(d[i]);\n                            }\n                            key++;\n                        }else{\n                            break;\n                        }\n                    }\n                }\n                if(autoCards.length<6){\n                    autoCards =[];\n                }\n                return autoCards;\n            }\n        }\n\n    }\n\n    return autoCards;\n}\n\n\n//提示----------------------------------------\n\n// config.CardType = {\n// \tSingle : 1,                         //单张\n// \tPair : 2,                           //对子\n// \tThreeOfKind : 3,                    //三不带\n// \tThreeOfKindPlusOne : 4,             //三带一\n// \tThreeOfKindPlusPair : 5,            //三带二\n// \tStraight : 6,                       //顺子\n// \tStraightDouble : 7,\t\t\t\t\t//双顺  33 44 55\n// \tStraightThree : 8,\t\t\t\t\t//三顺  333 444    飞机  [333 444 555 a b c/ aa bb cc]\n// \tStraightThreePlusSingle : 9,\t\t//三顺+散牌 飞机带翅膀  333 444 5 6 / +一对\n// \tStraightThreePlusPair : 10,\t\t\t//三顺+对   飞机带翅膀  333 444 66 77\n// \tSoftBomb : 87,\t\t\t\t\t\t//软炸弹\n// \tBomb : 88,\t\t\t\t\t\t\t//炸弹\n// \tLazarilloBomb : 89,\t\t\t\t\t//纯癞子炸弹\n// \tDoubleKing : 99,\t\t\t\t\t//双王\n// \tFourPlusOne : 11,\t\t\t\t\t//四带1, 四只带两只单牌\n// \tFourPlusTwo : 12,\t\t\t\t\t//四带2, 四只带两对\n// }\n\n//获取比上家大的牌\nCardUtil.get_cards_larger = function(last_cards_type,myCards){\n    var all_result = [];\n    \n    var prop = PopCardUtil.getSameCards(myCards);\n    // PopCardUtil.setSameVulueCardCount(classificationCards);\n\n    var cardsType =  last_cards_type.type;\n    if(cardsType == config.CardType.Single){\n        all_result = CardUtil.find_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Pair){\n        all_result = CardUtil.find_pair_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKind){\n        all_result = CardUtil.find_three_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Bomb){\n        all_result = CardUtil.find_bomb_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusOne){\n        all_result = CardUtil.find_three_with_one_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusPair){\n        all_result = CardUtil.find_three_with_two_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.FourPlusOne){\n        all_result = CardUtil.find_four_with_two_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.FourPlusTwo){\n        all_result = CardUtil.find_four_with_two_pair_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Straight){\n        all_result = CardUtil.find_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightDouble){\n        all_result = CardUtil.find_pair_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThree){\n        all_result = CardUtil.find_three_straight(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThreePlusSingle){\n        all_result = CardUtil.find_three_straight_with_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.StraightThreePlusPair){\n        all_result = CardUtil.find_three_straight_with_pair_card(last_cards_type,prop,myCards);\n    }\n\n    if(cardsType != config.CardType.Bomb && cardsType != config.CardType.DoubleKing){\n        var all_bomb = CardUtil.find_bomb_all(prop);\n        for(var i=0;i<all_bomb.length;i++){\n            all_result.push(all_bomb[i]);\n        }\n    }\n\n    return all_result;\n}\n//符合条件的单张牌\nCardUtil.find_single_card = function(last_cards_type,prop,myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var rank = parseInt(last_cards_type.rank);\n    // console.log(\"符合条件的单张牌\");\n    if(single.count>0){\n        for(var k in single.cards){\n            var v = single.cards[k];\n            // console.log(\"v:\"+v+\"  k:\"+k);\n            if (rank < v){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    //没有适合单张 就拆分牌\n    var allcards = [];//所有牌值\n    for(var k in prop){\n        var v = prop[k];\n        // console.log(\"v:\"+v[0]+\"  k:\"+k);\n        allcards.push(k);\n    }\n\n    // console.log(\"length::\"+all_result.length);\n    if(all_result.length <= 0){\n        for(var k in allcards){\n            var v = parseInt(allcards[k]);\n            // console.log(\"v:\"+v+\"  k:\"+k);\n            if (rank < v){\n                all_result.push(v);\n            }\n        }\n    }\n\n    return all_result;\n}\n\n//找合适的对子出牌\nCardUtil.find_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var pair = PopCardUtil.getPair();\n    // console.log(\"符合条件的对子牌\");\n    var rank = parseInt(last_cards_type.rank);\n    if(pair.count>0){\n        for(var k in pair.cards){\n            var v = pair.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n    //没有适合对子 就拆分牌\n    var allcards = [];//所有牌值\n    if(all_result.length <= 0){\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n        if(three.count>0){\n            for(var k in three.cards){\n                var d = three.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        if(four.count>0){\n            for(var k in four.cards){\n                var d = four.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        return allcards;\n    }\n\n    return all_result;\n}\n\n//寻找合适的三个出牌\nCardUtil.find_three_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n    return all_result;\n}\n\n//所有的炸弹牌\nCardUtil.find_bomb_all = function(prop){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    for(var k in four.cards){\n        var v = four.cards[k];\n        // console.log(\"v:\"+v[0]+\"  k:\"+k);\n        all_result.push(v);\n    }\n    \n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }else{\n        console.log(\"没有王炸\");\n    }\n\n    return all_result;\n}\n\n//找合适的炸弹牌\nCardUtil.find_bomb_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n    }\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }else{\n        console.log(\"没有王炸\");\n    }\n\n    return all_result;\n}\n\n//找合适的三带一\nCardUtil.find_three_with_one_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    // var three = PopCardUtil.getThree();\n    var allOne = [];//所有三张的牌值 单张组\n\n    var onecard = 0;\n    if(single.count>0){\n        onecard = parseInt(single.cards[0]);\n        console.log(\"onecard1:\"+onecard);\n    }else if(pair.count>0){\n        onecard = parseInt(pair.cards[0][0]);\n        console.log(\"onecard2:\"+onecard);\n    }else{\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n        console.log(\"v:\"+v+\"  k:\"+k+\" allone:\"+allOne[k]);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n        }\n        v[v.length] = onecard;//onecard\n        v.sort(config.arrayUp);\n    }\n \n    return all_result;\n}\n//三带一对\nCardUtil.find_three_with_two_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var allOne = [];//所有三张的牌值 对子组\n    \n    var pair = PopCardUtil.getPair();\n    var tempPair = [];\n    if(pair.count>0){\n        tempPair = pair.cards[0];\n    }else{\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n    }\n\n    // console.log(\"tempPair:\"+tempPair+\" allOne:\"+allOne.length);\n\n    var onecard = tempPair.length;\n\n    for(var k in all_result){\n        var v = all_result[k];\n        // console.log(\"v:\"+v+\"  k:\"+k);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n            for(var i=0;i<2;i++){\n                v.push(parseInt(onecard));\n            }\n            onecard = 0;\n        }else{\n            for(var i=0;i<tempPair.length;i++){\n                v.push(parseInt(tempPair[i]));\n            }\n        }\n\n        // v.concat(tempPair[0],tempPair[1]);\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n//四带二\nCardUtil.find_four_with_two_single_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    if(single.count>1){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(single.cards[i]));\n        }\n    }else if(pair.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n    }else if(three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//四带两队\nCardUtil.find_four_with_two_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    if(pair.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(pair.cards[i]));\n            }\n        } \n    }else if(pair.count == 1 && three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }else if(three.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(three.cards[i]));\n            }\n        } \n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//符合的顺子牌\nCardUtil.find_straight = function(last_cards_type, prop, myCards){\n\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    var single = PopCardUtil.getSingle();\n\n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    //所有牌可以组成的顺子\n    var autoCards = [];\n    var tempCards = [];\n    var key = rank;\n    for(var i =1;i<20;i++){\n        if (prop[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n            //满足组成顺子的牌\n            autoCards.push(prop[key+i][0]);\n        }else{\n            if(autoCards.length>=repeatCount){\n                tempCards.push(autoCards);\n            }\n            autoCards = [];\n            continue;\n        }\n    }\n\n\n    console.log(tempCards);\n    if(tempCards.length == 0)\n        return all_result;\n    console.log(\"length:\"+tempCards[0].length);\n\n    if(tempCards[0].length > repeatCount){\n        var len = tempCards[0].length - repeatCount;\n        var temparr = [];\n        for(var i=0;i<=len;i++){\n            if(tempCards[0].length >= repeatCount+i){\n                temparr = config.arraySub(i,repeatCount+i,tempCards[0]);\n                all_result.push(temparr);\n            }\n        }\n    }else{\n        all_result = tempCards;\n    }\n\n    console.log(all_result);\n\n    return all_result;\n}\n\n//符合的连对\nCardUtil.find_pair_straight = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n    \n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<pair.count;i++){\n        allpair.push(pair.cards[i][0]);\n    }\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub2(j,repeatCount+j,tempCards[i]);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机不带\nCardUtil.find_three_straight = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub3(j,repeatCount+j,tempCards[i]);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机带单\nCardUtil.find_three_straight_with_single_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub3(j,repeatCount+j,tempCards[i]);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n//符合的飞机带双\nCardUtil.find_three_straight_with_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub3(j,repeatCount+j,tempCards[i]);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n\n//提示----------------------------------------\nmodule.exports = CardUtil;\n"]}