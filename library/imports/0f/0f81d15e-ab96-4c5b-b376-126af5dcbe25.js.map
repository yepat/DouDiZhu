{"version":3,"sources":["../../../../../assets/Script/dialog/assets/Script/dialog/LazarilloCardListControl.js"],"names":["PokerControl","require","config","CardUtil","GameNetMgr","cc","Class","extends","Component","properties","pokerCard","default","type","Prefab","onLoad","index","start","show","lazCards","parentNode","cards","pokerData","serverCardsToClient","jokto","joktoIndex","jokerValue","serverCardValueToClient","joker","i","length","cardNode","instantiate","parent","node","scale","poker","getComponent","canTouch","showTxt","joktoValue","convertLazarillo","showPoker","Click","console","log","jackto","serverCardValueToServer","sendRequest","closeClick"],"mappings":";;;;;;AAAA,IAAIA,eAAeC,QAAQ,cAAR,CAAnB;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,WAAWF,QAAQ,UAAR,CAAf;AACA,IAAIG,aAAaH,QAAQ,YAAR,CAAjB;AACAI,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAY;AACRC,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF;AADJ,KAHP;AASLC,UATK,oBASK;AACN,aAAKC,KAAL,GAAa,CAAC,CAAd;AACH,KAXI;AAYLC,SAZK,mBAYI;AACL;AACA;AACH,KAfI;AAgBLC,QAhBK,gBAgBAC,QAhBA,EAgBSH,KAhBT,EAgBeI,UAhBf,EAgB0B;AAC3B,aAAKJ,KAAL,GAAaA,KAAb;AACA,aAAKG,QAAL,GAAgBA,QAAhB;AACA,aAAKC,UAAL,GAAkBA,UAAlB;;AAEA,YAAIC,QAAQF,SAAS,CAAT,CAAZ;AACA,YAAIG,YAAYlB,SAASmB,mBAAT,CAA6BF,KAA7B,CAAhB;AACA,YAAIG,QAAQL,SAAS,CAAT,CAAZ;AACA,YAAIM,aAAa,CAAjB;AACA,YAAIC,aAAatB,SAASuB,uBAAT,CAAiCxB,OAAOyB,KAAxC,CAAjB;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAIP,UAAUQ,MAA5B,EAAmCD,GAAnC,EAAuC;AACnC,gBAAIE,WAAWzB,GAAG0B,WAAH,CAAe,KAAKrB,SAApB,CAAf;AACAoB,qBAASE,MAAT,GAAkB,KAAKC,IAAvB;AACAH,qBAASI,KAAT,GAAiB,GAAjB;AACA,gBAAIC,QAAQL,SAASM,YAAT,CAAsBpC,YAAtB,CAAZ;AACAqB,sBAAUO,CAAV,EAAaS,QAAb,GAAwB,KAAxB;AACA,gBAAGd,MAAMC,UAAN,KAAqBH,UAAUO,CAAV,EAAaU,OAAb,IAAwBb,UAAhD,EAA2D;AACvD,oBAAIc,aAAapC,SAASuB,uBAAT,CAAiCH,MAAMC,UAAN,CAAjC,CAAjB;AACAW,sBAAMK,gBAAN,CAAuBD,UAAvB;AACAf;AACH,aAJD,MAIK;AACDW,sBAAMM,SAAN,CAAgBpB,UAAUO,CAAV,CAAhB;AACH;AACJ;AACJ,KAxCI;AAyCLc,SAzCK,mBAyCE;AACHC,gBAAQC,GAAR,CAAY,gBAAZ;AACA,YAAG,KAAK7B,KAAL,IAAc,CAAC,CAAlB,EAAoB;AAChB4B,oBAAQC,GAAR,CAAY,UAAZ,EAAuB,KAAK7B,KAA5B;AACA,gBAAI8B,SAAS,KAAK3B,QAAL,CAAc,CAAd,CAAb;AACA,iBAAI,IAAIU,IAAE,CAAV,EAAYA,IAAEiB,OAAOhB,MAArB,EAA4BD,GAA5B,EAAgC;AAC5BiB,uBAAOjB,CAAP,IAAYzB,SAAS2C,uBAAT,CAAiCD,OAAOjB,CAAP,CAAjC,CAAZ;AACH;AACDxB,uBAAW2C,WAAX,CAAuB,MAAvB,EAA8B,UAA9B,EAAyC,EAAC,GAAE,KAAK7B,QAAL,CAAc,CAAd,CAAH,EAAoB,GAAE2B,MAAtB,EAAzC;AACA,gBAAG,KAAK1B,UAAR,EAAmB;AACfwB,wBAAQC,GAAR,CAAY,4BAAZ;AACA,qBAAKzB,UAAL,CAAgB6B,UAAhB;AACH;AACJ;AACJ;AAvDI,CAAT","file":"LazarilloCardListControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["var PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\");\nvar GameNetMgr = require(\"GameNetMgr\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerCard : {\n            default : null,\n            type : cc.Prefab\n        },\n    },\n    onLoad () {\n        this.index = -1;\n    },\n    start () {\n        // var cards = [\"25\", \"15\", \"14\", \"43\"];\n        // this.show(cards);\n    },   \n    show(lazCards,index,parentNode){\n        this.index = index;\n        this.lazCards = lazCards;\n        this.parentNode = parentNode;\n\n        var cards = lazCards[0];\n        var pokerData = CardUtil.serverCardsToClient(cards);\n        var jokto = lazCards[1];\n        var joktoIndex = 0;\n        var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n        for(var i = 0;i < pokerData.length;i++){\n            var cardNode = cc.instantiate(this.pokerCard);\n            cardNode.parent = this.node;\n            cardNode.scale = 0.3;\n            var poker = cardNode.getComponent(PokerControl);\n            pokerData[i].canTouch = false;\n            if(jokto[joktoIndex] && pokerData[i].showTxt == jokerValue){\n                var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                poker.convertLazarillo(joktoValue);\n                joktoIndex++;\n            }else{\n                poker.showPoker(pokerData[i]);\n            }\n        }\n    },\n    Click(){\n        console.log(\"cardlist click\");\n        if(this.index != -1){\n            console.log(\"index = \",this.index);\n            var jackto = this.lazCards[1];\n            for(var i=0;i<jackto.length;i++){\n                jackto[i] = CardUtil.serverCardValueToServer(jackto[i]);\n            }\n            GameNetMgr.sendRequest(\"Game\",\"sendCard\",{0:this.lazCards[0],1:jackto});\n            if(this.parentNode){\n                console.log(\"-----parentNode.closeClick\");\n                this.parentNode.closeClick();\n            }\n        }\n    }\n});\n"]}