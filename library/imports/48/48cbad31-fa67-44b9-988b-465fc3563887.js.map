{"version":3,"sources":["../../../../../assets/Script/dialog/assets/Script/dialog/taskControl.js"],"names":["taskItemControl","require","GameNetMgr","EventHelper","config","dialogManager","PlayerDetailModel","cc","Class","extends","Component","properties","btnLeft_1","default","type","Sprite","btnLeft_2","btnRight_1","btnRight_2","content","Node","taskItem","Prefab","start","self","sendRequest","AddCustomEvent","MyNode","onTaskDailyResult","onGetTaskRewardResult","closeClick","console","log","RemoveCustomEvent","node","destroy","vv","audioMgr","playSFX","leftClick","rightClick","event","response","getUserData","listEveryday","data","list","everyday","i","length","info","instantiate","parent","task","getComponent","progress","complete","target","init","desc","award_desc","showCommonDialog","error"],"mappings":";;;;;;AACA,IAAIA,kBAAkBC,QAAQ,iBAAR,CAAtB;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;AACA,IAAIE,cAAcF,QAAQ,aAAR,CAAlB;AACA,IAAIG,SAASH,QAAQ,QAAR,CAAb;AACA,IAAII,gBAAgBJ,QAAQ,eAAR,CAApB;AACA,IAAIK,oBAAoBL,QAAQ,mBAAR,CAAxB;;AAEAM,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAY;AACRC,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF,SADJ;AAKRC,mBAAY;AACRH,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF,SALJ;AASRE,oBAAa;AACTJ,qBAAU,IADD;AAETC,kBAAOP,GAAGQ;AAFD,SATL;AAaRG,oBAAa;AACTL,qBAAU,IADD;AAETC,kBAAOP,GAAGQ;AAFD,SAbL;AAiBRI,iBAAU;AACNN,qBAAU,IADJ;AAENC,kBAAOP,GAAGa;AAFJ,SAjBF;AAqBRC,kBAAW;AACPR,qBAAU,IADH;AAEPC,kBAAOP,GAAGe;AAFH;AArBH,KAHP;AA6BLC,SA7BK,mBA6BI;AACL,YAAIC,OAAO,IAAX;AACAtB,mBAAWuB,WAAX,CAAuB,QAAvB,EAAgC,WAAhC;AACAtB,oBAAYuB,cAAZ,CAA2BtB,OAAOuB,MAAlC,EAAyC,iBAAzC,EAA2DH,KAAKI,iBAAhE,EAAkFJ,IAAlF;AACArB,oBAAYuB,cAAZ,CAA2BtB,OAAOuB,MAAlC,EAAyC,qBAAzC,EAA+DH,KAAKK,qBAApE,EAA0FL,IAA1F;AACH,KAlCI;AAmCLM,cAnCK,wBAmCO;AACR,YAAIN,OAAO,IAAX;AACAO,gBAAQC,GAAR,CAAY,aAAZ;AACA7B,oBAAY8B,iBAAZ,CAA8B7B,OAAOuB,MAArC,EAA4C,iBAA5C,EAA8DH,KAAKI,iBAAnE,EAAqFJ,IAArF;AACArB,oBAAY8B,iBAAZ,CAA8B7B,OAAOuB,MAArC,EAA4C,qBAA5C,EAAkEH,KAAKK,qBAAvE,EAA6FL,IAA7F;AACA,aAAKU,IAAL,CAAUC,OAAV;;AAEA5B,WAAG6B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH,KA3CI;AA4CLC,aA5CK,uBA4CM;AACP;AACA;AACA;AACAhC,WAAG6B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH,KAjDI;AAkDLE,cAlDK,wBAkDO;AACR;AACA;AACA;AACAjC,WAAG6B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,QAAvB;AACH,KAvDI;AAwDLV,qBAxDK,6BAwDaa,KAxDb,EAwDmB;AACpB,YAAIC,WAAWD,MAAME,WAAN,EAAf;AACAZ,gBAAQC,GAAR,CAAYU,QAAZ;AACA,YAAIE,eAAeF,SAASG,IAAT,CAAcC,IAAd,CAAmBC,QAAtC;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAEJ,aAAaK,MAA7B,EAAoCD,GAApC,EAAwC;AACpC,gBAAIE,OAAON,aAAaI,CAAb,CAAX;AACA,gBAAI3B,WAAWd,GAAG4C,WAAH,CAAe,KAAK9B,QAApB,CAAf;AACAA,qBAAS+B,MAAT,GAAkB,KAAKjC,OAAvB;AACA,gBAAIkC,OAAOhC,SAASiC,YAAT,CAAsBtD,eAAtB,CAAX;AACA,gBAAIuD,WAAWL,KAAKM,QAAL,GAAc,GAAd,GAAkBN,KAAKO,MAAtC;AACAJ,iBAAKK,IAAL,CAAUR,IAAV,EAAeA,KAAKS,IAApB,EAAyBT,KAAKU,UAA9B,EAAyCL,QAAzC;AACH;AACJ,KApEI;AAqEL1B,yBArEK,iCAqEiBY,KArEjB,EAqEuB;AACxB,YAAIC,WAAWD,MAAME,WAAN,EAAf;AACAZ,gBAAQC,GAAR,CAAYU,QAAZ;AACArC,sBAAcwD,gBAAd,CAA+B,MAA/B,EAAsCnB,SAASG,IAAT,CAAciB,KAApD;AACH;AAzEI,CAAT","file":"taskControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["\nvar taskItemControl = require(\"taskItemControl\");\nvar GameNetMgr = require(\"GameNetMgr\");\nvar EventHelper = require(\"EventHelper\");\nvar config = require(\"config\");\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        btnLeft_1 : {\n            default : null,\n            type : cc.Sprite\n        },\n        btnLeft_2 : {\n            default : null,\n            type : cc.Sprite\n        },\n        btnRight_1 : {\n            default : null,\n            type : cc.Sprite\n        },\n        btnRight_2 : {\n            default : null,\n            type : cc.Sprite\n        },\n        content : {\n            default : null,\n            type : cc.Node\n        },\n        taskItem : {\n            default : null,\n            type : cc.Prefab\n        },\n    },\n    start () {\n        var self = this;\n        GameNetMgr.sendRequest(\"System\",\"TaskDaily\");\n        EventHelper.AddCustomEvent(config.MyNode,\"TaskDailyResult\",self.onTaskDailyResult,self);\n        EventHelper.AddCustomEvent(config.MyNode,\"GetTaskRewardResult\",self.onGetTaskRewardResult,self);\n    },   \n    closeClick(){\n        var self = this;\n        console.log(\"close click\");\n        EventHelper.RemoveCustomEvent(config.MyNode,\"TaskDailyResult\",self.onTaskDailyResult,self);\n        EventHelper.RemoveCustomEvent(config.MyNode,\"GetTaskRewardResult\",self.onGetTaskRewardResult,self);\n        this.node.destroy();\n\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    leftClick(){\n        // console.log(\"left click\");\n        // this.btnLeft_1.enabled = true;\n        // this.btnRight_1.enabled = false;\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    rightClick(){\n        // console.log(\"right click\");\n        // this.btnLeft_1.enabled = false;\n        // this.btnRight_1.enabled = true; \n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    onTaskDailyResult(event){\n        var response = event.getUserData();\n        console.log(response);\n        var listEveryday = response.data.list.everyday;\n        for(var i = 0;i<listEveryday.length;i++){\n            var info = listEveryday[i];\n            var taskItem = cc.instantiate(this.taskItem);\n            taskItem.parent = this.content;\n            var task = taskItem.getComponent(taskItemControl);\n            var progress = info.complete+\"/\"+info.target;\n            task.init(info,info.desc,info.award_desc,progress);\n        }\n    },\n    onGetTaskRewardResult(event){\n        var response = event.getUserData();\n        console.log(response);\n        dialogManager.showCommonDialog(\"温馨提示\",response.data.error);\n    }\n});\n"]}