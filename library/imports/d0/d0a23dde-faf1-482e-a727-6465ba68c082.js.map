{"version":3,"sources":["../../../../../assets/Script/animation/assets/Script/animation/expressionControl.js"],"names":["cc","Class","extends","Component","properties","node_ske","default","type","Node","onLoad","width","director","getWinSize","height","node","start","show","args","beginPos","endpos","audioUrl","setPosition","self","callFunc1","callFunc","dragonDisplay","getComponent","dragonBones","ArmatureDisplay","playAnimation","vv","audioMgr","playSFX","callFunc2","destroy","move","moveTo","p","x","y","delay","delayTime","runAction","sequence","close"],"mappings":";;;;;;AAAA;AACA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAW;AACPC,qBAAU,IADH;AAEPC,kBAAOP,GAAGQ;AAFH;AADH,KAHP;AASLC,UATK,oBASK;AACN,YAAIC,QAAQV,GAAGW,QAAH,CAAYC,UAAZ,GAAyBF,KAArC;AACA,YAAIG,SAASb,GAAGW,QAAH,CAAYC,UAAZ,GAAyBC,MAAtC;AACA;AACA;AACA,aAAKC,IAAL,CAAUJ,KAAV,GAAkBA,KAAlB;AACA,aAAKI,IAAL,CAAUD,MAAV,GAAmBA,MAAnB;AACH,KAhBI;AAiBLE,SAjBK,mBAiBI,CACR,CAlBI;AAmBLC,QAnBK,gBAmBAC,IAnBA,EAmBK;AACN,YAAG,CAACA,IAAJ,EACI;;AAEJ,YAAIC,WAAWD,KAAKC,QAApB;AACA,YAAIC,SAASF,KAAKE,MAAlB;AACA,YAAIC,WAAWH,KAAKG,QAApB;;AAEA,aAAKf,QAAL,CAAcgB,WAAd,CAA0BH,QAA1B;AACA,YAAII,OAAO,IAAX;AACA,YAAIC,YAAYvB,GAAGwB,QAAH,CAAY,YAAU;AAClC,gBAAIC,gBAAgBH,KAAKjB,QAAL,CAAcqB,YAAd,CAA2BC,YAAYC,eAAvC,CAApB;AACA,gBAAGH,aAAH,EAAiB;AACbA,8BAAcI,aAAd,CAA4B,cAA5B;AACA,oBAAGT,YAAY,EAAf,EACIpB,GAAG8B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuBZ,QAAvB;AACP;AACJ,SAPe,CAAhB;AAQA,YAAIa,YAAYjC,GAAGwB,QAAH,CAAY,YAAU;AAClCF,iBAAKR,IAAL,CAAUoB,OAAV;AACH,SAFe,CAAhB;;AAIA,YAAIC,OAAOnC,GAAGoC,MAAH,CAAU,GAAV,EAAcpC,GAAGqC,CAAH,CAAKlB,OAAOmB,CAAZ,EAAcnB,OAAOoB,CAAP,GAAS,EAAvB,CAAd,CAAX;AACA,YAAIC,QAAQxC,GAAGyC,SAAH,CAAa,CAAb,CAAZ;AACA,aAAKpC,QAAL,CAAcqC,SAAd,CAAwB1C,GAAG2C,QAAH,CAAYR,IAAZ,EAAiBZ,SAAjB,EAA2BiB,KAA3B,EAAiCP,SAAjC,CAAxB;AACH,KA5CI;AA6CLW,SA7CK,mBA6CE;AACH,aAAK9B,IAAL,CAAUoB,OAAV;AACH;AA/CI,CAAT","file":"expressionControl.js","sourceRoot":"../../../../../assets/Script/animation","sourcesContent":["// var GameNetMgr = require(\"GameNetMgr\");\n// var config = require(\"config\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        node_ske : {\n            default : null,\n            type : cc.Node,\n        },\n    },\n    onLoad () {\n        var width = cc.director.getWinSize().width;\n        var height = cc.director.getWinSize().height;\n        // console.log(\"width:\"+width);\n        // console.log(\"height:\"+height);\n        this.node.width = width;\n        this.node.height = height;\n    },\n    start () {\n    },\n    show(args){\n        if(!args)\n            return;\n\n        var beginPos = args.beginPos;\n        var endpos = args.endpos;\n        var audioUrl = args.audioUrl;\n        \n        this.node_ske.setPosition(beginPos);\n        var self = this;\n        var callFunc1 = cc.callFunc(function(){\n            var dragonDisplay = self.node_ske.getComponent(dragonBones.ArmatureDisplay);\n            if(dragonDisplay){\n                dragonDisplay.playAnimation('newAnimation');\n                if(audioUrl != \"\")\n                    cc.vv.audioMgr.playSFX(audioUrl);\n            }\n        });\n        var callFunc2 = cc.callFunc(function(){\n            self.node.destroy();\n        });\n\n        var move = cc.moveTo(0.2,cc.p(endpos.x,endpos.y-50));\n        var delay = cc.delayTime(2);\n        this.node_ske.runAction(cc.sequence(move,callFunc1,delay,callFunc2)); \n    },\n    close(){\n        this.node.destroy();\n    }\n});\n"]}