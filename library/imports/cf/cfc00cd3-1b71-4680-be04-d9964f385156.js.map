{"version":3,"sources":["../../../../assets/Script/assets/Script/LazarilloCardUtil.js"],"names":["config","require","PopCardUtil","CardUtil","helper","LazarilloCardUtil","get_big_tips_cards","cardlist","preCardType","return_cards","console","log","jokerValue","serverCardValueToClient","joker","newCardlist","i","length","cards","jokto","joktoIndex","tempcards","j","str2","substring","cardvalue","joktoValue","push","sort","arrayUp","cardstype","get_topCard_type","item","cardsType","type","rank","get_effective_tips_cards","lazarillo","clientCards","serverCardsToClient","lz_cards","tip_cards","k","v","showTxt","lzLen","allCardsCount","get_pair_lazarillo_cards","get_three_lazarillo_cards","all_cards","get_three_single_lazarillo_cards","get_bomb_lazarillo_cards","get_three_pair_lazarillo_cards","get_straight_lazarillo_cards","get_four_single_lazarillo_cards","get_straight_double_lazarillo_cards","len","get_straight_three_lazarillo_cards","CardType","StraightThree","get_four_pair_lazarillo_cards","StraightThreePlusSingle","StraightThreePlusPair","checkTopCardsHasKing","topCards","hasKing","replaceCards","cardGrade","replaceValue","serverCardValueToServer","tipCards","sameValues","getSameCards","setSameVulueCardCount","single","getSingle","pair","getPair","singleLength","count","pairLength","setVal","lz_three_val","straightLen","kingCount","singleSet","pairSet","threeSet","getThree","singleSetLen","pairSetLen","threeSetLen","lz_bomb_val","fourSet","getFour","fourSetLen","lz_four_val","tType","tip_cards_val","tip_all_cards","tip_kings","minCard","maxCard","all_result","straightThree","n","effectiveType","key","val","other_tip_cards","lz_val","splice","remainingLz","other_tip_all_cards","x","m","tempTipCards","through","lz_straight_val","lz_nochange_count","haveCard","get_cards_larger","last_cards_type","myCards","prop","lzValue","Single","find_single_card","Pair","find_pair_card","ThreeOfKind","find_three_card","SoftBomb","find_SoftBomb_card","Bomb","find_bomb_card","LazarilloBomb","find_LazarilloBomb_card","ThreeOfKindPlusOne","find_three_with_one_card","ThreeOfKindPlusPair","find_three_with_two_card","FourPlusOne","find_four_with_two_single_card","FourPlusTwo","find_four_with_two_pair_card","Straight","find_straight","StraightDouble","find_pair_straight","find_three_straight","find_three_straight_with_single_card","find_three_straight_with_pair_card","DoubleKing","all_bomb","find_allBomb_card","parseInt","allcards","three","four","d","temp","slice","values","allOne","onecard","tempPair","temps","repeatCount","maxRank","tempAllcards","begin","tempCards","arraySub","tempAll_result","temparr","singles","xx_All_result","xx_temp","repCount","allpair","autoCards","tempNum","copyTempCards","addCards","value","module","exports"],"mappings":"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","file":"LazarilloCardUtil.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar config = require(\"config\");\nvar PopCardUtil = require(\"PopCardUtil\");\nvar CardUtil = require(\"CardUtil\");\nvar helper = require(\"helper\")\n\nvar LazarilloCardUtil = {};\n\n//获取大于上家的赖子牌组合\nLazarilloCardUtil.get_big_tips_cards = function(cardlist, preCardType){\n    var return_cards = [];\n\n    // var testType = {\n    //     rank:1,\n    //     repeatCount:1,\n    //     type:88\n    // }\n    // preCardType = testType;\n\n    console.log(\"------获取大于上家的赖子牌组合\")\n    console.log(\"cardlist\",cardlist);\n    console.log(\"preCardType\",preCardType);\n    var jokerValue = CardUtil.serverCardValueToClient(config.joker);\n\n    var newCardlist = [];\n    for(var i=0;i<cardlist.length;i++){\n        var cards = cardlist[i][0];\n        var jokto = cardlist[i][1];\n        console.log(\">>>cards\",cards);\n        console.log(\">>>jokto\",jokto);\n        var joktoIndex = 0;\n        var tempcards = [];\n        for(var j=0;j<cards.length;j++){\n            var str2 = cards[j].substring(1);\n            var cardvalue = CardUtil.serverCardValueToClient(str2);\n            if(jokto[joktoIndex] && cardvalue == jokerValue){\n                var joktoValue = CardUtil.serverCardValueToClient(jokto[joktoIndex]);\n                tempcards.push(joktoValue);\n                joktoIndex++;\n            }else{\n                tempcards.push(cardvalue);\n            }  \n        }\n        tempcards.sort(config.arrayUp);\n        console.log(\">>>>tempcards\",tempcards);\n        var cardstype = CardUtil.get_topCard_type(tempcards);\n        var item = {\n            cardlist:cardlist[i],\n            cardstype:cardstype\n        }\n        newCardlist.push(item);\n    }\n\n    console.log(\">>>newCardlist\",newCardlist);\n    for(var i=0;i<newCardlist.length;i++){\n        var cardsType = newCardlist[i].cardstype;\n        if((cardsType.type==preCardType.type&&cardsType.rank>preCardType.rank)||cardsType.type == 88){\n            return_cards.push(newCardlist[i].cardlist);\n        }\n    }\n    console.log(\">>>return_cards\",return_cards);\n    return return_cards;\n}\n\n//根据提起的牌获得全部有效牌面(必须有癞子)\nLazarilloCardUtil.get_effective_tips_cards = function(cards, lazarillo){\n    var return_cards = [];\n    if (!cards){\n        return return_cards;\n    }\n\n    //服务器牌值转化\n    var clientCards = CardUtil.serverCardsToClient(cards);\n    lazarillo = CardUtil.serverCardValueToClient(lazarillo);\n\n    //癞子牌面\n    var lz_cards = [];\n    //普通牌面\n    var tip_cards = [];\n    for (var k in clientCards){\n        var v = clientCards[k];\n        if (v.showTxt == lazarillo){\n            //癞子牌\n            lz_cards.push(clientCards[k])\n        }else{\n            //普通牌\n            tip_cards.push(clientCards[k]);\n        }\n    }\n    \n    if (lz_cards.length > 0 && tip_cards.length > 0){\n        //有癞子和普通牌\n    }else{\n        //纯癞子/纯普通牌\n        var item = {\n            0:cards,\n            1:[]\n        }\n        return_cards.push(item);\n        return return_cards\n    }\n\n    //癞子数\n    var lzLen = lz_cards.length;\n    var allCardsCount = tip_cards.length + lzLen; //普通牌和癞子牌的总数\n    \n    if (allCardsCount == 2){ //一对\n        return_cards = LazarilloCardUtil.get_pair_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n    }else if (allCardsCount == 3){ //三张\n        return_cards = LazarilloCardUtil.get_three_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n    }else if (allCardsCount == 4){ //三带一/四炸\n        //三带一    \n        var all_cards = LazarilloCardUtil.get_three_single_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //四炸\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_bomb_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 5){ //三带一对/顺子\n        //三带一对\n        var all_cards = LazarilloCardUtil.get_three_pair_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //顺子\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if(allCardsCount == 6){ //四带二张/连对/顺子/飞机\n        //四带二张\n        var all_cards = LazarilloCardUtil.get_four_single_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //连对\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //顺子\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机不带\n        all_cards = [];\n        var len = 2; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThree)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 7 || allCardsCount == 11){ //顺子\n        return_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n    }else if (allCardsCount == 8){ //四带二对/连对/顺子/飞机\n        //四带二对\n        var all_cards = LazarilloCardUtil.get_four_pair_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //连对\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //顺子\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带单\n        all_cards = [];\n        var len = 2; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusSingle)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 9){ //顺子/飞机\n        //顺子\n        var all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机不带\n        all_cards = [];\n        var len = 3 //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThree)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 10){ //连对/顺子/飞机\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //顺子\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带对\n        all_cards = [];\n        var len = 2 //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusPair)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 12){ //连对/顺子/飞机\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //顺子\n        all_cards = [];\n        all_cards = LazarilloCardUtil.get_straight_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机不带\n        all_cards = [];\n        var len = 4 //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThree)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带单\n        all_cards = [];\n        len = 3 //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusSingle)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 13){\n    }else if (allCardsCount == 14){ //连对\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 15){ //飞机\n        //飞机不带\n        var len = 5; //飞机长度\n        var all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThree)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带对\n        all_cards = [];\n        len = 3 //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusPair)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 16){ //连对/飞机\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带单\n        all_cards = [];\n        var len = 4; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusSingle)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 17){\n    }else if (allCardsCount == 18){ //连对/飞机\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机不带\n        all_cards = [];\n        var len = 6; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThree)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }else if (allCardsCount == 19){\n    }else if (allCardsCount == 20){ //连对/飞机\n        //连对\n        var all_cards = LazarilloCardUtil.get_straight_double_lazarillo_cards(allCardsCount, tip_cards, lazarillo, lzLen, cards)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带单\n        all_cards = [];\n        var len = 5; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusSingle)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n        //飞机带对\n        all_cards = [];\n        len = 4; //飞机长度\n        all_cards = LazarilloCardUtil.get_straight_three_lazarillo_cards(len, tip_cards, lazarillo, lzLen, cards, config.CardType.StraightThreePlusPair)\n        for (var k in all_cards){\n            return_cards[return_cards.length] = all_cards[k]\n        }\n    }\n    return return_cards\n}\n\nLazarilloCardUtil.checkTopCardsHasKing = function(topCards){\n    var hasKing = 0;\n    for(var i=0;i<topCards.length;i++){\n        if(topCards[i]==\"00\"||topCards[i]==\"01\"){\n            hasKing++;\n        }\n    }\n    return hasKing;\n}\n\n//获取提起牌能组合成对子的值\nLazarilloCardUtil.get_pair_lazarillo_cards = function(allCardsCount, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var replaceCards = [];\n\n    if(LazarilloCardUtil.checkTopCardsHasKing(cards)>0){\n        return return_cards;\n    }\n\n    if(tip_cards[0].showTxt <= CardUtil.cardGrade[\"2\"]){\n        var replaceValue = CardUtil.serverCardValueToServer(tip_cards[0].showTxt);\n        replaceCards.push(replaceValue);\n        var item = {\n            0:cards,\n            1:replaceCards\n        }\n        return_cards.push(item);\n    }\n\n    console.log(\"---赖子组合成对子的值\");\n    console.log(return_cards);\n    return return_cards\n}\n//获取提起牌能组合成三张的值\nLazarilloCardUtil.get_three_lazarillo_cards = function(allCardsCount, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    if(LazarilloCardUtil.checkTopCardsHasKing(cards)>0){\n        return return_cards;\n    }\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    \n    var singleLength = single.count;\n    var pairLength = pair.count;\n    var setVal = 0;\n    var lz_three_val = [];\n    if(singleLength == 1 && lzLen == 2){\n        setVal = single.cards[0][0];\n    }else if(pairLength == 1 && lzLen == 1){\n        setVal = pair.cards[0][0];\n    }\n    if(setVal){\n        for(var i=0;i<lzLen;i++){\n            lz_three_val.push(setVal);\n        }\n        var item = {\n            0:cards,\n            1:lz_three_val\n        }\n        return_cards.push(item);\n    }\n\n    console.log(\"---赖子组合成三张的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n// 获取提起牌能组合成三带一的值\nLazarilloCardUtil.get_three_single_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n    console.log(\"kingCount:\"+kingCount);\n\n    if(kingCount>1){\n        return return_cards;\n    }\n\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    // var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    // var fourSetLen = fourSet.length;\n    \n    var item = {};\n    if(lzLen == 3){\n        if(singleSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n            if(kingCount == 0){\n                item = {0:cards, 1:[singleSet.cards[0][0],singleSet.cards[0][0]]}\n                return_cards.push(item);\n            } \n        }\n    }else if(lzLen == 2){\n        if(pairSetLen == 1){\n            item = {0:cards, 1:[pairSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(singleSetLen == 2){\n            console.log(singleSet.cards[0][0],singleSet.cards[1][0]);\n            if(singleSet.cards[0][0] == CardUtil.cardGrade[\"g\"] || singleSet.cards[0][0] == CardUtil.cardGrade[\"G\"]){\n                var lz_three_val = [];\n                for (var i=0;i<lzLen;i++){\n                    lz_three_val.push(singleSet.cards[1][0]);\n                }\n                item = {0:cards, 1:lz_three_val}\n                return_cards.push(item);\n            }else if(singleSet.cards[1][0] == CardUtil.cardGrade[\"g\"] || singleSet.cards[1][0] == CardUtil.cardGrade[\"G\"]){\n                var lz_three_val = [];\n                for (var i=0;i<lzLen;i++){\n                    lz_three_val.push(singleSet.cards[0][0]);\n                }\n                item = {0:cards, 1:lz_three_val}\n                return_cards.push(item);\n            }else{\n                for(var i=0;i<singleSetLen;i++){\n                    var lz_three_val = [];\n                    for (var j=0;j<lzLen;j++){\n                        lz_three_val.push(singleSet.cards[i][0]);\n                    }\n                    item = {0:cards, 1:lz_three_val}\n                    return_cards.push(item);\n                }\n            }\n        }\n    }else if(lzLen == 1){\n        if(threeSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }else if(pairSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[pairSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }\n\n    console.log(\"---赖子组合成三带一的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n//获取提起牌能组合成三带一对的值\nLazarilloCardUtil.get_three_pair_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    if(LazarilloCardUtil.checkTopCardsHasKing(cards)>0){\n        return return_cards;\n    }\n\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    // var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    // var fourSetLen = fourSet.length;\n    var item = {};\n    if(lzLen == 4){\n        if(singleSetLen == 1){\n            item = {0:cards, 1:[singleSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[singleSet.cards[0][0],singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 3){\n        if(pairSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(singleSetLen == 2){\n            item = {0:cards, 1:[singleSet.cards[0][0],singleSet.cards[0][0],singleSet.cards[1][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[singleSet.cards[1][0],singleSet.cards[1][0],singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 2){\n        if(threeSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }else if(pairSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[pairSet.cards[0][0],singleSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[singleSet.cards[0][0],singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 1){\n        if(threeSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 2){\n            item = {0:cards, 1:[pairSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[1][0]]}\n            return_cards.push(item);\n        }\n    }\n\n    console.log(\"---赖子组合成三带一对的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n// 获取提起牌能组合成四炸的值\nLazarilloCardUtil.get_bomb_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    if(LazarilloCardUtil.checkTopCardsHasKing(cards)>0){\n        return return_cards;\n    }\n\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    // var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    // var fourSetLen = fourSet.count;\n    var item = {};\n\n    var setVal = 0;\n    var lz_bomb_val = [];\n    if(singleSetLen == 1 && lzLen == 3){\n        setVal = singleSet.cards[0][0]\n    }else if(pairSetLen == 1 && lzLen == 2){\n        setVal = pairSet.cards[0][0]\n    }else if(threeSetLen == 1 && lzLen == 1){\n        setVal = threeSet.cards[0][0]\n    }\n\n    // console.log(setVal);\n\n    if(setVal){\n        for(var i=0;i<lzLen;i++){\n            lz_bomb_val.push(setVal);\n        }\n        item = {0:cards, 1:lz_bomb_val}\n        return_cards.push(item);\n    }\n\n    console.log(\"---赖子组合成四炸的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n//获取提起牌能组合成四带二张的值\nLazarilloCardUtil.get_four_single_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    var fourSetLen = fourSet.count;\n    var item = {};\n\n    if(lzLen == 4){\n        if(pairSetLen == 1 || singleSetLen == 2){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 3){\n        if(threeSetLen == 1){\n            item = {0:cards, 1:[threeSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0]]}\n            return_cards.push(item);\n\n            if(!kingCount){\n                item = {0:cards, 1:[singleSet.cards[0][0], singleSet.cards[0][0], singleSet.cards[0][0]]}\n                return_cards.push(item);\n            }\n        }else if(singleSetLen == 3){\n            for(var k in singleSet){\n                var v = singleSet.cards[k][0];\n                if(v == CardUtil.cardGrade[\"g\"] || v == CardUtil.cardGrade[\"G\"]){\n                }else{\n                    var lz_four_val = [];\n                    for(var i=1;i<lzLen;i++){\n                        lz_four_val.push(v);\n                    }\n                    item = {0:cards, 1:lz_four_val}\n                    return_cards.push(item);\n                }\n            }\n        }\n    }else if(lzLen == 2){\n        if (fourSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }else if(threeSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[threeSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 2){\n            item = {0:cards, 1:[pairSet.cards[0][0],pairSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[1][0],pairSet.cards[1][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 1 && singleSetLen == 2){\n            item = {0:cards, 1:[pairSet.cards[0][0],pairSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 1){\n        if(fourSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }else if(threeSetLen == 1 && pairSetLen == 1){\n            item = {0:cards, 1:[threeSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(threeSetLen == 1 && singleSetLen == 2){\n            item = {0:cards, 1:[threeSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }\n\n    console.log(\"---赖子组合成四带二张的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n//获取提起牌能组合成四带二对的值\nLazarilloCardUtil.get_four_pair_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n    if(kingCount>0){\n        return return_cards;\n    }\n\n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    var fourSetLen = fourSet.count;\n    var item = {};\n\n    if(lzLen == 4){\n        if(fourSetLen == 1){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n        }else if(threeSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[threeSet.cards[0][0], singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 2){\n            item = {0:cards, 1:[]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[1][0], pairSet.cards[1][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 1 || singleSetLen == 2){\n            item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0], singleSet.cards[0][0], singleSet.cards[1][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 3){\n        if(fourSetLen == 1 && singleSetLen == 1){\n            if(fourSet.cards[0][0] > lazarillo){\n                item = {0:cards, 1:[singleSet.cards[0][0]]}\n                return_cards.push(item);\n            }else{\n                item = {0:cards, 1:[singleSet.cards[0][0],singleSet.cards[0][0],singleSet.cards[0][0],singleSet.cards[0][0]]}\n                return_cards.push(item);\n            }\n        }else if(threeSetLen == 1 && pairSetLen == 1){\n            if(threeSet.cards[0][0] > pairSet.cards[0][0]){\n                item = {0:cards, 1:[threeSet.cards[0][0]]}\n                return_cards.push(item);\n            }else{\n                item = {0:cards, 1:[pairSet.cards[0][0],pairSet.cards[0][0],threeSet.cards[0][0]]}\n                return_cards.push(item);\n            }\n        }else if(threeSetLen == 1 && singleSetLen == 2){\n            item = {0:cards, 1:[threeSet.cards[0][0], singleSet.cards[0][0], singleSet.cards[1][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 2 && singleSetLen == 1){\n            item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0], singleSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[1][0], pairSet.cards[1][0], singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 2){\n        if(fourSetLen == 1 && pairSetLen == 1){\n            if(fourSet.cards[0][0] > pairSet.cards[0][0]){\n                item = {0:cards, 1:[]}\n                return_cards.push(item);\n            }else{\n                item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0]]}\n                return_cards.push(item);\n            }\n        }else if(fourSetLen == 1 && singleSetLen == 2){\n            item = {0:cards, 1:[singleSet.cards[0][0], singleSet.cards[1][0]]}\n            return_cards.push(item);\n        }else if(threeSetLen == 2){\n            if(threeSet.cards[0][0] > threeSet.cards[1][0]){\n                item = {0:cards, 1:[threeSet.cards[0][0], threeSet.cards[1][0]]}\n                return_cards.push(item);\n            }else{\n                item = {0:cards, 1:[threeSet.cards[1][0], threeSet.cards[0][0]]}\n                return_cards.push(item);\n            }\n        }else if(threeSetLen == 1 && pairSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[threeSet.cards[0][0], singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(pairSetLen == 3){\n            item = {0:cards, 1:[pairSet.cards[0][0], pairSet.cards[0][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[1][0], pairSet.cards[1][0]]}\n            return_cards.push(item);\n\n            item = {0:cards, 1:[pairSet.cards[2][0], pairSet.cards[2][0]]}\n            return_cards.push(item);\n        }\n    }else if(lzLen == 1){\n        if(fourSetLen == 1 && pairSetLen == 1 && singleSetLen == 1){\n            item = {0:cards, 1:[singleSet.cards[0][0]]}\n            return_cards.push(item);\n        }else if(threeSetLen == 1 && pairSetLen == 2){\n            item = {0:cards, 1:[threeSet.cards[0][0]]}\n            return_cards.push(item);\n        }\n    }\n\n    console.log(\"---赖子组合成四带二对的值\");\n    console.log(return_cards);\n    return return_cards;\n}\n\n//获取提起牌能组合成飞机的值\nLazarilloCardUtil.get_straight_three_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards, tType){\n    var return_cards = [];\n    var tipCards = [];\n\n    // var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n    \n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    var threeSet = PopCardUtil.getThree();\n    var fourSet = PopCardUtil.getFour();\n    \n    var singleSetLen = singleSet.count;\n    var pairSetLen = pairSet.count;\n    var threeSetLen = threeSet.count;\n    var fourSetLen = fourSet.count;\n    var item = {};\n\n    var tip_cards_val = []; //提起的普通牌值\n    var tip_all_cards = []; //提起的普通牌全部牌面\n    var tip_kings = [];     //提起的普通牌里的王\n\n    if(singleSetLen>0){\n        for(var k in singleSet.cards){\n            var v = singleSet.cards[k][0];\n            if(v == CardUtil.cardGrade[\"g\"] || v == CardUtil.cardGrade[\"G\"]){\n                tip_kings.push(v);\n            }else{\n                tip_cards_val.push(v);\n            }\n            tip_all_cards.push(v);\n        }\n    }\n    if(pairSetLen>0){\n        for(var k in pairSet.cards){\n            var v = pairSet.cards[k][0];\n            tip_cards_val.push(v);\n\n            for(var i=0;i<2;i++){\n                tip_all_cards.push(v);\n            }\n        }\n    }\n    if(threeSetLen>0){\n        for(var k in threeSet.cards){\n            var v = threeSet.cards[k][0];\n            tip_cards_val.push(v);\n\n            for(var i=0;i<3;i++){\n                tip_all_cards.push(v);\n            }\n        }\n    }\n    if(fourSetLen>0){\n        for(var k in fourSet.cards){\n            var v = fourSet.cards[k][0];\n            tip_cards_val.push(v);\n\n            for(var i=0;i<4;i++){\n                tip_all_cards.push(v);\n            }\n        }\n    }\n    //升序\n    tip_cards_val.sort(config.arrayUp);\n\n    // console.log(tip_cards_val);\n\n    var minCard = 0; //连对最小值\n    var maxCard = 0; //连对最大值\n\n    if(tip_cards_val.length > 0){\n        if(tip_cards_val[0] > lazarillo){\n            minCard = lazarillo;\n        }else{\n            minCard = tip_cards_val[0];\n        }\n\n        if(tip_cards_val[tip_cards_val.length-1] > lazarillo){\n            maxCard = tip_cards_val[tip_cards_val.length-1];\n        }else{\n            maxCard = lazarillo;\n        }\n    }\n\n    var all_result = [];\n    //飞机\n    for(var i=3;i<=CardUtil.cardGrade[\"1\"];i++){ //3-A\n        if(i >= minCard - 1 && i <= maxCard){\n            if (i + (straightLen - 1) <= CardUtil.cardGrade[\"1\"]){ //要的起的飞机\n                var straightThree = [i,i,i];\n                for(var j=1;j<straightLen;j++){//飞机的牌数\n                    for(var n=0;n<3;n++){\n                        straightThree[straightThree.length] = i+j;\n                    }\n                }\n                all_result.push(straightThree);\n            }\n        }\n    }\n\n    // console.log(all_result);\n\n    var effectiveType = []; //有效牌型\n    for(var key in all_result){\n        var val = all_result[key];\n        var other_tip_cards = [];\n        for(var n=0;n<val.length;n++){\n            other_tip_cards[n] = val[n]\n        }\n\n        var lz_val = []; //癞子当的值\n        for(var k in tip_all_cards){\n            var v = tip_all_cards[k];\n            for(var i in other_tip_cards){\n                var j = other_tip_cards[i];\n                if(j == v){\n                    // table.remove(other_tip_cards, i)\n                    other_tip_cards.splice(i,1);\n                    break\n                }\n            }\n        }\n        //欠缺的飞机牌\n        if(other_tip_cards.length <= lzLen){\n            effectiveType[effectiveType.length] = [other_tip_cards, val];\n        }\n    }\n\n    // console.log(effectiveType);\n\n    if(effectiveType.length > 0){\n        if(tType == config.CardType.StraightThree){//飞机不带\n            for(var k in effectiveType){\n                //剩下的癞子数\n                var v = effectiveType[k];\n                var remainingLz = lzLen - v[0].length;\n                if(remainingLz == 0){\n                    item = {0:cards, 1:v[0]}\n                    return_cards.push(item);\n                }\n            }\n        }else if(tType == config.CardType.StraightThreePlusSingle){//飞机带单张\n            for(var k in effectiveType){\n                //剩下的癞子数\n                var v = effectiveType[k];\n                var remainingLz = lzLen - v[0].length;\n                \n                var other_tip_all_cards = [];\n                for(var x=0;x<tip_all_cards.length;x++){\n                    other_tip_all_cards[x] = tip_all_cards[x];\n                }\n\n                for(var i in v[1]){\n                    var j =  v[1][i];\n                    for(var m in other_tip_all_cards){\n                        var n = other_tip_all_cards[m];\n                        if(n == j){\n                            // table.remove(other_tip_all_cards, m)\n                            other_tip_all_cards.splice(m,1);\n                            break\n                        }\n                    }\n                }\n\n                //剩下的单张数等于飞机长度\n                if(remainingLz == 0){\n                    //无癞子\n                    if(other_tip_all_cards.length == straightLen){\n                        item = {0:cards, 1:v[0]}\n                        return_cards.push(item);\n                    }\n                }else{\n                    //还剩余癞子\n                    if(other_tip_all_cards.length + remainingLz == straightLen){\n                        item = {0:cards, 1:v[0]}\n                        return_cards.push(item);\n                    }\n                }\n            }\n        }else if(tType == config.CardType.StraightThreePlusPair){ //飞机带对子\n            //提起的牌里不能有王\n            if(tip_kings.length == 0){\n                for(var k in effectiveType){\n                    //剩下的癞子数\n                    var v = effectiveType[k];\n                    var remainingLz = lzLen - v[0].length;\n                    \n                    var other_tip_all_cards = [];\n                    for(var x=0;x<tip_all_cards.length;x++){\n                        other_tip_all_cards[x] = tip_all_cards[x];\n                    }\n\n                    for(var i in v[1]){\n                        var j = v[1][i];\n                        for(var m in other_tip_all_cards){\n                            var n = other_tip_all_cards[m];\n                            if(n == j){\n                                // table.remove(other_tip_all_cards, m)\n                                other_tip_all_cards.splice(m,1);\n                                break\n                            }\n                        }\n                    }\n\n                    //剩下的单张数等于飞机长度\n                    if(remainingLz == 0){\n                        //无癞子\n                        if(other_tip_all_cards.length == straightLen*2){\n                            var tempTipCards = [];\n                            for(var i in other_tip_all_cards){\n                                var j = other_tip_all_cards[i];\n                                tempTipCards[j] = tempTipCards[j] || [];\n                                tempTipCards[j][tempTipCards[j].length] = j;\n                            }\n\n                            var through = true;\n                            for(var i in tempTipCards){\n                                var j = tempTipCards[i];\n                                if(j.length != 2){\n                                    through = false\n                                }\n                            }\n                            if(through){\n                                item = {0:cards, 1:v[0]}\n                                return_cards.push(item);\n                            }\n                        }\n                    }else{\n                        //还剩余癞子\n                        if(other_tip_all_cards.length + remainingLz == straightLen*2){\n                            var tempTipCards = [];\n                            for(var i in other_tip_all_cards){\n                                var j = other_tip_all_cards[i];\n                                tempTipCards[j] = tempTipCards[j] || [];\n                                tempTipCards[j][tempTipCards[j].length] = j;\n                            }\n\n                            var through = true;\n                            var lz_three_val = v[0];\n                            for(var i in tempTipCards){\n                                var j = tempTipCards[i];\n                                if(j.length != 2){\n                                    if(remainingLz > 0){\n                                        lz_three_val[lz_three_val.length] = j[0];\n                                        remainingLz = remainingLz - 1;\n                                    }else{\n                                        through = false;\n                                    }\n                                }\n                            }\n                            if(through){\n                                //癞子用完或还剩两张\n                                if(remainingLz == 0 || remainingLz == 2){\n                                    item = {0:cards, 1:v[0]}\n                                    return_cards.push(item);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    console.log(\"---赖子组合成飞机的值\")\n    console.log(return_cards);\n    return return_cards;\n}\n\n//获取提起牌能组合成连对的值\nLazarilloCardUtil.get_straight_double_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n    if(kingCount>0){\n        return return_cards;\n    }\n    \n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var pairSet = PopCardUtil.getPair();\n    \n    // var singleSetLen = singleSet.count;\n    // var pairSetLen = pairSet.count;\n\n    straightLen = straightLen / 2;\n\n    for(var n=CardUtil.cardGrade[\"1\"];n >= 3;n--){\n        if(n + (straightLen-1) <= CardUtil.cardGrade[\"1\"]){//不能超过A\n            var lz_straight_val = [];\n            var lz_nochange_count = 0; //癞子牌没百搭的数量\n\n            for(var i=0;i<straightLen;i++){\n                var haveCard = false;\n                for(var k in singleSet.cards){ //先判断单张里有值没\n                    var v = singleSet.cards[k][0];\n                    if (v == n+i){\n                        haveCard = true;\n                    }\n                }\n                if(haveCard){\n                    // if(n+i == lazarillo){ //是癞子本身值，不用转化\n                    //     lz_nochange_count = lz_nochange_count + 1;\n                    // }else{\n                        lz_straight_val.push(n+i);\n                    // }\n                }else{\n                    for(var k in pairSet.cards){ //先判断单张里有值没\n                        var v = pairSet.cards[k][0];\n                        if (v == n+i){\n                            haveCard = true;\n                        }\n                    }\n                    if(!haveCard){\n                        // if(n+i == lazarillo){ //是癞子本身值，不用转化\n                        //     lz_nochange_count = lz_nochange_count + 2\n                        // }else{\n                            lz_straight_val.push(n+i);\n                            lz_straight_val.push(n+i);\n                        // }\n                    }\n                }\n            }\n\n            if(lz_straight_val.length + lz_nochange_count == lzLen){\n                var item = {0:cards, 1:lz_straight_val}\n                return_cards.push(item);\n            }\n\n        } \n    }\n\n    console.log(\"---赖子组合成连对的值\");\n    console.log(return_cards)\n    return return_cards;\n}\n\n//获取提起牌能组合成顺子的各各值\nLazarilloCardUtil.get_straight_lazarillo_cards = function(straightLen, tip_cards, lazarillo, lzLen, cards){\n    var return_cards = [];\n    var tipCards = [];\n\n    var kingCount = LazarilloCardUtil.checkTopCardsHasKing(cards);\n    if(kingCount>0){\n        return return_cards;\n    }\n    \n    for(var i=0;i<tip_cards.length;i++){\n        tipCards.push(tip_cards[i].showTxt);\n    }\n    var sameValues = PopCardUtil.getSameCards(tipCards);\n    PopCardUtil.setSameVulueCardCount(sameValues);\n\n    var singleSet = PopCardUtil.getSingle();\n    var singleSetLen = singleSet.count;\n\n    // console.log(singleSet);\n\n    if(singleSetLen == 0)\n        return return_cards;\n\n    for(var n=CardUtil.cardGrade[\"1\"];n >= 3;n--){\n        if(n + (straightLen-1) <= CardUtil.cardGrade[\"1\"]){ //不能超过A\n            var lz_straight_val = [];\n            var lz_nochange_count = 0; //癞子牌没百搭的数量\n\n            for(var i=0;i<straightLen;i++){\n                var haveCard = false;\n                for(var k in singleSet.cards){\n                    var v = singleSet.cards[k][0];\n                    if (v == n+i){\n                        haveCard = true;\n                    }\n                }\n                if(!haveCard){\n                    // if(n+i == lazarillo){ //是癞子本身值，不用转化\n                    //     lz_nochange_count = lz_nochange_count + 1;\n                    // }else{\n                        lz_straight_val.push(n+i);\n                    // }\n                }\n            }\n\n            if(lz_straight_val.length + lz_nochange_count == lzLen){\n                var item = {0:cards, 1:lz_straight_val}\n                return_cards.push(item);\n            }\n        }\n    }\n\n    console.log(\"---赖子组合成顺子的值\");\n    console.log(return_cards)\n    return return_cards;\n}\n\n//--------------------------分割线---------------------------------\n//赖子出牌提示 //CardUtil 等下统一改下****\n// 获取能比上家牌大的全部牌型\nLazarilloCardUtil.get_cards_larger = function(last_cards_type,myCards){\n    var all_result = [];\n    // console.log(\"myCards=\",myCards);\n    var prop = PopCardUtil.getSameCards(myCards);\n    var lzValue = CardUtil.serverCardValueToClient(config.joker);\n    var lzLen = 0;\n    for(var i=0;i<myCards.length;i++){\n        if(myCards[i] == lzValue){\n            lzLen++;\n        }\n    }\n\n\n    var cardsType =  last_cards_type.type;\n    if(cardsType == config.CardType.Single){\n        all_result = LazarilloCardUtil.find_single_card(last_cards_type,prop,myCards);\n    }else if(cardsType == config.CardType.Pair){\n        all_result = LazarilloCardUtil.find_pair_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.ThreeOfKind){\n        all_result = LazarilloCardUtil.find_three_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.SoftBomb){//SoftBomb\n        all_result = LazarilloCardUtil.find_SoftBomb_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.Bomb){\n        all_result = LazarilloCardUtil.find_bomb_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.LazarilloBomb){//LazarilloBomb\n        all_result = LazarilloCardUtil.find_LazarilloBomb_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusOne){\n        all_result = LazarilloCardUtil.find_three_with_one_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.ThreeOfKindPlusPair){\n        all_result = LazarilloCardUtil.find_three_with_two_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.FourPlusOne){\n        all_result = LazarilloCardUtil.find_four_with_two_single_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.FourPlusTwo){\n        all_result = LazarilloCardUtil.find_four_with_two_pair_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.Straight){\n        all_result = LazarilloCardUtil.find_straight(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.StraightDouble){\n        all_result = LazarilloCardUtil.find_pair_straight(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.StraightThree){\n        all_result = LazarilloCardUtil.find_three_straight(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.StraightThreePlusSingle){\n        all_result = LazarilloCardUtil.find_three_straight_with_single_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }else if(cardsType == config.CardType.StraightThreePlusPair){\n        all_result = LazarilloCardUtil.find_three_straight_with_pair_card(last_cards_type,prop,myCards,lzLen,lzValue);\n    }\n\n    if(cardsType != config.CardType.SoftBomb && cardsType != config.CardType.Bomb \n        && cardsType != config.CardType.LazarilloBomb && cardsType != config.CardType.DoubleKing){\n        var all_bomb = LazarilloCardUtil.find_allBomb_card(last_cards_type,prop,myCards,lzLen,lzValue);\n        for(var i=0;i<all_bomb.length;i++){\n            all_result.push(all_bomb[i]);\n        }\n    }\n\n    return all_result;\n}\n\n//符合条件的单张牌\nLazarilloCardUtil.find_single_card = function(last_cards_type,prop,myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var rank = parseInt(last_cards_type.rank);\n    if(single.count>0){\n        for(var k in single.cards){\n            var v = single.cards[k];\n            if (rank < v){\n                all_result.push(v);\n            }\n        }\n    }\n    //没有适合单张 就拆分牌\n    var allcards = [];//所有牌值\n    for(var k in prop){\n        var v = prop[k];\n        allcards.push(k);\n    }\n    if(all_result.length <= 0){\n        for(var k in allcards){\n            var v = parseInt(allcards[k]);\n            if (rank < v && v !=lzValue){\n                all_result.push(v);\n            }\n        }\n    }\n\n    //赖子牌加在最后\n    if(lzLen>=1 && rank<lzValue){\n        all_result.push(lzValue);\n    }\n\n    return all_result;\n}\n\n//找合适的对子出牌\nLazarilloCardUtil.find_pair_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var pair = PopCardUtil.getPair();\n    var rank = parseInt(last_cards_type.rank);\n    if(pair.count>0){\n        for(var k in pair.cards){\n            var v = pair.cards[k];\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n    }\n    //赖子组合单张\n    if(lzLen>0){\n        var single = PopCardUtil.getSingle();\n        if(single.count>0){\n            for(var k in single.cards){\n                var v = single.cards[k];\n                if (rank < v && v <= CardUtil.cardGrade[\"2\"]){\n                    var item = [lzValue,v];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    //没有适合对子 就拆分牌\n    var allcards = [];//所有牌值\n    if(all_result.length <= 0){\n        var three = PopCardUtil.getThree();\n        var four = PopCardUtil.getFour();\n        if(three.count>0){\n            for(var k in three.cards){\n                var d = three.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        if(four.count>0){\n            for(var k in four.cards){\n                var d = four.cards[k];\n                if(rank<d[0])\n                {\n                    var temp =d.slice(0,2);\n                    allcards.push(temp);\n                }\n            }\n        }\n        return allcards;\n    }\n\n    return all_result;\n}\n\n//寻找合适的三个出牌\nLazarilloCardUtil.find_three_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    if(lzLen >= 1){\n        if(pair.count>0){\n            for(var k in pair.cards){\n                var v = pair.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0]){\n                    var item = [lzValue,v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    if(lzLen >= 2){\n        if(single.count>0){\n            for(var k in single.cards){\n                var v = single.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0] <= CardUtil.cardGrade[\"2\"]){\n                    var item = [lzValue,lzValue,v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    return all_result;\n}\n\n//所有的炸弹牌\nLazarilloCardUtil.find_allBomb_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    console.log(\"赖子场所有的炸弹牌---\");\n\n\n    if(lzLen >=1){\n        if(three.count>0){\n            for(var k in three.cards){\n                var v = three.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (v[0]!=lzValue){\n                    var item = [lzValue,v[0],v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n    if(lzLen >=2){\n        if(pair.count>0){\n            for(var k in pair.cards){\n                var v = pair.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (v[0]!=lzValue){\n                    var item = [lzValue,lzValue,v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    if(lzLen >=3){\n        if(single.count>0){\n            for(var k in single.cards){\n                var v = single.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (v[0]!=lzValue && v[0] <= CardUtil.cardGrade[\"2\"]){\n                    var item = [lzValue,lzValue,lzValue,v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            // if (rank < v[0]){\n                all_result.push(v);\n            // }else{\n            //     if(v[0] == lzValue){\n            //         all_result.push(v);//纯赖子炸弹\n            //     }\n            // }\n        }\n    }\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }\n\n    console.log(\"赖子场所有的炸弹牌\",all_result);\n    return all_result;\n}\n\n//找合适的软炸弹牌\nLazarilloCardUtil.find_SoftBomb_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(lzLen >=1){\n        if(three.count>0){\n            for(var k in three.cards){\n                var v = three.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0]!=lzValue){\n                    var item = [lzValue,v[0],v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n    if(lzLen >=2){\n        if(pair.count>0){\n            for(var k in pair.cards){\n                var v = pair.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0]!=lzValue){\n                    var item = [lzValue,lzValue,v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    if(lzLen >=3){\n        if(single.count>0){\n            for(var k in single.cards){\n                var v = single.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0] <= CardUtil.cardGrade[\"2\"]){\n                    var item = [lzValue,lzValue,lzValue,v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (v[0] != lzValue){\n                all_result.push(v);\n            }else{\n                if(v[0] == lzValue){\n                    all_result.push(v);//纯赖子炸弹\n                }\n            }\n        }\n    }\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }\n\n    return all_result;\n}\n\n//找合适的炸弹牌\nLazarilloCardUtil.find_bomb_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }else{\n                if(v[0] == lzValue){\n                    all_result.push(v);//纯赖子炸弹\n                }\n            }\n        }\n    }\n\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }else{\n        console.log(\"没有王炸\");\n    }\n    return all_result;\n}\n\n//纯癞子炸弹牌\nLazarilloCardUtil.find_LazarilloBomb_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    if(prop[16]&&prop[17]){\n        console.log(\"有王炸\");\n        var values =[16,17]; \n        all_result.push(values);\n    }\n    return all_result;\n}\n\n\n//找合适的三带一\nLazarilloCardUtil.find_three_with_one_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    if(lzLen >= 1){\n        if(pair.count>0){\n            for(var k in pair.cards){\n                var v = pair.cards[k];\n                console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0]!=lzValue){\n                    var item = [lzValue,v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    // if(lzLen >= 2){\n    //     if(single.count>0){\n    //         for(var k in single.cards){\n    //             var v = single.cards[k];\n    //             // console.log(\"v:\"+v[0]+\"  k:\"+k);\n    //             if (rank < v[0]){\n    //                 var item = [lzValue,lzValue,v[0]];\n    //                 all_result.push(item);\n    //             }\n    //         }\n    //     }\n    // }\n\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    // var three = PopCardUtil.getThree();\n    var allOne = [];//所有三张的牌值 单张组\n\n    var onecard = 0;\n    if(single.count>0){\n        console.log(single.cards)\n        if(single.count >= 1&&single.cards[0][0]!=lzValue){\n            onecard = single.cards[0][0];\n        }else{\n            onecard = single.cards[1][0];\n        }\n        console.log(\"onecard1:\"+onecard);\n    }else if(pair.count>0){\n        onecard = parseInt(pair.cards[0][0]);\n        console.log(\"onecard2:\"+onecard);\n    }else{\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n        console.log(\"v:\"+v+\"  k:\"+k+\" allone:\"+allOne[k]);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n        }\n        v[v.length] = onecard;//onecard\n        v.sort(config.arrayUp);\n    }\n\n    console.log(\"找合适的三带一\");\n    console.log(\"all_result:\",all_result);\n\n \n    return all_result;\n}\n\n//三带一对\nLazarilloCardUtil.find_three_with_two_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var rank = parseInt(last_cards_type.rank);\n    if(three.count>0){\n        for(var k in three.cards){\n            var v = three.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    if(lzLen >= 1){\n        if(pair.count>0){\n            for(var k in pair.cards){\n                var v = pair.cards[k];\n                // console.log(\"v:\"+v[0]+\"  k:\"+k);\n                if (rank < v[0] && v[0]!=lzValue){\n                    var item = [lzValue,v[0],v[0]];\n                    all_result.push(item);\n                }\n            }\n        }\n    }\n\n    // if(lzLen >= 2){\n    //     if(single.count>0){\n    //         for(var k in single.cards){\n    //             var v = single.cards[k];\n    //             // console.log(\"v:\"+v[0]+\"  k:\"+k);\n    //             if (rank < v[0]){\n    //                 var item = [lzValue,lzValue,v[0]];\n    //                 all_result.push(item);\n    //             }\n    //         }\n    //     }\n    // }\n\n    var allOne = [];//所有三张的牌值 对子组\n    \n    var pair = PopCardUtil.getPair();\n    var tempPair = [];\n    if(pair.count>0){\n        // tempPair = pair.cards[0];\n        if(pair.count >= 1&&parseInt(pair.cards[0][0])!=lzValue){\n            tempPair = pair.cards[0];\n        }else{\n            tempPair = pair.cards[1];\n        }\n    }\n    \n    if(tempPair.length == 0){\n        //拆分3张\n        for(var k in three.cards){\n            var v = three.cards[k];\n            allOne.push(v[0]);\n        }\n    }\n\n    console.log(\"tempPair:\",tempPair)\n\n    // console.log(\"tempPair:\"+tempPair+\" allOne:\"+allOne.length);\n\n    var onecard = tempPair.length;\n\n    for(var k in all_result){\n        var v = all_result[k];\n        // console.log(\"v:\"+v+\"  k:\"+k);\n\n        if(onecard == 0){\n            if(k<allOne.length-1){\n                if(v[0]!=allOne[k]){\n                    onecard = allOne[k];\n                }else{\n                    var n = parseInt(k)+1;\n                    onecard = allOne[n];\n                }\n            }else{\n                onecard = allOne[0];\n            }\n            for(var i=0;i<2;i++){\n                v.push(parseInt(onecard));\n            }\n            onecard = 0;\n        }else{\n            for(var i=0;i<tempPair.length;i++){\n                v.push(parseInt(tempPair[i]));\n            }\n        }\n\n        // v.concat(tempPair[0],tempPair[1]);\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//四带二\nLazarilloCardUtil.find_four_with_two_single_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n    var single = PopCardUtil.getSingle();\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    // if(lzLen >=1){\n    //     if(three.count>0){\n    //         for(var k in three.cards){\n    //             var v = three.cards[k];\n    //             // console.log(\"v:\"+v[0]+\"  k:\"+k);\n    //             if (rank < v[0]){\n    //                 var item = [lzValue,v[0],v[0],v[0]];\n    //                 all_result.push(item);\n    //             }\n    //         }\n    //     }\n    // }\n\n    if(single.count>1){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(single.cards[i]));\n        }\n    }else if(pair.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n    }else if(three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//四带两队\nLazarilloCardUtil.find_four_with_two_pair_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var four = PopCardUtil.getFour();\n    var rank = parseInt(last_cards_type.rank);\n\n    if(four.count>0){\n        for(var k in four.cards){\n            var v = four.cards[k];\n            // console.log(\"v:\"+v[0]+\"  k:\"+k);\n            if (rank < v[0]){\n                all_result.push(v);\n            }\n        }\n        // return all_result;\n    }\n\n    var temps = [];\n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n\n    if(pair.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(pair.cards[i]));\n            }\n        } \n    }else if(pair.count == 1 && three.count>0){\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(pair.cards[0]));\n        }\n        for(var i=0;i<2;i++){\n            temps.push(parseInt(three.cards[0]));\n        }\n    }else if(three.count>1){\n        for(var i=0;i<2;i++){\n            for(var j=0;j<2;j++){\n                temps.push(parseInt(three.cards[i]));\n            }\n        } \n    }\n\n    for(var k in all_result){\n        var v = all_result[k];\n\n        for(var i=0;i<temps.length;i++){\n            v.push(parseInt(temps[i]));\n        }\n        console.log(\"v2:\"+v);\n        v.sort(config.arrayUp);\n    }\n\n    return all_result;\n}\n\n//符合的顺子牌\nLazarilloCardUtil.find_straight = function(last_cards_type, prop, myCards,lzLen,lzValue){\n\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    var single = PopCardUtil.getSingle();\n\n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var maxRank = rank + repeatCount - 1;\n    if(maxRank == CardUtil.cardGrade[\"1\"]){\n        console.log(\"-----已经是通天顺子\")\n        return all_result;\n    }\n    \n    //所有牌可以组成的顺子\n    // var autoCards = [];\n    // var tempCards = [];\n    // var key = rank;\n    // for(var i =1;i<20;i++){\n    //     if (prop[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n    //         //满足组成顺子的牌\n    //         autoCards.push(prop[key+i][0]);\n    //     }else{\n    //         if(autoCards.length>=repeatCount){\n    //             tempCards.push(autoCards);\n    //         }\n    //         autoCards = [];\n    //         continue;\n    //     }\n    // }\n\n    // console.log(tempCards);\n\n    // if(tempCards.length > 0 && tempCards[0].length > repeatCount){\n    //     var len = tempCards[0].length - repeatCount;\n    //     var temparr = [];\n    //     for(var i=0;i<=len;i++){\n    //         if(tempCards[0].length >= repeatCount+i){\n    //             temparr = config.arraySub(i,repeatCount+i,tempCards[0],1);\n    //             all_result.push(temparr);\n    //         }\n    //     }\n    // }else{\n    //     all_result = tempCards;\n    // }\n\n    // if(all_result.length<1){\n    //     all_result = [];\n    //     autoCards = [];\n    //     tempCards = [];\n    //     key = rank;\n    //     for(var i =1;i<20;i++){\n    //         if (prop[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n    //             //满足组成顺子的牌\n    //             autoCards.push(prop[key+i][0]);\n    //         }else{\n    //             if(autoCards.length>=3){\n    //                 tempCards.push(autoCards);\n    //             }\n    //             // tempCards.push(autoCards);\n    //             autoCards = [];\n    //             continue;\n    //         }\n    //     }\n    //     // lzLen,lzValue\n        \n    //     console.log(\"tempCards\",tempCards)\n    //     for(var i=0;i<tempCards.length;i++){\n    //         //要补齐的张数\n    //         var repCount = repeatCount - tempCards[i].length;\n    //         if(lzLen>=repCount){\n    //             for(var j=0;j<repCount;j++){\n    //                 tempCards[i].push(lzValue);\n    //             }\n    //             if(tempCards[i].length == repeatCount){\n    //                 all_result=tempCards;\n    //             }\n    //         }\n    //     } \n    // }\n\n    //所有赖子补齐--new\n    if(true){\n        console.log(\"-------所有顺子赖子补齐\")\n        var tempAllcards = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14];\n        var begin = rank+1;\n        var tempCards = config.arraySub(begin,tempAllcards.length,tempAllcards,1);\n        var tempAll_result = [];\n        var len = tempCards.length - repeatCount;\n        var temparr = [];\n        for(var i=0;i<=len;i++){\n            if(tempCards.length >= repeatCount+i){\n                temparr = config.arraySub(i,repeatCount+i,tempCards,1);\n                tempAll_result.push(temparr);\n            }\n        }\n        console.log(\"tempAll_result:\",tempAll_result);\n        //自己所有单张牌\n        var singles = [];\n        for(var k in prop){\n            singles.push(k);\n        }\n        console.log(\"singles:\",singles);\n        var xx_All_result = [];\n        for(var i = 0;i<tempAll_result.length;i++){\n            var xx_temp = [];\n            for(var m=0;m<tempAll_result[i].length;m++){\n                for(var n=0;n<singles.length;n++){\n                    if(tempAll_result[i][m] == singles[n]){\n                        xx_temp.push(tempAll_result[i][m]);\n                    }\n                }\n            }\n            xx_All_result.push(xx_temp);\n        }\n        console.log(\"xx_All_result:\",xx_All_result);\n        // lzLen\n        for(var i=0;i<xx_All_result.length;i++){\n            //要补齐的张数\n            // var lznum = 0;\n            // for(var j=0;j<xx_All_result[i].length;j++){\n            //     if(xx_All_result[i][j]==lzValue){\n            //         lznum++;\n            //     }\n            // }\n            // // console.log(\"-------lznum:\",lznum);\n            // if(lzLen>1){\n            //     lznum = 0;\n            // }\n            var repCount = repeatCount - xx_All_result[i].length;\n            if(lzLen>=repCount){\n                for(var m = 0;m<repCount;m++){\n                    xx_All_result[i].push(lzValue)\n                }\n                all_result.push(xx_All_result[i]);\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的连对\nLazarilloCardUtil.find_pair_straight = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var maxRank = rank + repeatCount - 1;\n    if(maxRank == CardUtil.cardGrade[\"1\"]){\n        console.log(\"-----已经是通天连队\")\n        return all_result;\n    }\n    \n    var pair = PopCardUtil.getPair();\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<pair.count;i++){\n        allpair.push(pair.cards[i][0]);\n    }\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    // console.log(\"allpair:\",allpair)\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            // console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]&&allpair[i+1]<CardUtil.cardGrade[\"2\"]){\n                // console.log(\"i2:\"+i);\n                // console.log(\"tempNum:\",tempNum)\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                    // tempNum++;//--new\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                // console.log(\"allpair[i+1]:\",allpair[i+1])\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                // console.log(\"---tempNum:\",tempNum)\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    // console.log(\"tempCards:\",tempCards)\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],2);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    if(all_result.length<1){\n        all_result = [];\n        autoCards = [];\n        tempCards = [];\n        var key = rank;\n        for(var i =1;i<20;i++){\n            if (prop[key+i] && key+i < CardUtil.cardGrade[\"2\"]){\n                //满足组成顺子的牌\n                autoCards.push(prop[key+i][0]);\n            }else{\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n        // lzLen,lzValue\n        console.log(\"tempCards\",tempCards)\n\n        var copyTempCards = [];\n        for(var m=0;m<tempCards.length;m++){\n            var len = tempCards[m].length - repeatCount;\n            var temparr = [];\n            for(var i=0;i<=len;i++){\n                if(tempCards[m].length >= repeatCount+i){\n                    temparr = config.arraySub(i,repeatCount+i,tempCards[m],1);\n                    copyTempCards.push(temparr);\n                }\n            }\n        }\n        console.log(\"copyTempCards\",copyTempCards)\n\n        for(var i=0;i<copyTempCards.length;i++){\n            //要补齐的张数\n            var repCount = 0;\n            var addCards = [];\n            for(var n=0;n<copyTempCards[i].length;n++){\n                var value = copyTempCards[i][n];\n                if(prop[value].length>1){\n                    addCards.push(value);\n                }else{\n                    repCount++;\n                }\n            }\n            // var repCount = repeatCount - copyTempCards[i].length;\n            if(lzLen>=repCount){\n                for(var j=0;j<addCards.length;j++){\n                    copyTempCards[i].push(addCards[j]);\n                }\n                copyTempCards[i].sort(config.arrayUp);\n                for(var j=0;j<repCount;j++){\n                    copyTempCards[i].push(lzValue);\n                }\n                if(copyTempCards[i].length == repeatCount*2){\n                    all_result[all_result.length]=copyTempCards[i];\n                }\n            }\n        } \n\n    }\n    \n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机不带\nLazarilloCardUtil.find_three_straight = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    PopCardUtil.setSameVulueCardCount(prop);\n    var rank = parseInt(last_cards_type.rank);\n    var repeatCount = last_cards_type.repeatCount;\n    \n    console.log(\"rank:\"+rank+\" repeatCount:\"+repeatCount);\n\n    var three = PopCardUtil.getThree();\n    var four = PopCardUtil.getFour();\n    var allpair = [];\n\n    for(var i=0;i<three.count;i++){\n        allpair.push(three.cards[i][0]);\n    }\n    for(var i=0;i<four.count;i++){\n        allpair.push(four.cards[i][0]);\n    }\n\n    allpair.sort(config.arrayUp);\n\n    console.log(allpair);\n\n    var autoCards = [];\n    var tempCards = [];\n    var tempNum = 0;\n    for(var i = 0;i<allpair.length;i++){\n\n        if(allpair[i]<CardUtil.cardGrade[\"2\"]&&allpair[i]>rank){\n            console.log(\"i:\"+i);\n            if(allpair[i]+1==allpair[i+1]&&allpair[i+1]<CardUtil.cardGrade[\"2\"]){\n                console.log(\"i2:\"+i);\n                if(tempNum+1 == allpair[i+1]){\n                    autoCards.push(tempNum);\n                }\n                if(i==0){\n                    autoCards.push(allpair[i]);\n                }\n                autoCards.push(allpair[i+1]);\n            }else{  \n                tempNum = allpair[i+1];\n                if(autoCards.length>=repeatCount){\n                    tempCards.push(autoCards);\n                }\n                autoCards = [];\n                continue;\n            }\n        }\n    }\n\n    console.log(tempCards);\n\n    for(var i = 0;i<tempCards.length;i++){\n        if(tempCards[i].length >= repeatCount){\n            var len = tempCards[i].length - repeatCount;\n            var temparr = [];\n            for(var j=0;j<=len;j++){\n                if(tempCards[i].length >= repeatCount+j){\n                    temparr = config.arraySub(j,repeatCount+j,tempCards[i],3);\n                    all_result.push(temparr);\n                }\n            }\n        }\n    }\n\n    console.log(all_result);\n    return all_result;\n}\n\n//符合的飞机带单\nLazarilloCardUtil.find_three_straight_with_single_card = function(last_cards_type, prop, myCards,lzLen,lzValue){\n    var all_result = [];\n    all_result = LazarilloCardUtil.find_three_straight(last_cards_type, prop, myCards,lzLen,lzValue);\n    return all_result;\n}\n\nLazarilloCardUtil.find_three_straight_with_pair_card = function(last_cards_type, prop, myCards){\n    var all_result = [];\n    all_result = LazarilloCardUtil.find_three_straight(last_cards_type, prop, myCards,lzLen,lzValue);\n    return all_result;\n}\n\n\n\nmodule.exports = LazarilloCardUtil;\n"]}