{"version":3,"sources":["../../../../../assets/Script/dialog/assets/Script/dialog/AuthorizeControl.js"],"names":["dialogManager","require","cc","Class","extends","Component","properties","title","default","type","Label","content","btn_enter","Node","opentype","start","show","args","arg1","arg2","enterClick","arg3","string","closeClick","console","log","btnEnterClick","wx","authorize","success","res","fail","errMsg","indexOf","node","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA,IAAIA,gBAAgBC,QAAQ,eAAR,CAApB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAQ;AACJC,qBAAU,IADN;AAEJC,kBAAOP,GAAGQ;AAFN,SADA;AAKRC,iBAAU;AACNH,qBAAU,IADJ;AAENC,kBAAOP,GAAGQ;AAFJ,SALF;AASRE,mBAAY;AACRJ,qBAAU,IADF;AAERC,kBAAOP,GAAGW,IAFF;AAGRC,sBAAW;AAHH;AATJ,KAHP;AAkBLC,SAlBK,mBAkBI;AACL;AACA;AACA;AACA;AACH,KAvBI;AAwBLC,QAxBK,gBAwBAC,IAxBA,EAwBK;AACN,YAAIV,QAAQU,KAAKC,IAAjB;AACA,YAAIP,UAAUM,KAAKE,IAAnB;AACA,YAAIC,aAAaH,KAAKI,IAAtB;;AAEA,YAAGd,SAAO,EAAV,EACI,KAAKA,KAAL,CAAWe,MAAX,GAAoBf,KAApB;AACJ,YAAGI,WAAS,EAAZ,EACI,KAAKA,OAAL,CAAaW,MAAb,GAAsBX,OAAtB;AACJ,aAAKS,UAAL,GAAkBA,UAAlB;AACH,KAlCI;AAmCLG,cAnCK,wBAmCO;AACRC,gBAAQC,GAAR,CAAY,aAAZ;AACA;AACA;AACH,KAvCI;AAwCLC,iBAxCK,2BAwCU;AACXF,gBAAQC,GAAR,CAAY,YAAZ;AACAE,WAAGC,SAAH,CAAa;AACT;AACAC,qBAAS,iBAAUC,GAAV,EAAe;AACpBN,wBAAQC,GAAR,CAAY,qBAAZ;AACH,aAJQ;AAKTM,kBAAM,cAAUD,GAAV,EAAe;AACnB;AACA,oBAAIA,IAAIE,MAAJ,CAAWC,OAAX,CAAmB,WAAnB,IAAkC,CAAC,CAAnC,IAAwCH,IAAIE,MAAJ,CAAWC,OAAX,CAAmB,aAAnB,IAAoC,CAAC,CAAjF,EAAqF;AACnF;AACAT,4BAAQC,GAAR,CAAY,qBAAZ;AACA;AACD;AACF;AAZQ,SAAb;AAcA,aAAKS,IAAL,CAAUC,OAAV;AACH;AAzDI,CAAT","file":"AuthorizeControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["// var GameNetMgr = require(\"GameNetMgr\");\n// var PlayerDetailModel = require(\"PlayerDetailModel\");\n// var config = require(\"config\");\nvar dialogManager = require(\"dialogManager\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title : {\n            default : null,\n            type : cc.Label\n        },\n        content : {\n            default : null,\n            type : cc.Label\n        },\n        btn_enter : {\n            default : null,\n            type : cc.Node,\n            opentype : \"getUserInfo\"\n        }\n    },\n    start () {   \n        // var enter = function(){\n        //     console.log(\"确认按钮\");\n        // }\n        // this.show(\"xx\",\"但想啊想啊啊想啊\",enter,null);\n    },   \n    show(args){\n        var title = args.arg1;\n        var content = args.arg2;\n        var enterClick = args.arg3;\n\n        if(title!=\"\")\n            this.title.string = title;\n        if(content!=\"\") \n            this.content.string = content;\n        this.enterClick = enterClick;\n    },\n    closeClick(){\n        console.log(\"close click\");\n        // this.node.destroy();\n        // cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnEnterClick(){\n        console.log(\"btn2 click\");\n        wx.authorize({\n            // scope: 'scope.userInfo',\n            success: function (res) {\n                console.log(\"authorize 获取信息成功!!!\")\n            },\n            fail: function (res) {\n              // iOS 和 Android 对于拒绝授权的回调 errMsg 没有统一，需要做一下兼容处理\n              if (res.errMsg.indexOf('auth deny') > -1 || res.errMsg.indexOf('auth denied') > -1 ) {\n                // 处理用户拒绝授权的情况\n                console.log(\"authorize 获取信息失败!!!\")\n                // dialogManager.showAuthorizeDialog(\"\",\"\",null);\n              }    \n            }\n          });\n        this.node.destroy();\n    }\n});\n"]}