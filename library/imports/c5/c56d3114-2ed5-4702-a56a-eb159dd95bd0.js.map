{"version":3,"sources":["../../../../assets/Script/assets/Script/opratDoubleControl.js"],"names":["cc","Class","extends","Component","properties","timeTxt","default","type","Label","clock","Node","timeCount","start","show","clockX","getPositionX","clockY","getPositionY","schedule","shakeClock","pre","node","destroy","t","Math","ceil","string","time","click","btnClick1","console","log","btnClick2","mt1","moveTo","mt2","mt3","mt4","mt5","mt6","mt7","runAction","sequence"],"mappings":"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","file":"opratDoubleControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // progressBar : {\n        //     default : null,\n        //     type : cc.ProgressBar\n        // },\n        timeTxt : {\n            default : null,\n            type : cc.Label\n        },\n        clock : {\n            default : null,\n            type : cc.Node,\n        },\n        timeCount:30,\n    },\n\n    start () {\n        this.show(10,null);\n        this.clockX = this.clock.getPositionX();\n        this.clockY = this.clock.getPositionY();\n\n        this.schedule(function() {\n            if(this.timeCount > 0){\n                this.timeCount -= 1;\n                if(this.timeCount <= 5){\n                    // cc.vv.audioMgr.playSFX(\"timeup_alarm.mp3\");\n                    this.shakeClock();\n                }\n                var pre = \"\";\n                if(this.timeCount <= 0){\n                    this.timeCount = 0;\n                    this.node.destroy();\n                }\n                var t = Math.ceil(this.timeCount);\n                if(t < 10){\n                    pre = \"\";\n                }\n                this.timeTxt.string = pre + t; \n            }   \n        }, 1);\n\n    },\n    show(time,click){\n        // this.time = time*10;\n        this.click = click;\n        this.timeCount = time;\n        this.timeTxt.string = \"\" + time;\n\n        // this.pross = 1.0;\n        // this.dt = 1/this.time;\n        // this.schedule(function() {\n        //     if(this.pross > 0){\n        //         this.pross -= this.dt;\n        //         // this.progressBar.getComponent(cc.ProgressBar).progress = this.pross;\n        //     }else{\n        //         // this.progressBar.getComponent(cc.ProgressBar).progress = 0;\n        //         this.node.destroy();\n        //     }  \n        // },0.1, this.time, 0.01);\n    },\n    btnClick1(){\n        console.log(\"点击了加倍按钮\");\n        if(this.click){\n            this.click();\n        }\n        this.node.destroy();\n    },\n    btnClick2(){\n        console.log(\"点击了不加倍按钮\");\n        // if(this.click){\n        //     this.click();\n        // }\n        this.node.destroy();\n    },\n    shakeClock(){\n        var mt1 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt2 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt3 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt4 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt5 = cc.moveTo(0.05,this.clockX,this.clockY-2);\n        var mt6 = cc.moveTo(0.05,this.clockX,this.clockY+2);\n        var mt7 = cc.moveTo(0.05,this.clockX,this.clockY);\n        this.clock.runAction(cc.sequence(mt1,mt2,mt3,mt4,mt5,mt6,mt7));\n    }\n});\n"]}