{"version":3,"sources":["../../../../assets/Script/assets/Script/HallLayerControl.js"],"names":["dialogManager","require","PlayerDetailModel","EventHelper","config","cc","Class","extends","Component","properties","taskTip","default","type","Sprite","mailTip","shareTip","start","self","enabled","getTaskUnReward","getMailUnread","getShareUnReward","AddCustomEvent","MyNode","onRefreshDataResult","event","payload","getUserData","console","log","data","mail_unread","weichatgame_task_unaward","weichatgame_invite_unaward","btnSetClick","showSetDialog","vv","audioMgr","playSFX","btnTaskClick","showTaskDialog","btnEmailClick","showEmailDialog","btnBagClick","showBagDialog","btnShopClick","btnShareClick","showShareDialog"],"mappings":"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","file":"HallLayerControl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nvar dialogManager = require(\"dialogManager\");\nvar PlayerDetailModel = require(\"PlayerDetailModel\");\nvar EventHelper = require(\"EventHelper\");\nvar config = require(\"config\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        taskTip : {\n            default : null,\n            type : cc.Sprite\n        },\n        mailTip : {\n            default : null,\n            type : cc.Sprite\n        },\n        shareTip : {\n            default : null,\n            type : cc.Sprite\n        },\n    },\n    // onLoad () {},\n    start () {\n        var self = this;\n        this.taskTip.enabled = false;\n        this.mailTip.enabled = false;\n        this.shareTip.enabled = false;\n\n        if(PlayerDetailModel.getTaskUnReward()>0){\n            this.taskTip.enabled = true;\n        }\n        if(PlayerDetailModel.getMailUnread()>0){\n            this.mailTip.enabled = true;\n        }\n        if(PlayerDetailModel.getShareUnReward()>0){\n            this.shareTip.enabled = true;\n        }\n\n        EventHelper.AddCustomEvent(config.MyNode,\"RefreshDataResult\",self.onRefreshDataResult,self);\n    },\n    onRefreshDataResult(event){\n        var payload = event.getUserData();\n        console.log(\"onRefreshDataResult  33333\")\n        //未读邮件数\n        if (payload.data){\n            if(payload.data.mail_unread>0){\n                this.mailTip.enabled = true;\n            }else{\n                this.mailTip.enabled = false;\n            }\n        }\n        //未领取任务数\n        if (payload.data){\n            if(payload.data.weichatgame_task_unaward>0){\n                this.taskTip.enabled = true;\n            }else{\n                this.taskTip.enabled = false;\n            }\n        }\n        //未领取分享数\n        if (payload.data){\n            if(payload.data.weichatgame_invite_unaward>0){\n                this.shareTip.enabled = true;\n            }else{\n                this.shareTip.enabled = false;\n            }\n        }\n    },\n    btnSetClick(){\n        console.log(\"btnSetClick\");\n        dialogManager.showSetDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnTaskClick(){\n        console.log(\"btnTaskClick\");\n        dialogManager.showTaskDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnEmailClick(){\n        console.log(\"btnEmailClick\");\n        dialogManager.showEmailDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnBagClick(){\n        console.log(\"btnBagClick\");\n        dialogManager.showBagDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    btnShopClick(){\n        console.log(\"btnShopClick\");\n        // dialogManager.showShopDialog();\n    },\n    btnShareClick(){\n        console.log(\"btnShareClick\");\n        dialogManager.showShareDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    }\n});\n"]}