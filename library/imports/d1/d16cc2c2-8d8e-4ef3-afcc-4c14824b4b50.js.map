{"version":3,"sources":["../../../../../assets/Script/dialog/assets/Script/dialog/setControl.js"],"names":["dialogManager","require","cc","Class","extends","Component","properties","imgMusic","default","type","Node","imgEffect","musicSet","effectSet","start","self","t","sys","localStorage","getItem","bgmVolume","parseFloat","setItem","imgUrl","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite","t2","sfxVolume","musicClick","console","log","vv","audioMgr","setBGMVolume","playSFX","effectClick","setSFXVolume","fankuiClick","showFanKuiDialog","aboutClick","showAboutDialog","closeClick","node","destroy"],"mappings":"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","file":"setControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["var dialogManager = require(\"dialogManager\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        imgMusic : {\n            default : null,\n            type : cc.Node\n        },\n        imgEffect : {\n            default : null,\n            type : cc.Node\n        },\n        musicSet:false,\n        effectSet:false,\n    },\n    start () {\n        var self = this;\n        var t = cc.sys.localStorage.getItem(\"bgmVolume\");\n        if(t != null){\n            this.bgmVolume = parseFloat(t);    \n        }else{\n            cc.sys.localStorage.setItem(\"bgmVolume\",1);\n        }\n        var imgUrl = \"\";\n        if(t == 1){\n            imgUrl = \"img_dialog/btn_on\";\n        }else{\n            imgUrl = \"img_dialog/btn_off\";\n        }\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgMusic.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        \n        var t2 = cc.sys.localStorage.getItem(\"sfxVolume\");\n        if(t2 != null){\n            this.sfxVolume = parseFloat(t2);    \n        }else{\n            cc.sys.localStorage.setItem(\"sfxVolume\",1);\n        }\n\n        if(t2 == 1){\n            imgUrl = \"img_dialog/btn_on\";\n        }else{\n            imgUrl = \"img_dialog/btn_off\";\n        }\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgEffect.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n    },\n    musicClick(){\n        var self = this;\n        console.log(\"music click\");\n        var imgUrl = \"img_dialog/btn_off\";\n        if(this.musicSet){\n            this.musicSet = false;\n            imgUrl = \"img_dialog/btn_off\";\n            cc.vv.audioMgr.setBGMVolume(0);\n        }else{\n            this.musicSet = true;\n            imgUrl = \"img_dialog/btn_on\";\n            cc.vv.audioMgr.setBGMVolume(1);\n        }\n\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgMusic.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    effectClick(){\n        var self = this;\n        console.log(\"effect click\");\n        var imgUrl = \"img_dialog/btn_off\";\n        if(this.effectSet){\n            this.effectSet = false;\n            imgUrl = \"img_dialog/btn_off\";\n            cc.vv.audioMgr.setSFXVolume(0);\n        }else{\n            this.effectSet = true;\n            imgUrl = \"img_dialog/btn_on\";\n            cc.vv.audioMgr.setSFXVolume(1);\n        }\n\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgEffect.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    fankuiClick(){\n        console.log(\"fankui click\");\n        dialogManager.showFanKuiDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    aboutClick(){\n        console.log(\"about click\");\n        dialogManager.showAboutDialog();\n        // this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    closeClick(){\n        console.log(\"close click\");\n        this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n\n   \n});\n"]}