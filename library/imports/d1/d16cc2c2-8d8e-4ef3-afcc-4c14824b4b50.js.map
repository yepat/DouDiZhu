{"version":3,"sources":["../../../../../assets/Script/dialog/assets/Script/dialog/setControl.js"],"names":["dialogManager","require","cc","Class","extends","Component","properties","imgMusic","default","type","Node","imgEffect","musicSet","effectSet","start","self","sys","localStorage","getItem","console","log","imgUrl","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite","musicClick","vv","audioMgr","setBGMVolume","playSFX","effectClick","setSFXVolume","fankuiClick","showFanKuiDialog","aboutClick","showAboutDialog","closeClick","node","destroy"],"mappings":";;;;;;AAAA,IAAIA,gBAAgBC,QAAQ,eAAR,CAApB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAW;AACPC,qBAAU,IADH;AAEPC,kBAAOP,GAAGQ;AAFH,SADH;AAKRC,mBAAY;AACRH,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF,SALJ;AASRE,kBAAS,KATD;AAURC,mBAAU;AAVF,KAHP;AAeLC,SAfK,mBAeI;AACL,YAAIC,OAAO,IAAX;AACA,aAAKH,QAAL,GAAgBV,GAAGc,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAhB;AACA,aAAKL,SAAL,GAAiBX,GAAGc,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAjB;;AAEAC,gBAAQC,GAAR,CAAY,mBAAiB,KAAKR,QAAlC;AACAO,gBAAQC,GAAR,CAAY,oBAAkB,KAAKP,SAAnC;;AAEA,YAAIQ,SAAS,EAAb;AACA,YAAG,KAAKT,QAAL,IAAiB,CAApB,EAAsB;AAClBS,qBAAS,mBAAT;AACH,SAFD,MAEK;AACDA,qBAAS,oBAAT;AACH;AACDnB,WAAGoB,MAAH,CAAUC,OAAV,CAAkBF,MAAlB,EAAyBnB,GAAGsB,WAA5B,EAAwC,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAC7DX,iBAAKR,QAAL,CAAcoB,YAAd,CAA2BzB,GAAG0B,MAA9B,EAAsCF,WAAtC,GAAoDA,WAApD;AACH,SAFD;;AAIA,YAAG,KAAKb,SAAL,IAAkB,CAArB,EAAuB;AACnBQ,qBAAS,mBAAT;AACH,SAFD,MAEK;AACDA,qBAAS,oBAAT;AACH;AACDnB,WAAGoB,MAAH,CAAUC,OAAV,CAAkBF,MAAlB,EAAyBnB,GAAGsB,WAA5B,EAAwC,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAC7DX,iBAAKJ,SAAL,CAAegB,YAAf,CAA4BzB,GAAG0B,MAA/B,EAAuCF,WAAvC,GAAqDA,WAArD;AACH,SAFD;AAGH,KAzCI;AA0CLG,cA1CK,wBA0CO;AACR,YAAId,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,aAAZ;AACA,YAAIC,SAAS,oBAAb;AACA,YAAG,KAAKT,QAAL,IAAiB,CAApB,EAAsB;AAClB,iBAAKA,QAAL,GAAgB,KAAhB;AACAS,qBAAS,oBAAT;AACAnB,eAAG4B,EAAH,CAAMC,QAAN,CAAeC,YAAf,CAA4B,CAA5B;AACH,SAJD,MAIK;AACD,iBAAKpB,QAAL,GAAgB,IAAhB;AACAS,qBAAS,mBAAT;AACAnB,eAAG4B,EAAH,CAAMC,QAAN,CAAeC,YAAf,CAA4B,CAA5B;AACH;;AAED9B,WAAGoB,MAAH,CAAUC,OAAV,CAAkBF,MAAlB,EAAyBnB,GAAGsB,WAA5B,EAAwC,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAC7DX,iBAAKR,QAAL,CAAcoB,YAAd,CAA2BzB,GAAG0B,MAA9B,EAAsCF,WAAtC,GAAoDA,WAApD;AACH,SAFD;AAGAxB,WAAG4B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,QAAvB;AACH,KA5DI;AA6DLC,eA7DK,yBA6DQ;AACT,YAAInB,OAAO,IAAX;AACAI,gBAAQC,GAAR,CAAY,cAAZ;AACA,YAAIC,SAAS,oBAAb;AACA,YAAG,KAAKR,SAAL,IAAkB,CAArB,EAAuB;AACnB,iBAAKA,SAAL,GAAiB,KAAjB;AACAQ,qBAAS,oBAAT;AACAnB,eAAG4B,EAAH,CAAMC,QAAN,CAAeI,YAAf,CAA4B,CAA5B;AACH,SAJD,MAIK;AACD,iBAAKtB,SAAL,GAAiB,IAAjB;AACAQ,qBAAS,mBAAT;AACAnB,eAAG4B,EAAH,CAAMC,QAAN,CAAeI,YAAf,CAA4B,CAA5B;AACH;;AAEDjC,WAAGoB,MAAH,CAAUC,OAAV,CAAkBF,MAAlB,EAAyBnB,GAAGsB,WAA5B,EAAwC,UAASC,GAAT,EAAaC,WAAb,EAAyB;AAC7DX,iBAAKJ,SAAL,CAAegB,YAAf,CAA4BzB,GAAG0B,MAA/B,EAAuCF,WAAvC,GAAqDA,WAArD;AACH,SAFD;AAGAxB,WAAG4B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,QAAvB;AACH,KA/EI;AAgFLG,eAhFK,yBAgFQ;AACTjB,gBAAQC,GAAR,CAAY,cAAZ;AACApB,sBAAcqC,gBAAd;AACAnC,WAAG4B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,QAAvB;AACH,KApFI;AAqFLK,cArFK,wBAqFO;AACRnB,gBAAQC,GAAR,CAAY,aAAZ;AACApB,sBAAcuC,eAAd;AACA;AACArC,WAAG4B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,QAAvB;AACH,KA1FI;AA2FLO,cA3FK,wBA2FO;AACRrB,gBAAQC,GAAR,CAAY,aAAZ;AACA,aAAKqB,IAAL,CAAUC,OAAV;AACAxC,WAAG4B,EAAH,CAAMC,QAAN,CAAeE,OAAf,CAAuB,QAAvB;AACH;AA/FI,CAAT","file":"setControl.js","sourceRoot":"../../../../../assets/Script/dialog","sourcesContent":["var dialogManager = require(\"dialogManager\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        imgMusic : {\n            default : null,\n            type : cc.Node\n        },\n        imgEffect : {\n            default : null,\n            type : cc.Node\n        },\n        musicSet:false,\n        effectSet:false,\n    },\n    start () {\n        var self = this;\n        this.musicSet = cc.sys.localStorage.getItem(\"bgmVolume\");\n        this.effectSet = cc.sys.localStorage.getItem(\"sfxVolume\");\n\n        console.log(\"-----musicSet:\"+this.musicSet);\n        console.log(\"-----effectSet:\"+this.effectSet);\n\n        var imgUrl = \"\";\n        if(this.musicSet == 1){\n            imgUrl = \"img_dialog/btn_on\";\n        }else{\n            imgUrl = \"img_dialog/btn_off\";\n        }\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgMusic.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        \n        if(this.effectSet == 1){\n            imgUrl = \"img_dialog/btn_on\";\n        }else{\n            imgUrl = \"img_dialog/btn_off\";\n        }\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgEffect.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })  \n    },\n    musicClick(){\n        var self = this;\n        console.log(\"music click\");\n        var imgUrl = \"img_dialog/btn_off\";\n        if(this.musicSet == 1){\n            this.musicSet = false;\n            imgUrl = \"img_dialog/btn_off\";\n            cc.vv.audioMgr.setBGMVolume(0);\n        }else{\n            this.musicSet = true;\n            imgUrl = \"img_dialog/btn_on\";\n            cc.vv.audioMgr.setBGMVolume(1);\n        }\n\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgMusic.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    effectClick(){\n        var self = this;\n        console.log(\"effect click\");\n        var imgUrl = \"img_dialog/btn_off\";\n        if(this.effectSet == 1){\n            this.effectSet = false;\n            imgUrl = \"img_dialog/btn_off\";\n            cc.vv.audioMgr.setSFXVolume(0);\n        }else{\n            this.effectSet = true;\n            imgUrl = \"img_dialog/btn_on\";\n            cc.vv.audioMgr.setSFXVolume(1);\n        }\n\n        cc.loader.loadRes(imgUrl,cc.SpriteFrame,function(err,spriteFrame){\n            self.imgEffect.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    fankuiClick(){\n        console.log(\"fankui click\");\n        dialogManager.showFanKuiDialog();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    aboutClick(){\n        console.log(\"about click\");\n        dialogManager.showAboutDialog();\n        // this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n    closeClick(){\n        console.log(\"close click\");\n        this.node.destroy();\n        cc.vv.audioMgr.playSFX(\"SpecOk\");\n    },\n\n   \n});\n"]}