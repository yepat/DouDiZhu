{"version":3,"sources":["Player.js"],"names":["PokerControl","require","config","CardUtil","PopCardUtil","Player","cc","Class","ctor","parm","uid","nickname","gender","coin","gold","propDress","seatId","myseat","roomid","tableid","signature","buff","wechatImg","title","emoticon","emoticonItems","state","seatNumber","isLandlord","cardCount","isDelegated","jokerValue","openHandCards","currentCards","curSendedCards","cards","smallcards","noteCards","lordCard","currentCardType","joktoCards","jokerCardsValue","node_name","node_LeDou","node_cardsNum","node_Landlord","node_delegate","node_hint","node_clockDwonTime","node_wechatImg","pokerCard","clear","preSelectedCardIdx","sendCardPos","setnickname","getNickname","getWechatImg","setWechatImg","getTitle","setTitle","setCoin","setWinCoin","winCoin","getWinCoin","getIsWinner","isWinner","setIsWinner","win","getCoin","setGold","getGold","setCoinNode","node","node_Coin","setFlagNode","node_Flag","setCardCountNode","label_cardCount","setJockerVlue","refreshIdentity","getGender","getMySeatId","setMySeatId","setMySeatNum","getMySeatNum","setJoktoCards","getJoktoCards","setJokerCardsValue","setPokerCard","initMyCards","myPokerData","myPokerNode","parentNode","sceneWidth","myCardValue","myCardColor","i","length","pokerDataItem","showTxt","showType","push","sort","gradeDown","cardNode","instantiate","parent","scale","seatPos","right","pokerScale","left","center","poker","getComponent","canTouch","showPoker","neatenRightPoker","neatenLeftPoker","neatenPoker","setCardDiZhu","pokerNode","seatPosParam","showWidth","startX","pokerNum","needWidth","disBetween","width","director","getWinSize","startPosX","setPosition","positionY","playCard","startY","cardScale","showCardWidth","posX","move","moveTo","easing","easeIn","runAction","playerLeftShowCard","len","playCardLeft","playerRightShowCard","playCardRight"],"mappings":";;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIA,eAAeC,QAAQ,cAAR,CAAnB;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,WAAWF,QAAQ,UAAR,CAAf;AACA,IAAIG,cAAcH,QAAQ,aAAR,CAAlB;;AAGA,IAAII,SAASC,GAAGC,KAAH,CAAS;;AAElBC,UAAK,cAAUC,IAAV,EAAgB;AACjB,aAAKC,GAAL,GAAWD,KAAKC,GAAhB;AACA,aAAKC,QAAL,GAAgBF,KAAKE,QAArB;AACA,aAAKC,MAAL,GAAcH,KAAKG,MAAnB;AACA,aAAKC,IAAL,GAAYJ,KAAKI,IAAjB;AACA,aAAKC,IAAL,GAAYL,KAAKK,IAAjB;AACA,aAAKC,SAAL,GAAiBN,KAAKM,SAAtB,CANiB,CAMe;AAChC,aAAKC,MAAL,GAAcP,KAAKQ,MAAnB,CAPiB,CAOS;AAC1B,aAAKC,MAAL,GAAcT,KAAKS,MAAnB;AACA,aAAKC,OAAL,GAAeV,KAAKU,OAApB;AACA,aAAKC,SAAL,GAAiBX,KAAKW,SAAtB,CAViB,CAUe;AAChC,aAAKC,IAAL,GAAYZ,KAAKY,IAAjB;AACA,aAAKC,SAAL,GAAiBb,KAAKa,SAAtB;AACA,aAAKC,KAAL,GAAad,KAAKc,KAAlB,CAbiB,CAaO;AACxB,aAAKC,QAAL,GAAgBf,KAAKe,QAArB,CAdiB,CAca;AAC9B,aAAKC,aAAL,GAAqBhB,KAAKgB,aAA1B,CAfiB,CAeuB;;AAExC,aAAKC,KAAL,GAAc,CAAC,CAAf;AACA,aAAKC,UAAL,GAAkB,CAAlB,CAlBiB,CAkBO;AACxB,aAAKC,UAAL,GAAkB,KAAlB,CAnBiB,CAmBQ;AACzB,aAAKC,SAAL,GAAiB,CAAjB,CApBiB,CAoBG;AACpB,aAAKC,WAAL,GAAmB,KAAnB,CArBiB,CAqBQ;AACzB,aAAKC,UAAL,GAAkB,CAAC,CAAnB,CAtBiB,CAsBK;AACtB,aAAKC,aAAL,GAAqB,KAArB,CAvBiB,CAuBU;;AAE3B,aAAKC,YAAL,GAAuB,EAAvB,CAzBiB,CAyBa;AAC9B,aAAKC,cAAL,GAAuB,EAAvB,CA1BiB,CA0Ba;AAC9B,aAAKC,KAAL,GAAuB,EAAvB,CA3BiB,CA2Ba;AAC9B,aAAKC,UAAL,GAAuB,EAAvB,CA5BiB,CA4Ba;AAC9B,aAAKC,SAAL,GAAuB,EAAvB,CA7BiB,CA6Ba;AAC9B,aAAKC,QAAL,GAAmB,EAAnB,CA9BiB,CA8Bc;AAC/B,aAAKC,eAAL,GAAuB,CAAvB,CA/BiB,CA+Bc;AAC/B,aAAKF,SAAL,GAAuB,EAAvB,CAhCiB,CAgCa;AAC9B,aAAKG,UAAL,GAAuB,EAAvB,CAjCiB,CAiCa;AAC9B,aAAKC,eAAL,GAAuB,EAAvB,CAlCiB,CAkCa;;;AAG9B;AACA,aAAKC,SAAL,GAAiB,IAAjB,CAtCiB,CAsCK;AACtB,aAAKC,UAAL,GAAkB,IAAlB,CAvCiB,CAuCM;AACvB,aAAKC,aAAL,GAAqB,IAArB,CAxCiB,CAwCS;AAC1B,aAAKC,aAAL,GAAqB,IAArB,CAzCiB,CAyCS;AAC1B,aAAKC,aAAL,GAAqB,IAArB,CA1CiB,CA0CS;AAC1B,aAAKC,SAAL,GAAiB,IAAjB,CA3CiB,CA2CK;AACtB,aAAKC,kBAAL,GAA0B,IAA1B,CA5CiB,CA4Cc;AAC/B,aAAKC,cAAL,GAAsB,IAAtB,CA7CiB,CA6CU;;AAE3B,aAAKC,SAAL,GAAiB,IAAjB;AACH,KAlDiB;AAmDlBC,SAnDkB,mBAmDX;AACH,aAAKtB,SAAL,GAAiB,CAAjB,CADG,CACiB;AACpB,aAAKU,eAAL,GAAuB,CAAvB,CAFG,CAE2B;AAC9B,aAAKR,UAAL,GAAsB,CAAC,CAAvB;AACA,aAAKqB,kBAAL,GAA0B,CAAC,CAA3B;AACA,aAAKlB,cAAL,GAAsB,EAAtB;AACA,aAAKD,YAAL,GAAoB,EAApB;AACA,aAAKE,KAAL,GAAa,EAAb;AACA,aAAKC,UAAL,GAAmB,EAAnB;AACA,aAAKE,QAAL,GAAmB,EAAnB;AACA,aAAKE,UAAL,GAAmB,EAAnB;AACA,aAAKC,eAAL,GAAwB,EAAxB;AACA,aAAKY,WAAL,GAAmB,EAAnB;AACA,aAAKhB,SAAL,GAAmB,EAAnB;AACH,KAjEiB;AAkElBiB,eAlEkB,uBAkEN3C,QAlEM,EAkEG;AACjB,aAAKA,QAAL,GAAgBA,QAAhB;AACH,KApEiB;AAqElB4C,eArEkB,yBAqEL;AACT,eAAO,KAAK5C,QAAZ;AACH,KAvEiB;AAwElB6C,gBAxEkB,0BAwEJ;AACV,eAAO,KAAKlC,SAAZ;AACH,KA1EiB;AA2ElBmC,gBA3EkB,wBA2ELnC,SA3EK,EA2EK;AACnB,aAAKA,SAAL,GAAiBA,SAAjB;AACH,KA7EiB;AA8ElBoC,YA9EkB,sBA8ER;AACN,eAAO,KAAKnC,KAAZ;AACH,KAhFiB;AAiFlBoC,YAjFkB,oBAiFTpC,KAjFS,EAiFH;AACX,aAAKA,KAAL,GAAaA,KAAb;AACH,KAnFiB;AAoFlBqC,WApFkB,mBAoFV/C,IApFU,EAoFL;AACT,aAAKA,IAAL,GAAYA,IAAZ;AACH,KAtFiB;AAuFlBgD,cAvFkB,sBAuFPhD,IAvFO,EAuFF;AACZ,aAAKiD,OAAL,GAAejD,IAAf;AACH,KAzFiB;AA0FlBkD,cA1FkB,wBA0FN;AACR,eAAO,KAAKD,OAAZ;AACH,KA5FiB;AA6FlBE,eA7FkB,yBA6FL;AACT,eAAO,KAAKC,QAAZ;AACH,KA/FiB;AAgGlBC,eAhGkB,uBAgGNC,GAhGM,EAgGF;AACZ,aAAKF,QAAL,GAAgBE,GAAhB;AACH,KAlGiB;AAmGlBC,WAnGkB,qBAmGT;AACL,eAAO,KAAKvD,IAAZ;AACH,KArGiB;AAsGlBwD,WAtGkB,mBAsGVvD,IAtGU,EAsGL;AACT,aAAKA,IAAL,GAAYA,IAAZ;AACH,KAxGiB;AAyGlBwD,WAzGkB,qBAyGT;AACL,eAAO,KAAKxD,IAAZ;AACH,KA3GiB;AA4GlByD,eA5GkB,uBA4GNC,IA5GM,EA4GD;AACb,aAAKC,SAAL,GAAiBD,IAAjB;AACH,KA9GiB;AA+GlBE,eA/GkB,uBA+GNF,IA/GM,EA+GD;AACb,aAAKG,SAAL,GAAiBH,IAAjB;AACH,KAjHiB;AAkHlBI,oBAlHkB,4BAkHDJ,IAlHC,EAkHI;AAClB,aAAKK,eAAL,GAAuBL,IAAvB;AACH,KApHiB;AAqHlBM,iBArHkB,yBAqHJ/C,UArHI,EAqHO;AACrB,aAAKA,UAAL,GAAkBA,UAAlB;AACH,KAvHiB;;AAwHlB;AACAgD,mBAzHkB,6BAyHD,CAChB,CA1HiB;AA2HlBC,aA3HkB,uBA2HP;AACP,eAAO,KAAKpE,MAAZ;AACH,KA7HiB;AA8HlBqE,eA9HkB,yBA8HL;AACT,eAAO,KAAKjE,MAAZ;AACH,KAhIiB;AAiIlBkE,eAjIkB,uBAiINlE,MAjIM,EAiIC;AACf,aAAKA,MAAL,GAAcA,MAAd;AACH,KAnIiB;AAoIlBmE,gBApIkB,wBAoILxD,UApIK,EAoIM;AACpB,aAAKA,UAAL,GAAkBA,UAAlB;AACH,KAtIiB;AAuIlByD,gBAvIkB,0BAuIJ;AACV,eAAO,KAAKzD,UAAZ;AACH,KAzIiB;;AA0IlB;AACA0D,iBA3IkB,yBA2IJ7C,UA3II,EA2IO;AACrB,aAAKA,UAAL,GAAkBA,UAAlB;AACH,KA7IiB;;AA8IlB;AACA8C,iBA/IkB,2BA+IH;AACX,eAAO,KAAK9C,UAAZ;AACH,KAjJiB;;AAkJlB;AACA+C,sBAnJkB,8BAmJC9C,eAnJD,EAmJiB;AAC/B,aAAKA,eAAL,GAAuBA,eAAvB;AACH,KArJiB;AAsJlB+C,gBAtJkB,wBAsJLtC,SAtJK,EAsJK;AACnB,aAAKA,SAAL,GAAiBA,SAAjB;AACH,KAxJiB;;AAyJlB;AACAuC,eA1JkB,uBA0JNC,WA1JM,EA0JMC,WA1JN,EA0JkBC,UA1JlB,EA0J6BC,UA1J7B,EA0JwClE,UA1JxC,EA0JmD;AAAE;AACnE,YAAImE,cAAc,CACd,CADc,EACZ,CADY,EACV,CADU,EACR,CADQ,EACN,CADM,EACJ,CADI,EACF,CADE,EACA,CADA,EACE,CADF,EACI,CADJ,EACM,CADN,EACQ,CADR,EACU,EADV,EACa,EADb,EACgB,EADhB,EACmB,GADnB,EACuB,GADvB,EAC2B,GAD3B,EAC+B,GAD/B,EACmC,GADnC,CACsC;AADtC,SAAlB;AAGA,YAAIC,cAAc,CACd,CADc,EACZ,CADY,EACV,CADU,EACR,CADQ,EACN,CADM,EACJ,CADI,EACF,CADE,EACA,CADA,EACE,CADF,EACI,CADJ,EACM,CADN,EACQ,CADR,EACU,CADV,EACY,CADZ,EACc,CADd,EACgB,CADhB,EACkB,CADlB,EACoB,CADpB,EACsB,CADtB,EACwB,CADxB,CACyB;AADzB,SAAlB;AAGA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAIF,YAAYG,MAA9B,EAAqCD,GAArC,EAAyC;AACrC,gBAAIE,gBAAgB;AAChBC,yBAAUL,YAAYE,CAAZ,CADM;AAEhBI,0BAAWL,YAAYC,CAAZ;AAFK,aAApB;AAIAN,wBAAYW,IAAZ,CAAiBH,aAAjB;AACH;AACDR,oBAAYY,IAAZ,CAAiBnG,SAASoG,SAA1B;;AAEA,aAAI,IAAIP,IAAI,CAAZ,EAAcA,IAAIN,YAAYO,MAA9B,EAAqCD,GAArC,EAAyC;AACrC,gBAAIQ,WAAWlG,GAAGmG,WAAH,CAAe,KAAKvD,SAApB,CAAf;AACAsD,qBAASE,MAAT,GAAkBd,UAAlB;;AAEA,gBAAGjE,cAAc,CAAjB,EAAmB;AACf6E,yBAASG,KAAT,GAAiBzG,OAAO0G,OAAP,CAAeC,KAAf,CAAqBC,UAAtC;AACH,aAFD,MAEM,IAAGnF,cAAc,CAAjB,EAAmB;AACrB6E,yBAASG,KAAT,GAAiBzG,OAAO0G,OAAP,CAAeG,IAAf,CAAoBD,UAArC;AACH,aAFK,MAED;AACDN,yBAASG,KAAT,GAAiBzG,OAAO0G,OAAP,CAAeI,MAAf,CAAsBF,UAAvC;AACH;AACD,gBAAIG,QAAQT,SAASU,YAAT,CAAsBlH,YAAtB,CAAZ;AACA0F,wBAAYM,CAAZ,EAAemB,QAAf,GAA0B,IAA1B;AACAF,kBAAMG,SAAN,CAAgB1B,YAAYM,CAAZ,CAAhB;AACAL,wBAAYU,IAAZ,CAAiBG,QAAjB;;AAEA,gBAAG7E,cAAc,CAAjB,EAAmB;AACf,qBAAK0F,gBAAL,CAAsB1B,WAAtB,EAAkCzF,OAAO0G,OAAP,CAAeC,KAAjD,EAAuDhB,aAAW,CAAlE,EAAqEA,aAAW,CAAX,GAAe,GAApF;AACH,aAFD,MAEM,IAAGlE,cAAc,CAAjB,EAAmB;AACrB,qBAAK2F,eAAL,CAAqB3B,WAArB,EAAiCzF,OAAO0G,OAAP,CAAeG,IAAhD,EAAqDlB,aAAW,CAAhE,EAAmE,GAAnE;AACH,aAFK,MAED;AACD,qBAAK0B,WAAL,CAAiB5B,WAAjB,EAA6BzF,OAAO0G,OAAP,CAAeI,MAA5C,EAAmDnB,UAAnD;AACH;AACJ;AACD;AACAF,oBAAYA,YAAYM,MAAZ,GAAmB,CAA/B,EAAkCiB,YAAlC,CAA+ClH,YAA/C,EAA6DwH,YAA7D,CAA0E,IAA1E;AACH,KApMiB;;AAqMlB;AACAD,eAtMkB,uBAsMNE,SAtMM,EAsMIC,YAtMJ,EAsMiBC,SAtMjB,EAsM2BC,MAtM3B,EAsMkCjG,UAtMlC,EAsM6C;AAC3D,YAAG8F,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAI4B,WAAWJ,UAAUxB,MAAzB;AACA,YAAI6B,YAAY,CAACD,WAAW,CAAZ,IAAiBH,aAAaK,UAA9B,GAA2CN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAA7H;AACA;AACAa,oBAAYA,aAAarH,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAAlD;AACA,YAAIG,YAAY,CAACR,YAAYG,SAAb,IAA0B,CAA1C;AACAF,iBAASA,UAAUO,SAAnB;AACA,aAAI,IAAInC,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,sBAAUzB,CAAV,EAAaoC,WAAb,CAAyBR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAA/I,EAAmJY,aAAaW,SAAhK;AACH;AACJ,KAjNiB;;AAkNlB;AACAC,YAnNkB,oBAmNTb,SAnNS,EAmNCG,MAnND,EAmNQW,MAnNR,EAmNe5G,UAnNf,EAmN0B;AACxC,YAAG8F,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAIuC,YAAY,IAAhB;AACA,YAAIT,aAAa,EAAjB;AACA,YAAIU,gBAAgB,CAAChB,UAAUxB,MAAV,GAAmB,CAApB,IAAyB8B,UAAzB,GAAsCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAA/G;AACA,YAAI3C,aAAavF,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAA1C;AACA,YAAIJ,SAAS,CAAC/B,aAAa4C,aAAd,IAA+B,CAA5C;AACA;AACA,aAAI,IAAIzC,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,sBAAUzB,CAAV,EAAaW,KAAb,GAAqB6B,SAArB;AACA,gBAAIE,OAAOd,SAAS5B,IAAI+B,UAAb,GAA0BN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAArD,GAAiE,GAAtG;AACA,gBAAIG,OAAOrI,GAAGsI,MAAH,CAAU,GAAV,EAAcF,IAAd,EAAmB,GAAnB,CAAX;AACAC,iBAAKE,MAAL,CAAYvI,GAAGwI,MAAH,CAAU,CAAV,CAAZ;AACA,gBAAI7B,QAAQQ,UAAUzB,CAAV,EAAakB,YAAb,CAA0BlH,YAA1B,CAAZ;AACAiH,kBAAMzC,IAAN,CAAWuE,SAAX,CAAqBJ,IAArB;;AAEA;AACA,gBAAG3C,KAAGyB,UAAUxB,MAAV,GAAiB,CAAvB,EAAyB;AACrBgB,sBAAMO,YAAN,CAAmB,IAAnB;AACH;AACJ;AACJ,KAxOiB;;AAyOlB;AACAwB,sBA1OkB,8BA0OCtD,WA1OD,EA0OaC,WA1Ob,EA0OyBC,UA1OzB,EA0OoCC,UA1OpC,EA0O+C;AAC7D,aAAKJ,WAAL,CAAiBC,WAAjB,EAA6BC,WAA7B,EAAyCC,UAAzC,EAAoDC,UAApD,EAA+D,CAA/D,EAD6D,CACM;AACtE,KA5OiB;AA6OlByB,mBA7OkB,2BA6OFG,SA7OE,EA6OQC,YA7OR,EA6OqBC,SA7OrB,EA6O+BC,MA7O/B,EA6OsC;AACpD,YAAGH,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAI4B,WAAWJ,UAAUxB,MAAzB;AACA,YAAI6B,YAAY,CAACD,WAAW,CAAZ,IAAiBH,aAAaK,UAA9B,GAA2CN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAA7H;AACAa,oBAAYA,aAAarH,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAAlD;AACA,YAAIG,YAAY,CAACR,YAAYG,SAAb,IAA0B,CAA1C;AACAF,iBAASA,UAAUO,SAAnB;;AAEA,YAAIc,MAAMxB,UAAUxB,MAApB;AACA,YAAGgD,OAAK,EAAR,EAAW;AACP,iBAAI,IAAIjD,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,0BAAUzB,CAAV,EAAaoC,WAAb,CAAyBR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAA/I,EAAmJY,aAAaW,SAAhK;AACH;AACJ,SAJD,MAIK;AACD,iBAAI,IAAIrC,IAAI,CAAZ,EAAeA,IAAI,EAAnB,EAAuBA,GAAvB,EAA2B;AACvByB,0BAAUzB,CAAV,EAAaoC,WAAb,CAAyBR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAA/I,EAAmJY,aAAaW,SAAhK;AACH;;AAED,iBAAI,IAAIrC,IAAE,CAAV,EAAYA,IAAEiD,MAAI,EAAlB,EAAqBjD,GAArB,EAAyB;AACrByB,0BAAUzB,IAAE,EAAZ,EAAgBoC,WAAhB,CAA4BR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAAlJ,EAAsJY,aAAaW,SAAb,GAAuB,EAA7K;AACH;AACJ;AACJ,KAnQiB;;AAoQlB;AACAa,gBArQkB,wBAqQLzB,SArQK,EAqQKG,MArQL,EAqQYW,MArQZ,EAqQmB;AACjC,YAAGd,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAIuC,YAAY,IAAhB;AACA,YAAIT,aAAa,EAAjB;AACA,YAAIU,gBAAgB,CAAChB,UAAUxB,MAAV,GAAmB,CAApB,IAAyB8B,UAAzB,GAAsCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAA/G;AACA,YAAI3C,aAAavF,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAA1C;;AAEA;AACA,aAAI,IAAIhC,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,sBAAUzB,CAAV,EAAaW,KAAb,GAAqB6B,SAArB;AACA,gBAAIE,OAAOd,SAAS5B,IAAI+B,UAAb,GAA0BN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAArD,GAAiE,GAAtG;AACA;AACA,gBAAIvB,QAAQQ,UAAUzB,CAAV,EAAakB,YAAb,CAA0BlH,YAA1B,CAAZ;AACAiH,kBAAMzC,IAAN,CAAWuE,SAAX,CAAqBzI,GAAGsI,MAAH,CAAU,GAAV,EAAcF,IAAd,EAAmBH,MAAnB,CAArB;;AAEA,gBAAGvC,KAAGyB,UAAUxB,MAAV,GAAiB,CAAvB,EAAyB;AACrBgB,sBAAMO,YAAN,CAAmB,IAAnB;AACH;AACJ;AACJ,KAxRiB;;AAyRlB;AACA2B,uBA1RkB,+BA0REzD,WA1RF,EA0RcC,WA1Rd,EA0R0BC,UA1R1B,EA0RqCC,UA1RrC,EA0RgD;AAC9D,aAAKJ,WAAL,CAAiBC,WAAjB,EAA6BC,WAA7B,EAAyCC,UAAzC,EAAoDC,UAApD,EAA+D,CAA/D;AACH,KA5RiB;AA6RlBwB,oBA7RkB,4BA6RDI,SA7RC,EA6RSC,YA7RT,EA6RsBC,SA7RtB,EA6RgCC,MA7RhC,EA6RuC;AACrD,YAAGH,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAI4B,WAAWJ,UAAUxB,MAAzB;AACA,YAAI6B,YAAY,CAACD,WAAW,CAAZ,IAAiBH,aAAaK,UAA9B,GAA2CN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAA7H;AACAa,oBAAYA,aAAarH,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAAlD;AACA,YAAIG,YAAY,CAACR,YAAYG,SAAb,IAA0B,CAA1C;AACAF,iBAASA,UAAUO,SAAnB;;AAEAP,iBAASA,SAAS,KAAGF,aAAaK,UAAlC;;AAEA,YAAIkB,MAAMxB,UAAUxB,MAApB;AACA,YAAGgD,OAAK,EAAR,EAAW;AACPrB,qBAASA,SAAS,CAAC,KAAKqB,GAAN,IAAWvB,aAAaK,UAA1C;AACA,iBAAI,IAAI/B,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,0BAAUzB,CAAV,EAAaoC,WAAb,CAAyBR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAA/I,EAAmJY,aAAaW,SAAhK;AACH;AACJ,SALD,MAKK;AACD,iBAAI,IAAIrC,IAAI,CAAZ,EAAeA,IAAI,EAAnB,EAAuBA,GAAvB,EAA2B;AACvByB,0BAAUzB,CAAV,EAAaoC,WAAb,CAAyBR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAA/I,EAAmJY,aAAaW,SAAhK;AACH;AACD,iBAAI,IAAIrC,IAAE,CAAV,EAAYA,IAAEiD,MAAI,EAAlB,EAAqBjD,GAArB,EAAyB;AACrByB,0BAAUzB,IAAE,EAAZ,EAAgBoC,WAAhB,CAA4BR,SAAS5B,IAAI0B,aAAaK,UAA1B,GAAuCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDN,aAAaZ,UAAlE,GAA+E,GAAlJ,EAAsJY,aAAaW,SAAb,GAAuB,EAA7K;AACH;AACJ;AACJ,KArTiB;AAsTlBe,iBAtTkB,yBAsTJ3B,SAtTI,EAsTMG,MAtTN,EAsTaW,MAtTb,EAsToB;AAClC,YAAGd,UAAUxB,MAAV,GAAmB,CAAtB,EAAwB;AAAC;AAAO;AAChC,YAAIuC,YAAY,IAAhB;AACA,YAAIT,aAAa,EAAjB;AACA,YAAIU,gBAAgB,CAAChB,UAAUxB,MAAV,GAAmB,CAApB,IAAyB8B,UAAzB,GAAsCN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAA/G;AACA,YAAI3C,aAAavF,GAAG2H,QAAH,CAAYC,UAAZ,GAAyBF,KAA1C;AACAJ,iBAAS/B,aAAW,CAAX,GAAe,GAAf,GAAqBkC,aAAWN,UAAUxB,MAAnD;;AAEA;AACA,aAAI,IAAID,IAAI,CAAZ,EAAeA,IAAIyB,UAAUxB,MAA7B,EAAqCD,GAArC,EAAyC;AACrCyB,sBAAUzB,CAAV,EAAaW,KAAb,GAAqB6B,SAArB;AACA,gBAAIE,OAAOd,SAAS5B,IAAI+B,UAAb,GAA0BN,UAAU,CAAV,EAAaP,YAAb,CAA0BlH,YAA1B,EAAwCwE,IAAxC,CAA6CwD,KAA7C,GAAqDQ,SAArD,GAAiE,GAAtG;AACA,gBAAIvB,QAAQQ,UAAUzB,CAAV,EAAakB,YAAb,CAA0BlH,YAA1B,CAAZ;AACAiH,kBAAMzC,IAAN,CAAWuE,SAAX,CAAqBzI,GAAGsI,MAAH,CAAU,GAAV,EAAcF,IAAd,EAAmBH,MAAnB,CAArB;AACA;AACA;AACA;AACH;AACJ;AAxUiB,CAAT,CAAb","file":"Player.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\n//玩家状态\n// Player.ST_PLAYER_WAITTOSTART      = 0 //等待开始\n// Player.ST_PLAYER_PUSHCARD         = 1 //发牌\n// Player.ST_PLAYER_CALLLANDLORD     = 2 //叫/抢地主\n// Player.ST_PLAYER_CONFIRM_LANDLORD = 3 //确认地主\n// Player.ST_PLAYER_CONFIRM_LAIZI    = 4 //确认癞子\n// Player.ST_PLAYER_WAITING          = 5 //等待其他玩家出牌\n// Player.ST_PLAYER_DOUBLE           = 6 //加倍\n// Player.ST_PLAYER_PUTCARD          = 7 //出牌\n// Player.ST_PLAYER_BALANCE          = 8 //结算\n// Player.ST_PLAYER_DELEGATED        = 9 //托管状态\n// Player.ST_PLAYER_SENDCARD         = 10 //出牌\n// Player.ST_PLAYER_READY            = 11 //准备好了\n// Player.LOAD_TYPE_CALL             = 0 //叫地主\n// Player.LOAD_TYPE_NOTCALL          = 1 //不叫地主\n// Player.LOAD_TYPE_GRAP             = 2 //抢地主\n// Player.LOAD_TYPE_NOTGRAP          = 3 //不抢地主\n\n\nvar PokerControl = require(\"PokerControl\");\nvar config = require(\"config\");\nvar CardUtil = require(\"CardUtil\")\nvar PopCardUtil = require(\"PopCardUtil\")\n\n\nvar Player = cc.Class({\n    \n    ctor:function (parm) {\n        this.uid = parm.uid;\n        this.nickname = parm.nickname;\n        this.gender = parm.gender;\n        this.coin = parm.coin;\n        this.gold = parm.gold;\n        this.propDress = parm.propDress;//玩家服装\n        this.seatId = parm.myseat;//座位id（服务器端）\n        this.roomid = parm.roomid;\n        this.tableid = parm.tableid;\n        this.signature = parm.signature;//个性签名\n        this.buff = parm.buff;\n        this.wechatImg = parm.wechatImg;\n        this.title = parm.title;//称号\n        this.emoticon = parm.emoticon;//表情包\n        this.emoticonItems = parm.emoticonItems;//表情包道具\n\n        this.state  = -1;\n        this.seatNumber = 0;    //座位编号(客户端) 0右边 1下边 2左边\n        this.isLandlord = false; // 是否是地主\n        this.cardCount = 0; //手牌数量\n        this.isDelegated = false;//是否托管\n        this.jokerValue = -1; //癞子牌值\n        this.openHandCards = false;//是否明牌\n\n        this.currentCards    = {};    //最近一次出的牌\n        this.curSendedCards  = {};    //最近一次出的牌的面值\n        this.cards           = {};    //所有牌\n        this.smallcards      = {};    //小牌（纯粹用于计数）\n        this.noteCards       = {};    //记牌器\n        this.lordCard    = {};         //地主牌\n        this.currentCardType = 0;      //最近一次出的牌的牌型\n        this.noteCards       = \"\";    //记牌器(剩余没出出去的全部牌)\n        this.joktoCards      = {};    //最近一次出的牌里癞子当的牌\n        this.jokerCardsValue = {};    //最近一次出的牌里癞子当的牌的值\n\n\n        //玩家信息节点\n        this.node_name = null;//昵称\n        this.node_LeDou = null;//乐斗\n        this.node_cardsNum = null;//剩余牌数 \n        this.node_Landlord = null;//地主标志\n        this.node_delegate = null;//托管标志\n        this.node_hint = null;//操作显示语 “要不起”\n        this.node_clockDwonTime = null;//闹钟倒计时\n        this.node_wechatImg = null;//微信头像\n\n        this.pokerCard = null;\n    },\n    clear(){\n        this.cardCount = 0; //手牌数量\n        this.currentCardType = 0;     //最近一次出的牌的牌型\n        this.jokerValue     = -1;\n        this.preSelectedCardIdx = -1;\n        this.curSendedCards = {};\n        this.currentCards = {};\n        this.cards = {};\n        this.smallcards  = {};\n        this.lordCard    = {};\n        this.joktoCards  = {};\n        this.jokerCardsValue  = {};\n        this.sendCardPos = {};\n        this.noteCards   = {};\n    },\n    setnickname(nickname){\n        this.nickname = nickname;\n    },\n    getNickname(){\n        return this.nickname;\n    },\n    getWechatImg(){\n        return this.wechatImg;\n    },\n    setWechatImg(wechatImg){\n        this.wechatImg = wechatImg;\n    },\n    getTitle(){\n        return this.title;\n    },\n    setTitle(title){\n        this.title = title;\n    },\n    setCoin(coin){\n        this.coin = coin;      \n    },\n    setWinCoin(coin){\n        this.winCoin = coin;\n    },\n    getWinCoin(){\n        return this.winCoin;\n    },\n    getIsWinner(){\n        return this.isWinner;\n    },\n    setIsWinner(win){\n        this.isWinner = win;\n    },\n    getCoin(){\n        return this.coin;\n    },\n    setGold(gold){\n        this.gold = gold;\n    },\n    getGold(){\n        return this.gold;\n    },\n    setCoinNode(node){\n        this.node_Coin = node;\n    },\n    setFlagNode(node){\n        this.node_Flag = node;\n    },\n    setCardCountNode(node){\n        this.label_cardCount = node;\n    },\n    setJockerVlue(jokerValue){\n        this.jokerValue = jokerValue\n    },\n    //身份得到确认\n    refreshIdentity(){\n    },\n    getGender(){\n        return this.gender;\n    },\n    getMySeatId(){\n        return this.seatId;\n    },\n    setMySeatId(seatId){\n        this.seatId = seatId;\n    },\n    setMySeatNum(seatNumber){\n        this.seatNumber = seatNumber;\n    },\n    getMySeatNum(){\n        return this.seatNumber;\n    },\n    //设置癞子当的牌\n    setJoktoCards(joktoCards){\n        this.joktoCards = joktoCards;\n    },\n    //获得癞子当的牌\n    getJoktoCards(){\n        return this.joktoCards;\n    },\n    //癞子牌面值\n    setJokerCardsValue(jokerCardsValue){\n        this.jokerCardsValue = jokerCardsValue;\n    },\n    setPokerCard(pokerCard){\n        this.pokerCard = pokerCard;\n    },\n    //初始化自己的牌\n    initMyCards(myPokerData,myPokerNode,parentNode,sceneWidth,seatNumber){ //0右边 1下边 2左边\n        var myCardValue = [\n            3,5,5,5,5,6,6,6,6,9,9,9,10,10,10,\"J\",\"J\",\"J\",\"Q\",\"K\"//g/G\n        ];\n        var myCardColor = [\n            1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4//\"smallG\",\"bigG\"\n        ]; \n        for(var i = 0;i < myCardValue.length;i++){\n            var pokerDataItem = {\n                showTxt : myCardValue[i],\n                showType : myCardColor[i]\n            }\n            myPokerData.push(pokerDataItem);\n        }\n        myPokerData.sort(CardUtil.gradeDown);\n\n        for(var i = 0;i < myPokerData.length;i++){\n            var cardNode = cc.instantiate(this.pokerCard);\n            cardNode.parent = parentNode;\n\n            if(seatNumber == 0){\n                cardNode.scale = config.seatPos.right.pokerScale;\n            }else if(seatNumber == 2){\n                cardNode.scale = config.seatPos.left.pokerScale;\n            }else{\n                cardNode.scale = config.seatPos.center.pokerScale;\n            }\n            var poker = cardNode.getComponent(PokerControl);\n            myPokerData[i].canTouch = true;\n            poker.showPoker(myPokerData[i]);\n            myPokerNode.push(cardNode);\n\n            if(seatNumber == 0){\n                this.neatenRightPoker(myPokerNode,config.seatPos.right,sceneWidth/2, sceneWidth/2 + 140);\n            }else if(seatNumber == 2){\n                this.neatenLeftPoker(myPokerNode,config.seatPos.left,sceneWidth/2, 230);\n            }else{\n                this.neatenPoker(myPokerNode,config.seatPos.center,sceneWidth);\n            }  \n        }\n        //最后一张牌设置为地主牌\n        myPokerNode[myPokerNode.length-1].getComponent(PokerControl).setCardDiZhu(true);\n    },\n    //理牌\n    neatenPoker(pokerNode,seatPosParam,showWidth,startX,seatNumber){\n        if(pokerNode.length < 1){return}\n        var pokerNum = pokerNode.length;\n        var needWidth = (pokerNum - 1) * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale;\n        // console.log(\"needWidth:\" + needWidth);\n        showWidth = showWidth || cc.director.getWinSize().width;\n        var startPosX = (showWidth - needWidth) / 2;\n        startX = startX || startPosX;\n        for(var i = 0; i < pokerNode.length; i++){\n            pokerNode[i].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY);\n        }\n    },\n    //出牌\n    playCard(pokerNode,startX,startY,seatNumber){\n        if(pokerNode.length < 1){return}\n        var cardScale = 0.57\n        var disBetween = 40;\n        var showCardWidth = (pokerNode.length - 1) * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale;\n        var sceneWidth = cc.director.getWinSize().width;\n        var startX = (sceneWidth - showCardWidth) / 2;\n        //设置出去的牌的大小\n        for(var i = 0; i < pokerNode.length; i++){\n            pokerNode[i].scale = cardScale;\n            var posX = startX + i * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale * 0.5;\n            var move = cc.moveTo(0.2,posX,500);\n            move.easing(cc.easeIn(2));\n            var poker = pokerNode[i].getComponent(PokerControl);\n            poker.node.runAction(move);\n\n            //最后一张牌设置为地主牌\n            if(i==pokerNode.length-1){\n                poker.setCardDiZhu(true);\n            }\n        }\n    },\n    //------------------\n    playerLeftShowCard(myPokerData,myPokerNode,parentNode,sceneWidth){\n        this.initMyCards(myPokerData,myPokerNode,parentNode,sceneWidth,2); //0右边 1下边 2左边\n    },\n    neatenLeftPoker(pokerNode,seatPosParam,showWidth,startX){\n        if(pokerNode.length < 1){return}\n        var pokerNum = pokerNode.length;\n        var needWidth = (pokerNum - 1) * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale;\n        showWidth = showWidth || cc.director.getWinSize().width;\n        var startPosX = (showWidth - needWidth) / 2;\n        startX = startX || startPosX;\n\n        var len = pokerNode.length;\n        if(len<=10){\n            for(var i = 0; i < pokerNode.length; i++){\n                pokerNode[i].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY);\n            }\n        }else{\n            for(var i = 0; i < 10; i++){\n                pokerNode[i].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY);\n            }\n\n            for(var i=0;i<len-10;i++){\n                pokerNode[i+10].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY-55);\n            }\n        }\n    },\n    //左边出牌\n    playCardLeft(pokerNode,startX,startY){\n        if(pokerNode.length < 1){return}\n        var cardScale = 0.38;\n        var disBetween = 27;\n        var showCardWidth = (pokerNode.length - 1) * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale;\n        var sceneWidth = cc.director.getWinSize().width;\n    \n        //设置出去的牌的大小\n        for(var i = 0; i < pokerNode.length; i++){\n            pokerNode[i].scale = cardScale;\n            var posX = startX + i * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale * 0.5;\n            // console.log(\"posX:\"+posX);\n            var poker = pokerNode[i].getComponent(PokerControl);\n            poker.node.runAction(cc.moveTo(0.2,posX,startY));\n\n            if(i==pokerNode.length-1){\n                poker.setCardDiZhu(true);\n            }\n        }\n    },\n    //右边玩家明牌\n    playerRightShowCard(myPokerData,myPokerNode,parentNode,sceneWidth){\n        this.initMyCards(myPokerData,myPokerNode,parentNode,sceneWidth,0);\n    },\n    neatenRightPoker(pokerNode,seatPosParam,showWidth,startX){\n        if(pokerNode.length < 1){return}\n        var pokerNum = pokerNode.length;\n        var needWidth = (pokerNum - 1) * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale;\n        showWidth = showWidth || cc.director.getWinSize().width;\n        var startPosX = (showWidth - needWidth) / 2;\n        startX = startX || startPosX;\n\n        startX = startX + 10*seatPosParam.disBetween;\n\n        var len = pokerNode.length;\n        if(len<=10){\n            startX = startX + (10 - len)*seatPosParam.disBetween;\n            for(var i = 0; i < pokerNode.length; i++){\n                pokerNode[i].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY);\n            }\n        }else{\n            for(var i = 0; i < 10; i++){\n                pokerNode[i].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY);\n            }\n            for(var i=0;i<len-10;i++){\n                pokerNode[i+10].setPosition(startX + i * seatPosParam.disBetween + pokerNode[0].getComponent(PokerControl).node.width * seatPosParam.pokerScale * 0.5,seatPosParam.positionY-55);\n            }\n        }\n    },\n    playCardRight(pokerNode,startX,startY){\n        if(pokerNode.length < 1){return}\n        var cardScale = 0.38;\n        var disBetween = 27;\n        var showCardWidth = (pokerNode.length - 1) * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale;\n        var sceneWidth = cc.director.getWinSize().width;\n        startX = sceneWidth/2 + 590 - disBetween*pokerNode.length;\n\n        //设置出去的牌的大小\n        for(var i = 0; i < pokerNode.length; i++){\n            pokerNode[i].scale = cardScale;\n            var posX = startX + i * disBetween + pokerNode[0].getComponent(PokerControl).node.width * cardScale * 0.5;\n            var poker = pokerNode[i].getComponent(PokerControl);\n            poker.node.runAction(cc.moveTo(0.2,posX,startY));\n            // if(i==pokerNode.length-1){\n            //     poker.setCardDiZhu(true);\n            // }\n        }\n    },\n\n});\n\n\n"]}